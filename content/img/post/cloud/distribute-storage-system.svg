<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="2117" height="43705" viewBox="0 0 2117 43705">
<style type="text/css"><![CDATA[
text { font:12px Dialog; }
]]></style>
<rect x="-485" y="-485" width="3087" height="44675" style="fill:rgb(255,255,255);stroke:none" />
<clipPath id="clip1"><path d="M15,15 L2102,15 L2102,43690 L15,43690 Z M24,21184 C19.5820313,21184 16,21187.5820313 16,21192 L16,21240 C16,21244.4179688 19.5820313,21248 24,21248 L248,21248 C252.4179688,21248 256,21244.4179688 256,21240 L256,21192 C256,21187.5820313 252.4179688,21184 248,21184 Z M24,21184 Z M24,21184" /></clipPath>
<path d="M266,21216 L266,340.6523438 C266,336.234375 269.5859375,332.6523438 274,332.6523438 L290,332.6523438" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1)" />
<clipPath id="clip2"><path d="M15,15 L2102,15 L2102,43690 L15,43690 Z M24,21184 C19.5820313,21184 16,21187.5820313 16,21192 L16,21240 C16,21244.4179688 19.5820313,21248 24,21248 L248,21248 C252.4179688,21248 256,21244.4179688 256,21240 L256,21192 C256,21187.5820313 252.4179688,21184 248,21184 Z M24,21184 Z M24,21184" /></clipPath>
<path d="M266,21216 L266,7337.6953125 C266,7333.28125 269.5859375,7329.6953125 274,7329.6953125 L290,7329.6953125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2)" />
<clipPath id="clip3"><path d="M15,15 L2102,15 L2102,43690 L15,43690 Z M24,21184 C19.5820313,21184 16,21187.5820313 16,21192 L16,21240 C16,21244.4179688 19.5820313,21248 24,21248 L248,21248 C252.4179688,21248 256,21244.4179688 256,21240 L256,21192 C256,21187.5820313 252.4179688,21184 248,21184 Z M24,21184 Z M24,21184" /></clipPath>
<path d="M266,21216 L266,26667.6953125 C266,26672.109375 269.5859375,26675.6953125 274,26675.6953125 L290,26675.6953125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3)" />
<clipPath id="clip4"><path d="M15,15 L2102,15 L2102,43690 L15,43690 Z M24,21184 C19.5820313,21184 16,21187.5820313 16,21192 L16,21240 C16,21244.4179688 19.5820313,21248 24,21248 L248,21248 C252.4179688,21248 256,21244.4179688 256,21240 L256,21192 C256,21187.5820313 252.4179688,21184 248,21184 Z M24,21184 Z M24,21184" /></clipPath>
<path d="M266,21216 L266,42092.796875 C266,42097.2148438 269.5859375,42100.796875 274,42100.796875 L290,42100.796875" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4)" />
<clipPath id="clip5"><path d="M14,14 L2103,14 L2103,43691 L14,43691 L14,14 Z" /></clipPath>
<path d="M256,21216 L266,21216" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip5)" />
<clipPath id="clip6"><path d="M14,21182 L259,21182 L259,21251 L14,21251 L14,21182 Z" /></clipPath>
<path d="M24,21184 C19.5820313,21184 16,21187.5820313 16,21192 L16,21240 C16,21244.4179688 19.5820313,21248 24,21248 L248,21248 C252.4179688,21248 256,21244.4179688 256,21240 L256,21192 C256,21187.5820313 252.4179688,21184 248,21184 Z M24,21184" style="fill:rgb(202,221,254);stroke:none" clip-path="url(#clip6)" />
<clipPath id="clip7"><path d="M14,21182 L259,21182 L259,21251 L14,21251 L14,21182 Z" /></clipPath>
<path d="M24,21184 C19.5820313,21184 16,21187.5820313 16,21192 L16,21240 C16,21244.4179688 19.5820313,21248 24,21248 L248,21248 C252.4179688,21248 256,21244.4179688 256,21240 L256,21192 C256,21187.5820313 252.4179688,21184 248,21184 Z M24,21184" style="fill:none;stroke:rgb(61,83,127)" clip-path="url(#clip7)" />
<text x="49" y="21221" style="font:18px Open Sans">分布式存储系统</text>
<clipPath id="clip8"><path d="M289,15 L1110,15 L1110,1238 L289,1238 Z M295,313 C292.2382813,313 290,315.2382813 290,318 L290,347 C290,349.7617188 292.2382813,352 295,352 L346,352 C348.7617188,352 351,349.7617188 351,347 L351,318 C351,315.2382813 348.7617188,313 346,313 Z M295,313 Z M295,313" /></clipPath>
<path d="M364,332.71875 L364,129 L373,129" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip8)" />
<clipPath id="clip9"><path d="M289,15 L1110,15 L1110,1238 L289,1238 Z M295,313 C292.2382813,313 290,315.2382813 290,318 L290,347 C290,349.7617188 292.2382813,352 295,352 L346,352 C348.7617188,352 351,349.7617188 351,347 L351,318 C351,315.2382813 348.7617188,313 346,313 Z M295,313 Z M295,313" /></clipPath>
<path d="M364,332.71875 L364,537 L373,537" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip9)" />
<clipPath id="clip10"><path d="M288,14 L1111,14 L1111,1239 L288,1239 L288,14 Z" /></clipPath>
<path d="M351,332.6523438 L364,332.71875" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip10)" />
<clipPath id="clip11"><path d="M288,311 L354,311 L354,355 L288,355 L288,311 Z" /></clipPath>
<path d="M295,313 C292.2382813,313 290,315.2382813 290,318 L290,347 C290,349.7617188 292.2382813,352 295,352 L346,352 C348.7617188,352 351,349.7617188 351,347 L351,318 C351,315.2382813 348.7617188,313 346,313 Z M295,313" style="fill:rgb(254,244,236);stroke:none" clip-path="url(#clip11)" />
<clipPath id="clip12"><path d="M288,311 L354,311 L354,355 L288,355 L288,311 Z" /></clipPath>
<path d="M295,313 C292.2382813,313 290,315.2382813 290,318 L290,347 C290,349.7617188 292.2382813,352 295,352 L346,352 C348.7617188,352 351,349.7617188 351,347 L351,318 C351,315.2382813 348.7617188,313 346,313 Z M295,313" style="fill:none;stroke:rgb(141,134,126)" clip-path="url(#clip12)" />
<text x="303" y="336" style="font:13px Open Sans">概述</text>
<clipPath id="clip13"><path d="M372,15 L1041,15 L1041,259 L372,259 Z M373,105 L373,128 L459,128 L459,105 Z M373,105 Z M373,105" /></clipPath>
<path d="M472,129 L472,46 C472,43.7929688 473.7929688,42 476,42 L481,42" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip13)" />
<clipPath id="clip14"><path d="M372,15 L1041,15 L1041,259 L372,259 Z M373,105 L373,128 L459,128 L459,105 Z M373,105 Z M373,105" /></clipPath>
<path d="M472,129 L472,113 C472,110.7929688 473.7929688,109 476,109 L481,109" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip14)" />
<clipPath id="clip15"><path d="M372,15 L1041,15 L1041,259 L372,259 Z M373,105 L373,128 L459,128 L459,105 Z M373,105 Z M373,105" /></clipPath>
<path d="M472,129 L472,213 C472,215.2070313 473.7929688,217 476,217 L481,217" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip15)" />
<clipPath id="clip16"><path d="M371,14 L1042,14 L1042,260 L371,260 L371,14 Z" /></clipPath>
<path d="M459,129 L472,129" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip16)" />
<clipPath id="clip17"><path d="M371,103 L462,103 L462,131 L371,131 L371,103 Z" /></clipPath>
<path d="M373,129 L459,129 Z M373,129" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip17)" />
<text x="383" y="120" style="font:10px Open Sans">分布式存储</text>
<clipPath id="clip18"><path d="M480,15 L1041,15 L1041,43 L480,43 Z M481,18 L481,41 L528,41 L528,18 Z M481,18 Z M481,18" /></clipPath>
<path d="M541,42 C541,42 542.7929688,42 545,42 L550,42" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip18)" />
<clipPath id="clip19"><path d="M479,14 L1042,14 L1042,44 L479,44 L479,14 Z" /></clipPath>
<path d="M528,42 L541,42" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip19)" />
<clipPath id="clip20"><path d="M479,16 L531,16 L531,44 L479,44 L479,16 Z" /></clipPath>
<path d="M481,42 L528,42 Z M481,42" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip20)" />
<text x="491" y="33" style="font:10px Open Sans">定义</text>
<clipPath id="clip21"><path d="M548,14 L1042,14 L1042,44 L548,44 L548,14 Z" /></clipPath>
<path d="M550,42 L1039,42 Z M550,42" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip21)" />
<text x="560" y="31" style="font:10px Open Sans">分布式存储就是大量普通PC服务器通过Internet互联，对外作为一个整体存储服务</text>
<clipPath id="clip22"><path d="M480,44 L612,44 L612,151 L480,151 Z M481,85 L481,108 L528,108 L528,85 Z M481,85 Z M481,85" /></clipPath>
<path d="M541,109 L541,73 C541,70.7929688 542.7929688,69 545,69 L550,69" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip22)" />
<clipPath id="clip23"><path d="M480,44 L612,44 L612,151 L480,151 Z M481,85 L481,108 L528,108 L528,85 Z M481,85 Z M481,85" /></clipPath>
<path d="M541,109 L541,100 C541,97.7929688 542.7929688,96 545,96 L550,96" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip23)" />
<clipPath id="clip24"><path d="M480,44 L612,44 L612,151 L480,151 Z M481,85 L481,108 L528,108 L528,85 Z M481,85 Z M481,85" /></clipPath>
<path d="M541,109 L541,119 C541,121.2070313 542.7929688,123 545,123 L550,123" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip24)" />
<clipPath id="clip25"><path d="M480,44 L612,44 L612,151 L480,151 Z M481,85 L481,108 L528,108 L528,85 Z M481,85 Z M481,85" /></clipPath>
<path d="M541,109 L541,146 C541,148.2070313 542.7929688,150 545,150 L550,150" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip25)" />
<clipPath id="clip26"><path d="M479,43 L613,43 L613,152 L479,152 L479,43 Z" /></clipPath>
<path d="M528,109 L541,109" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip26)" />
<clipPath id="clip27"><path d="M479,83 L531,83 L531,111 L479,111 L479,83 Z" /></clipPath>
<path d="M481,109 L528,109 Z M481,109" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip27)" />
<text x="491" y="100" style="font:10px Open Sans">特性</text>
<clipPath id="clip28"><path d="M548,43 L613,43 L613,71 L548,71 L548,43 Z" /></clipPath>
<path d="M550,69 L610,69 Z M550,69" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip28)" />
<text x="560" y="60" style="font:10px Open Sans">可扩展</text>
<clipPath id="clip29"><path d="M548,70 L613,70 L613,98 L548,98 L548,70 Z" /></clipPath>
<path d="M550,96 L610,96 Z M550,96" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip29)" />
<text x="560" y="87" style="font:10px Open Sans">低成本</text>
<clipPath id="clip30"><path d="M548,97 L613,97 L613,125 L548,125 L548,97 Z" /></clipPath>
<path d="M550,123 L610,123 Z M550,123" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip30)" />
<text x="560" y="114" style="font:10px Open Sans">高性能</text>
<clipPath id="clip31"><path d="M548,124 L600,124 L600,152 L548,152 L548,124 Z" /></clipPath>
<path d="M550,150 L597,150 Z M550,150" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip31)" />
<text x="560" y="141" style="font:10px Open Sans">易用</text>
<clipPath id="clip32"><path d="M480,152 L768,152 L768,259 L480,259 Z M481,193 L481,216 L528,216 L528,193 Z M481,193 Z M481,193" /></clipPath>
<path d="M541,217 L541,181 C541,178.7929688 542.7929688,177 545,177 L550,177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip32)" />
<clipPath id="clip33"><path d="M480,152 L768,152 L768,259 L480,259 Z M481,193 L481,216 L528,216 L528,193 Z M481,193 Z M481,193" /></clipPath>
<path d="M541,217 L541,208 C541,205.7929688 542.7929688,204 545,204 L550,204" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip33)" />
<clipPath id="clip34"><path d="M480,152 L768,152 L768,259 L480,259 Z M481,193 L481,216 L528,216 L528,193 Z M481,193 Z M481,193" /></clipPath>
<path d="M541,217 L541,227 C541,229.2070313 542.7929688,231 545,231 L550,231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip34)" />
<clipPath id="clip35"><path d="M480,152 L768,152 L768,259 L480,259 Z M481,193 L481,216 L528,216 L528,193 Z M481,193 Z M481,193" /></clipPath>
<path d="M541,217 L541,254 C541,256.2070313 542.7929688,258 545,258 L550,258" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip35)" />
<clipPath id="clip36"><path d="M479,151 L769,151 L769,260 L479,260 L479,151 Z" /></clipPath>
<path d="M528,217 L541,217" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip36)" />
<clipPath id="clip37"><path d="M479,191 L531,191 L531,219 L479,219 L479,191 Z" /></clipPath>
<path d="M481,217 L528,217 Z M481,217" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip37)" />
<text x="491" y="208" style="font:10px Open Sans">挑战</text>
<clipPath id="clip38"><path d="M548,151 L717,151 L717,179 L548,179 L548,151 Z" /></clipPath>
<path d="M550,177 L714,177 Z M550,177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip38)" />
<text x="560" y="168" style="font:10px Open Sans">数据、状态信息的持久化</text>
<clipPath id="clip39"><path d="M548,178 L626,178 L626,206 L548,206 L548,178 Z" /></clipPath>
<path d="M550,204 L623,204 Z M550,204" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip39)" />
<text x="560" y="195" style="font:10px Open Sans">自动迁移</text>
<clipPath id="clip40"><path d="M548,205 L626,205 L626,233 L548,233 L548,205 Z" /></clipPath>
<path d="M550,231 L623,231 Z M550,231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip40)" />
<text x="560" y="222" style="font:10px Open Sans">自动容错</text>
<clipPath id="clip41"><path d="M548,232 L769,232 L769,260 L548,260 L548,232 Z" /></clipPath>
<path d="M550,258 L766,258 Z M550,258" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip41)" />
<text x="560" y="249" style="font:10px Open Sans">并发读写过程中保证数据的一致性</text>
<clipPath id="clip42"><path d="M372,260 L1110,260 L1110,1238 L372,1238 Z M373,513 L373,536 L485,536 L485,513 Z M373,513 Z M373,513" /></clipPath>
<path d="M498,537 L498,317 C498,314.7929688 499.7929688,313 502,313 L507,313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip42)" />
<clipPath id="clip43"><path d="M372,260 L1110,260 L1110,1238 L372,1238 Z M373,513 L373,536 L485,536 L485,513 Z M373,513 Z M373,513" /></clipPath>
<path d="M498,537 L498,758 C498,760.2070313 499.7929688,762 502,762 L507,762" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip43)" />
<clipPath id="clip44"><path d="M371,259 L1111,259 L1111,1239 L371,1239 L371,259 Z" /></clipPath>
<path d="M485,537 L498,537" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip44)" />
<clipPath id="clip45"><path d="M371,511 L488,511 L488,539 L371,539 L371,511 Z" /></clipPath>
<path d="M373,537 L485,537 Z M373,537" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip45)" />
<text x="383" y="528" style="font:10px Open Sans">分布式存储分类</text>
<clipPath id="clip46"><path d="M506,260 L937,260 L937,342 L506,342 Z M507,289 L507,312 L580,312 L580,289 Z M507,289 Z M507,289" /></clipPath>
<path d="M593,313 L593,289 C593,286.7929688 594.7929688,285 597,285 L602,285" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip46)" />
<clipPath id="clip47"><path d="M506,260 L937,260 L937,342 L506,342 Z M507,289 L507,312 L580,312 L580,289 Z M507,289 Z M507,289" /></clipPath>
<path d="M593,313 C593,312.4453125 594.7929688,312 597,312 L602,312" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip47)" />
<clipPath id="clip48"><path d="M506,260 L937,260 L937,342 L506,342 Z M507,289 L507,312 L580,312 L580,289 Z M507,289 Z M507,289" /></clipPath>
<path d="M593,313 L593,337 C593,339.2070313 594.7929688,341 597,341 L602,341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip48)" />
<clipPath id="clip49"><path d="M505,259 L938,259 L938,343 L505,343 L505,259 Z" /></clipPath>
<path d="M580,313 L593,313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip49)" />
<clipPath id="clip50"><path d="M505,287 L583,287 L583,315 L505,315 L505,287 Z" /></clipPath>
<path d="M507,313 L580,313 Z M507,313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip50)" />
<text x="517" y="304" style="font:10px Open Sans">数据类型</text>
<clipPath id="clip51"><path d="M600,259 L912,259 L912,287 L600,287 L600,259 Z" /></clipPath>
<path d="M602,285 L909,285 Z M602,285" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip51)" />
<text x="612" y="276" style="font:10px Open Sans">非结构化数据（文档、文本、图片、音频、视频）</text>
<clipPath id="clip52"><path d="M600,286 L938,286 L938,314 L600,314 L600,286 Z" /></clipPath>
<path d="M602,312 L935,312 Z M602,312" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip52)" />
<text x="612" y="303" style="font:10px Open Sans">结构化数据（存储在关系数据库中，模式与内容分开）</text>
<clipPath id="clip53"><path d="M600,313 L896,313 L896,343 L600,343 L600,313 Z" /></clipPath>
<path d="M602,341 L893,341 Z M602,341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip53)" />
<text x="612" y="330" style="font:10px Open Sans">半结构化数据（模式与内容混在一起，HTML）</text>
<clipPath id="clip54"><path d="M506,343 L1110,343 L1110,1238 L506,1238 Z M507,738 L507,761 L554,761 L554,738 Z M507,738 Z M507,738" /></clipPath>
<path d="M567,762 L567,448 C567,445.7929688 568.7929688,444 571,444 L576,444" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip54)" />
<clipPath id="clip55"><path d="M506,343 L1110,343 L1110,1238 L506,1238 Z M507,738 L507,761 L554,761 L554,738 Z M507,738 Z M507,738" /></clipPath>
<path d="M567,762 L567,659 C567,656.7929688 568.7929688,655 571,655 L576,655" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip55)" />
<clipPath id="clip56"><path d="M506,343 L1110,343 L1110,1238 L506,1238 Z M507,738 L507,761 L554,761 L554,738 Z M507,738 Z M507,738" /></clipPath>
<path d="M567,762 L567,839 C567,841.2070313 568.7929688,843 571,843 L576,843" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip56)" />
<clipPath id="clip57"><path d="M506,343 L1110,343 L1110,1238 L506,1238 Z M507,738 L507,761 L554,761 L554,738 Z M507,738 Z M507,738" /></clipPath>
<path d="M567,762 L567,1076 C567,1078.2070313 568.7929688,1080 571,1080 L576,1080" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip57)" />
<clipPath id="clip58"><path d="M505,342 L1111,342 L1111,1239 L505,1239 L505,342 Z" /></clipPath>
<path d="M554,762 L567,762" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip58)" />
<clipPath id="clip59"><path d="M505,736 L557,736 L557,764 L505,764 L505,736 Z" /></clipPath>
<path d="M507,762 L554,762 Z M507,762" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip59)" />
<text x="517" y="753" style="font:10px Open Sans">分类</text>
<clipPath id="clip60"><path d="M575,343 L1019,343 L1019,566 L575,566 Z M576,420 L576,443 L688,443 L688,420 Z M576,420 Z M576,420" /></clipPath>
<path d="M701,444 L701,372 C701,369.7929688 702.7929688,368 705,368 L710,368" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip60)" />
<clipPath id="clip61"><path d="M575,343 L1019,343 L1019,566 L575,566 Z M576,420 L576,443 L688,443 L688,420 Z M576,420 Z M576,420" /></clipPath>
<path d="M701,444 L701,399 C701,396.7929688 702.7929688,395 705,395 L710,395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip61)" />
<clipPath id="clip62"><path d="M575,343 L1019,343 L1019,566 L575,566 Z M576,420 L576,443 L688,443 L688,420 Z M576,420 Z M576,420" /></clipPath>
<path d="M701,444 L701,426 C701,423.7929688 702.7929688,422 705,422 L710,422" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip62)" />
<clipPath id="clip63"><path d="M575,343 L1019,343 L1019,566 L575,566 Z M576,420 L576,443 L688,443 L688,420 Z M576,420 Z M576,420" /></clipPath>
<path d="M701,444 L701,445 C701,447.2070313 702.7929688,449 705,449 L710,449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip63)" />
<clipPath id="clip64"><path d="M575,343 L1019,343 L1019,566 L575,566 Z M576,420 L576,443 L688,443 L688,420 Z M576,420 Z M576,420" /></clipPath>
<path d="M701,444 L701,517 C701,519.2070313 702.7929688,521 705,521 L710,521" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip64)" />
<clipPath id="clip65"><path d="M574,342 L1020,342 L1020,567 L574,567 L574,342 Z" /></clipPath>
<path d="M688,444 L701,444" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip65)" />
<clipPath id="clip66"><path d="M574,418 L691,418 L691,446 L574,446 L574,418 Z" /></clipPath>
<path d="M576,444 L688,444 Z M576,444" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip66)" />
<text x="586" y="435" style="font:10px Open Sans">分布式文件系统</text>
<clipPath id="clip67"><path d="M708,342 L838,342 L838,370 L708,370 L708,342 Z" /></clipPath>
<path d="M710,368 L835,368 Z M710,368" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip67)" />
<text x="720" y="359" style="font:10px Open Sans">存储非结构化数据</text>
<clipPath id="clip68"><path d="M708,369 L864,369 L864,397 L708,397 L708,369 Z" /></clipPath>
<path d="M710,395 L861,395 Z M710,395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip68)" />
<text x="720" y="386" style="font:10px Open Sans">数据以对象的形式组织</text>
<clipPath id="clip69"><path d="M708,396 L838,396 L838,424 L708,424 L708,396 Z" /></clipPath>
<path d="M710,422 L835,422 Z M710,422" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip69)" />
<text x="720" y="413" style="font:10px Open Sans">对象之间没有关联</text>
<clipPath id="clip70"><path d="M708,423 L1020,423 L1020,451 L708,451 L708,423 Z" /></clipPath>
<path d="M710,449 L1017,449 Z M710,449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip70)" />
<text x="720" y="440" style="font:10px Open Sans">常作为分布式表格系统和分布式数据库的底层存储</text>
<clipPath id="clip71"><path d="M709,451 L918,451 L918,566 L709,566 Z M710,497 L710,520 L757,520 L757,497 Z M710,497 Z M710,497" /></clipPath>
<path d="M770,521 L770,482 C770,479.7929688 771.7929688,478 774,478 L779,478" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip71)" />
<clipPath id="clip72"><path d="M709,451 L918,451 L918,566 L709,566 Z M710,497 L710,520 L757,520 L757,497 Z M710,497 Z M710,497" /></clipPath>
<path d="M770,521 L770,511 C770,508.7929688 771.7929688,507 774,507 L779,507" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip72)" />
<clipPath id="clip73"><path d="M709,451 L918,451 L918,566 L709,566 Z M710,497 L710,520 L757,520 L757,497 Z M710,497 Z M710,497" /></clipPath>
<path d="M770,521 L770,532 C770,534.2070313 771.7929688,536 774,536 L779,536" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip73)" />
<clipPath id="clip74"><path d="M709,451 L918,451 L918,566 L709,566 Z M710,497 L710,520 L757,520 L757,497 Z M710,497 Z M710,497" /></clipPath>
<path d="M770,521 L770,561 C770,563.2070313 771.7929688,565 774,565 L779,565" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip74)" />
<clipPath id="clip75"><path d="M708,450 L919,450 L919,567 L708,567 L708,450 Z" /></clipPath>
<path d="M757,521 L770,521" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip75)" />
<clipPath id="clip76"><path d="M708,495 L760,495 L760,523 L708,523 L708,495 Z" /></clipPath>
<path d="M710,521 L757,521 Z M710,521" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip76)" />
<text x="720" y="512" style="font:10px Open Sans">产品</text>
<clipPath id="clip77"><path d="M777,450 L919,450 L919,480 L777,480 L777,450 Z" /></clipPath>
<path d="M779,478 L916,478 Z M779,478" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip77)" />
<text x="789" y="467" style="font:10px Open Sans">Facebook Haystack</text>
<clipPath id="clip78"><path d="M777,479 L872,479 L872,509 L777,509 L777,479 Z" /></clipPath>
<path d="M779,507 L869,507 Z M779,507" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip78)" />
<text x="789" y="496" style="font:10px Open Sans">Taobao TFS</text>
<clipPath id="clip79"><path d="M777,508 L873,508 L873,538 L777,538 L777,508 Z" /></clipPath>
<path d="M779,536 L870,536 Z M779,536" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip79)" />
<text x="789" y="525" style="font:10px Open Sans">Google GFS</text>
<clipPath id="clip80"><path d="M777,537 L878,537 L878,567 L777,567 L777,537 Z" /></clipPath>
<path d="M779,565 L875,565 Z M779,565" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip80)" />
<text x="789" y="554" style="font:10px Open Sans">Amazon EBS</text>
<clipPath id="clip81"><path d="M575,567 L928,567 L928,734 L575,734 Z M576,631 L576,654 L688,654 L688,631 Z M576,631 Z M576,631" /></clipPath>
<path d="M701,655 L701,596 C701,593.7929688 702.7929688,592 705,592 L710,592" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip81)" />
<clipPath id="clip82"><path d="M575,567 L928,567 L928,734 L575,734 Z M576,631 L576,654 L688,654 L688,631 Z M576,631 Z M576,631" /></clipPath>
<path d="M701,655 L701,625 C701,622.7929688 702.7929688,621 705,621 L710,621" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip82)" />
<clipPath id="clip83"><path d="M575,567 L928,567 L928,734 L575,734 Z M576,631 L576,654 L688,654 L688,631 Z M576,631 Z M576,631" /></clipPath>
<path d="M701,655 L701,652 C701,649.7929688 702.7929688,648 705,648 L710,648" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip83)" />
<clipPath id="clip84"><path d="M575,567 L928,567 L928,734 L575,734 Z M576,631 L576,654 L688,654 L688,631 Z M576,631 Z M576,631" /></clipPath>
<path d="M701,655 L701,671 C701,673.2070313 702.7929688,675 705,675 L710,675" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip84)" />
<clipPath id="clip85"><path d="M575,567 L928,567 L928,734 L575,734 Z M576,631 L576,654 L688,654 L688,631 Z M576,631 Z M576,631" /></clipPath>
<path d="M701,655 L701,714 C701,716.2070313 702.7929688,718 705,718 L710,718" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip85)" />
<clipPath id="clip86"><path d="M574,566 L929,566 L929,735 L574,735 L574,566 Z" /></clipPath>
<path d="M688,655 L701,655" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip86)" />
<clipPath id="clip87"><path d="M574,629 L691,629 L691,657 L574,657 L574,629 Z" /></clipPath>
<path d="M576,655 L688,655 Z M576,655" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip87)" />
<text x="586" y="646" style="font:10px Open Sans">分布式键值系统</text>
<clipPath id="clip88"><path d="M708,566 L929,566 L929,594 L708,594 L708,566 Z" /></clipPath>
<path d="M710,592 L926,592 Z M710,592" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip88)" />
<text x="720" y="583" style="font:10px Open Sans">用于存储关系简单的半结构化数据</text>
<clipPath id="clip89"><path d="M708,593 L874,593 L874,623 L708,623 L708,593 Z" /></clipPath>
<path d="M710,621 L871,621 Z M710,621" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip89)" />
<text x="720" y="610" style="font:10px Open Sans">只提供基于主键的CRUD</text>
<clipPath id="clip90"><path d="M708,622 L812,622 L812,650 L708,650 L708,622 Z" /></clipPath>
<path d="M710,648 L809,648 Z M710,648" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip90)" />
<text x="720" y="639" style="font:10px Open Sans">一般用作缓存</text>
<clipPath id="clip91"><path d="M708,649 L851,649 L851,677 L708,677 L708,649 Z" /></clipPath>
<path d="M710,675 L848,675 Z M710,675" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip91)" />
<text x="720" y="666" style="font:10px Open Sans">常用一致性哈希技术</text>
<clipPath id="clip92"><path d="M709,677 L906,677 L906,734 L709,734 Z M710,694 L710,717 L757,717 L757,694 Z M710,694 Z M710,694" /></clipPath>
<path d="M770,718 L770,708 C770,705.7929688 771.7929688,704 774,704 L779,704" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip92)" />
<clipPath id="clip93"><path d="M709,677 L906,677 L906,734 L709,734 Z M710,694 L710,717 L757,717 L757,694 Z M710,694 Z M710,694" /></clipPath>
<path d="M770,718 L770,729 C770,731.2070313 771.7929688,733 774,733 L779,733" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip93)" />
<clipPath id="clip94"><path d="M708,676 L907,676 L907,735 L708,735 L708,676 Z" /></clipPath>
<path d="M757,718 L770,718" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip94)" />
<clipPath id="clip95"><path d="M708,692 L760,692 L760,720 L708,720 L708,692 Z" /></clipPath>
<path d="M710,718 L757,718 Z M710,718" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip95)" />
<text x="720" y="709" style="font:10px Open Sans">产品</text>
<clipPath id="clip96"><path d="M777,676 L907,676 L907,706 L777,706 L777,676 Z" /></clipPath>
<path d="M779,704 L904,704 Z M779,704" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip96)" />
<text x="789" y="693" style="font:10px Open Sans">Amazon Dynamo</text>
<clipPath id="clip97"><path d="M777,705 L865,705 L865,735 L777,735 L777,705 Z" /></clipPath>
<path d="M779,733 L862,733 Z M779,733" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip97)" />
<text x="789" y="722" style="font:10px Open Sans">Tabao Tair</text>
<clipPath id="clip98"><path d="M575,735 L1110,735 L1110,956 L575,956 Z M576,819 L576,842 L688,842 L688,819 Z M576,819 Z M576,819" /></clipPath>
<path d="M701,843 L701,764 C701,761.7929688 702.7929688,760 705,760 L710,760" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip98)" />
<clipPath id="clip99"><path d="M575,735 L1110,735 L1110,956 L575,956 Z M576,819 L576,842 L688,842 L688,819 Z M576,819 Z M576,819" /></clipPath>
<path d="M701,843 L701,791 C701,788.7929688 702.7929688,787 705,787 L710,787" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip99)" />
<clipPath id="clip100"><path d="M575,735 L1110,735 L1110,956 L575,956 Z M576,819 L576,842 L688,842 L688,819 Z M576,819 Z M576,819" /></clipPath>
<path d="M701,843 L701,818 C701,815.7929688 702.7929688,814 705,814 L710,814" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip100)" />
<clipPath id="clip101"><path d="M575,735 L1110,735 L1110,956 L575,956 Z M576,819 L576,842 L688,842 L688,819 Z M576,819 Z M576,819" /></clipPath>
<path d="M701,843 C701,841.8984375 702.7929688,841 705,841 L710,841" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip101)" />
<clipPath id="clip102"><path d="M575,735 L1110,735 L1110,956 L575,956 Z M576,819 L576,842 L688,842 L688,819 Z M576,819 Z M576,819" /></clipPath>
<path d="M701,843 L701,864 C701,866.2070313 702.7929688,868 705,868 L710,868" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip102)" />
<clipPath id="clip103"><path d="M575,735 L1110,735 L1110,956 L575,956 Z M576,819 L576,842 L688,842 L688,819 Z M576,819 Z M576,819" /></clipPath>
<path d="M701,843 L701,922 C701,924.2070313 702.7929688,926 705,926 L710,926" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip103)" />
<clipPath id="clip104"><path d="M574,734 L1111,734 L1111,957 L574,957 L574,734 Z" /></clipPath>
<path d="M688,843 L701,843" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip104)" />
<clipPath id="clip105"><path d="M574,817 L691,817 L691,845 L574,845 L574,817 Z" /></clipPath>
<path d="M576,843 L688,843 Z M576,843" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip105)" />
<text x="586" y="834" style="font:10px Open Sans">分布式表格系统</text>
<clipPath id="clip106"><path d="M708,734 L929,734 L929,762 L708,762 L708,734 Z" /></clipPath>
<path d="M710,760 L926,760 Z M710,760" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip106)" />
<text x="720" y="751" style="font:10px Open Sans">存储关系较为复杂的半结构化数据</text>
<clipPath id="clip107"><path d="M708,761 L864,761 L864,789 L708,789 L708,761 Z" /></clipPath>
<path d="M710,787 L861,787 Z M710,787" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip107)" />
<text x="720" y="778" style="font:10px Open Sans">以表格为单位组织数据</text>
<clipPath id="clip108"><path d="M708,788 L1033,788 L1033,816 L708,816 L708,788 Z" /></clipPath>
<path d="M710,814 L1030,814 Z M710,814" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip108)" />
<text x="720" y="805" style="font:10px Open Sans">借鉴了很多关系数据库技术（如某种程度上的事务）</text>
<clipPath id="clip109"><path d="M708,815 L1111,815 L1111,843 L708,843 L708,815 Z" /></clipPath>
<path d="M710,841 L1108,841 Z M710,841" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip109)" />
<text x="720" y="832" style="font:10px Open Sans">主要支持单张表格操作，不支持多表连接、嵌套子查询等复杂操作</text>
<clipPath id="clip110"><path d="M708,842 L955,842 L955,870 L708,870 L708,842 Z" /></clipPath>
<path d="M710,868 L952,868 Z M710,868" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip110)" />
<text x="720" y="859" style="font:10px Open Sans">同一表格的多个数据行不要求类型相同</text>
<clipPath id="clip111"><path d="M709,870 L984,870 L984,956 L709,956 Z M710,902 L710,925 L757,925 L757,902 Z M710,902 Z M710,902" /></clipPath>
<path d="M770,926 L770,901 C770,898.7929688 771.7929688,897 774,897 L779,897" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip111)" />
<clipPath id="clip112"><path d="M709,870 L984,870 L984,956 L709,956 Z M710,902 L710,925 L757,925 L757,902 Z M710,902 Z M710,902" /></clipPath>
<path d="M770,926 C770,926 771.7929688,926 774,926 L779,926" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip112)" />
<clipPath id="clip113"><path d="M709,870 L984,870 L984,956 L709,956 Z M710,902 L710,925 L757,925 L757,902 Z M710,902 Z M710,902" /></clipPath>
<path d="M770,926 L770,951 C770,953.2070313 771.7929688,955 774,955 L779,955" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip113)" />
<clipPath id="clip114"><path d="M708,869 L985,869 L985,957 L708,957 L708,869 Z" /></clipPath>
<path d="M757,926 L770,926" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip114)" />
<clipPath id="clip115"><path d="M708,900 L760,900 L760,928 L708,928 L708,900 Z" /></clipPath>
<path d="M710,926 L757,926 Z M710,926" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip115)" />
<text x="720" y="917" style="font:10px Open Sans">产品</text>
<clipPath id="clip116"><path d="M777,869 L980,869 L980,899 L777,899 L777,869 Z" /></clipPath>
<path d="M779,897 L977,897 Z M779,897" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip116)" />
<text x="789" y="886" style="font:10px Open Sans">Google BigTable &amp; Megastore</text>
<clipPath id="clip117"><path d="M777,898 L985,898 L985,928 L777,928 L777,898 Z" /></clipPath>
<path d="M779,926 L982,926 Z M779,926" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip117)" />
<text x="789" y="915" style="font:10px Open Sans">Microsoft  Azure Table Storage</text>
<clipPath id="clip118"><path d="M777,927 L926,927 L926,957 L777,957 L777,927 Z" /></clipPath>
<path d="M779,955 L923,955 Z M779,955" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip118)" />
<text x="789" y="944" style="font:10px Open Sans">Amazon DynamoDB</text>
<clipPath id="clip119"><path d="M575,957 L941,957 L941,1238 L575,1238 Z M576,1056 L576,1079 L675,1079 L675,1056 Z M576,1056 Z M576,1056" /></clipPath>
<path d="M688,1080 L688,986 C688,983.7929688 689.7929688,982 692,982 L697,982" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip119)" />
<clipPath id="clip120"><path d="M575,957 L941,957 L941,1238 L575,1238 Z M576,1056 L576,1079 L675,1079 L675,1056 Z M576,1056 Z M576,1056" /></clipPath>
<path d="M688,1080 L688,1013 C688,1010.7929688 689.7929688,1009 692,1009 L697,1009" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip120)" />
<clipPath id="clip121"><path d="M575,957 L941,957 L941,1238 L575,1238 Z M576,1056 L576,1079 L675,1079 L675,1056 Z M576,1056 Z M576,1056" /></clipPath>
<path d="M688,1080 L688,1042 C688,1039.7929688 689.7929688,1038 692,1038 L697,1038" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip121)" />
<clipPath id="clip122"><path d="M575,957 L941,957 L941,1238 L575,1238 Z M576,1056 L576,1079 L675,1079 L675,1056 Z M576,1056 Z M576,1056" /></clipPath>
<path d="M688,1080 L688,1069 C688,1066.7929688 689.7929688,1065 692,1065 L697,1065" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip122)" />
<clipPath id="clip123"><path d="M575,957 L941,957 L941,1238 L575,1238 Z M576,1056 L576,1079 L675,1079 L675,1056 Z M576,1056 Z M576,1056" /></clipPath>
<path d="M688,1080 L688,1088 C688,1090.2070313 689.7929688,1092 692,1092 L697,1092" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip123)" />
<clipPath id="clip124"><path d="M575,957 L941,957 L941,1238 L575,1238 Z M576,1056 L576,1079 L675,1079 L675,1056 Z M576,1056 Z M576,1056" /></clipPath>
<path d="M688,1080 L688,1175 C688,1177.2070313 689.7929688,1179 692,1179 L697,1179" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip124)" />
<clipPath id="clip125"><path d="M574,956 L942,956 L942,1239 L574,1239 L574,956 Z" /></clipPath>
<path d="M675,1080 L688,1080" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip125)" />
<clipPath id="clip126"><path d="M574,1054 L678,1054 L678,1082 L574,1082 L574,1054 Z" /></clipPath>
<path d="M576,1080 L675,1080 Z M576,1080" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip126)" />
<text x="586" y="1071" style="font:10px Open Sans">分布式数据库</text>
<clipPath id="clip127"><path d="M695,956 L812,956 L812,984 L695,984 L695,956 Z" /></clipPath>
<path d="M697,982 L809,982 Z M697,982" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip127)" />
<text x="707" y="973" style="font:10px Open Sans">存储结构化数据</text>
<clipPath id="clip128"><path d="M695,983 L851,983 L851,1011 L695,1011 L695,983 Z" /></clipPath>
<path d="M697,1009 L848,1009 Z M697,1009" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip128)" />
<text x="707" y="1000" style="font:10px Open Sans">采用二维表格组织数据</text>
<clipPath id="clip129"><path d="M695,1010 L849,1010 L849,1040 L695,1040 L695,1010 Z" /></clipPath>
<path d="M697,1038 L846,1038 Z M697,1038" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip129)" />
<text x="707" y="1027" style="font:10px Open Sans">提供SQL关系查询语言</text>
<clipPath id="clip130"><path d="M695,1039 L942,1039 L942,1067 L695,1067 L695,1039 Z" /></clipPath>
<path d="M697,1065 L939,1065 Z M697,1065" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip130)" />
<text x="707" y="1056" style="font:10px Open Sans">支持多表关联、嵌套子查询等复杂操作</text>
<clipPath id="clip131"><path d="M695,1066 L877,1066 L877,1094 L695,1094 L695,1066 Z" /></clipPath>
<path d="M697,1092 L874,1092 Z M697,1092" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip131)" />
<text x="707" y="1083" style="font:10px Open Sans">提供数据库事务及并发控制</text>
<clipPath id="clip132"><path d="M696,1094 L914,1094 L914,1238 L696,1238 Z M697,1155 L697,1178 L744,1178 L744,1155 Z M697,1155 Z M697,1155" /></clipPath>
<path d="M757,1179 L757,1125 C757,1122.7929688 758.7929688,1121 761,1121 L766,1121" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip132)" />
<clipPath id="clip133"><path d="M696,1094 L914,1094 L914,1238 L696,1238 Z M697,1155 L697,1178 L744,1178 L744,1155 Z M697,1155 Z M697,1155" /></clipPath>
<path d="M757,1179 L757,1154 C757,1151.7929688 758.7929688,1150 761,1150 L766,1150" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip133)" />
<clipPath id="clip134"><path d="M696,1094 L914,1094 L914,1238 L696,1238 Z M697,1155 L697,1178 L744,1178 L744,1155 Z M697,1155 Z M697,1155" /></clipPath>
<path d="M757,1179 C757,1179 758.7929688,1179 761,1179 L766,1179" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip134)" />
<clipPath id="clip135"><path d="M696,1094 L914,1094 L914,1238 L696,1238 Z M697,1155 L697,1178 L744,1178 L744,1155 Z M697,1155 Z M697,1155" /></clipPath>
<path d="M757,1179 L757,1204 C757,1206.2070313 758.7929688,1208 761,1208 L766,1208" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip135)" />
<clipPath id="clip136"><path d="M696,1094 L914,1094 L914,1238 L696,1238 Z M697,1155 L697,1178 L744,1178 L744,1155 Z M697,1155 Z M697,1155" /></clipPath>
<path d="M757,1179 L757,1233 C757,1235.2070313 758.7929688,1237 761,1237 L766,1237" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip136)" />
<clipPath id="clip137"><path d="M695,1093 L915,1093 L915,1239 L695,1239 L695,1093 Z" /></clipPath>
<path d="M744,1179 L757,1179" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip137)" />
<clipPath id="clip138"><path d="M695,1153 L747,1153 L747,1181 L695,1181 L695,1153 Z" /></clipPath>
<path d="M697,1179 L744,1179 Z M697,1179" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip138)" />
<text x="707" y="1170" style="font:10px Open Sans">产品</text>
<clipPath id="clip139"><path d="M764,1093 L915,1093 L915,1123 L764,1123 L764,1093 Z" /></clipPath>
<path d="M766,1121 L912,1121 Z M766,1121" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip139)" />
<text x="776" y="1110" style="font:10px Open Sans">MySQL Sharding集群</text>
<clipPath id="clip140"><path d="M764,1122 L867,1122 L867,1152 L764,1152 L764,1122 Z" /></clipPath>
<path d="M766,1150 L864,1150 Z M766,1150" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip140)" />
<text x="776" y="1139" style="font:10px Open Sans">Amazon RDS</text>
<clipPath id="clip141"><path d="M764,1151 L912,1151 L912,1181 L764,1181 L764,1151 Z" /></clipPath>
<path d="M766,1179 L909,1179 Z M766,1179" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip141)" />
<text x="776" y="1168" style="font:10px Open Sans">Microsoft SQL Azure</text>
<clipPath id="clip142"><path d="M764,1180 L886,1180 L886,1210 L764,1210 L764,1180 Z" /></clipPath>
<path d="M766,1208 L883,1208 Z M766,1208" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip142)" />
<text x="776" y="1197" style="font:10px Open Sans">Google Spanner</text>
<clipPath id="clip143"><path d="M764,1209 L874,1209 L874,1239 L764,1239 L764,1209 Z" /></clipPath>
<path d="M766,1237 L871,1237 Z M766,1237" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip143)" />
<text x="776" y="1226" style="font:10px Open Sans">Ali OceanBase</text>
<clipPath id="clip144"><path d="M289,1248 L2102,1248 L2102,12535 L289,12535 Z M295,7310 C292.2382813,7310 290,7312.2382813 290,7315 L290,7344 C290,7346.7617188 292.2382813,7349 295,7349 L363,7349 C365.7617188,7349 368,7346.7617188 368,7344 L368,7315 C368,7312.2382813 365.7617188,7310 363,7310 Z M295,7310 Z M295,7310" /></clipPath>
<path d="M381,7329.7578125 L381,4343 L390,4343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip144)" />
<clipPath id="clip145"><path d="M289,1248 L2102,1248 L2102,12535 L289,12535 Z M295,7310 C292.2382813,7310 290,7312.2382813 290,7315 L290,7344 C290,7346.7617188 292.2382813,7349 295,7349 L363,7349 C365.7617188,7349 368,7346.7617188 368,7344 L368,7315 C368,7312.2382813 365.7617188,7310 363,7310 Z M295,7310 Z M295,7310" /></clipPath>
<path d="M381,7329.7578125 L381,10318 L390,10318" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip145)" />
<clipPath id="clip146"><path d="M288,1247 L2103,1247 L2103,12536 L288,12536 L288,1247 Z" /></clipPath>
<path d="M368,7329.6953125 L381,7329.7578125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip146)" />
<clipPath id="clip147"><path d="M288,7308 L371,7308 L371,7352 L288,7352 L288,7308 Z" /></clipPath>
<path d="M295,7310 C292.2382813,7310 290,7312.2382813 290,7315 L290,7344 C290,7346.7617188 292.2382813,7349 295,7349 L363,7349 C365.7617188,7349 368,7346.7617188 368,7344 L368,7315 C368,7312.2382813 365.7617188,7310 363,7310 Z M295,7310" style="fill:rgb(254,244,236);stroke:none" clip-path="url(#clip147)" />
<clipPath id="clip148"><path d="M288,7308 L371,7308 L371,7352 L288,7352 L288,7308 Z" /></clipPath>
<path d="M295,7310 C292.2382813,7310 290,7312.2382813 290,7315 L290,7344 C290,7346.7617188 292.2382813,7349 295,7349 L363,7349 C365.7617188,7349 368,7346.7617188 368,7344 L368,7315 C368,7312.2382813 365.7617188,7310 363,7310 Z M295,7310" style="fill:none;stroke:rgb(141,134,126)" clip-path="url(#clip148)" />
<text x="303" y="7333" style="font:13px Open Sans">基础篇</text>
<clipPath id="clip149"><path d="M389,1248 L1690,1248 L1690,7607 L389,7607 Z M390,4319 L390,4342 L489,4342 L489,4319 Z M390,4319 Z M390,4319" /></clipPath>
<path d="M502,4343 L502,1292 C502,1289.7929688 503.7929688,1288 506,1288 L511,1288" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip149)" />
<clipPath id="clip150"><path d="M389,1248 L1690,1248 L1690,7607 L389,7607 Z M390,4319 L390,4342 L489,4342 L489,4319 Z M390,4319 Z M390,4319" /></clipPath>
<path d="M502,4343 L502,1791 C502,1788.7929688 503.7929688,1787 506,1787 L511,1787" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip150)" />
<clipPath id="clip151"><path d="M389,1248 L1690,1248 L1690,7607 L389,7607 Z M390,4319 L390,4342 L489,4342 L489,4319 Z M390,4319 Z M390,4319" /></clipPath>
<path d="M502,4343 L502,3215 C502,3212.7929688 503.7929688,3211 506,3211 L511,3211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip151)" />
<clipPath id="clip152"><path d="M389,1248 L1690,1248 L1690,7607 L389,7607 Z M390,4319 L390,4342 L489,4342 L489,4319 Z M390,4319 Z M390,4319" /></clipPath>
<path d="M502,4343 L502,4881 C502,4883.2070313 503.7929688,4885 506,4885 L511,4885" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip152)" />
<clipPath id="clip153"><path d="M389,1248 L1690,1248 L1690,7607 L389,7607 Z M390,4319 L390,4342 L489,4342 L489,4319 Z M390,4319 Z M390,4319" /></clipPath>
<path d="M502,4343 L502,6280 C502,6282.2070313 503.7929688,6284 506,6284 L511,6284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip153)" />
<clipPath id="clip154"><path d="M389,1248 L1690,1248 L1690,7607 L389,7607 Z M390,4319 L390,4342 L489,4342 L489,4319 Z M390,4319 Z M390,4319" /></clipPath>
<path d="M502,4343 L502,6940 C502,6942.2070313 503.7929688,6944 506,6944 L511,6944" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip154)" />
<clipPath id="clip155"><path d="M389,1248 L1690,1248 L1690,7607 L389,7607 Z M390,4319 L390,4342 L489,4342 L489,4319 Z M390,4319 Z M390,4319" /></clipPath>
<path d="M502,4343 L502,7395 C502,7397.2070313 503.7929688,7399 506,7399 L511,7399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip155)" />
<clipPath id="clip156"><path d="M388,1247 L1691,1247 L1691,7608 L388,7608 L388,1247 Z" /></clipPath>
<path d="M489,4343 L502,4343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip156)" />
<clipPath id="clip157"><path d="M388,4317 L492,4317 L492,4345 L388,4345 L388,4317 Z" /></clipPath>
<path d="M390,4343 L489,4343 Z M390,4343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip157)" />
<text x="400" y="4334" style="font:10px Open Sans">单机存储系统</text>
<clipPath id="clip158"><path d="M510,1248 L1091,1248 L1091,1303 L510,1303 Z M511,1264 L511,1287 L584,1287 L584,1264 Z M511,1264 Z M511,1264" /></clipPath>
<path d="M597,1288 L597,1279 C597,1276.7929688 598.7929688,1275 601,1275 L606,1275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip158)" />
<clipPath id="clip159"><path d="M510,1248 L1091,1248 L1091,1303 L510,1303 Z M511,1264 L511,1287 L584,1287 L584,1264 Z M511,1264 Z M511,1264" /></clipPath>
<path d="M597,1288 L597,1298 C597,1300.2070313 598.7929688,1302 601,1302 L606,1302" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip159)" />
<clipPath id="clip160"><path d="M509,1247 L1092,1247 L1092,1304 L509,1304 L509,1247 Z" /></clipPath>
<path d="M584,1288 L597,1288" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip160)" />
<clipPath id="clip161"><path d="M509,1262 L587,1262 L587,1290 L509,1290 L509,1262 Z" /></clipPath>
<path d="M511,1288 L584,1288 Z M511,1288" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip161)" />
<text x="521" y="1279" style="font:10px Open Sans">基本概念</text>
<clipPath id="clip162"><path d="M604,1247 L1092,1247 L1092,1277 L604,1277 L604,1247 Z" /></clipPath>
<path d="M606,1275 L1089,1275 Z M606,1275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip162)" />
<text x="616" y="1264" style="font:10px Open Sans">单机存储引擎是哈希表、B树等数据结构在机械磁盘、SSD等持久化介质上的实现</text>
<clipPath id="clip163"><path d="M604,1276 L1085,1276 L1085,1304 L604,1304 L604,1276 Z" /></clipPath>
<path d="M606,1302 L1082,1302 Z M606,1302" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip163)" />
<text x="616" y="1293" style="font:10px Open Sans">单机存储系统是单机存储引擎的封装，对外提供文件、键值、表格或者关系模型</text>
<clipPath id="clip164"><path d="M510,1304 L1422,1304 L1422,2306 L510,2306 Z M511,1763 L511,1786 L584,1786 L584,1763 Z M511,1763 Z M511,1763" /></clipPath>
<path d="M597,1787 L597,1434 C597,1431.7929688 598.7929688,1430 601,1430 L606,1430" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip164)" />
<clipPath id="clip165"><path d="M510,1304 L1422,1304 L1422,2306 L510,2306 Z M511,1763 L511,1786 L584,1786 L584,1763 Z M511,1763 Z M511,1763" /></clipPath>
<path d="M597,1787 L597,1620 C597,1617.7929688 598.7929688,1616 601,1616 L606,1616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip165)" />
<clipPath id="clip166"><path d="M510,1304 L1422,1304 L1422,2306 L510,2306 Z M511,1763 L511,1786 L584,1786 L584,1763 Z M511,1763 Z M511,1763" /></clipPath>
<path d="M597,1787 L597,1839 C597,1841.2070313 598.7929688,1843 601,1843 L606,1843" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip166)" />
<clipPath id="clip167"><path d="M510,1304 L1422,1304 L1422,2306 L510,2306 Z M511,1763 L511,1786 L584,1786 L584,1763 Z M511,1763 Z M511,1763" /></clipPath>
<path d="M597,1787 L597,2141 C597,2143.2070313 598.7929688,2145 601,2145 L606,2145" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip167)" />
<clipPath id="clip168"><path d="M509,1303 L1423,1303 L1423,2307 L509,2307 L509,1303 Z" /></clipPath>
<path d="M584,1787 L597,1787" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip168)" />
<clipPath id="clip169"><path d="M509,1761 L587,1761 L587,1789 L509,1789 L509,1761 Z" /></clipPath>
<path d="M511,1787 L584,1787 Z M511,1787" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip169)" />
<text x="521" y="1778" style="font:10px Open Sans">硬件基础</text>
<clipPath id="clip170"><path d="M605,1304 L1264,1304 L1264,1533 L605,1533 Z M606,1404 L606,1429 L679,1429 L679,1404 Z M606,1404 Z M606,1404" /></clipPath>
<path d="M692,1430 L692,1377 C692,1374.7929688 693.7929688,1373 696,1373 L701,1373" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip170)" />
<clipPath id="clip171"><path d="M605,1304 L1264,1304 L1264,1533 L605,1533 Z M606,1404 L606,1429 L679,1429 L679,1404 Z M606,1404 Z M606,1404" /></clipPath>
<path d="M692,1430 L692,1484 C692,1486.2070313 693.7929688,1488 696,1488 L701,1488" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip171)" />
<clipPath id="clip172"><path d="M604,1303 L1265,1303 L1265,1534 L604,1534 L604,1303 Z" /></clipPath>
<path d="M679,1430 L692,1430" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip172)" />
<clipPath id="clip173"><path d="M604,1402 L682,1402 L682,1432 L604,1432 L604,1402 Z" /></clipPath>
<path d="M606,1430 L679,1430 Z M606,1430" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip173)" />
<text x="616" y="1419" style="font:10px Open Sans">CPU架构</text>
<clipPath id="clip174"><path d="M700,1304 L1224,1304 L1224,1417 L700,1417 Z M701,1347 L701,1372 L840,1372 L840,1347 Z M701,1347 Z M701,1347" /></clipPath>
<path d="M853,1373 L853,1335 C853,1332.7929688 854.7929688,1331 857,1331 L862,1331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip174)" />
<clipPath id="clip175"><path d="M700,1304 L1224,1304 L1224,1417 L700,1417 Z M701,1347 L701,1372 L840,1372 L840,1347 Z M701,1347 Z M701,1347" /></clipPath>
<path d="M853,1373 L853,1364 C853,1361.7929688 854.7929688,1360 857,1360 L862,1360" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip175)" />
<clipPath id="clip176"><path d="M700,1304 L1224,1304 L1224,1417 L700,1417 Z M701,1347 L701,1372 L840,1372 L840,1347 Z M701,1347 Z M701,1347" /></clipPath>
<path d="M853,1373 L853,1383 C853,1385.2070313 854.7929688,1387 857,1387 L862,1387" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip176)" />
<clipPath id="clip177"><path d="M700,1304 L1224,1304 L1224,1417 L700,1417 Z M701,1347 L701,1372 L840,1372 L840,1347 Z M701,1347 Z M701,1347" /></clipPath>
<path d="M853,1373 L853,1412 C853,1414.2070313 854.7929688,1416 857,1416 L862,1416" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip177)" />
<clipPath id="clip178"><path d="M699,1303 L1225,1303 L1225,1418 L699,1418 L699,1303 Z" /></clipPath>
<path d="M840,1373 L853,1373" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip178)" />
<clipPath id="clip179"><path d="M699,1345 L843,1345 L843,1375 L699,1375 L699,1345 Z" /></clipPath>
<path d="M701,1373 L840,1373 Z M701,1373" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip179)" />
<text x="711" y="1362" style="font:10px Open Sans">对称多处理结构SMP</text>
<clipPath id="clip180"><path d="M860,1303 L938,1303 L938,1333 L860,1333 L860,1303 Z" /></clipPath>
<path d="M862,1331 L935,1331 Z M862,1331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip180)" />
<text x="872" y="1320" style="font:10px Open Sans">多个CPU</text>
<clipPath id="clip181"><path d="M860,1332 L964,1332 L964,1362 L860,1362 L860,1332 Z" /></clipPath>
<path d="M862,1360 L961,1360 Z M862,1360" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip181)" />
<text x="872" y="1349" style="font:10px Open Sans">每个CPU多核</text>
<clipPath id="clip182"><path d="M860,1361 L964,1361 L964,1389 L860,1389 L860,1361 Z" /></clipPath>
<path d="M862,1387 L961,1387 Z M862,1387" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip182)" />
<text x="872" y="1378" style="font:10px Open Sans">每个核超线程</text>
<clipPath id="clip183"><path d="M860,1388 L1225,1388 L1225,1418 L860,1418 L860,1388 Z" /></clipPath>
<path d="M862,1416 L1222,1416 Z M862,1416" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip183)" />
<text x="872" y="1405" style="font:10px Open Sans">系统所有资源（CPU、内存、IO）是共享的，扩展能力有限</text>
<clipPath id="clip184"><path d="M700,1418 L1264,1418 L1264,1533 L700,1533 Z M701,1462 L701,1487 L879,1487 L879,1462 Z M701,1462 Z M701,1462" /></clipPath>
<path d="M892,1488 L892,1449 C892,1446.7929688 893.7929688,1445 896,1445 L901,1445" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip184)" />
<clipPath id="clip185"><path d="M700,1418 L1264,1418 L1264,1533 L700,1533 Z M701,1462 L701,1487 L879,1487 L879,1462 Z M701,1462 Z M701,1462" /></clipPath>
<path d="M892,1488 L892,1478 C892,1475.7929688 893.7929688,1474 896,1474 L901,1474" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip185)" />
<clipPath id="clip186"><path d="M700,1418 L1264,1418 L1264,1533 L700,1533 Z M701,1462 L701,1487 L879,1487 L879,1462 Z M701,1462 Z M701,1462" /></clipPath>
<path d="M892,1488 L892,1499 C892,1501.2070313 893.7929688,1503 896,1503 L901,1503" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip186)" />
<clipPath id="clip187"><path d="M700,1418 L1264,1418 L1264,1533 L700,1533 Z M701,1462 L701,1487 L879,1487 L879,1462 Z M701,1462 Z M701,1462" /></clipPath>
<path d="M892,1488 L892,1528 C892,1530.2070313 893.7929688,1532 896,1532 L901,1532" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip187)" />
<clipPath id="clip188"><path d="M699,1417 L1265,1417 L1265,1534 L699,1534 L699,1417 Z" /></clipPath>
<path d="M879,1488 L892,1488" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip188)" />
<clipPath id="clip189"><path d="M699,1460 L882,1460 L882,1490 L699,1490 L699,1460 Z" /></clipPath>
<path d="M701,1488 L879,1488 Z M701,1488" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip189)" />
<text x="711" y="1477" style="font:10px Open Sans">非一致存储访问结构NUMA</text>
<clipPath id="clip190"><path d="M899,1417 L1017,1417 L1017,1447 L899,1447 L899,1417 Z" /></clipPath>
<path d="M901,1445 L1014,1445 Z M901,1445" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip190)" />
<text x="911" y="1434" style="font:10px Open Sans">多个NUMA节点</text>
<clipPath id="clip191"><path d="M899,1446 L1109,1446 L1109,1476 L899,1476 L899,1446 Z" /></clipPath>
<path d="M901,1474 L1106,1474 Z M901,1474" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip191)" />
<text x="911" y="1463" style="font:10px Open Sans">每个NUMA节点是一个SMP结构</text>
<clipPath id="clip192"><path d="M899,1475 L1108,1475 L1108,1505 L899,1505 L899,1475 Z" /></clipPath>
<path d="M901,1503 L1105,1503 Z M901,1503" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip192)" />
<text x="911" y="1492" style="font:10px Open Sans">NUMA节点可快速访问本地内存</text>
<clipPath id="clip193"><path d="M899,1504 L1265,1504 L1265,1534 L899,1534 L899,1504 Z" /></clipPath>
<path d="M901,1532 L1262,1532 Z M901,1532" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip193)" />
<text x="911" y="1521" style="font:10px Open Sans">也可以通过NUMA互联互通模块访问其他NUMA节点的内存</text>
<clipPath id="clip194"><path d="M605,1534 L1119,1534 L1119,1674 L605,1674 Z M606,1590 L606,1615 L667,1615 L667,1590 Z M606,1590 Z M606,1590" /></clipPath>
<path d="M680,1616 C680,1616 681.7929688,1616 684,1616 L689,1616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip194)" />
<clipPath id="clip195"><path d="M604,1533 L1120,1533 L1120,1675 L604,1675 L604,1533 Z" /></clipPath>
<path d="M667,1616 L680,1616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip195)" />
<clipPath id="clip196"><path d="M604,1588 L670,1588 L670,1618 L604,1618 L604,1588 Z" /></clipPath>
<path d="M606,1616 L667,1616 Z M606,1616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip196)" />
<text x="616" y="1605" style="font:10px Open Sans">IO总线</text>
<clipPath id="clip197"><path d="M688,1534 L1119,1534 L1119,1674 L688,1674 Z M689,1590 L689,1615 L789,1615 L789,1590 Z M689,1590 Z M689,1590" /></clipPath>
<path d="M802,1616 L802,1563 C802,1560.7929688 803.7929688,1559 806,1559 L811,1559" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip197)" />
<clipPath id="clip198"><path d="M688,1534 L1119,1534 L1119,1674 L688,1674 Z M689,1590 L689,1615 L789,1615 L789,1590 Z M689,1590 Z M689,1590" /></clipPath>
<path d="M802,1616 L802,1592 C802,1589.7929688 803.7929688,1588 806,1588 L811,1588" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip198)" />
<clipPath id="clip199"><path d="M688,1534 L1119,1534 L1119,1674 L688,1674 Z M689,1590 L689,1615 L789,1615 L789,1590 Z M689,1590 Z M689,1590" /></clipPath>
<path d="M802,1616 C802,1616.5546875 803.7929688,1617 806,1617 L811,1617" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip199)" />
<clipPath id="clip200"><path d="M688,1534 L1119,1534 L1119,1674 L688,1674 Z M689,1590 L689,1615 L789,1615 L789,1590 Z M689,1590 Z M689,1590" /></clipPath>
<path d="M802,1616 L802,1642 C802,1644.2070313 803.7929688,1646 806,1646 L811,1646" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip200)" />
<clipPath id="clip201"><path d="M688,1534 L1119,1534 L1119,1674 L688,1674 Z M689,1590 L689,1615 L789,1615 L789,1590 Z M689,1590 Z M689,1590" /></clipPath>
<path d="M802,1616 L802,1669 C802,1671.2070313 803.7929688,1673 806,1673 L811,1673" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip201)" />
<clipPath id="clip202"><path d="M687,1533 L1120,1533 L1120,1675 L687,1675 L687,1533 Z" /></clipPath>
<path d="M789,1616 L802,1616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip202)" />
<clipPath id="clip203"><path d="M687,1588 L792,1588 L792,1618 L687,1618 L687,1588 Z" /></clipPath>
<path d="M689,1616 L789,1616 Z M689,1616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip203)" />
<text x="699" y="1605" style="font:10px Open Sans">Intel x48主板</text>
<clipPath id="clip204"><path d="M809,1533 L939,1533 L939,1561 L809,1561 L809,1533 Z" /></clipPath>
<path d="M811,1559 L936,1559 Z M811,1559" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip204)" />
<text x="821" y="1550" style="font:10px Open Sans">典型的南北桥架构</text>
<clipPath id="clip205"><path d="M809,1560 L1030,1560 L1030,1590 L809,1590 L809,1560 Z" /></clipPath>
<path d="M811,1588 L1027,1588 Z M811,1588" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip205)" />
<text x="821" y="1577" style="font:10px Open Sans">北桥芯片通过前端总线与CPU相连</text>
<clipPath id="clip206"><path d="M809,1589 L1111,1589 L1111,1619 L809,1619 L809,1589 Z" /></clipPath>
<path d="M811,1617 L1108,1617 Z M811,1617" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip206)" />
<text x="821" y="1606" style="font:10px Open Sans">内存模块及PCI-E设备（高端SSD）挂接在北桥上</text>
<clipPath id="clip207"><path d="M809,1618 L1120,1618 L1120,1648 L809,1648 L809,1618 Z" /></clipPath>
<path d="M811,1646 L1117,1646 Z M811,1646" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip207)" />
<text x="821" y="1635" style="font:10px Open Sans">北桥与南桥之间通过DMI连接（DMI带宽1GB/s）</text>
<clipPath id="clip208"><path d="M809,1647 L1069,1647 L1069,1675 L809,1675 L809,1647 Z" /></clipPath>
<path d="M811,1673 L1066,1673 Z M811,1673" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip208)" />
<text x="821" y="1664" style="font:10px Open Sans">网卡、硬盘及中低端固态盘挂接在南桥上</text>
<clipPath id="clip209"><path d="M605,1675 L1422,1675 L1422,1958 L605,1958 Z M606,1819 L606,1842 L679,1842 L679,1819 Z M606,1819 Z M606,1819" /></clipPath>
<path d="M692,1843 L692,1777 C692,1774.7929688 693.7929688,1773 696,1773 L701,1773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip209)" />
<clipPath id="clip210"><path d="M605,1675 L1422,1675 L1422,1958 L605,1958 Z M606,1819 L606,1842 L679,1842 L679,1819 Z M606,1819 Z M606,1819" /></clipPath>
<path d="M692,1843 L692,1910 C692,1912.2070313 693.7929688,1914 696,1914 L701,1914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip210)" />
<clipPath id="clip211"><path d="M604,1674 L1423,1674 L1423,1959 L604,1959 L604,1674 Z" /></clipPath>
<path d="M679,1843 L692,1843" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip211)" />
<clipPath id="clip212"><path d="M604,1817 L682,1817 L682,1845 L604,1845 L604,1817 Z" /></clipPath>
<path d="M606,1843 L679,1843 Z M606,1843" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip212)" />
<text x="616" y="1834" style="font:10px Open Sans">网络拓扑</text>
<clipPath id="clip213"><path d="M700,1675 L1422,1675 L1422,1846 L700,1846 Z M701,1747 L701,1772 L909,1772 L909,1747 Z M701,1747 Z M701,1747" /></clipPath>
<path d="M922,1773 L922,1706 C922,1703.7929688 923.7929688,1702 926,1702 L931,1702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip213)" />
<clipPath id="clip214"><path d="M700,1675 L1422,1675 L1422,1846 L700,1846 Z M701,1747 L701,1772 L909,1772 L909,1747 Z M701,1747 Z M701,1747" /></clipPath>
<path d="M922,1773 L922,1735 C922,1732.7929688 923.7929688,1731 926,1731 L931,1731" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip214)" />
<clipPath id="clip215"><path d="M700,1675 L1422,1675 L1422,1846 L700,1846 Z M701,1747 L701,1772 L909,1772 L909,1747 Z M701,1747 Z M701,1747" /></clipPath>
<path d="M922,1773 L922,1764 C922,1761.7929688 923.7929688,1760 926,1760 L931,1760" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip215)" />
<clipPath id="clip216"><path d="M700,1675 L1422,1675 L1422,1846 L700,1846 Z M701,1747 L701,1772 L909,1772 L909,1747 Z M701,1747 Z M701,1747" /></clipPath>
<path d="M922,1773 L922,1785 C922,1787.2070313 923.7929688,1789 926,1789 L931,1789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip216)" />
<clipPath id="clip217"><path d="M700,1675 L1422,1675 L1422,1846 L700,1846 Z M701,1747 L701,1772 L909,1772 L909,1747 Z M701,1747 Z M701,1747" /></clipPath>
<path d="M922,1773 L922,1814 C922,1816.2070313 923.7929688,1818 926,1818 L931,1818" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip217)" />
<clipPath id="clip218"><path d="M700,1675 L1422,1675 L1422,1846 L700,1846 Z M701,1747 L701,1772 L909,1772 L909,1747 Z M701,1747 Z M701,1747" /></clipPath>
<path d="M922,1773 L922,1841 C922,1843.2070313 923.7929688,1845 926,1845 L931,1845" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip218)" />
<clipPath id="clip219"><path d="M699,1674 L1423,1674 L1423,1847 L699,1847 L699,1674 Z" /></clipPath>
<path d="M909,1773 L922,1773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip219)" />
<clipPath id="clip220"><path d="M699,1745 L912,1745 L912,1775 L699,1775 L699,1745 Z" /></clipPath>
<path d="M701,1773 L909,1773 Z M701,1773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip220)" />
<text x="711" y="1762" style="font:10px Open Sans">传统数据中心网络拓扑（Cisco）</text>
<clipPath id="clip221"><path d="M929,1674 L1305,1674 L1305,1704 L929,1704 L929,1674 Z" /></clipPath>
<path d="M931,1702 L1302,1702 Z M931,1702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip221)" />
<text x="941" y="1691" style="font:10px Open Sans">核心层（Core）、汇聚层（Aggregation）、接入层（Edge）</text>
<clipPath id="clip222"><path d="M929,1703 L1247,1703 L1247,1733 L929,1733 L929,1703 Z" /></clipPath>
<path d="M931,1731 L1244,1731 Z M931,1731" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip222)" />
<text x="941" y="1720" style="font:10px Open Sans">接入层交换机有48个1Gb端口和4个10Gb上行端口</text>
<clipPath id="clip223"><path d="M929,1732 L1195,1732 L1195,1762 L929,1762 L929,1732 Z" /></clipPath>
<path d="M931,1760 L1192,1760 Z M931,1760" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip223)" />
<text x="941" y="1749" style="font:10px Open Sans">汇聚层和核心层交换机有128个10Gb端口</text>
<clipPath id="clip224"><path d="M929,1761 L1150,1761 L1150,1791 L929,1791 L929,1761 Z" /></clipPath>
<path d="M931,1789 L1147,1789 Z M931,1789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip224)" />
<text x="941" y="1778" style="font:10px Open Sans">同一接入层下机器之前带宽为1Gb</text>
<clipPath id="clip225"><path d="M929,1790 L1215,1790 L1215,1820 L929,1820 L929,1790 Z" /></clipPath>
<path d="M931,1818 L1212,1818 Z M931,1818" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip225)" />
<text x="941" y="1807" style="font:10px Open Sans">不同接入层交换机下的机器之间带宽小于1Gb</text>
<clipPath id="clip226"><path d="M929,1819 L1423,1819 L1423,1847 L929,1847 L929,1819 Z" /></clipPath>
<path d="M931,1845 L1420,1845 Z M931,1845" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip226)" />
<text x="941" y="1836" style="font:10px Open Sans">设计系统时需要考虑机器是否在一个机架（接入层）内，减少跨机架拷贝大量数据</text>
<clipPath id="clip227"><path d="M700,1847 L1116,1847 L1116,1958 L700,1958 Z M701,1888 L701,1913 L875,1913 L875,1888 Z M701,1888 Z M701,1888" /></clipPath>
<path d="M888,1914 L888,1876 C888,1873.7929688 889.7929688,1872 892,1872 L897,1872" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip227)" />
<clipPath id="clip228"><path d="M700,1847 L1116,1847 L1116,1958 L700,1958 Z M701,1888 L701,1913 L875,1913 L875,1888 Z M701,1888 Z M701,1888" /></clipPath>
<path d="M888,1914 L888,1905 C888,1902.7929688 889.7929688,1901 892,1901 L897,1901" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip228)" />
<clipPath id="clip229"><path d="M700,1847 L1116,1847 L1116,1958 L700,1958 Z M701,1888 L701,1913 L875,1913 L875,1888 Z M701,1888 Z M701,1888" /></clipPath>
<path d="M888,1914 L888,1926 C888,1928.2070313 889.7929688,1930 892,1930 L897,1930" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip229)" />
<clipPath id="clip230"><path d="M700,1847 L1116,1847 L1116,1958 L700,1958 Z M701,1888 L701,1913 L875,1913 L875,1888 Z M701,1888 Z M701,1888" /></clipPath>
<path d="M888,1914 L888,1953 C888,1955.2070313 889.7929688,1957 892,1957 L897,1957" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip230)" />
<clipPath id="clip231"><path d="M699,1846 L1117,1846 L1117,1959 L699,1959 L699,1846 Z" /></clipPath>
<path d="M875,1914 L888,1914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip231)" />
<clipPath id="clip232"><path d="M699,1886 L878,1886 L878,1916 L699,1916 L699,1886 Z" /></clipPath>
<path d="M701,1914 L875,1914 Z M701,1914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip232)" />
<text x="711" y="1903" style="font:10px Open Sans">三级CLOS网络（Google）</text>
<clipPath id="clip233"><path d="M895,1846 L1012,1846 L1012,1874 L895,1874 L895,1846 Z" /></clipPath>
<path d="M897,1872 L1009,1872 Z M897,1872" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip233)" />
<text x="907" y="1863" style="font:10px Open Sans">扁平化拓扑结构</text>
<clipPath id="clip234"><path d="M895,1873 L1117,1873 L1117,1903 L895,1903 L895,1873 Z" /></clipPath>
<path d="M897,1901 L1114,1901 Z M897,1901" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip234)" />
<text x="907" y="1890" style="font:10px Open Sans">同一集群内最多支持20480台机器</text>
<clipPath id="clip235"><path d="M895,1902 L1064,1902 L1064,1932 L895,1932 L895,1902 Z" /></clipPath>
<path d="M897,1930 L1061,1930 Z M897,1930" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip235)" />
<text x="907" y="1919" style="font:10px Open Sans">任何两台之间有1Gb带宽</text>
<clipPath id="clip236"><path d="M895,1931 L1103,1931 L1103,1959 L895,1959 L895,1931 Z" /></clipPath>
<path d="M897,1957 L1100,1957 Z M897,1957" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip236)" />
<text x="907" y="1948" style="font:10px Open Sans">设计时不需要考虑底层网络拓扑</text>
<clipPath id="clip237"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,1990 C692,1987.7929688 693.7929688,1986 696,1986 L701,1986" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip237)" />
<clipPath id="clip238"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,2019 C692,2016.7929688 693.7929688,2015 696,2015 L701,2015" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip238)" />
<clipPath id="clip239"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,2048 C692,2045.7929688 693.7929688,2044 696,2044 L701,2044" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip239)" />
<clipPath id="clip240"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,2077 C692,2074.7929688 693.7929688,2073 696,2073 L701,2073" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip240)" />
<clipPath id="clip241"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,2106 C692,2103.7929688 693.7929688,2102 696,2102 L701,2102" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip241)" />
<clipPath id="clip242"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,2135 C692,2132.7929688 693.7929688,2131 696,2131 L701,2131" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip242)" />
<clipPath id="clip243"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,2156 C692,2158.2070313 693.7929688,2160 696,2160 L701,2160" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip243)" />
<clipPath id="clip244"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,2185 C692,2187.2070313 693.7929688,2189 696,2189 L701,2189" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip244)" />
<clipPath id="clip245"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,2214 C692,2216.2070313 693.7929688,2218 696,2218 L701,2218" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip245)" />
<clipPath id="clip246"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,2243 C692,2245.2070313 693.7929688,2247 696,2247 L701,2247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip246)" />
<clipPath id="clip247"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,2272 C692,2274.2070313 693.7929688,2276 696,2276 L701,2276" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip247)" />
<clipPath id="clip248"><path d="M605,1959 L924,1959 L924,2306 L605,2306 Z M606,2121 L606,2144 L679,2144 L679,2121 Z M606,2121 Z M606,2121" /></clipPath>
<path d="M692,2145 L692,2301 C692,2303.2070313 693.7929688,2305 696,2305 L701,2305" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip248)" />
<clipPath id="clip249"><path d="M604,1958 L925,1958 L925,2307 L604,2307 L604,1958 Z" /></clipPath>
<path d="M679,2145 L692,2145" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip249)" />
<clipPath id="clip250"><path d="M604,2119 L682,2119 L682,2147 L604,2147 L604,2119 Z" /></clipPath>
<path d="M606,2145 L679,2145 Z M606,2145" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip250)" />
<text x="616" y="2136" style="font:10px Open Sans">性能参数</text>
<clipPath id="clip251"><path d="M699,1958 L842,1958 L842,1988 L699,1988 L699,1958 Z" /></clipPath>
<path d="M701,1986 L839,1986 Z M701,1986" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip251)" />
<text x="711" y="1975" style="font:10px Open Sans">访问L1 Cache 0.5ns</text>
<clipPath id="clip252"><path d="M699,1987 L828,1987 L828,2017 L699,2017 L699,1987 Z" /></clipPath>
<path d="M701,2015 L825,2015 Z M701,2015" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip252)" />
<text x="711" y="2004" style="font:10px Open Sans">分支预测失败 5ns</text>
<clipPath id="clip253"><path d="M699,2016 L830,2016 L830,2046 L699,2046 L699,2016 Z" /></clipPath>
<path d="M701,2044 L827,2044 Z M701,2044" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip253)" />
<text x="711" y="2033" style="font:10px Open Sans">访问L2 Cache 7ns</text>
<clipPath id="clip254"><path d="M699,2045 L865,2045 L865,2075 L699,2075 L699,2045 Z" /></clipPath>
<path d="M701,2073 L862,2073 Z M701,2073" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip254)" />
<text x="711" y="2062" style="font:10px Open Sans">Mutex 加锁/解锁 100ns</text>
<clipPath id="clip255"><path d="M699,2074 L818,2074 L818,2104 L699,2104 L699,2074 Z" /></clipPath>
<path d="M701,2102 L815,2102 Z M701,2102" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip255)" />
<text x="711" y="2091" style="font:10px Open Sans">内存访问 100ns</text>
<clipPath id="clip256"><path d="M699,2103 L895,2103 L895,2133 L699,2133 L699,2103 Z" /></clipPath>
<path d="M701,2131 L892,2131 Z M701,2131" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip256)" />
<text x="711" y="2120" style="font:10px Open Sans">千兆网络发送1MB数据 10ms</text>
<clipPath id="clip257"><path d="M699,2132 L920,2132 L920,2162 L699,2162 L699,2132 Z" /></clipPath>
<path d="M701,2160 L917,2160 Z M701,2160" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip257)" />
<text x="711" y="2149" style="font:10px Open Sans">从内存顺序读取1MB数据 0.25ms</text>
<clipPath id="clip258"><path d="M699,2161 L857,2161 L857,2191 L699,2191 L699,2161 Z" /></clipPath>
<path d="M701,2189 L854,2189 Z M701,2189" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip258)" />
<text x="711" y="2178" style="font:10px Open Sans">机房内网络来回 0.5ms</text>
<clipPath id="clip259"><path d="M699,2190 L920,2190 L920,2220 L699,2220 L699,2190 Z" /></clipPath>
<path d="M701,2218 L917,2218 Z M701,2218" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip259)" />
<text x="711" y="2207" style="font:10px Open Sans">异地机房之间网络来回 30-100ms</text>
<clipPath id="clip260"><path d="M699,2219 L844,2219 L844,2249 L699,2249 L699,2219 Z" /></clipPath>
<path d="M701,2247 L841,2247 Z M701,2247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip260)" />
<text x="711" y="2236" style="font:10px Open Sans">SATA硬盘寻道 10ms</text>
<clipPath id="clip261"><path d="M699,2248 L925,2248 L925,2278 L699,2278 L699,2248 Z" /></clipPath>
<path d="M701,2276 L922,2276 Z M701,2276" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip261)" />
<text x="711" y="2265" style="font:10px Open Sans">从SATA盘顺序读取1MB数据 20ms</text>
<clipPath id="clip262"><path d="M699,2277 L866,2277 L866,2307 L699,2307 L699,2277 Z" /></clipPath>
<path d="M701,2305 L863,2305 Z M701,2305" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip262)" />
<text x="711" y="2294" style="font:10px Open Sans">SSD访问延迟 0.1-0.2ms</text>
<clipPath id="clip263"><path d="M510,2307 L1690,2307 L1690,4344 L510,4344 Z M511,3187 L511,3210 L610,3210 L610,3187 Z M511,3187 Z M511,3187" /></clipPath>
<path d="M623,3211 L623,2512 C623,2509.7929688 624.7929688,2508 627,2508 L632,2508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip263)" />
<clipPath id="clip264"><path d="M510,2307 L1690,2307 L1690,4344 L510,4344 Z M511,3187 L511,3210 L610,3210 L610,3187 Z M511,3187 Z M511,3187" /></clipPath>
<path d="M623,3211 L623,3106 C623,3103.7929688 624.7929688,3102 627,3102 L632,3102" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip264)" />
<clipPath id="clip265"><path d="M510,2307 L1690,2307 L1690,4344 L510,4344 Z M511,3187 L511,3210 L610,3210 L610,3187 Z M511,3187 Z M511,3187" /></clipPath>
<path d="M623,3211 L623,3910 C623,3912.2070313 624.7929688,3914 627,3914 L632,3914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip265)" />
<clipPath id="clip266"><path d="M509,2306 L1691,2306 L1691,4345 L509,4345 L509,2306 Z" /></clipPath>
<path d="M610,3211 L623,3211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip266)" />
<clipPath id="clip267"><path d="M509,3185 L613,3185 L613,3213 L509,3213 L509,3185 Z" /></clipPath>
<path d="M511,3211 L610,3211 Z M511,3211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip267)" />
<text x="521" y="3202" style="font:10px Open Sans">单机存储引擎</text>
<clipPath id="clip268"><path d="M631,2307 L1448,2307 L1448,2900 L631,2900 Z M632,2484 L632,2507 L731,2507 L731,2484 Z M632,2484 Z M632,2484" /></clipPath>
<path d="M744,2508 L744,2336 C744,2333.7929688 745.7929688,2332 748,2332 L753,2332" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip268)" />
<clipPath id="clip269"><path d="M631,2307 L1448,2307 L1448,2900 L631,2900 Z M632,2484 L632,2507 L731,2507 L731,2484 Z M632,2484 Z M632,2484" /></clipPath>
<path d="M744,2508 L744,2363 C744,2360.7929688 745.7929688,2359 748,2359 L753,2359" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip269)" />
<clipPath id="clip270"><path d="M631,2307 L1448,2307 L1448,2900 L631,2900 Z M632,2484 L632,2507 L731,2507 L731,2484 Z M632,2484 Z M632,2484" /></clipPath>
<path d="M744,2508 L744,2390 C744,2387.7929688 745.7929688,2386 748,2386 L753,2386" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip270)" />
<clipPath id="clip271"><path d="M631,2307 L1448,2307 L1448,2900 L631,2900 Z M632,2484 L632,2507 L731,2507 L731,2484 Z M632,2484 Z M632,2484" /></clipPath>
<path d="M744,2508 L744,2417 C744,2414.7929688 745.7929688,2413 748,2413 L753,2413" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip271)" />
<clipPath id="clip272"><path d="M631,2307 L1448,2307 L1448,2900 L631,2900 Z M632,2484 L632,2507 L731,2507 L731,2484 Z M632,2484 Z M632,2484" /></clipPath>
<path d="M744,2508 L744,2446 C744,2443.7929688 745.7929688,2442 748,2442 L753,2442" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip272)" />
<clipPath id="clip273"><path d="M631,2307 L1448,2307 L1448,2900 L631,2900 Z M632,2484 L632,2507 L731,2507 L731,2484 Z M632,2484 Z M632,2484" /></clipPath>
<path d="M744,2508 L744,2680 C744,2682.2070313 745.7929688,2684 748,2684 L753,2684" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip273)" />
<clipPath id="clip274"><path d="M630,2306 L1449,2306 L1449,2901 L630,2901 L630,2306 Z" /></clipPath>
<path d="M731,2508 L744,2508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip274)" />
<clipPath id="clip275"><path d="M630,2482 L734,2482 L734,2510 L630,2510 L630,2482 Z" /></clipPath>
<path d="M632,2508 L731,2508 Z M632,2508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip275)" />
<text x="642" y="2499" style="font:10px Open Sans">哈希存储引擎</text>
<clipPath id="clip276"><path d="M751,2306 L894,2306 L894,2334 L751,2334 L751,2306 Z" /></clipPath>
<path d="M753,2332 L891,2332 Z M753,2332" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip276)" />
<text x="763" y="2323" style="font:10px Open Sans">哈希表的持久化实现</text>
<clipPath id="clip277"><path d="M751,2333 L868,2333 L868,2361 L751,2361 L751,2333 Z" /></clipPath>
<path d="M753,2359 L865,2359 Z M753,2359" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip277)" />
<text x="763" y="2350" style="font:10px Open Sans">支持增、删、改</text>
<clipPath id="clip278"><path d="M751,2360 L855,2360 L855,2388 L751,2388 L751,2360 Z" /></clipPath>
<path d="M753,2386 L852,2386 Z M753,2386" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip278)" />
<text x="763" y="2377" style="font:10px Open Sans">支持随即读取</text>
<clipPath id="clip279"><path d="M751,2387 L868,2387 L868,2415 L751,2415 L751,2387 Z" /></clipPath>
<path d="M753,2413 L865,2413 Z M753,2413" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip279)" />
<text x="763" y="2404" style="font:10px Open Sans">不支持顺序扫描</text>
<clipPath id="clip280"><path d="M751,2414 L992,2414 L992,2444 L751,2444 L751,2414 Z" /></clipPath>
<path d="M753,2442 L989,2442 Z M753,2442" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip280)" />
<text x="763" y="2431" style="font:10px Open Sans">对应的存储系统为Key-Value存储系统</text>
<clipPath id="clip281"><path d="M752,2444 L1448,2444 L1448,2900 L752,2900 Z M753,2658 L753,2683 L817,2683 L817,2658 Z M753,2658 Z M753,2658" /></clipPath>
<path d="M830,2684 L830,2502 C830,2499.7929688 831.7929688,2498 834,2498 L839,2498" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip281)" />
<clipPath id="clip282"><path d="M752,2444 L1448,2444 L1448,2900 L752,2900 Z M753,2658 L753,2683 L817,2683 L817,2658 Z M753,2658 Z M753,2658" /></clipPath>
<path d="M830,2684 L830,2647 C830,2644.7929688 831.7929688,2643 834,2643 L839,2643" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip282)" />
<clipPath id="clip283"><path d="M752,2444 L1448,2444 L1448,2900 L752,2900 Z M753,2658 L753,2683 L817,2683 L817,2658 Z M753,2658 Z M753,2658" /></clipPath>
<path d="M830,2684 L830,2784 C830,2786.2070313 831.7929688,2788 834,2788 L839,2788" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip283)" />
<clipPath id="clip284"><path d="M752,2444 L1448,2444 L1448,2900 L752,2900 Z M753,2658 L753,2683 L817,2683 L817,2658 Z M753,2658 Z M753,2658" /></clipPath>
<path d="M830,2684 L830,2867 C830,2869.2070313 831.7929688,2871 834,2871 L839,2871" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip284)" />
<clipPath id="clip285"><path d="M751,2443 L1449,2443 L1449,2901 L751,2901 L751,2443 Z" /></clipPath>
<path d="M817,2684 L830,2684" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip285)" />
<clipPath id="clip286"><path d="M751,2656 L820,2656 L820,2686 L751,2686 L751,2656 Z" /></clipPath>
<path d="M753,2684 L817,2684 Z M753,2684" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip286)" />
<text x="763" y="2673" style="font:10px Open Sans">Bitcask</text>
<clipPath id="clip287"><path d="M838,2444 L1316,2444 L1316,2528 L838,2528 Z M839,2474 L839,2497 L951,2497 L951,2474 Z M839,2474 Z M839,2474" /></clipPath>
<path d="M964,2498 L964,2473 C964,2470.7929688 965.7929688,2469 968,2469 L973,2469" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip287)" />
<clipPath id="clip288"><path d="M838,2444 L1316,2444 L1316,2528 L838,2528 Z M839,2474 L839,2497 L951,2497 L951,2474 Z M839,2474 Z M839,2474" /></clipPath>
<path d="M964,2498 C964,2498 965.7929688,2498 968,2498 L973,2498" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip288)" />
<clipPath id="clip289"><path d="M838,2444 L1316,2444 L1316,2528 L838,2528 Z M839,2474 L839,2497 L951,2497 L951,2474 Z M839,2474 Z M839,2474" /></clipPath>
<path d="M964,2498 L964,2523 C964,2525.2070313 965.7929688,2527 968,2527 L973,2527" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip289)" />
<clipPath id="clip290"><path d="M837,2443 L1317,2443 L1317,2529 L837,2529 L837,2443 Z" /></clipPath>
<path d="M951,2498 L964,2498" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip290)" />
<clipPath id="clip291"><path d="M837,2472 L954,2472 L954,2500 L837,2500 L837,2472 Z" /></clipPath>
<path d="M839,2498 L951,2498 Z M839,2498" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip291)" />
<text x="849" y="2489" style="font:10px Open Sans">仅支持追加操作</text>
<clipPath id="clip292"><path d="M971,2443 L1309,2443 L1309,2471 L971,2471 L971,2443 Z" /></clipPath>
<path d="M973,2469 L1306,2469 Z M973,2469" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip292)" />
<text x="983" y="2460" style="font:10px Open Sans">每个文件有大小限制，增加到相应大小时就产生新文件</text>
<clipPath id="clip293"><path d="M971,2470 L1317,2470 L1317,2500 L971,2500 L971,2470 Z" /></clipPath>
<path d="M973,2498 L1314,2498 Z M973,2498" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip293)" />
<text x="983" y="2487" style="font:10px Open Sans">active data file：只有一个文件是可写的，用于数据追加</text>
<clipPath id="clip294"><path d="M971,2499 L1248,2499 L1248,2529 L971,2529 L971,2499 Z" /></clipPath>
<path d="M973,2527 L1245,2527 Z M973,2527" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip294)" />
<text x="983" y="2516" style="font:10px Open Sans">older data file：其他已达到大小限制的文件</text>
<clipPath id="clip295"><path d="M838,2529 L1448,2529 L1448,2734 L838,2734 Z M839,2619 L839,2642 L912,2642 L912,2619 Z M839,2619 Z M839,2619" /></clipPath>
<path d="M925,2643 L925,2558 C925,2555.7929688 926.7929688,2554 929,2554 L934,2554" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip295)" />
<clipPath id="clip296"><path d="M838,2529 L1448,2529 L1448,2734 L838,2734 Z M839,2619 L839,2642 L912,2642 L912,2619 Z M839,2619 Z M839,2619" /></clipPath>
<path d="M925,2643 L925,2587 C925,2584.7929688 926.7929688,2583 929,2583 L934,2583" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip296)" />
<clipPath id="clip297"><path d="M838,2529 L1448,2529 L1448,2734 L838,2734 Z M839,2619 L839,2642 L912,2642 L912,2619 Z M839,2619 Z M839,2619" /></clipPath>
<path d="M925,2643 L925,2616 C925,2613.7929688 926.7929688,2612 929,2612 L934,2612" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip297)" />
<clipPath id="clip298"><path d="M838,2529 L1448,2529 L1448,2734 L838,2734 Z M839,2619 L839,2642 L912,2642 L912,2619 Z M839,2619 Z M839,2619" /></clipPath>
<path d="M925,2643 C925,2640.7929688 926.7929688,2639 929,2639 L934,2639" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip298)" />
<clipPath id="clip299"><path d="M838,2529 L1448,2529 L1448,2734 L838,2734 Z M839,2619 L839,2642 L912,2642 L912,2619 Z M839,2619 Z M839,2619" /></clipPath>
<path d="M925,2643 L925,2683 C925,2685.2070313 926.7929688,2687 929,2687 L934,2687" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip299)" />
<clipPath id="clip300"><path d="M838,2529 L1448,2529 L1448,2734 L838,2734 Z M839,2619 L839,2642 L912,2642 L912,2619 Z M839,2619 Z M839,2619" /></clipPath>
<path d="M925,2643 L925,2729 C925,2731.2070313 926.7929688,2733 929,2733 L934,2733" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip300)" />
<clipPath id="clip301"><path d="M837,2528 L1449,2528 L1449,2735 L837,2735 L837,2528 Z" /></clipPath>
<path d="M912,2643 L925,2643" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip301)" />
<clipPath id="clip302"><path d="M837,2617 L915,2617 L915,2645 L837,2645 L837,2617 Z" /></clipPath>
<path d="M839,2643 L912,2643 Z M839,2643" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip302)" />
<text x="849" y="2634" style="font:10px Open Sans">数据结构</text>
<clipPath id="clip303"><path d="M932,2528 L1114,2528 L1114,2556 L932,2556 L932,2528 Z" /></clipPath>
<path d="M934,2554 L1111,2554 Z M934,2554" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip303)" />
<text x="944" y="2545" style="font:10px Open Sans">数据是一条一条的写入操作</text>
<clipPath id="clip304"><path d="M932,2555 L1364,2555 L1364,2585 L932,2585 L932,2555 Z" /></clipPath>
<path d="M934,2583 L1361,2583 Z M934,2583" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip304)" />
<text x="944" y="2572" style="font:10px Open Sans">每条记录包括key、value、key_sz、value_sz、timestamp、crc校验值</text>
<clipPath id="clip305"><path d="M932,2584 L1237,2584 L1237,2614 L932,2614 L932,2584 Z" /></clipPath>
<path d="M934,2612 L1234,2612 Z M934,2612" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip305)" />
<text x="944" y="2601" style="font:10px Open Sans">删除记录是将value设定为一个特殊的值作为标识</text>
<clipPath id="clip306"><path d="M932,2613 L1153,2613 L1153,2641 L932,2641 L932,2613 Z" /></clipPath>
<path d="M934,2639 L1150,2639 Z M934,2639" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip306)" />
<text x="944" y="2630" style="font:10px Open Sans">内存中基于哈希表的索引数据结构</text>
<clipPath id="clip307"><path d="M932,2640 L1449,2640 L1449,2689 L932,2689 L932,2640 Z" /></clipPath>
<path d="M934,2687 L1446,2687 Z M934,2687" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip307)" />
<text x="944" y="2657" style="font:10px Open Sans">哈希表结构中每一项包含文件编号（file_id）、value在文件中的位置（value_pos）、</text>
<text x="944" y="2676" style="font:10px Open Sans">value长度（value_sz）</text>
<clipPath id="clip308"><path d="M932,2688 L1446,2688 L1446,2735 L932,2735 L932,2688 Z" /></clipPath>
<path d="M934,2733 L1443,2733 Z M934,2733" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip308)" />
<text x="944" y="2705" style="font:10px Open Sans">写入时先将Key-Value记录追加到活跃数据文件的末尾，再更新内存哈希表（一次磁盘</text>
<text x="944" y="2724" style="font:10px Open Sans">顺序读写和一次内存操作）</text>
<clipPath id="clip309"><path d="M838,2735 L1407,2735 L1407,2817 L838,2817 Z M839,2764 L839,2787 L912,2787 L912,2764 Z M839,2764 Z M839,2764" /></clipPath>
<path d="M925,2788 L925,2764 C925,2761.7929688 926.7929688,2760 929,2760 L934,2760" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip309)" />
<clipPath id="clip310"><path d="M838,2735 L1407,2735 L1407,2817 L838,2817 Z M839,2764 L839,2787 L912,2787 L912,2764 Z M839,2764 Z M839,2764" /></clipPath>
<path d="M925,2788 C925,2787.4453125 926.7929688,2787 929,2787 L934,2787" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip310)" />
<clipPath id="clip311"><path d="M838,2735 L1407,2735 L1407,2817 L838,2817 Z M839,2764 L839,2787 L912,2787 L912,2764 Z M839,2764 Z M839,2764" /></clipPath>
<path d="M925,2788 L925,2812 C925,2814.2070313 926.7929688,2816 929,2816 L934,2816" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip311)" />
<clipPath id="clip312"><path d="M837,2734 L1408,2734 L1408,2818 L837,2818 L837,2734 Z" /></clipPath>
<path d="M912,2788 L925,2788" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip312)" />
<clipPath id="clip313"><path d="M837,2762 L915,2762 L915,2790 L837,2790 L837,2762 Z" /></clipPath>
<path d="M839,2788 L912,2788 Z M839,2788" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip313)" />
<text x="849" y="2779" style="font:10px Open Sans">定期合并</text>
<clipPath id="clip314"><path d="M932,2734 L1192,2734 L1192,2762 L932,2762 L932,2734 Z" /></clipPath>
<path d="M934,2760 L1189,2760 Z M934,2760" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip314)" />
<text x="944" y="2751" style="font:10px Open Sans">记录删除或更新后，原记录成为垃圾数据</text>
<clipPath id="clip315"><path d="M932,2761 L1127,2761 L1127,2789 L932,2789 L932,2761 Z" /></clipPath>
<path d="M934,2787 L1124,2787 Z M934,2787" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip315)" />
<text x="944" y="2778" style="font:10px Open Sans">定期执行合并以实现垃圾回收</text>
<clipPath id="clip316"><path d="M932,2788 L1408,2788 L1408,2818 L932,2818 L932,2788 Z" /></clipPath>
<path d="M934,2816 L1405,2816 Z M934,2816" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip316)" />
<text x="944" y="2805" style="font:10px Open Sans">扫描老数据文件生成新的数据文件，对同一个key的多个操作只保留最新的一个</text>
<clipPath id="clip317"><path d="M838,2818 L1334,2818 L1334,2900 L838,2900 Z M839,2847 L839,2870 L912,2870 L912,2847 Z M839,2847 Z M839,2847" /></clipPath>
<path d="M925,2871 L925,2847 C925,2844.7929688 926.7929688,2843 929,2843 L934,2843" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip317)" />
<clipPath id="clip318"><path d="M838,2818 L1334,2818 L1334,2900 L838,2900 Z M839,2847 L839,2870 L912,2870 L912,2847 Z M839,2847 Z M839,2847" /></clipPath>
<path d="M925,2871 C925,2871.5546875 926.7929688,2872 929,2872 L934,2872" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip318)" />
<clipPath id="clip319"><path d="M838,2818 L1334,2818 L1334,2900 L838,2900 Z M839,2847 L839,2870 L912,2870 L912,2847 Z M839,2847 Z M839,2847" /></clipPath>
<path d="M925,2871 L925,2895 C925,2897.2070313 926.7929688,2899 929,2899 L934,2899" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip319)" />
<clipPath id="clip320"><path d="M837,2817 L1335,2817 L1335,2901 L837,2901 L837,2817 Z" /></clipPath>
<path d="M912,2871 L925,2871" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip320)" />
<clipPath id="clip321"><path d="M837,2845 L915,2845 L915,2873 L837,2873 L837,2845 Z" /></clipPath>
<path d="M839,2871 L912,2871 Z M839,2871" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip321)" />
<text x="849" y="2862" style="font:10px Open Sans">快速恢复</text>
<clipPath id="clip322"><path d="M932,2817 L1335,2817 L1335,2845 L932,2845 L932,2817 Z" /></clipPath>
<path d="M934,2843 L1332,2843 Z M934,2843" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip322)" />
<text x="944" y="2834" style="font:10px Open Sans">哈希索引存储在内存中，机器重启重建索引需要扫描一遍数据文件</text>
<clipPath id="clip323"><path d="M932,2844 L1250,2844 L1250,2874 L932,2874 L932,2844 Z" /></clipPath>
<path d="M934,2872 L1247,2872 Z M934,2872" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip323)" />
<text x="944" y="2861" style="font:10px Open Sans">通过索引文件（hint file）来提高重建哈希表的速度</text>
<clipPath id="clip324"><path d="M932,2873 L1114,2873 L1114,2901 L932,2901 L932,2873 Z" /></clipPath>
<path d="M934,2899 L1111,2899 Z M934,2899" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip324)" />
<text x="944" y="2890" style="font:10px Open Sans">在数据合并时产生索引文件</text>
<clipPath id="clip325"><path d="M631,2901 L1690,2901 L1690,3656 L631,3656 Z M632,3076 L632,3101 L744,3101 L744,3076 Z M632,3076 Z M632,3076" /></clipPath>
<path d="M757,3102 L757,2932 C757,2929.7929688 758.7929688,2928 761,2928 L766,2928" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip325)" />
<clipPath id="clip326"><path d="M631,2901 L1690,2901 L1690,3656 L631,3656 Z M632,3076 L632,3101 L744,3101 L744,3076 Z M632,3076 Z M632,3076" /></clipPath>
<path d="M757,3102 L757,2959 C757,2956.7929688 758.7929688,2955 761,2955 L766,2955" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip326)" />
<clipPath id="clip327"><path d="M631,2901 L1690,2901 L1690,3656 L631,3656 Z M632,3076 L632,3101 L744,3101 L744,3076 Z M632,3076 Z M632,3076" /></clipPath>
<path d="M757,3102 L757,2986 C757,2983.7929688 758.7929688,2982 761,2982 L766,2982" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip327)" />
<clipPath id="clip328"><path d="M631,2901 L1690,2901 L1690,3656 L631,3656 Z M632,3076 L632,3101 L744,3101 L744,3076 Z M632,3076 Z M632,3076" /></clipPath>
<path d="M757,3102 L757,3013 C757,3010.7929688 758.7929688,3009 761,3009 L766,3009" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip328)" />
<clipPath id="clip329"><path d="M631,2901 L1690,2901 L1690,3656 L631,3656 Z M632,3076 L632,3101 L744,3101 L744,3076 Z M632,3076 Z M632,3076" /></clipPath>
<path d="M757,3102 L757,3040 C757,3037.7929688 758.7929688,3036 761,3036 L766,3036" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip329)" />
<clipPath id="clip330"><path d="M631,2901 L1690,2901 L1690,3656 L631,3656 Z M632,3076 L632,3101 L744,3101 L744,3076 Z M632,3076 Z M632,3076" /></clipPath>
<path d="M757,3102 L757,3067 C757,3064.7929688 758.7929688,3063 761,3063 L766,3063" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip330)" />
<clipPath id="clip331"><path d="M631,2901 L1690,2901 L1690,3656 L631,3656 Z M632,3076 L632,3101 L744,3101 L744,3076 Z M632,3076 Z M632,3076" /></clipPath>
<path d="M757,3102 L757,3272 C757,3274.2070313 758.7929688,3276 761,3276 L766,3276" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip331)" />
<clipPath id="clip332"><path d="M630,2900 L1691,2900 L1691,3657 L630,3657 L630,2900 Z" /></clipPath>
<path d="M744,3102 L757,3102" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip332)" />
<clipPath id="clip333"><path d="M630,3074 L747,3074 L747,3104 L630,3104 L630,3074 Z" /></clipPath>
<path d="M632,3102 L744,3102 Z M632,3102" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip333)" />
<text x="642" y="3091" style="font:10px Open Sans">B-Tree存储引擎</text>
<clipPath id="clip334"><path d="M764,2900 L890,2900 L890,2930 L764,2930 L764,2900 Z" /></clipPath>
<path d="M766,2928 L887,2928 Z M766,2928" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip334)" />
<text x="776" y="2917" style="font:10px Open Sans">B树的持久化实现</text>
<clipPath id="clip335"><path d="M764,2929 L972,2929 L972,2957 L764,2957 L764,2929 Z" /></clipPath>
<path d="M766,2955 L969,2955 Z M766,2955" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip335)" />
<text x="776" y="2946" style="font:10px Open Sans">支持单条记录的增、删、读、改</text>
<clipPath id="clip336"><path d="M764,2956 L868,2956 L868,2984 L764,2984 L764,2956 Z" /></clipPath>
<path d="M766,2982 L865,2982 Z M766,2982" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip336)" />
<text x="776" y="2973" style="font:10px Open Sans">支持顺序扫描</text>
<clipPath id="clip337"><path d="M764,2983 L868,2983 L868,3011 L764,3011 L764,2983 Z" /></clipPath>
<path d="M766,3009 L865,3009 Z M766,3009" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip337)" />
<text x="776" y="3000" style="font:10px Open Sans">支持随机读取</text>
<clipPath id="clip338"><path d="M764,3010 L868,3010 L868,3038 L764,3038 L764,3010 Z" /></clipPath>
<path d="M766,3036 L865,3036 Z M766,3036" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip338)" />
<text x="776" y="3027" style="font:10px Open Sans">支持范围扫描</text>
<clipPath id="clip339"><path d="M764,3037 L959,3037 L959,3065 L764,3065 L764,3037 Z" /></clipPath>
<path d="M766,3063 L956,3063 Z M766,3063" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip339)" />
<text x="776" y="3054" style="font:10px Open Sans">对应的存储系统是关系数据库</text>
<clipPath id="clip340"><path d="M765,3065 L1690,3065 L1690,3656 L765,3656 Z M766,3250 L766,3275 L880,3275 L880,3250 Z M766,3250 Z M766,3250" /></clipPath>
<path d="M893,3276 L893,3096 C893,3093.7929688 894.7929688,3092 897,3092 L902,3092" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip340)" />
<clipPath id="clip341"><path d="M765,3065 L1690,3065 L1690,3656 L765,3656 Z M766,3250 L766,3275 L880,3275 L880,3250 Z M766,3250 Z M766,3250" /></clipPath>
<path d="M893,3276 L893,3231 C893,3228.7929688 894.7929688,3227 897,3227 L902,3227" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip341)" />
<clipPath id="clip342"><path d="M765,3065 L1690,3065 L1690,3656 L765,3656 Z M766,3250 L766,3275 L880,3275 L880,3250 Z M766,3250 Z M766,3250" /></clipPath>
<path d="M893,3276 L893,3456 C893,3458.2070313 894.7929688,3460 897,3460 L902,3460" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip342)" />
<clipPath id="clip343"><path d="M764,3064 L1691,3064 L1691,3657 L764,3657 L764,3064 Z" /></clipPath>
<path d="M880,3276 L893,3276" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip343)" />
<clipPath id="clip344"><path d="M764,3248 L883,3248 L883,3278 L764,3278 L764,3248 Z" /></clipPath>
<path d="M766,3276 L880,3276 Z M766,3276" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip344)" />
<text x="776" y="3265" style="font:10px Open Sans">MySQL InnoDB</text>
<clipPath id="clip345"><path d="M900,3064 L1190,3064 L1190,3094 L900,3094 L900,3064 Z" /></clipPath>
<path d="M902,3092 L1187,3092 Z M902,3092" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip345)" />
<text x="912" y="3081" style="font:10px Open Sans">行数据存于聚集索引中，组织成B+树数据结构</text>
<clipPath id="clip346"><path d="M901,3094 L1518,3094 L1518,3334 L901,3334 Z M902,3203 L902,3226 L975,3226 L975,3203 Z M902,3203 Z M902,3203" /></clipPath>
<path d="M988,3227 L988,3125 C988,3122.7929688 989.7929688,3121 992,3121 L997,3121" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip346)" />
<clipPath id="clip347"><path d="M901,3094 L1518,3094 L1518,3334 L901,3334 Z M902,3203 L902,3226 L975,3226 L975,3203 Z M902,3203 Z M902,3203" /></clipPath>
<path d="M988,3227 L988,3154 C988,3151.7929688 989.7929688,3150 992,3150 L997,3150" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip347)" />
<clipPath id="clip348"><path d="M901,3094 L1518,3094 L1518,3334 L901,3334 Z M902,3203 L902,3226 L975,3226 L975,3203 Z M902,3203 Z M902,3203" /></clipPath>
<path d="M988,3227 L988,3181 C988,3178.7929688 989.7929688,3177 992,3177 L997,3177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip348)" />
<clipPath id="clip349"><path d="M901,3094 L1518,3094 L1518,3334 L901,3334 Z M902,3203 L902,3226 L975,3226 L975,3203 Z M902,3203 Z M902,3203" /></clipPath>
<path d="M988,3227 L988,3208 C988,3205.7929688 989.7929688,3204 992,3204 L997,3204" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip349)" />
<clipPath id="clip350"><path d="M901,3094 L1518,3094 L1518,3334 L901,3334 Z M902,3203 L902,3226 L975,3226 L975,3203 Z M902,3203 Z M902,3203" /></clipPath>
<path d="M988,3227 C988,3229.2070313 989.7929688,3231 992,3231 L997,3231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip350)" />
<clipPath id="clip351"><path d="M901,3094 L1518,3094 L1518,3334 L901,3334 Z M902,3203 L902,3226 L975,3226 L975,3203 Z M902,3203 Z M902,3203" /></clipPath>
<path d="M988,3227 L988,3254 C988,3256.2070313 989.7929688,3258 992,3258 L997,3258" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip351)" />
<clipPath id="clip352"><path d="M901,3094 L1518,3094 L1518,3334 L901,3334 Z M902,3203 L902,3226 L975,3226 L975,3203 Z M902,3203 Z M902,3203" /></clipPath>
<path d="M988,3227 L988,3283 C988,3285.2070313 989.7929688,3287 992,3287 L997,3287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip352)" />
<clipPath id="clip353"><path d="M901,3094 L1518,3094 L1518,3334 L901,3334 Z M902,3203 L902,3226 L975,3226 L975,3203 Z M902,3203 Z M902,3203" /></clipPath>
<path d="M988,3227 L988,3329 C988,3331.2070313 989.7929688,3333 992,3333 L997,3333" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip353)" />
<clipPath id="clip354"><path d="M900,3093 L1519,3093 L1519,3335 L900,3335 L900,3093 Z" /></clipPath>
<path d="M975,3227 L988,3227" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip354)" />
<clipPath id="clip355"><path d="M900,3201 L978,3201 L978,3229 L900,3229 L900,3201 Z" /></clipPath>
<path d="M902,3227 L975,3227 Z M902,3227" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip355)" />
<text x="912" y="3218" style="font:10px Open Sans">数据结构</text>
<clipPath id="clip356"><path d="M995,3093 L1128,3093 L1128,3123 L995,3123 L995,3093 Z" /></clipPath>
<path d="M997,3121 L1125,3121 Z M997,3121" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip356)" />
<text x="1007" y="3110" style="font:10px Open Sans">按照Page组织数据</text>
<clipPath id="clip357"><path d="M995,3122 L1197,3122 L1197,3152 L995,3152 L995,3122 Z" /></clipPath>
<path d="M997,3150 L1194,3150 Z M997,3150" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip357)" />
<text x="1007" y="3139" style="font:10px Open Sans">每个Page对应B+树的一个节点</text>
<clipPath id="clip358"><path d="M995,3151 L1190,3151 L1190,3179 L995,3179 L995,3151 Z" /></clipPath>
<path d="M997,3177 L1187,3177 Z M997,3177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip358)" />
<text x="1007" y="3168" style="font:10px Open Sans">叶子节点保存每行的完整数据</text>
<clipPath id="clip359"><path d="M995,3178 L1164,3178 L1164,3206 L995,3206 L995,3178 Z" /></clipPath>
<path d="M997,3204 L1161,3204 Z M997,3204" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip359)" />
<text x="1007" y="3195" style="font:10px Open Sans">非叶子节点保存索引信息</text>
<clipPath id="clip360"><path d="M995,3205 L1268,3205 L1268,3233 L995,3233 L995,3205 Z" /></clipPath>
<path d="M997,3231 L1265,3231 Z M997,3231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip360)" />
<text x="1007" y="3222" style="font:10px Open Sans">查询时从根节点开始二分查找直到叶子节点</text>
<clipPath id="clip361"><path d="M995,3232 L1398,3232 L1398,3260 L995,3260 L995,3232 Z" /></clipPath>
<path d="M997,3258 L1395,3258 Z M997,3258" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip361)" />
<text x="1007" y="3249" style="font:10px Open Sans">读取一个节点时，如果页面不在内存中，则从磁盘读取并缓存起来</text>
<clipPath id="clip362"><path d="M995,3259 L1168,3259 L1168,3289 L995,3289 L995,3259 Z" /></clipPath>
<path d="M997,3287 L1165,3287 Z M997,3287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip362)" />
<text x="1007" y="3276" style="font:10px Open Sans">B+树的根节点常驻内存中</text>
<clipPath id="clip363"><path d="M995,3288 L1519,3288 L1519,3335 L995,3335 L995,3288 Z" /></clipPath>
<path d="M997,3333 L1516,3333 Z M997,3333" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip363)" />
<text x="1007" y="3305" style="font:10px Open Sans">修改操作先记录提交日志，接着修改内存中的B+树，内存中被修改的页面超过一定比率</text>
<text x="1007" y="3324" style="font:10px Open Sans">后，后台线程会将这些页面刷新到磁盘中持久化</text>
<clipPath id="clip364"><path d="M901,3335 L1690,3335 L1690,3656 L901,3656 Z M902,3436 L902,3459 L988,3459 L988,3436 Z M902,3436 Z M902,3436" /></clipPath>
<path d="M1001,3460 L1001,3391 C1001,3388.7929688 1002.7929688,3387 1005,3387 L1010,3387" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip364)" />
<clipPath id="clip365"><path d="M901,3335 L1690,3335 L1690,3656 L901,3656 Z M902,3436 L902,3459 L988,3459 L988,3436 Z M902,3436 Z M902,3436" /></clipPath>
<path d="M1001,3460 L1001,3529 C1001,3531.2070313 1002.7929688,3533 1005,3533 L1010,3533" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip365)" />
<clipPath id="clip366"><path d="M900,3334 L1691,3334 L1691,3657 L900,3657 L900,3334 Z" /></clipPath>
<path d="M988,3460 L1001,3460" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip366)" />
<clipPath id="clip367"><path d="M900,3434 L991,3434 L991,3462 L900,3462 L900,3434 Z" /></clipPath>
<path d="M902,3460 L988,3460 Z M902,3460" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip367)" />
<text x="912" y="3451" style="font:10px Open Sans">缓冲区管理</text>
<clipPath id="clip368"><path d="M1009,3335 L1349,3335 L1349,3415 L1009,3415 Z M1010,3363 L1010,3386 L1070,3386 L1070,3363 Z M1010,3363 Z M1010,3363" /></clipPath>
<path d="M1083,3387 L1083,3364 C1083,3361.7929688 1084.7929688,3360 1087,3360 L1092,3360" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip368)" />
<clipPath id="clip369"><path d="M1009,3335 L1349,3335 L1349,3415 L1009,3415 Z M1010,3363 L1010,3386 L1070,3386 L1070,3363 Z M1010,3363 Z M1010,3363" /></clipPath>
<path d="M1083,3387 C1083,3387 1084.7929688,3387 1087,3387 L1092,3387" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip369)" />
<clipPath id="clip370"><path d="M1009,3335 L1349,3335 L1349,3415 L1009,3415 Z M1010,3363 L1010,3386 L1070,3386 L1070,3363 Z M1010,3363 Z M1010,3363" /></clipPath>
<path d="M1083,3387 L1083,3410 C1083,3412.2070313 1084.7929688,3414 1087,3414 L1092,3414" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip370)" />
<clipPath id="clip371"><path d="M1008,3334 L1350,3334 L1350,3416 L1008,3416 L1008,3334 Z" /></clipPath>
<path d="M1070,3387 L1083,3387" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip371)" />
<clipPath id="clip372"><path d="M1008,3361 L1073,3361 L1073,3389 L1008,3389 L1008,3361 Z" /></clipPath>
<path d="M1010,3387 L1070,3387 Z M1010,3387" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip372)" />
<text x="1020" y="3378" style="font:10px Open Sans">缓冲区</text>
<clipPath id="clip373"><path d="M1090,3334 L1350,3334 L1350,3362 L1090,3362 L1090,3334 Z" /></clipPath>
<path d="M1092,3360 L1347,3360 Z M1092,3360" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip373)" />
<text x="1102" y="3351" style="font:10px Open Sans">缓冲区管理器将可用的内存划分成缓冲区</text>
<clipPath id="clip374"><path d="M1090,3361 L1298,3361 L1298,3389 L1090,3389 L1090,3361 Z" /></clipPath>
<path d="M1092,3387 L1295,3387 Z M1092,3387" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip374)" />
<text x="1102" y="3378" style="font:10px Open Sans">缓冲区是与页面同等大小的区域</text>
<clipPath id="clip375"><path d="M1090,3388 L1311,3388 L1311,3416 L1090,3416 L1090,3388 Z" /></clipPath>
<path d="M1092,3414 L1308,3414 Z M1092,3414" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip375)" />
<text x="1102" y="3405" style="font:10px Open Sans">磁盘块的内容可以传送到缓冲区中</text>
<clipPath id="clip376"><path d="M1009,3416 L1690,3416 L1690,3656 L1009,3656 Z M1010,3509 L1010,3532 L1083,3532 L1083,3509 Z M1010,3509 Z M1010,3509" /></clipPath>
<path d="M1096,3533 L1096,3472 C1096,3469.7929688 1097.7929688,3468 1100,3468 L1105,3468" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip376)" />
<clipPath id="clip377"><path d="M1009,3416 L1690,3416 L1690,3656 L1009,3656 Z M1010,3509 L1010,3532 L1083,3532 L1083,3509 Z M1010,3509 Z M1010,3509" /></clipPath>
<path d="M1096,3533 L1096,3594 C1096,3596.2070313 1097.7929688,3598 1100,3598 L1105,3598" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip377)" />
<clipPath id="clip378"><path d="M1008,3415 L1691,3415 L1691,3657 L1008,3657 L1008,3415 Z" /></clipPath>
<path d="M1083,3533 L1096,3533" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip378)" />
<clipPath id="clip379"><path d="M1008,3507 L1086,3507 L1086,3535 L1008,3535 L1008,3507 Z" /></clipPath>
<path d="M1010,3533 L1083,3533 Z M1010,3533" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip379)" />
<text x="1020" y="3524" style="font:10px Open Sans">替换策略</text>
<clipPath id="clip380"><path d="M1104,3416 L1534,3416 L1534,3496 L1104,3496 Z M1105,3442 L1105,3467 L1151,3467 L1151,3442 Z M1105,3442 Z M1105,3442" /></clipPath>
<path d="M1164,3468 L1164,3445 C1164,3442.7929688 1165.7929688,3441 1168,3441 L1173,3441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip380)" />
<clipPath id="clip381"><path d="M1104,3416 L1534,3416 L1534,3496 L1104,3496 Z M1105,3442 L1105,3467 L1151,3467 L1151,3442 Z M1105,3442 Z M1105,3442" /></clipPath>
<path d="M1164,3468 C1164,3468 1165.7929688,3468 1168,3468 L1173,3468" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip381)" />
<clipPath id="clip382"><path d="M1104,3416 L1534,3416 L1534,3496 L1104,3496 Z M1105,3442 L1105,3467 L1151,3467 L1151,3442 Z M1105,3442 Z M1105,3442" /></clipPath>
<path d="M1164,3468 L1164,3491 C1164,3493.2070313 1165.7929688,3495 1168,3495 L1173,3495" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip382)" />
<clipPath id="clip383"><path d="M1103,3415 L1535,3415 L1535,3497 L1103,3497 L1103,3415 Z" /></clipPath>
<path d="M1151,3468 L1164,3468" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip383)" />
<clipPath id="clip384"><path d="M1103,3440 L1154,3440 L1154,3470 L1103,3470 L1103,3440 Z" /></clipPath>
<path d="M1105,3468 L1151,3468 Z M1105,3468" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip384)" />
<text x="1115" y="3457" style="font:10px Open Sans">LRU</text>
<clipPath id="clip385"><path d="M1171,3415 L1366,3415 L1366,3443 L1171,3443 L1171,3415 Z" /></clipPath>
<path d="M1173,3441 L1363,3441 Z M1173,3441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip385)" />
<text x="1183" y="3432" style="font:10px Open Sans">淘汰最长时间没有读或写的块</text>
<clipPath id="clip386"><path d="M1171,3442 L1535,3442 L1535,3470 L1171,3470 L1171,3442 Z" /></clipPath>
<path d="M1173,3468 L1532,3468 Z M1173,3468" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip386)" />
<text x="1183" y="3459" style="font:10px Open Sans">要求缓冲区管理器按照页面最后一个被访问的时间组成链表</text>
<clipPath id="clip387"><path d="M1171,3469 L1340,3469 L1340,3497 L1171,3497 L1171,3469 Z" /></clipPath>
<path d="M1173,3495 L1337,3495 Z M1173,3495" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip387)" />
<text x="1183" y="3486" style="font:10px Open Sans">每次淘汰链表尾部的页面</text>
<clipPath id="clip388"><path d="M1104,3497 L1690,3497 L1690,3656 L1104,3656 Z M1105,3572 L1105,3597 L1152,3597 L1152,3572 Z M1105,3572 Z M1105,3572" /></clipPath>
<path d="M1165,3598 L1165,3545 C1165,3542.7929688 1166.7929688,3541 1169,3541 L1174,3541" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip388)" />
<clipPath id="clip389"><path d="M1104,3497 L1690,3497 L1690,3656 L1104,3656 Z M1105,3572 L1105,3597 L1152,3597 L1152,3572 Z M1105,3572 Z M1105,3572" /></clipPath>
<path d="M1165,3598 L1165,3574 C1165,3571.7929688 1166.7929688,3570 1169,3570 L1174,3570" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip389)" />
<clipPath id="clip390"><path d="M1104,3497 L1690,3497 L1690,3656 L1104,3656 Z M1105,3572 L1105,3597 L1152,3597 L1152,3572 Z M1105,3572 Z M1105,3572" /></clipPath>
<path d="M1165,3598 C1165,3597.4453125 1166.7929688,3597 1169,3597 L1174,3597" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip390)" />
<clipPath id="clip391"><path d="M1104,3497 L1690,3497 L1690,3656 L1104,3656 Z M1105,3572 L1105,3597 L1152,3597 L1152,3572 Z M1105,3572 Z M1105,3572" /></clipPath>
<path d="M1165,3598 L1165,3622 C1165,3624.2070313 1166.7929688,3626 1169,3626 L1174,3626" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip391)" />
<clipPath id="clip392"><path d="M1104,3497 L1690,3497 L1690,3656 L1104,3656 Z M1105,3572 L1105,3597 L1152,3597 L1152,3572 Z M1105,3572 Z M1105,3572" /></clipPath>
<path d="M1165,3598 L1165,3651 C1165,3653.2070313 1166.7929688,3655 1169,3655 L1174,3655" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip392)" />
<clipPath id="clip393"><path d="M1103,3496 L1691,3496 L1691,3657 L1103,3657 L1103,3496 Z" /></clipPath>
<path d="M1152,3598 L1165,3598" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip393)" />
<clipPath id="clip394"><path d="M1103,3570 L1155,3570 L1155,3600 L1103,3600 L1103,3570 Z" /></clipPath>
<path d="M1105,3598 L1152,3598 Z M1105,3598" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip394)" />
<text x="1115" y="3587" style="font:10px Open Sans">LIRS</text>
<clipPath id="clip395"><path d="M1172,3496 L1691,3496 L1691,3543 L1172,3543 L1172,3496 Z" /></clipPath>
<path d="M1174,3541 L1688,3541 Z M1174,3541" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip395)" />
<text x="1184" y="3513" style="font:10px Open Sans">LRU的问题：某个查询全表扫描，将导致缓冲池中的大量页面（可能包含很多很快被访</text>
<text x="1184" y="3532" style="font:10px Open Sans">问的热点页面）被替换，从而污染缓冲池</text>
<clipPath id="clip396"><path d="M1172,3542 L1328,3542 L1328,3572 L1172,3572 L1172,3542 Z" /></clipPath>
<path d="M1174,3570 L1325,3570 Z M1174,3570" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip396)" />
<text x="1184" y="3559" style="font:10px Open Sans">LIRS将缓冲池分为两级</text>
<clipPath id="clip397"><path d="M1172,3571 L1679,3571 L1679,3599 L1172,3599 L1172,3571 Z" /></clipPath>
<path d="M1174,3597 L1676,3597 Z M1174,3597" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip397)" />
<text x="1184" y="3588" style="font:10px Open Sans">数据先进入第一级，如果在短时间内被访问两次或以上，则成为热点数据进入第二级</text>
<clipPath id="clip398"><path d="M1172,3598 L1366,3598 L1366,3628 L1172,3628 L1172,3598 Z" /></clipPath>
<path d="M1174,3626 L1363,3626 Z M1174,3626" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip398)" />
<text x="1184" y="3615" style="font:10px Open Sans">每一级内部还是LRU替换算法</text>
<clipPath id="clip399"><path d="M1172,3627 L1579,3627 L1579,3657 L1172,3657 L1172,3627 Z" /></clipPath>
<path d="M1174,3655 L1576,3655 Z M1174,3655" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip399)" />
<text x="1184" y="3644" style="font:10px Open Sans">MySQL InnoDB中LRU链表分新子链表和老子链表，默认占比5：3</text>
<clipPath id="clip400"><path d="M631,3657 L1524,3657 L1524,4344 L631,4344 Z M632,3888 L632,3913 L761,3913 L761,3888 Z M632,3888 Z M632,3888" /></clipPath>
<path d="M774,3914 L774,3686 C774,3683.7929688 775.7929688,3682 778,3682 L783,3682" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip400)" />
<clipPath id="clip401"><path d="M631,3657 L1524,3657 L1524,4344 L631,4344 Z M632,3888 L632,3913 L761,3913 L761,3888 Z M632,3888 Z M632,3888" /></clipPath>
<path d="M774,3914 L774,3713 C774,3710.7929688 775.7929688,3709 778,3709 L783,3709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip401)" />
<clipPath id="clip402"><path d="M631,3657 L1524,3657 L1524,4344 L631,4344 Z M632,3888 L632,3913 L761,3913 L761,3888 Z M632,3888 Z M632,3888" /></clipPath>
<path d="M774,3914 L774,3740 C774,3737.7929688 775.7929688,3736 778,3736 L783,3736" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip402)" />
<clipPath id="clip403"><path d="M631,3657 L1524,3657 L1524,4344 L631,4344 Z M632,3888 L632,3913 L761,3913 L761,3888 Z M632,3888 Z M632,3888" /></clipPath>
<path d="M774,3914 L774,3767 C774,3764.7929688 775.7929688,3763 778,3763 L783,3763" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip403)" />
<clipPath id="clip404"><path d="M631,3657 L1524,3657 L1524,4344 L631,4344 Z M632,3888 L632,3913 L761,3913 L761,3888 Z M632,3888 Z M632,3888" /></clipPath>
<path d="M774,3914 L774,3794 C774,3791.7929688 775.7929688,3790 778,3790 L783,3790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip404)" />
<clipPath id="clip405"><path d="M631,3657 L1524,3657 L1524,4344 L631,4344 Z M632,3888 L632,3913 L761,3913 L761,3888 Z M632,3888 Z M632,3888" /></clipPath>
<path d="M774,3914 L774,3821 C774,3818.7929688 775.7929688,3817 778,3817 L783,3817" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip405)" />
<clipPath id="clip406"><path d="M631,3657 L1524,3657 L1524,4344 L631,4344 Z M632,3888 L632,3913 L761,3913 L761,3888 Z M632,3888 Z M632,3888" /></clipPath>
<path d="M774,3914 L774,3850 C774,3847.7929688 775.7929688,3846 778,3846 L783,3846" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip406)" />
<clipPath id="clip407"><path d="M631,3657 L1524,3657 L1524,4344 L631,4344 Z M632,3888 L632,3913 L761,3913 L761,3888 Z M632,3888 Z M632,3888" /></clipPath>
<path d="M774,3914 L774,4143 C774,4145.2070313 775.7929688,4147 778,4147 L783,4147" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip407)" />
<clipPath id="clip408"><path d="M630,3656 L1525,3656 L1525,4345 L630,4345 L630,3656 Z" /></clipPath>
<path d="M761,3914 L774,3914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip408)" />
<clipPath id="clip409"><path d="M630,3886 L764,3886 L764,3916 L630,3916 L630,3886 Z" /></clipPath>
<path d="M632,3914 L761,3914 Z M632,3914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip409)" />
<text x="642" y="3903" style="font:10px Open Sans">LSM-Tree存储引擎</text>
<clipPath id="clip410"><path d="M781,3656 L898,3656 L898,3684 L781,3684 L781,3656 Z" /></clipPath>
<path d="M783,3682 L895,3682 Z M783,3682" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip410)" />
<text x="793" y="3673" style="font:10px Open Sans">支持增、删、改</text>
<clipPath id="clip411"><path d="M781,3683 L885,3683 L885,3711 L781,3711 L781,3683 Z" /></clipPath>
<path d="M783,3709 L882,3709 Z M783,3709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip411)" />
<text x="793" y="3700" style="font:10px Open Sans">支持随机读取</text>
<clipPath id="clip412"><path d="M781,3710 L885,3710 L885,3738 L781,3738 L781,3710 Z" /></clipPath>
<path d="M783,3736 L882,3736 Z M783,3736" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip412)" />
<text x="793" y="3727" style="font:10px Open Sans">支持顺序扫描</text>
<clipPath id="clip413"><path d="M781,3737 L1197,3737 L1197,3765 L781,3765 L781,3737 Z" /></clipPath>
<path d="M783,3763 L1194,3763 Z M783,3763" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip413)" />
<text x="793" y="3754" style="font:10px Open Sans">将数据的修改增量保持在内存中，达到指定大小后将其批量写入磁盘</text>
<clipPath id="clip414"><path d="M781,3764 L1145,3764 L1145,3792 L781,3792 L781,3764 Z" /></clipPath>
<path d="M783,3790 L1142,3790 Z M783,3790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip414)" />
<text x="793" y="3781" style="font:10px Open Sans">读取时需要合并磁盘中的历史数据和内存中最近修改的操作</text>
<clipPath id="clip415"><path d="M781,3791 L1041,3791 L1041,3819 L781,3819 L781,3791 Z" /></clipPath>
<path d="M783,3817 L1038,3817 Z M783,3817" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip415)" />
<text x="793" y="3808" style="font:10px Open Sans">通过批量转储技术规避磁盘随机写入问题</text>
<clipPath id="clip416"><path d="M781,3818 L1204,3818 L1204,3848 L781,3848 L781,3818 Z" /></clipPath>
<path d="M783,3846 L1201,3846 Z M783,3846" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip416)" />
<text x="793" y="3835" style="font:10px Open Sans">广泛用于互联网的后台存储系统（BigTable、LevelDB、Cassandra）</text>
<clipPath id="clip417"><path d="M782,3848 L1524,3848 L1524,4344 L782,4344 Z M783,4121 L783,4146 L900,4146 L900,4121 Z M783,4121 Z M783,4121" /></clipPath>
<path d="M913,4147 L913,4041 C913,4038.7929688 914.7929688,4037 917,4037 L922,4037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip417)" />
<clipPath id="clip418"><path d="M782,3848 L1524,3848 L1524,4344 L782,4344 Z M783,4121 L783,4146 L900,4146 L900,4121 Z M783,4121 Z M783,4121" /></clipPath>
<path d="M913,4147 L913,4253 C913,4255.2070313 914.7929688,4257 917,4257 L922,4257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip418)" />
<clipPath id="clip419"><path d="M781,3847 L1525,3847 L1525,4345 L781,4345 L781,3847 Z" /></clipPath>
<path d="M900,4147 L913,4147" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip419)" />
<clipPath id="clip420"><path d="M781,4119 L903,4119 L903,4149 L781,4149 L781,4119 Z" /></clipPath>
<path d="M783,4147 L900,4147 Z M783,4147" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip420)" />
<text x="793" y="4136" style="font:10px Open Sans">Google LevelDB</text>
<clipPath id="clip421"><path d="M921,3848 L1524,3848 L1524,4144 L921,4144 Z M922,4013 L922,4036 L995,4036 L995,4013 Z M922,4013 Z M922,4013" /></clipPath>
<path d="M1008,4037 L1008,3936 C1008,3933.7929688 1009.7929688,3932 1012,3932 L1017,3932" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip421)" />
<clipPath id="clip422"><path d="M921,3848 L1524,3848 L1524,4144 L921,4144 Z M922,4013 L922,4036 L995,4036 L995,4013 Z M922,4013 Z M922,4013" /></clipPath>
<path d="M1008,4037 L1008,4062 C1008,4064.2070313 1009.7929688,4066 1012,4066 L1017,4066" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip422)" />
<clipPath id="clip423"><path d="M921,3848 L1524,3848 L1524,4144 L921,4144 Z M922,4013 L922,4036 L995,4036 L995,4013 Z M922,4013 Z M922,4013" /></clipPath>
<path d="M1008,4037 L1008,4091 C1008,4093.2070313 1009.7929688,4095 1012,4095 L1017,4095" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip423)" />
<clipPath id="clip424"><path d="M921,3848 L1524,3848 L1524,4144 L921,4144 Z M922,4013 L922,4036 L995,4036 L995,4013 Z M922,4013 Z M922,4013" /></clipPath>
<path d="M1008,4037 L1008,4139 C1008,4141.2070313 1009.7929688,4143 1012,4143 L1017,4143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip424)" />
<clipPath id="clip425"><path d="M920,3847 L1525,3847 L1525,4145 L920,4145 L920,3847 Z" /></clipPath>
<path d="M995,4037 L1008,4037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip425)" />
<clipPath id="clip426"><path d="M920,4011 L998,4011 L998,4039 L920,4039 L920,4011 Z" /></clipPath>
<path d="M922,4037 L995,4037 Z M922,4037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip426)" />
<text x="932" y="4028" style="font:10px Open Sans">存储结构</text>
<clipPath id="clip427"><path d="M1016,3848 L1509,3848 L1509,4021 L1016,4021 Z M1017,3906 L1017,3931 L1192,3931 L1192,3906 Z M1017,3906 Z M1017,3906" /></clipPath>
<path d="M1205,3932 L1205,3893 C1205,3890.7929688 1206.7929688,3889 1209,3889 L1214,3889" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip427)" />
<clipPath id="clip428"><path d="M1016,3848 L1509,3848 L1509,4021 L1016,4021 Z M1017,3906 L1017,3931 L1192,3931 L1192,3906 Z M1017,3906 Z M1017,3906" /></clipPath>
<path d="M1205,3932 L1205,3972 C1205,3974.2070313 1206.7929688,3976 1209,3976 L1214,3976" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip428)" />
<clipPath id="clip429"><path d="M1015,3847 L1510,3847 L1510,4022 L1015,4022 L1015,3847 Z" /></clipPath>
<path d="M1192,3932 L1205,3932" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip429)" />
<clipPath id="clip430"><path d="M1015,3904 L1195,3904 L1195,3934 L1015,3934 L1015,3904 Z" /></clipPath>
<path d="M1017,3932 L1192,3932 Z M1017,3932" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip430)" />
<text x="1027" y="3921" style="font:10px Open Sans">LevelDB存储引擎主要包括</text>
<clipPath id="clip431"><path d="M1213,3848 L1479,3848 L1479,3905 L1213,3905 Z M1214,3865 L1214,3888 L1287,3888 L1287,3865 Z M1214,3865 Z M1214,3865" /></clipPath>
<path d="M1300,3889 L1300,3879 C1300,3876.7929688 1301.7929688,3875 1304,3875 L1309,3875" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip431)" />
<clipPath id="clip432"><path d="M1213,3848 L1479,3848 L1479,3905 L1213,3905 Z M1214,3865 L1214,3888 L1287,3888 L1287,3865 Z M1214,3865 Z M1214,3865" /></clipPath>
<path d="M1300,3889 L1300,3900 C1300,3902.2070313 1301.7929688,3904 1304,3904 L1309,3904" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip432)" />
<clipPath id="clip433"><path d="M1212,3847 L1480,3847 L1480,3906 L1212,3906 L1212,3847 Z" /></clipPath>
<path d="M1287,3889 L1300,3889" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip433)" />
<clipPath id="clip434"><path d="M1212,3863 L1290,3863 L1290,3891 L1212,3891 L1212,3863 Z" /></clipPath>
<path d="M1214,3889 L1287,3889 Z M1214,3889" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip434)" />
<text x="1224" y="3880" style="font:10px Open Sans">内存中的</text>
<clipPath id="clip435"><path d="M1307,3847 L1396,3847 L1396,3877 L1307,3877 L1307,3847 Z" /></clipPath>
<path d="M1309,3875 L1393,3875 Z M1309,3875" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip435)" />
<text x="1319" y="3864" style="font:10px Open Sans">MemTable</text>
<clipPath id="clip436"><path d="M1307,3876 L1480,3876 L1480,3906 L1307,3906 L1307,3876 Z" /></clipPath>
<path d="M1309,3904 L1477,3904 Z M1309,3904" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip436)" />
<text x="1319" y="3893" style="font:10px Open Sans">Immutable/Frozen Table</text>
<clipPath id="clip437"><path d="M1213,3906 L1509,3906 L1509,4021 L1213,4021 Z M1214,3952 L1214,3975 L1287,3975 L1287,3952 Z M1214,3952 Z M1214,3952" /></clipPath>
<path d="M1300,3976 L1300,3937 C1300,3934.7929688 1301.7929688,3933 1304,3933 L1309,3933" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip437)" />
<clipPath id="clip438"><path d="M1213,3906 L1509,3906 L1509,4021 L1213,4021 Z M1214,3952 L1214,3975 L1287,3975 L1287,3952 Z M1214,3952 Z M1214,3952" /></clipPath>
<path d="M1300,3976 L1300,3966 C1300,3963.7929688 1301.7929688,3962 1304,3962 L1309,3962" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip438)" />
<clipPath id="clip439"><path d="M1213,3906 L1509,3906 L1509,4021 L1213,4021 Z M1214,3952 L1214,3975 L1287,3975 L1287,3952 Z M1214,3952 Z M1214,3952" /></clipPath>
<path d="M1300,3976 L1300,3987 C1300,3989.2070313 1301.7929688,3991 1304,3991 L1309,3991" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip439)" />
<clipPath id="clip440"><path d="M1213,3906 L1509,3906 L1509,4021 L1213,4021 Z M1214,3952 L1214,3975 L1287,3975 L1287,3952 Z M1214,3952 Z M1214,3952" /></clipPath>
<path d="M1300,3976 L1300,4016 C1300,4018.2070313 1301.7929688,4020 1304,4020 L1309,4020" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip440)" />
<clipPath id="clip441"><path d="M1212,3905 L1510,3905 L1510,4022 L1212,4022 L1212,3905 Z" /></clipPath>
<path d="M1287,3976 L1300,3976" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip441)" />
<clipPath id="clip442"><path d="M1212,3950 L1290,3950 L1290,3978 L1212,3978 L1212,3950 Z" /></clipPath>
<path d="M1214,3976 L1287,3976 Z M1214,3976" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip442)" />
<text x="1224" y="3967" style="font:10px Open Sans">磁盘上的</text>
<clipPath id="clip443"><path d="M1307,3905 L1457,3905 L1457,3935 L1307,3935 L1307,3905 Z" /></clipPath>
<path d="M1309,3933 L1454,3933 Z M1309,3933" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip443)" />
<text x="1319" y="3922" style="font:10px Open Sans">当前（Current）文件</text>
<clipPath id="clip444"><path d="M1307,3934 L1464,3934 L1464,3964 L1307,3964 L1307,3934 Z" /></clipPath>
<path d="M1309,3962 L1461,3962 Z M1309,3962" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip444)" />
<text x="1319" y="3951" style="font:10px Open Sans">清单（Manifest）文件</text>
<clipPath id="clip445"><path d="M1307,3963 L1510,3963 L1510,3993 L1307,3993 L1307,3963 Z" /></clipPath>
<path d="M1309,3991 L1507,3991 Z M1309,3991" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip445)" />
<text x="1319" y="3980" style="font:10px Open Sans">操作日志（Commit Log）文件</text>
<clipPath id="clip446"><path d="M1307,3992 L1405,3992 L1405,4022 L1307,4022 L1307,3992 Z" /></clipPath>
<path d="M1309,4020 L1402,4020 Z M1309,4020" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip446)" />
<text x="1319" y="4009" style="font:10px Open Sans">SSTable文件</text>
<clipPath id="clip447"><path d="M1015,4021 L1509,4021 L1509,4068 L1015,4068 L1015,4021 Z" /></clipPath>
<path d="M1017,4066 L1506,4066 Z M1017,4066" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip447)" />
<text x="1027" y="4038" style="font:10px Open Sans">写入一条记录时，先将修改操作写入操作日志文件中，成功后再将修改操作应用到</text>
<text x="1027" y="4055" style="font:10px Open Sans">MemTable</text>
<clipPath id="clip448"><path d="M1015,4067 L1525,4067 L1525,4097 L1015,4097 L1015,4067 Z" /></clipPath>
<path d="M1017,4095 L1522,4095 Z M1017,4095" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip448)" />
<text x="1027" y="4084" style="font:10px Open Sans">当MenTable达到上限后，会被冻结成不可变MemTable，并生成一个新的MemTable</text>
<clipPath id="clip449"><path d="M1015,4096 L1502,4096 L1502,4145 L1015,4145 L1015,4096 Z" /></clipPath>
<path d="M1017,4143 L1499,4143 Z M1017,4143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip449)" />
<text x="1027" y="4113" style="font:10px Open Sans">Compaction：后台进程将不可变MemTable数据排序后转储到磁盘，形成一个新</text>
<text x="1027" y="4132" style="font:10px Open Sans">SSTable文件</text>
<clipPath id="clip450"><path d="M921,4145 L1514,4145 L1514,4344 L921,4344 Z M922,4233 L922,4256 L969,4256 L969,4233 Z M922,4233 Z M922,4233" /></clipPath>
<path d="M982,4257 L982,4176 C982,4173.7929688 983.7929688,4172 986,4172 L991,4172" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip450)" />
<clipPath id="clip451"><path d="M921,4145 L1514,4145 L1514,4344 L921,4344 Z M922,4233 L922,4256 L969,4256 L969,4233 Z M922,4233 Z M922,4233" /></clipPath>
<path d="M982,4257 L982,4203 C982,4200.7929688 983.7929688,4199 986,4199 L991,4199" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip451)" />
<clipPath id="clip452"><path d="M921,4145 L1514,4145 L1514,4344 L921,4344 Z M922,4233 L922,4256 L969,4256 L969,4233 Z M922,4233 Z M922,4233" /></clipPath>
<path d="M982,4257 L982,4232 C982,4229.7929688 983.7929688,4228 986,4228 L991,4228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip452)" />
<clipPath id="clip453"><path d="M921,4145 L1514,4145 L1514,4344 L921,4344 Z M922,4233 L922,4256 L969,4256 L969,4233 Z M922,4233 Z M922,4233" /></clipPath>
<path d="M982,4257 C982,4257 983.7929688,4257 986,4257 L991,4257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip453)" />
<clipPath id="clip454"><path d="M921,4145 L1514,4145 L1514,4344 L921,4344 Z M922,4233 L922,4256 L969,4256 L969,4233 Z M922,4233 Z M922,4233" /></clipPath>
<path d="M982,4257 L982,4339 C982,4341.2070313 983.7929688,4343 986,4343 L991,4343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip454)" />
<clipPath id="clip455"><path d="M920,4144 L1515,4144 L1515,4345 L920,4345 L920,4144 Z" /></clipPath>
<path d="M969,4257 L982,4257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip455)" />
<clipPath id="clip456"><path d="M920,4231 L972,4231 L972,4259 L920,4259 L920,4231 Z" /></clipPath>
<path d="M922,4257 L969,4257 Z M922,4257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip456)" />
<text x="932" y="4248" style="font:10px Open Sans">合并</text>
<clipPath id="clip457"><path d="M989,4144 L1273,4144 L1273,4174 L989,4174 L989,4144 Z" /></clipPath>
<path d="M991,4172 L1270,4172 Z M991,4172" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip457)" />
<text x="1001" y="4161" style="font:10px Open Sans">LevelDB写入操作简单，但读取操作比较复杂</text>
<clipPath id="clip458"><path d="M989,4173 L1379,4173 L1379,4201 L989,4201 L989,4173 Z" /></clipPath>
<path d="M991,4199 L1376,4199 Z M991,4199" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip458)" />
<text x="1001" y="4190" style="font:10px Open Sans">读取时需要在内存以及各个层级文就爱嗯中按从新到老依次查找</text>
<clipPath id="clip459"><path d="M989,4200 L1515,4200 L1515,4230 L989,4230 L989,4200 Z" /></clipPath>
<path d="M991,4228 L1512,4228 Z M991,4228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip459)" />
<text x="1001" y="4217" style="font:10px Open Sans">为了加快读取速度，LevelDB内部会执行Compaction操作，对已有的记录进行整理压缩</text>
<clipPath id="clip460"><path d="M989,4229 L1481,4229 L1481,4259 L989,4259 L989,4229 Z" /></clipPath>
<path d="M991,4257 L1478,4257 Z M991,4257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip460)" />
<text x="1001" y="4246" style="font:10px Open Sans">minor compaction：MemTable达到限定值时，将内存数据转储到SSTable文件中</text>
<clipPath id="clip461"><path d="M989,4258 L1515,4258 L1515,4345 L989,4345 L989,4258 Z" /></clipPath>
<path d="M991,4343 L1512,4343 Z M991,4343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip461)" />
<text x="1001" y="4275" style="font:10px Open Sans">major compaction：每个层级下有多个SSTable，当某个层级下的SSTable文件数目超过</text>
<text x="1001" y="4294" style="font:10px Open Sans">一定值后，LevelDB会从这个层级中选择SSTable文件，将其和高一层级的SSTable文件</text>
<text x="1001" y="4313" style="font:10px Open Sans">合并。相当于执行一次多路归并：按主键顺序依次迭代所有SSTable中的记录，如果没有</text>
<text x="1001" y="4332" style="font:10px Open Sans">保存价值则抛弃，否则写入新的SSTable中</text>
<clipPath id="clip462"><path d="M510,4345 L1500,4345 L1500,5590 L510,5590 Z M511,4861 L511,4884 L584,4884 L584,4861 Z M511,4861 Z M511,4861" /></clipPath>
<path d="M597,4885 L597,4520 C597,4517.7929688 598.7929688,4516 601,4516 L606,4516" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip462)" />
<clipPath id="clip463"><path d="M510,4345 L1500,4345 L1500,5590 L510,5590 Z M511,4861 L511,4884 L584,4884 L584,4861 Z M511,4861 Z M511,4861" /></clipPath>
<path d="M597,4885 L597,4908 C597,4910.2070313 598.7929688,4912 601,4912 L606,4912" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip463)" />
<clipPath id="clip464"><path d="M510,4345 L1500,4345 L1500,5590 L510,5590 Z M511,4861 L511,4884 L584,4884 L584,4861 Z M511,4861 Z M511,4861" /></clipPath>
<path d="M597,4885 L597,5251 C597,5253.2070313 598.7929688,5255 601,5255 L606,5255" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip464)" />
<clipPath id="clip465"><path d="M509,4344 L1501,4344 L1501,5591 L509,5591 L509,4344 Z" /></clipPath>
<path d="M584,4885 L597,4885" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip465)" />
<clipPath id="clip466"><path d="M509,4859 L587,4859 L587,4887 L509,4887 L509,4859 Z" /></clipPath>
<path d="M511,4885 L584,4885 Z M511,4885" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip466)" />
<text x="521" y="4876" style="font:10px Open Sans">数据模型</text>
<clipPath id="clip467"><path d="M605,4345 L1185,4345 L1185,4734 L605,4734 Z M606,4492 L606,4515 L679,4515 L679,4492 Z M606,4492 Z M606,4492" /></clipPath>
<path d="M692,4516 L692,4374 C692,4371.7929688 693.7929688,4370 696,4370 L701,4370" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip467)" />
<clipPath id="clip468"><path d="M605,4345 L1185,4345 L1185,4734 L605,4734 Z M606,4492 L606,4515 L679,4515 L679,4492 Z M606,4492 Z M606,4492" /></clipPath>
<path d="M692,4516 L692,4508 C692,4505.7929688 693.7929688,4504 696,4504 L701,4504" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip468)" />
<clipPath id="clip469"><path d="M605,4345 L1185,4345 L1185,4734 L605,4734 Z M606,4492 L606,4515 L679,4515 L679,4492 Z M606,4492 Z M606,4492" /></clipPath>
<path d="M692,4516 L692,4659 C692,4661.2070313 693.7929688,4663 696,4663 L701,4663" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip469)" />
<clipPath id="clip470"><path d="M604,4344 L1186,4344 L1186,4735 L604,4735 L604,4344 Z" /></clipPath>
<path d="M679,4516 L692,4516" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip470)" />
<clipPath id="clip471"><path d="M604,4490 L682,4490 L682,4518 L604,4518 L604,4490 Z" /></clipPath>
<path d="M606,4516 L679,4516 Z M606,4516" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip471)" />
<text x="616" y="4507" style="font:10px Open Sans">文件模型</text>
<clipPath id="clip472"><path d="M699,4344 L920,4344 L920,4372 L699,4372 L699,4344 Z" /></clipPath>
<path d="M701,4370 L917,4370 Z M701,4370" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip472)" />
<text x="711" y="4361" style="font:10px Open Sans">文件系统以目录树的形式组织文件</text>
<clipPath id="clip473"><path d="M700,4372 L1185,4372 L1185,4568 L700,4568 Z M701,4478 L701,4503 L759,4503 L759,4478 Z M701,4478 Z M701,4478" /></clipPath>
<path d="M772,4504 L772,4446 C772,4443.7929688 773.7929688,4442 776,4442 L781,4442" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip473)" />
<clipPath id="clip474"><path d="M700,4372 L1185,4372 L1185,4568 L700,4568 Z M701,4478 L701,4503 L759,4503 L759,4478 Z M701,4478 Z M701,4478" /></clipPath>
<path d="M772,4504 L772,4509 C772,4511.2070313 773.7929688,4513 776,4513 L781,4513" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip474)" />
<clipPath id="clip475"><path d="M700,4372 L1185,4372 L1185,4568 L700,4568 Z M701,4478 L701,4503 L759,4503 L759,4478 Z M701,4478 Z M701,4478" /></clipPath>
<path d="M772,4504 L772,4536 C772,4538.2070313 773.7929688,4540 776,4540 L781,4540" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip475)" />
<clipPath id="clip476"><path d="M700,4372 L1185,4372 L1185,4568 L700,4568 Z M701,4478 L701,4503 L759,4503 L759,4478 Z M701,4478 Z M701,4478" /></clipPath>
<path d="M772,4504 L772,4563 C772,4565.2070313 773.7929688,4567 776,4567 L781,4567" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip476)" />
<clipPath id="clip477"><path d="M699,4371 L1186,4371 L1186,4569 L699,4569 L699,4371 Z" /></clipPath>
<path d="M759,4504 L772,4504" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip477)" />
<clipPath id="clip478"><path d="M699,4476 L762,4476 L762,4506 L699,4506 L699,4476 Z" /></clipPath>
<path d="M701,4504 L759,4504 Z M701,4504" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip478)" />
<text x="711" y="4493" style="font:10px Open Sans">POSIX</text>
<clipPath id="clip479"><path d="M780,4372 L1140,4372 L1140,4487 L780,4487 Z M781,4418 L781,4441 L997,4441 L997,4418 Z M781,4418 Z M781,4418" /></clipPath>
<path d="M1010,4442 L1010,4403 C1010,4400.7929688 1011.7929688,4399 1014,4399 L1019,4399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip479)" />
<clipPath id="clip480"><path d="M780,4372 L1140,4372 L1140,4487 L780,4487 Z M781,4418 L781,4441 L997,4441 L997,4418 Z M781,4418 Z M781,4418" /></clipPath>
<path d="M1010,4442 L1010,4432 C1010,4429.7929688 1011.7929688,4428 1014,4428 L1019,4428" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip480)" />
<clipPath id="clip481"><path d="M780,4372 L1140,4372 L1140,4487 L780,4487 Z M781,4418 L781,4441 L997,4441 L997,4418 Z M781,4418 Z M781,4418" /></clipPath>
<path d="M1010,4442 L1010,4453 C1010,4455.2070313 1011.7929688,4457 1014,4457 L1019,4457" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip481)" />
<clipPath id="clip482"><path d="M780,4372 L1140,4372 L1140,4487 L780,4487 Z M781,4418 L781,4441 L997,4441 L997,4418 Z M781,4418 Z M781,4418" /></clipPath>
<path d="M1010,4442 L1010,4482 C1010,4484.2070313 1011.7929688,4486 1014,4486 L1019,4486" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip482)" />
<clipPath id="clip483"><path d="M779,4371 L1141,4371 L1141,4488 L779,4488 L779,4371 Z" /></clipPath>
<path d="M997,4442 L1010,4442" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip483)" />
<clipPath id="clip484"><path d="M779,4416 L1000,4416 L1000,4444 L779,4444 L779,4416 Z" /></clipPath>
<path d="M781,4442 L997,4442 Z M781,4442" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip484)" />
<text x="791" y="4433" style="font:10px Open Sans">定义了文件系统存储接口和操作集</text>
<clipPath id="clip485"><path d="M1017,4371 L1109,4371 L1109,4401 L1017,4401 L1017,4371 Z" /></clipPath>
<path d="M1019,4399 L1106,4399 Z M1019,4399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip485)" />
<text x="1029" y="4388" style="font:10px Open Sans">open/close</text>
<clipPath id="clip486"><path d="M1017,4400 L1105,4400 L1105,4430 L1017,4430 L1017,4400 Z" /></clipPath>
<path d="M1019,4428 L1102,4428 Z M1019,4428" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip486)" />
<text x="1029" y="4417" style="font:10px Open Sans">read/write</text>
<clipPath id="clip487"><path d="M1017,4429 L1141,4429 L1141,4459 L1017,4459 L1017,4429 Z" /></clipPath>
<path d="M1019,4457 L1138,4457 Z M1019,4457" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip487)" />
<text x="1029" y="4446" style="font:10px Open Sans">opendir/closedir</text>
<clipPath id="clip488"><path d="M1017,4458 L1086,4458 L1086,4488 L1017,4488 L1017,4458 Z" /></clipPath>
<path d="M1019,4486 L1083,4486 Z M1019,4486" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip488)" />
<text x="1029" y="4475" style="font:10px Open Sans">readdir</text>
<clipPath id="clip489"><path d="M780,4488 L1185,4488 L1185,4514 L780,4514 Z M781,4489 L781,4512 L919,4512 L919,4489 Z M781,4489 Z M781,4489" /></clipPath>
<path d="M932,4513 C932,4513 933.7929688,4513 936,4513 L941,4513" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip489)" />
<clipPath id="clip490"><path d="M779,4487 L1186,4487 L1186,4515 L779,4515 L779,4487 Z" /></clipPath>
<path d="M919,4513 L932,4513" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip490)" />
<clipPath id="clip491"><path d="M779,4487 L922,4487 L922,4515 L779,4515 L779,4487 Z" /></clipPath>
<path d="M781,4513 L919,4513 Z M781,4513" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip491)" />
<text x="791" y="4504" style="font:10px Open Sans">定义了读写操作语义</text>
<clipPath id="clip492"><path d="M939,4487 L1186,4487 L1186,4515 L939,4515 L939,4487 Z" /></clipPath>
<path d="M941,4513 L1183,4513 Z M941,4513" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip492)" />
<text x="951" y="4504" style="font:10px Open Sans">要求读写并发时能够保证操作的原子性</text>
<clipPath id="clip493"><path d="M779,4514 L909,4514 L909,4542 L779,4542 L779,4514 Z" /></clipPath>
<path d="M781,4540 L906,4540 Z M781,4540" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip493)" />
<text x="791" y="4531" style="font:10px Open Sans">适合单机文件系统</text>
<clipPath id="clip494"><path d="M779,4541 L1052,4541 L1052,4569 L779,4569 L779,4541 Z" /></clipPath>
<path d="M781,4567 L1049,4567 Z M781,4567" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip494)" />
<text x="791" y="4558" style="font:10px Open Sans">处于性能考虑，分布式文件系统不完全遵守</text>
<clipPath id="clip495"><path d="M700,4569 L1079,4569 L1079,4734 L700,4734 Z M701,4639 L701,4662 L774,4662 L774,4639 Z M701,4639 Z M701,4639" /></clipPath>
<path d="M787,4663 L787,4598 C787,4595.7929688 788.7929688,4594 791,4594 L796,4594" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip495)" />
<clipPath id="clip496"><path d="M700,4569 L1079,4569 L1079,4734 L700,4734 Z M701,4639 L701,4662 L774,4662 L774,4639 Z M701,4639 Z M701,4639" /></clipPath>
<path d="M787,4663 L787,4625 C787,4622.7929688 788.7929688,4621 791,4621 L796,4621" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip496)" />
<clipPath id="clip497"><path d="M700,4569 L1079,4569 L1079,4734 L700,4734 Z M701,4639 L701,4662 L774,4662 L774,4639 Z M701,4639 Z M701,4639" /></clipPath>
<path d="M787,4663 L787,4654 C787,4651.7929688 788.7929688,4650 791,4650 L796,4650" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip497)" />
<clipPath id="clip498"><path d="M700,4569 L1079,4569 L1079,4734 L700,4734 Z M701,4639 L701,4662 L774,4662 L774,4639 Z M701,4639 Z M701,4639" /></clipPath>
<path d="M787,4663 L787,4675 C787,4677.2070313 788.7929688,4679 791,4679 L796,4679" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip498)" />
<clipPath id="clip499"><path d="M700,4569 L1079,4569 L1079,4734 L700,4734 Z M701,4639 L701,4662 L774,4662 L774,4639 Z M701,4639 Z M701,4639" /></clipPath>
<path d="M787,4663 L787,4702 C787,4704.2070313 788.7929688,4706 791,4706 L796,4706" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip499)" />
<clipPath id="clip500"><path d="M700,4569 L1079,4569 L1079,4734 L700,4734 Z M701,4639 L701,4662 L774,4662 L774,4639 Z M701,4639 Z M701,4639" /></clipPath>
<path d="M787,4663 L787,4729 C787,4731.2070313 788.7929688,4733 791,4733 L796,4733" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip500)" />
<clipPath id="clip501"><path d="M699,4568 L1080,4568 L1080,4735 L699,4735 L699,4568 Z" /></clipPath>
<path d="M774,4663 L787,4663" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip501)" />
<clipPath id="clip502"><path d="M699,4637 L777,4637 L777,4665 L699,4665 L699,4637 Z" /></clipPath>
<path d="M701,4663 L774,4663 Z M701,4663" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip502)" />
<text x="711" y="4654" style="font:10px Open Sans">对象模型</text>
<clipPath id="clip503"><path d="M794,4568 L911,4568 L911,4596 L794,4596 L794,4568 Z" /></clipPath>
<path d="M796,4594 L908,4594 Z M796,4594" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip503)" />
<text x="806" y="4585" style="font:10px Open Sans">与文件模型类似</text>
<clipPath id="clip504"><path d="M794,4595 L1067,4595 L1067,4623 L794,4623 L794,4595 Z" /></clipPath>
<path d="M796,4621 L1064,4621 Z M796,4621" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip504)" />
<text x="806" y="4612" style="font:10px Open Sans">用于存储图片、视频、文档等二进制数据快</text>
<clipPath id="clip505"><path d="M794,4622 L981,4622 L981,4652 L794,4652 L794,4622 Z" /></clipPath>
<path d="M796,4650 L978,4650 Z M796,4650" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip505)" />
<text x="806" y="4639" style="font:10px Open Sans">Amazon S3 只支持一级目录</text>
<clipPath id="clip506"><path d="M794,4651 L935,4651 L935,4681 L794,4681 L794,4651 Z" /></clipPath>
<path d="M796,4679 L932,4679 Z M796,4679" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip506)" />
<text x="806" y="4668" style="font:10px Open Sans">TFS 不支持目录结构</text>
<clipPath id="clip507"><path d="M794,4680 L963,4680 L963,4708 L794,4708 L794,4680 Z" /></clipPath>
<path d="M796,4706 L960,4706 Z M796,4706" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip507)" />
<text x="806" y="4697" style="font:10px Open Sans">要求对象一次性写入系统</text>
<clipPath id="clip508"><path d="M794,4707 L1080,4707 L1080,4735 L794,4735 L794,4707 Z" /></clipPath>
<path d="M796,4733 L1077,4733 Z M796,4733" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip508)" />
<text x="806" y="4724" style="font:10px Open Sans">只能删除整个对象，不允许修改其中某个部分</text>
<clipPath id="clip509"><path d="M605,4735 L1328,4735 L1328,5080 L605,5080 Z M606,4888 L606,4911 L679,4911 L679,4888 Z M606,4888 Z M606,4888" /></clipPath>
<path d="M692,4912 L692,4764 C692,4761.7929688 693.7929688,4760 696,4760 L701,4760" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip509)" />
<clipPath id="clip510"><path d="M605,4735 L1328,4735 L1328,5080 L605,5080 Z M606,4888 L606,4911 L679,4911 L679,4888 Z M606,4888 Z M606,4888" /></clipPath>
<path d="M692,4912 L692,4793 C692,4790.7929688 693.7929688,4789 696,4789 L701,4789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip510)" />
<clipPath id="clip511"><path d="M605,4735 L1328,4735 L1328,5080 L605,5080 Z M606,4888 L606,4911 L679,4911 L679,4888 Z M606,4888 Z M606,4888" /></clipPath>
<path d="M692,4912 L692,4822 C692,4819.7929688 693.7929688,4818 696,4818 L701,4818" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip511)" />
<clipPath id="clip512"><path d="M605,4735 L1328,4735 L1328,5080 L605,5080 Z M606,4888 L606,4911 L679,4911 L679,4888 Z M606,4888 Z M606,4888" /></clipPath>
<path d="M692,4912 L692,4915 C692,4917.2070313 693.7929688,4919 696,4919 L701,4919" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip512)" />
<clipPath id="clip513"><path d="M605,4735 L1328,4735 L1328,5080 L605,5080 Z M606,4888 L606,4911 L679,4911 L679,4888 Z M606,4888 Z M606,4888" /></clipPath>
<path d="M692,4912 L692,5017 C692,5019.2070313 693.7929688,5021 696,5021 L701,5021" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip513)" />
<clipPath id="clip514"><path d="M605,4735 L1328,4735 L1328,5080 L605,5080 Z M606,4888 L606,4911 L679,4911 L679,4888 Z M606,4888 Z M606,4888" /></clipPath>
<path d="M692,4912 L692,5060 C692,5062.2070313 693.7929688,5064 696,5064 L701,5064" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip514)" />
<clipPath id="clip515"><path d="M604,4734 L1329,4734 L1329,5081 L604,5081 L604,4734 Z" /></clipPath>
<path d="M679,4912 L692,4912" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip515)" />
<clipPath id="clip516"><path d="M604,4886 L682,4886 L682,4914 L604,4914 L604,4886 Z" /></clipPath>
<path d="M606,4912 L679,4912 Z M606,4912" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip516)" />
<text x="616" y="4903" style="font:10px Open Sans">关系模型</text>
<clipPath id="clip517"><path d="M699,4734 L1167,4734 L1167,4762 L699,4762 L699,4734 Z" /></clipPath>
<path d="M701,4760 L1164,4760 Z M701,4760" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip517)" />
<text x="711" y="4751" style="font:10px Open Sans">每个关系是一个表格，由多个元组（行）构成，每个元组包含多个属性（列）</text>
<clipPath id="clip518"><path d="M699,4761 L1057,4761 L1057,4791 L699,4791 L699,4761 Z" /></clipPath>
<path d="M701,4789 L1054,4789 Z M701,4789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip518)" />
<text x="711" y="4778" style="font:10px Open Sans">关系名、属性名及属性类型称作该关系的模式（schema）</text>
<clipPath id="clip519"><path d="M699,4790 L905,4790 L905,4820 L699,4820 L699,4790 Z" /></clipPath>
<path d="M701,4818 L902,4818 Z M701,4818" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip519)" />
<text x="711" y="4807" style="font:10px Open Sans">SQL用于描述查询以及修改操作</text>
<clipPath id="clip520"><path d="M700,4820 L1328,4820 L1328,4993 L700,4993 Z M701,4893 L701,4918 L869,4918 L869,4893 Z M701,4893 Z M701,4893" /></clipPath>
<path d="M882,4919 L882,4851 C882,4848.7929688 883.7929688,4847 886,4847 L891,4847" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip520)" />
<clipPath id="clip521"><path d="M700,4820 L1328,4820 L1328,4993 L700,4993 Z M701,4893 L701,4918 L869,4918 L869,4893 Z M701,4893 Z M701,4893" /></clipPath>
<path d="M882,4919 L882,4880 C882,4877.7929688 883.7929688,4876 886,4876 L891,4876" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip521)" />
<clipPath id="clip522"><path d="M700,4820 L1328,4820 L1328,4993 L700,4993 Z M701,4893 L701,4918 L869,4918 L869,4893 Z M701,4893 Z M701,4893" /></clipPath>
<path d="M882,4919 L882,4909 C882,4906.7929688 883.7929688,4905 886,4905 L891,4905" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip522)" />
<clipPath id="clip523"><path d="M700,4820 L1328,4820 L1328,4993 L700,4993 Z M701,4893 L701,4918 L869,4918 L869,4893 Z M701,4893 Z M701,4893" /></clipPath>
<path d="M882,4919 L882,4930 C882,4932.2070313 883.7929688,4934 886,4934 L891,4934" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip523)" />
<clipPath id="clip524"><path d="M700,4820 L1328,4820 L1328,4993 L700,4993 Z M701,4893 L701,4918 L869,4918 L869,4893 Z M701,4893 Z M701,4893" /></clipPath>
<path d="M882,4919 L882,4959 C882,4961.2070313 883.7929688,4963 886,4963 L891,4963" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip524)" />
<clipPath id="clip525"><path d="M700,4820 L1328,4820 L1328,4993 L700,4993 Z M701,4893 L701,4918 L869,4918 L869,4893 Z M701,4893 Z M701,4893" /></clipPath>
<path d="M882,4919 L882,4988 C882,4990.2070313 883.7929688,4992 886,4992 L891,4992" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip525)" />
<clipPath id="clip526"><path d="M699,4819 L1329,4819 L1329,4994 L699,4994 L699,4819 Z" /></clipPath>
<path d="M869,4919 L882,4919" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip526)" />
<clipPath id="clip527"><path d="M699,4891 L872,4891 L872,4921 L699,4921 L699,4891 Z" /></clipPath>
<path d="M701,4919 L869,4919 Z M701,4919" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip527)" />
<text x="711" y="4908" style="font:10px Open Sans">SELECT查询语句计算过程</text>
<clipPath id="clip528"><path d="M889,4819 L1238,4819 L1238,4849 L889,4849 L889,4819 Z" /></clipPath>
<path d="M891,4847 L1235,4847 Z M891,4847" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip528)" />
<text x="901" y="4836" style="font:10px Open Sans">取FROM子句中列出的各个关系的元组的所有可能的组合</text>
<clipPath id="clip529"><path d="M889,4848 L1180,4848 L1180,4878 L889,4878 L889,4848 Z" /></clipPath>
<path d="M891,4876 L1177,4876 Z M891,4876" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip529)" />
<text x="901" y="4865" style="font:10px Open Sans">将不符合WHERE子句中给出的条件的元组去掉</text>
<clipPath id="clip530"><path d="M889,4877 L1266,4877 L1266,4907 L889,4907 L889,4877 Z" /></clipPath>
<path d="M891,4905 L1263,4905 Z M891,4905" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip530)" />
<text x="901" y="4894" style="font:10px Open Sans">如果有GROUP BY子句则将剩下的元组按给出的属性的值分组</text>
<clipPath id="clip531"><path d="M889,4906 L1329,4906 L1329,4936 L889,4936 L889,4906 Z" /></clipPath>
<path d="M891,4934 L1326,4934 Z M891,4934" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip531)" />
<text x="901" y="4923" style="font:10px Open Sans">如果有HAVING子句则按照给出的条件检查每个组，去掉不符合条件的组</text>
<clipPath id="clip532"><path d="M889,4935 L1270,4935 L1270,4965 L889,4965 L889,4935 Z" /></clipPath>
<path d="M891,4963 L1267,4963 Z M891,4963" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip532)" />
<text x="901" y="4952" style="font:10px Open Sans">按照SELECT子句对执行的属性和属性上的聚集计算出结果元组</text>
<clipPath id="clip533"><path d="M889,4964 L1237,4964 L1237,4994 L889,4994 L889,4964 Z" /></clipPath>
<path d="M891,4992 L1234,4992 Z M891,4992" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip533)" />
<text x="901" y="4981" style="font:10px Open Sans">按照ORDER BY子句中的属性列的值对结果元组进行排序</text>
<clipPath id="clip534"><path d="M699,4993 L970,4993 L970,5023 L699,5023 L699,4993 Z" /></clipPath>
<path d="M701,5021 L967,5021 Z M701,5021" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip534)" />
<text x="711" y="5010" style="font:10px Open Sans">WHERE/FROM/HAVING中可以使用子查询</text>
<clipPath id="clip535"><path d="M700,5023 L1153,5023 L1153,5080 L700,5080 Z M701,5038 L701,5063 L811,5063 L811,5038 Z M701,5038 Z M701,5038" /></clipPath>
<path d="M824,5064 L824,5054 C824,5051.7929688 825.7929688,5050 828,5050 L833,5050" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip535)" />
<clipPath id="clip536"><path d="M700,5023 L1153,5023 L1153,5080 L700,5080 Z M701,5038 L701,5063 L811,5063 L811,5038 Z M701,5038 Z M701,5038" /></clipPath>
<path d="M824,5064 L824,5075 C824,5077.2070313 825.7929688,5079 828,5079 L833,5079" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip536)" />
<clipPath id="clip537"><path d="M699,5022 L1154,5022 L1154,5081 L699,5081 L699,5022 Z" /></clipPath>
<path d="M811,5064 L824,5064" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip537)" />
<clipPath id="clip538"><path d="M699,5036 L814,5036 L814,5066 L699,5066 L699,5036 Z" /></clipPath>
<path d="M701,5064 L811,5064 Z M701,5064" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip538)" />
<text x="711" y="5053" style="font:10px Open Sans">SQL的重要特性</text>
<clipPath id="clip539"><path d="M831,5022 L1154,5022 L1154,5052 L831,5052 L831,5022 Z" /></clipPath>
<path d="M833,5050 L1151,5050 Z M833,5050" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip539)" />
<text x="843" y="5039" style="font:10px Open Sans">索引：减少SQL执行时扫描的数据量，提高读取性能</text>
<clipPath id="clip540"><path d="M831,5051 L1108,5051 L1108,5081 L831,5081 L831,5051 Z" /></clipPath>
<path d="M833,5079 L1105,5079 Z M833,5079" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip540)" />
<text x="843" y="5068" style="font:10px Open Sans">事务：保证多个操作并发执行时的ACID特性</text>
<clipPath id="clip541"><path d="M605,5081 L1500,5081 L1500,5590 L605,5590 Z M606,5231 L606,5254 L679,5254 L679,5231 Z M606,5231 Z M606,5231" /></clipPath>
<path d="M692,5255 L692,5110 C692,5107.7929688 693.7929688,5106 696,5106 L701,5106" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip541)" />
<clipPath id="clip542"><path d="M605,5081 L1500,5081 L1500,5590 L605,5590 Z M606,5231 L606,5254 L679,5254 L679,5231 Z M606,5231 Z M606,5231" /></clipPath>
<path d="M692,5255 L692,5168 C692,5165.7929688 693.7929688,5164 696,5164 L701,5164" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip542)" />
<clipPath id="clip543"><path d="M605,5081 L1500,5081 L1500,5590 L605,5590 Z M606,5231 L606,5254 L679,5254 L679,5231 Z M606,5231 Z M606,5231" /></clipPath>
<path d="M692,5255 L692,5401 C692,5403.2070313 693.7929688,5405 696,5405 L701,5405" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip543)" />
<clipPath id="clip544"><path d="M604,5080 L1501,5080 L1501,5591 L604,5591 L604,5080 Z" /></clipPath>
<path d="M679,5255 L692,5255" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip544)" />
<clipPath id="clip545"><path d="M604,5229 L682,5229 L682,5257 L604,5257 L604,5229 Z" /></clipPath>
<path d="M606,5255 L679,5255 Z M606,5255" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip545)" />
<text x="616" y="5246" style="font:10px Open Sans">键值模型</text>
<clipPath id="clip546"><path d="M699,5080 L907,5080 L907,5108 L699,5108 L699,5080 Z" /></clipPath>
<path d="M701,5106 L904,5106 Z M701,5106" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip546)" />
<text x="711" y="5097" style="font:10px Open Sans">每行记录由主键和值两部分组成</text>
<clipPath id="clip547"><path d="M700,5108 L921,5108 L921,5194 L700,5194 Z M701,5140 L701,5163 L839,5163 L839,5140 Z M701,5140 Z M701,5140" /></clipPath>
<path d="M852,5164 L852,5139 C852,5136.7929688 853.7929688,5135 856,5135 L861,5135" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip547)" />
<clipPath id="clip548"><path d="M700,5108 L921,5108 L921,5194 L700,5194 Z M701,5140 L701,5163 L839,5163 L839,5140 Z M701,5140 Z M701,5140" /></clipPath>
<path d="M852,5164 C852,5164 853.7929688,5164 856,5164 L861,5164" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip548)" />
<clipPath id="clip549"><path d="M700,5108 L921,5108 L921,5194 L700,5194 Z M701,5140 L701,5163 L839,5163 L839,5140 Z M701,5140 Z M701,5140" /></clipPath>
<path d="M852,5164 L852,5189 C852,5191.2070313 853.7929688,5193 856,5193 L861,5193" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip549)" />
<clipPath id="clip550"><path d="M699,5107 L922,5107 L922,5195 L699,5195 L699,5107 Z" /></clipPath>
<path d="M839,5164 L852,5164" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip550)" />
<clipPath id="clip551"><path d="M699,5138 L842,5138 L842,5166 L699,5166 L699,5138 Z" /></clipPath>
<path d="M701,5164 L839,5164 Z M701,5164" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip551)" />
<text x="711" y="5155" style="font:10px Open Sans">支持基于主键的操作</text>
<clipPath id="clip552"><path d="M859,5107 L906,5107 L906,5137 L859,5137 L859,5107 Z" /></clipPath>
<path d="M861,5135 L903,5135 Z M861,5135" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip552)" />
<text x="871" y="5124" style="font:10px Open Sans">put</text>
<clipPath id="clip553"><path d="M859,5136 L904,5136 L904,5166 L859,5166 L859,5136 Z" /></clipPath>
<path d="M861,5164 L901,5164 Z M861,5164" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip553)" />
<text x="871" y="5153" style="font:10px Open Sans">get</text>
<clipPath id="clip554"><path d="M859,5165 L922,5165 L922,5195 L859,5195 L859,5165 Z" /></clipPath>
<path d="M861,5193 L919,5193 Z M861,5193" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip554)" />
<text x="871" y="5182" style="font:10px Open Sans">delete</text>
<clipPath id="clip555"><path d="M700,5195 L1500,5195 L1500,5590 L700,5590 Z M701,5381 L701,5404 L774,5404 L774,5381 Z M701,5381 Z M701,5381" /></clipPath>
<path d="M787,5405 L787,5226 C787,5223.7929688 788.7929688,5222 791,5222 L796,5222" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip555)" />
<clipPath id="clip556"><path d="M700,5195 L1500,5195 L1500,5590 L700,5590 Z M701,5381 L701,5404 L774,5404 L774,5381 Z M701,5381 Z M701,5381" /></clipPath>
<path d="M787,5405 L787,5253 C787,5250.7929688 788.7929688,5249 791,5249 L796,5249" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip556)" />
<clipPath id="clip557"><path d="M700,5195 L1500,5195 L1500,5590 L700,5590 Z M701,5381 L701,5404 L774,5404 L774,5381 Z M701,5381 Z M701,5381" /></clipPath>
<path d="M787,5405 L787,5307 C787,5304.7929688 788.7929688,5303 791,5303 L796,5303" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip557)" />
<clipPath id="clip558"><path d="M700,5195 L1500,5195 L1500,5590 L700,5590 Z M701,5381 L701,5404 L774,5404 L774,5381 Z M701,5381 Z M701,5381" /></clipPath>
<path d="M787,5405 L787,5413 C787,5415.2070313 788.7929688,5417 791,5417 L796,5417" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip558)" />
<clipPath id="clip559"><path d="M700,5195 L1500,5195 L1500,5590 L700,5590 Z M701,5381 L701,5404 L774,5404 L774,5381 Z M701,5381 Z M701,5381" /></clipPath>
<path d="M787,5405 L787,5498 C787,5500.2070313 788.7929688,5502 791,5502 L796,5502" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip559)" />
<clipPath id="clip560"><path d="M700,5195 L1500,5195 L1500,5590 L700,5590 Z M701,5381 L701,5404 L774,5404 L774,5381 Z M701,5381 Z M701,5381" /></clipPath>
<path d="M787,5405 L787,5527 C787,5529.2070313 788.7929688,5531 791,5531 L796,5531" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip560)" />
<clipPath id="clip561"><path d="M700,5195 L1500,5195 L1500,5590 L700,5590 Z M701,5381 L701,5404 L774,5404 L774,5381 Z M701,5381 Z M701,5381" /></clipPath>
<path d="M787,5405 L787,5556 C787,5558.2070313 788.7929688,5560 791,5560 L796,5560" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip561)" />
<clipPath id="clip562"><path d="M700,5195 L1500,5195 L1500,5590 L700,5590 Z M701,5381 L701,5404 L774,5404 L774,5381 Z M701,5381 Z M701,5381" /></clipPath>
<path d="M787,5405 L787,5585 C787,5587.2070313 788.7929688,5589 791,5589 L796,5589" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip562)" />
<clipPath id="clip563"><path d="M699,5194 L1501,5194 L1501,5591 L699,5591 L699,5194 Z" /></clipPath>
<path d="M774,5405 L787,5405" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip563)" />
<clipPath id="clip564"><path d="M699,5379 L777,5379 L777,5407 L699,5407 L699,5379 Z" /></clipPath>
<path d="M701,5405 L774,5405 Z M701,5405" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip564)" />
<text x="711" y="5396" style="font:10px Open Sans">表格模型</text>
<clipPath id="clip565"><path d="M794,5194 L1083,5194 L1083,5224 L794,5224 L794,5194 Z" /></clipPath>
<path d="M796,5222 L1080,5222 Z M796,5222" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip565)" />
<text x="806" y="5211" style="font:10px Open Sans">键值模型过于简单，NoSQL广泛使用表格模型</text>
<clipPath id="clip566"><path d="M794,5223 L989,5223 L989,5251 L794,5251 L794,5223 Z" /></clipPath>
<path d="M796,5249 L986,5249 Z M796,5249" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip566)" />
<text x="806" y="5240" style="font:10px Open Sans">弱化了关系模型中的多表关联</text>
<clipPath id="clip567"><path d="M795,5251 L1161,5251 L1161,5331 L795,5331 Z M796,5279 L796,5302 L960,5302 L960,5279 Z M796,5279 Z M796,5279" /></clipPath>
<path d="M973,5303 L973,5280 C973,5277.7929688 974.7929688,5276 977,5276 L982,5276" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip567)" />
<clipPath id="clip568"><path d="M795,5251 L1161,5251 L1161,5331 L795,5331 Z M796,5279 L796,5302 L960,5302 L960,5279 Z M796,5279 Z M796,5279" /></clipPath>
<path d="M973,5303 C973,5303 974.7929688,5303 977,5303 L982,5303" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip568)" />
<clipPath id="clip569"><path d="M795,5251 L1161,5251 L1161,5331 L795,5331 Z M796,5279 L796,5302 L960,5302 L960,5279 Z M796,5279 Z M796,5279" /></clipPath>
<path d="M973,5303 L973,5326 C973,5328.2070313 974.7929688,5330 977,5330 L982,5330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip569)" />
<clipPath id="clip570"><path d="M794,5250 L1162,5250 L1162,5332 L794,5332 L794,5250 Z" /></clipPath>
<path d="M960,5303 L973,5303" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip570)" />
<clipPath id="clip571"><path d="M794,5277 L963,5277 L963,5305 L794,5305 L794,5277 Z" /></clipPath>
<path d="M796,5303 L960,5303 Z M796,5303" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip571)" />
<text x="806" y="5294" style="font:10px Open Sans">支持基于单表的简单操作</text>
<clipPath id="clip572"><path d="M980,5250 L1162,5250 L1162,5278 L980,5278 L980,5250 Z" /></clipPath>
<path d="M982,5276 L1159,5276 Z M982,5276" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip572)" />
<text x="992" y="5267" style="font:10px Open Sans">支持简单的基于主键的操作</text>
<clipPath id="clip573"><path d="M980,5277 L1084,5277 L1084,5305 L980,5305 L980,5277 Z" /></clipPath>
<path d="M982,5303 L1081,5303 Z M982,5303" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip573)" />
<text x="992" y="5294" style="font:10px Open Sans">支持范围扫描</text>
<clipPath id="clip574"><path d="M980,5304 L1110,5304 L1110,5332 L980,5332 L980,5304 Z" /></clipPath>
<path d="M982,5330 L1107,5330 Z M982,5330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip574)" />
<text x="992" y="5321" style="font:10px Open Sans">支持基于列的操作</text>
<clipPath id="clip575"><path d="M795,5332 L1500,5332 L1500,5476 L795,5476 Z M796,5393 L796,5416 L869,5416 L869,5393 Z M796,5393 Z M796,5393" /></clipPath>
<path d="M882,5417 L882,5363 C882,5360.7929688 883.7929688,5359 886,5359 L891,5359" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip575)" />
<clipPath id="clip576"><path d="M795,5332 L1500,5332 L1500,5476 L795,5476 Z M796,5393 L796,5416 L869,5416 L869,5393 Z M796,5393 Z M796,5393" /></clipPath>
<path d="M882,5417 L882,5392 C882,5389.7929688 883.7929688,5388 886,5388 L891,5388" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip576)" />
<clipPath id="clip577"><path d="M795,5332 L1500,5332 L1500,5476 L795,5476 Z M796,5393 L796,5416 L869,5416 L869,5393 Z M796,5393 Z M796,5393" /></clipPath>
<path d="M882,5417 C882,5417 883.7929688,5417 886,5417 L891,5417" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip577)" />
<clipPath id="clip578"><path d="M795,5332 L1500,5332 L1500,5476 L795,5476 Z M796,5393 L796,5416 L869,5416 L869,5393 Z M796,5393 Z M796,5393" /></clipPath>
<path d="M882,5417 L882,5442 C882,5444.2070313 883.7929688,5446 886,5446 L891,5446" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip578)" />
<clipPath id="clip579"><path d="M795,5332 L1500,5332 L1500,5476 L795,5476 Z M796,5393 L796,5416 L869,5416 L869,5393 Z M796,5393 Z M796,5393" /></clipPath>
<path d="M882,5417 L882,5471 C882,5473.2070313 883.7929688,5475 886,5475 L891,5475" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip579)" />
<clipPath id="clip580"><path d="M794,5331 L1501,5331 L1501,5477 L794,5477 L794,5331 Z" /></clipPath>
<path d="M869,5417 L882,5417" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip580)" />
<clipPath id="clip581"><path d="M794,5391 L872,5391 L872,5419 L794,5419 L794,5391 Z" /></clipPath>
<path d="M796,5417 L869,5417 Z M796,5417" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip581)" />
<text x="806" y="5408" style="font:10px Open Sans">主要操作</text>
<clipPath id="clip582"><path d="M889,5331 L1144,5331 L1144,5361 L889,5361 L889,5331 Z" /></clipPath>
<path d="M891,5359 L1141,5359 Z M891,5359" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip582)" />
<text x="901" y="5348" style="font:10px Open Sans">insert：插入一行数据，每行包括若干列</text>
<clipPath id="clip583"><path d="M889,5360 L1043,5360 L1043,5390 L889,5390 L889,5360 Z" /></clipPath>
<path d="M891,5388 L1040,5388 Z M891,5388" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip583)" />
<text x="901" y="5377" style="font:10px Open Sans">delete：删除一行数据</text>
<clipPath id="clip584"><path d="M889,5389 L1140,5389 L1140,5419 L889,5419 L889,5389 Z" /></clipPath>
<path d="M891,5417 L1137,5417 Z M891,5417" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip584)" />
<text x="901" y="5406" style="font:10px Open Sans">update：更新整或者其中某些列的数据</text>
<clipPath id="clip585"><path d="M889,5418 L1116,5418 L1116,5448 L889,5448 L889,5418 Z" /></clipPath>
<path d="M891,5446 L1113,5446 Z M891,5446" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip585)" />
<text x="901" y="5435" style="font:10px Open Sans">get：读取整行或者其中某些列数据</text>
<clipPath id="clip586"><path d="M889,5447 L1501,5447 L1501,5477 L889,5477 L889,5447 Z" /></clipPath>
<path d="M891,5475 L1498,5475 Z M891,5475" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip586)" />
<text x="901" y="5464" style="font:10px Open Sans">scan：扫描一段范围的数据，根据主键确定扫描范围，支持扫描部分列，支持按列过滤、排序、分组等</text>
<clipPath id="clip587"><path d="M794,5476 L924,5476 L924,5504 L794,5504 L794,5476 Z" /></clipPath>
<path d="M796,5502 L921,5502 Z M796,5502" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip587)" />
<text x="806" y="5493" style="font:10px Open Sans">事务操作支持较弱</text>
<clipPath id="clip588"><path d="M794,5503 L1321,5503 L1321,5533 L794,5533 L794,5503 Z" /></clipPath>
<path d="M796,5531 L1318,5531 Z M796,5531" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip588)" />
<text x="806" y="5520" style="font:10px Open Sans">往往支持无模式（schema-less）特性，不需要预先定义模式，多行之间允许包含不同列</text>
<clipPath id="clip589"><path d="M794,5532 L871,5532 L871,5562 L794,5562 L794,5532 Z" /></clipPath>
<path d="M796,5560 L868,5560 Z M796,5560" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip589)" />
<text x="806" y="5549" style="font:10px Open Sans">BigTable</text>
<clipPath id="clip590"><path d="M794,5561 L859,5561 L859,5591 L794,5591 L794,5561 Z" /></clipPath>
<path d="M796,5589 L856,5589 Z M796,5589" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip590)" />
<text x="806" y="5578" style="font:10px Open Sans">HBase</text>
<clipPath id="clip591"><path d="M510,5591 L1629,5591 L1629,6833 L510,6833 Z M511,6260 L511,6283 L623,6283 L623,6260 Z M511,6260 Z M511,6260" /></clipPath>
<path d="M636,6284 L636,5955 C636,5952.7929688 637.7929688,5951 640,5951 L645,5951" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip591)" />
<clipPath id="clip592"><path d="M510,5591 L1629,5591 L1629,6833 L510,6833 Z M511,6260 L511,6283 L623,6283 L623,6260 Z M511,6260 Z M511,6260" /></clipPath>
<path d="M636,6284 L636,6613 C636,6615.2070313 637.7929688,6617 640,6617 L645,6617" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip592)" />
<clipPath id="clip593"><path d="M509,5590 L1630,5590 L1630,6834 L509,6834 L509,5590 Z" /></clipPath>
<path d="M623,6284 L636,6284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip593)" />
<clipPath id="clip594"><path d="M509,6258 L626,6258 L626,6286 L509,6286 L509,6258 Z" /></clipPath>
<path d="M511,6284 L623,6284 Z M511,6284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip594)" />
<text x="521" y="6275" style="font:10px Open Sans">事务与并发控制</text>
<clipPath id="clip595"><path d="M644,5591 L1629,5591 L1629,6345 L644,6345 Z M645,5927 L645,5950 L692,5950 L692,5927 Z M645,5927 Z M645,5927" /></clipPath>
<path d="M705,5951 L705,5620 C705,5617.7929688 706.7929688,5616 709,5616 L714,5616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip595)" />
<clipPath id="clip596"><path d="M644,5591 L1629,5591 L1629,6345 L644,6345 Z M645,5927 L645,5950 L692,5950 L692,5927 Z M645,5927 Z M645,5927" /></clipPath>
<path d="M705,5951 L705,5647 C705,5644.7929688 706.7929688,5643 709,5643 L714,5643" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip596)" />
<clipPath id="clip597"><path d="M644,5591 L1629,5591 L1629,6345 L644,6345 Z M645,5927 L645,5950 L692,5950 L692,5927 Z M645,5927 Z M645,5927" /></clipPath>
<path d="M705,5951 L705,5674 C705,5671.7929688 706.7929688,5670 709,5670 L714,5670" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip597)" />
<clipPath id="clip598"><path d="M644,5591 L1629,5591 L1629,6345 L644,6345 Z M645,5927 L645,5950 L692,5950 L692,5927 Z M645,5927 Z M645,5927" /></clipPath>
<path d="M705,5951 L705,5777 C705,5774.7929688 706.7929688,5773 709,5773 L714,5773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip598)" />
<clipPath id="clip599"><path d="M644,5591 L1629,5591 L1629,6345 L644,6345 Z M645,5927 L645,5950 L692,5950 L692,5927 Z M645,5927 Z M645,5927" /></clipPath>
<path d="M705,5951 L705,5894 C705,5891.7929688 706.7929688,5890 709,5890 L714,5890" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip599)" />
<clipPath id="clip600"><path d="M644,5591 L1629,5591 L1629,6345 L644,6345 Z M645,5927 L645,5950 L692,5950 L692,5927 Z M645,5927 Z M645,5927" /></clipPath>
<path d="M705,5951 L705,5956 C705,5958.2070313 706.7929688,5960 709,5960 L714,5960" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip600)" />
<clipPath id="clip601"><path d="M644,5591 L1629,5591 L1629,6345 L644,6345 Z M645,5927 L645,5950 L692,5950 L692,5927 Z M645,5927 Z M645,5927" /></clipPath>
<path d="M705,5951 L705,6096 C705,6098.2070313 706.7929688,6100 709,6100 L714,6100" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip601)" />
<clipPath id="clip602"><path d="M644,5591 L1629,5591 L1629,6345 L644,6345 Z M645,5927 L645,5950 L692,5950 L692,5927 Z M645,5927 Z M645,5927" /></clipPath>
<path d="M705,5951 L705,6282 C705,6284.2070313 706.7929688,6286 709,6286 L714,6286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip602)" />
<clipPath id="clip603"><path d="M643,5590 L1630,5590 L1630,6346 L643,6346 L643,5590 Z" /></clipPath>
<path d="M692,5951 L705,5951" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip603)" />
<clipPath id="clip604"><path d="M643,5925 L695,5925 L695,5953 L643,5953 L643,5925 Z" /></clipPath>
<path d="M645,5951 L692,5951 Z M645,5951" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip604)" />
<text x="655" y="5942" style="font:10px Open Sans">事务</text>
<clipPath id="clip605"><path d="M712,5590 L907,5590 L907,5618 L712,5618 L712,5590 Z" /></clipPath>
<path d="M714,5616 L904,5616 Z M714,5616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip605)" />
<text x="724" y="5607" style="font:10px Open Sans">事务是数据库操作的基本单位</text>
<clipPath id="clip606"><path d="M712,5617 L894,5617 L894,5645 L712,5645 L712,5617 Z" /></clipPath>
<path d="M714,5643 L891,5643 Z M714,5643" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip606)" />
<text x="724" y="5634" style="font:10px Open Sans">事务规范了数据库操作语义</text>
<clipPath id="clip607"><path d="M712,5644 L1102,5644 L1102,5672 L712,5672 L712,5644 Z" /></clipPath>
<path d="M714,5670 L1099,5670 Z M714,5670" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip607)" />
<text x="724" y="5661" style="font:10px Open Sans">事务使数据库从一个一致的状态原子地转移到另一个一致的状态</text>
<clipPath id="clip608"><path d="M713,5672 L1308,5672 L1308,5837 L713,5837 Z M714,5747 L714,5772 L765,5772 L765,5747 Z M714,5747 Z M714,5747" /></clipPath>
<path d="M778,5773 L778,5714 C778,5711.7929688 779.7929688,5710 782,5710 L787,5710" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip608)" />
<clipPath id="clip609"><path d="M713,5672 L1308,5672 L1308,5837 L713,5837 Z M714,5747 L714,5772 L765,5772 L765,5747 Z M714,5747 Z M714,5747" /></clipPath>
<path d="M778,5773 L778,5768 C778,5765.7929688 779.7929688,5764 782,5764 L787,5764" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip609)" />
<clipPath id="clip610"><path d="M713,5672 L1308,5672 L1308,5837 L713,5837 Z M714,5747 L714,5772 L765,5772 L765,5747 Z M714,5747 Z M714,5747" /></clipPath>
<path d="M778,5773 L778,5803 C778,5805.2070313 779.7929688,5807 782,5807 L787,5807" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip610)" />
<clipPath id="clip611"><path d="M713,5672 L1308,5672 L1308,5837 L713,5837 Z M714,5747 L714,5772 L765,5772 L765,5747 Z M714,5747 Z M714,5747" /></clipPath>
<path d="M778,5773 L778,5832 C778,5834.2070313 779.7929688,5836 782,5836 L787,5836" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip611)" />
<clipPath id="clip612"><path d="M712,5671 L1309,5671 L1309,5838 L712,5838 L712,5671 Z" /></clipPath>
<path d="M765,5773 L778,5773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip612)" />
<clipPath id="clip613"><path d="M712,5745 L768,5745 L768,5775 L712,5775 L712,5745 Z" /></clipPath>
<path d="M714,5773 L765,5773 Z M714,5773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip613)" />
<text x="724" y="5762" style="font:10px Open Sans">ACID</text>
<clipPath id="clip614"><path d="M786,5672 L1235,5672 L1235,5725 L786,5725 Z M787,5684 L787,5709 L904,5709 L904,5684 Z M787,5684 Z M787,5684" /></clipPath>
<path d="M917,5710 L917,5701 C917,5698.7929688 918.7929688,5697 921,5697 L926,5697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip614)" />
<clipPath id="clip615"><path d="M786,5672 L1235,5672 L1235,5725 L786,5725 Z M787,5684 L787,5709 L904,5709 L904,5684 Z M787,5684 Z M787,5684" /></clipPath>
<path d="M917,5710 L917,5720 C917,5722.2070313 918.7929688,5724 921,5724 L926,5724" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip615)" />
<clipPath id="clip616"><path d="M785,5671 L1236,5671 L1236,5726 L785,5726 L785,5671 Z" /></clipPath>
<path d="M904,5710 L917,5710" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip616)" />
<clipPath id="clip617"><path d="M785,5682 L907,5682 L907,5712 L785,5712 L785,5682 Z" /></clipPath>
<path d="M787,5710 L904,5710 Z M787,5710" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip617)" />
<text x="797" y="5699" style="font:10px Open Sans">原子性Atomicity</text>
<clipPath id="clip618"><path d="M924,5671 L1210,5671 L1210,5699 L924,5699 L924,5671 Z" /></clipPath>
<path d="M926,5697 L1207,5697 Z M926,5697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip618)" />
<text x="936" y="5688" style="font:10px Open Sans">事务对数据的修改要么全都执行要么全不执行</text>
<clipPath id="clip619"><path d="M924,5698 L1236,5698 L1236,5726 L924,5726 L924,5698 Z" /></clipPath>
<path d="M926,5724 L1233,5724 Z M926,5724" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip619)" />
<text x="936" y="5715" style="font:10px Open Sans">同一事务对同一数据项的多次读取的结果是相同的</text>
<clipPath id="clip620"><path d="M786,5726 L1263,5726 L1263,5779 L786,5779 Z M787,5738 L787,5763 L919,5763 L919,5738 Z M787,5738 Z M787,5738" /></clipPath>
<path d="M932,5764 L932,5755 C932,5752.7929688 933.7929688,5751 936,5751 L941,5751" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip620)" />
<clipPath id="clip621"><path d="M786,5726 L1263,5726 L1263,5779 L786,5779 Z M787,5738 L787,5763 L919,5763 L919,5738 Z M787,5738 Z M787,5738" /></clipPath>
<path d="M932,5764 L932,5774 C932,5776.2070313 933.7929688,5778 936,5778 L941,5778" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip621)" />
<clipPath id="clip622"><path d="M785,5725 L1264,5725 L1264,5780 L785,5780 L785,5725 Z" /></clipPath>
<path d="M919,5764 L932,5764" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip622)" />
<clipPath id="clip623"><path d="M785,5736 L922,5736 L922,5766 L785,5766 L785,5736 Z" /></clipPath>
<path d="M787,5764 L919,5764 Z M787,5764" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip623)" />
<text x="797" y="5753" style="font:10px Open Sans">一致性Consistency</text>
<clipPath id="clip624"><path d="M939,5725 L1264,5725 L1264,5753 L939,5753 L939,5725 Z" /></clipPath>
<path d="M941,5751 L1261,5751 Z M941,5751" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip624)" />
<text x="951" y="5742" style="font:10px Open Sans">事务需要保证数据库数据的正确性、完整性和一致性</text>
<clipPath id="clip625"><path d="M939,5752 L1199,5752 L1199,5780 L939,5780 L939,5752 Z" /></clipPath>
<path d="M941,5778 L1196,5778 Z M941,5778" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip625)" />
<text x="951" y="5769" style="font:10px Open Sans">一致性可由数据库内部规则或应用来保证</text>
<clipPath id="clip626"><path d="M786,5780 L1308,5780 L1308,5808 L786,5808 Z M787,5781 L787,5806 L899,5806 L899,5781 Z M787,5781 Z M787,5781" /></clipPath>
<path d="M912,5807 C912,5807 913.7929688,5807 916,5807 L921,5807" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip626)" />
<clipPath id="clip627"><path d="M785,5779 L1309,5779 L1309,5809 L785,5809 L785,5779 Z" /></clipPath>
<path d="M899,5807 L912,5807" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip627)" />
<clipPath id="clip628"><path d="M785,5779 L902,5779 L902,5809 L785,5809 L785,5779 Z" /></clipPath>
<path d="M787,5807 L899,5807 Z M787,5807" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip628)" />
<text x="797" y="5796" style="font:10px Open Sans">隔离性Isolation</text>
<clipPath id="clip629"><path d="M919,5781 L1309,5781 L1309,5809 L919,5809 L919,5781 Z" /></clipPath>
<path d="M921,5807 L1306,5807 Z M921,5807" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip629)" />
<text x="931" y="5798" style="font:10px Open Sans">并发时每个事务在它的修改完全完成之前对其它事务是不可见的</text>
<clipPath id="clip630"><path d="M786,5809 L1172,5809 L1172,5837 L786,5837 Z M787,5810 L787,5835 L906,5835 L906,5810 Z M787,5810 Z M787,5810" /></clipPath>
<path d="M919,5836 C919,5836 920.7929688,5836 923,5836 L928,5836" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip630)" />
<clipPath id="clip631"><path d="M785,5808 L1173,5808 L1173,5838 L785,5838 L785,5808 Z" /></clipPath>
<path d="M906,5836 L919,5836" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip631)" />
<clipPath id="clip632"><path d="M785,5808 L909,5808 L909,5838 L785,5838 L785,5808 Z" /></clipPath>
<path d="M787,5836 L906,5836 Z M787,5836" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip632)" />
<text x="797" y="5825" style="font:10px Open Sans">持久性Durability</text>
<clipPath id="clip633"><path d="M926,5810 L1173,5810 L1173,5838 L926,5838 L926,5810 Z" /></clipPath>
<path d="M928,5836 L1170,5836 Z M928,5836" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip633)" />
<text x="938" y="5827" style="font:10px Open Sans">事务完成后对数据库的影响是永久性的</text>
<clipPath id="clip634"><path d="M713,5838 L1040,5838 L1040,5918 L713,5918 Z M714,5866 L714,5889 L943,5889 L943,5866 Z M714,5866 Z M714,5866" /></clipPath>
<path d="M956,5890 L956,5867 C956,5864.7929688 957.7929688,5863 960,5863 L965,5863" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip634)" />
<clipPath id="clip635"><path d="M713,5838 L1040,5838 L1040,5918 L713,5918 Z M714,5866 L714,5889 L943,5889 L943,5866 Z M714,5866 Z M714,5866" /></clipPath>
<path d="M956,5890 C956,5890 957.7929688,5890 960,5890 L965,5890" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip635)" />
<clipPath id="clip636"><path d="M713,5838 L1040,5838 L1040,5918 L713,5918 Z M714,5866 L714,5889 L943,5889 L943,5866 Z M714,5866 Z M714,5866" /></clipPath>
<path d="M956,5890 L956,5913 C956,5915.2070313 957.7929688,5917 960,5917 L965,5917" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip636)" />
<clipPath id="clip637"><path d="M712,5837 L1041,5837 L1041,5919 L712,5919 L712,5837 Z" /></clipPath>
<path d="M943,5890 L956,5890" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip637)" />
<clipPath id="clip638"><path d="M712,5864 L946,5864 L946,5892 L712,5892 L712,5864 Z" /></clipPath>
<path d="M714,5890 L943,5890 Z M714,5890" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip638)" />
<text x="724" y="5881" style="font:10px Open Sans">事务的并发控制一般通过锁机制实现</text>
<clipPath id="clip639"><path d="M963,5837 L1015,5837 L1015,5865 L963,5865 L963,5837 Z" /></clipPath>
<path d="M965,5863 L1012,5863 Z M965,5863" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip639)" />
<text x="975" y="5854" style="font:10px Open Sans">锁行</text>
<clipPath id="clip640"><path d="M963,5864 L1041,5864 L1041,5892 L963,5892 L963,5864 Z" /></clipPath>
<path d="M965,5890 L1038,5890 Z M965,5890" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip640)" />
<text x="975" y="5881" style="font:10px Open Sans">锁数据快</text>
<clipPath id="clip641"><path d="M963,5891 L1015,5891 L1015,5919 L963,5919 L963,5891 Z" /></clipPath>
<path d="M965,5917 L1012,5917 Z M965,5917" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip641)" />
<text x="975" y="5908" style="font:10px Open Sans">锁表</text>
<clipPath id="clip642"><path d="M713,5919 L1271,5919 L1271,5976 L713,5976 Z M714,5936 L714,5959 L1073,5959 L1073,5936 Z M714,5936 Z M714,5936" /></clipPath>
<path d="M1086,5960 L1086,5950 C1086,5947.7929688 1087.7929688,5946 1090,5946 L1095,5946" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip642)" />
<clipPath id="clip643"><path d="M713,5919 L1271,5919 L1271,5976 L713,5976 Z M714,5936 L714,5959 L1073,5959 L1073,5936 Z M714,5936 Z M714,5936" /></clipPath>
<path d="M1086,5960 L1086,5971 C1086,5973.2070313 1087.7929688,5975 1090,5975 L1095,5975" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip643)" />
<clipPath id="clip644"><path d="M712,5918 L1272,5918 L1272,5977 L712,5977 L712,5918 Z" /></clipPath>
<path d="M1073,5960 L1086,5960" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip644)" />
<clipPath id="clip645"><path d="M712,5934 L1076,5934 L1076,5962 L712,5962 L712,5934 Z" /></clipPath>
<path d="M714,5960 L1073,5960 Z M714,5960" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip645)" />
<text x="724" y="5951" style="font:10px Open Sans">读多写少时，如何提高读事务性能，避免写事务阻塞读事务</text>
<clipPath id="clip646"><path d="M1093,5918 L1227,5918 L1227,5948 L1093,5948 L1093,5918 Z" /></clipPath>
<path d="M1095,5946 L1224,5946 Z M1095,5946" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip646)" />
<text x="1105" y="5935" style="font:10px Open Sans">写时复制（COW）</text>
<clipPath id="clip647"><path d="M1093,5947 L1272,5947 L1272,5977 L1093,5977 L1093,5947 Z" /></clipPath>
<path d="M1095,5975 L1269,5975 Z M1095,5975" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip647)" />
<text x="1105" y="5964" style="font:10px Open Sans">多版本并发控制（MVCC）</text>
<clipPath id="clip648"><path d="M713,5977 L1434,5977 L1434,6200 L713,6200 Z M714,6076 L714,6099 L787,6099 L787,6076 Z M714,6076 Z M714,6076" /></clipPath>
<path d="M800,6100 L800,6020 C800,6017.7929688 801.7929688,6016 804,6016 L809,6016" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip648)" />
<clipPath id="clip649"><path d="M713,5977 L1434,5977 L1434,6200 L713,6200 Z M714,6076 L714,6099 L787,6099 L787,6076 Z M714,6076 Z M714,6076" /></clipPath>
<path d="M800,6100 L800,6076 C800,6073.7929688 801.7929688,6072 804,6072 L809,6072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip649)" />
<clipPath id="clip650"><path d="M713,5977 L1434,5977 L1434,6200 L713,6200 Z M714,6076 L714,6099 L787,6099 L787,6076 Z M714,6076 Z M714,6076" /></clipPath>
<path d="M800,6100 L800,6124 C800,6126.2070313 801.7929688,6128 804,6128 L809,6128" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip650)" />
<clipPath id="clip651"><path d="M713,5977 L1434,5977 L1434,6200 L713,6200 Z M714,6076 L714,6099 L787,6099 L787,6076 Z M714,6076 Z M714,6076" /></clipPath>
<path d="M800,6100 L800,6180 C800,6182.2070313 801.7929688,6184 804,6184 L809,6184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip651)" />
<clipPath id="clip652"><path d="M712,5976 L1435,5976 L1435,6201 L712,6201 L712,5976 Z" /></clipPath>
<path d="M787,6100 L800,6100" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip652)" />
<clipPath id="clip653"><path d="M712,6074 L790,6074 L790,6102 L712,6102 L712,6074 Z" /></clipPath>
<path d="M714,6100 L787,6100 Z M714,6100" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip653)" />
<text x="724" y="6091" style="font:10px Open Sans">隔离级别</text>
<clipPath id="clip654"><path d="M808,5977 L1413,5977 L1413,6032 L808,6032 Z M809,5990 L809,6015 L991,6015 L991,5990 Z M809,5990 Z M809,5990" /></clipPath>
<path d="M1004,6016 L1004,6006 C1004,6003.7929688 1005.7929688,6002 1008,6002 L1013,6002" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip654)" />
<clipPath id="clip655"><path d="M808,5977 L1413,5977 L1413,6032 L808,6032 Z M809,5990 L809,6015 L991,6015 L991,5990 Z M809,5990 Z M809,5990" /></clipPath>
<path d="M1004,6016 L1004,6027 C1004,6029.2070313 1005.7929688,6031 1008,6031 L1013,6031" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip655)" />
<clipPath id="clip656"><path d="M807,5976 L1414,5976 L1414,6033 L807,6033 L807,5976 Z" /></clipPath>
<path d="M991,6016 L1004,6016" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip656)" />
<clipPath id="clip657"><path d="M807,5988 L994,5988 L994,6018 L807,6018 L807,5988 Z" /></clipPath>
<path d="M809,6016 L991,6016 Z M809,6016" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip657)" />
<text x="819" y="6005" style="font:10px Open Sans">Read Uncommitted（RU）</text>
<clipPath id="clip658"><path d="M1011,5976 L1414,5976 L1414,6004 L1011,6004 L1011,5976 Z" /></clipPath>
<path d="M1013,6002 L1411,6002 Z M1013,6002" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip658)" />
<text x="1023" y="5993" style="font:10px Open Sans">读取未提交的数据，允许读取其他事务已经修改但还未提交的数据</text>
<clipPath id="clip659"><path d="M1011,6003 L1307,6003 L1307,6033 L1011,6033 L1011,6003 Z" /></clipPath>
<path d="M1013,6031 L1304,6031 Z M1013,6031" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip659)" />
<text x="1023" y="6020" style="font:10px Open Sans">不会出现LU，可能会出现DR、NRR、SLU、PR</text>
<clipPath id="clip660"><path d="M808,6033 L1434,6033 L1434,6088 L808,6088 Z M809,6046 L809,6071 L973,6071 L973,6046 Z M809,6046 Z M809,6046" /></clipPath>
<path d="M986,6072 L986,6062 C986,6059.7929688 987.7929688,6058 990,6058 L995,6058" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip660)" />
<clipPath id="clip661"><path d="M808,6033 L1434,6033 L1434,6088 L808,6088 Z M809,6046 L809,6071 L973,6071 L973,6046 Z M809,6046 Z M809,6046" /></clipPath>
<path d="M986,6072 L986,6083 C986,6085.2070313 987.7929688,6087 990,6087 L995,6087" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip661)" />
<clipPath id="clip662"><path d="M807,6032 L1435,6032 L1435,6089 L807,6089 L807,6032 Z" /></clipPath>
<path d="M973,6072 L986,6072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip662)" />
<clipPath id="clip663"><path d="M807,6044 L976,6044 L976,6074 L807,6074 L807,6044 Z" /></clipPath>
<path d="M809,6072 L973,6072 Z M809,6072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip663)" />
<text x="819" y="6061" style="font:10px Open Sans">Read Committed（RC）</text>
<clipPath id="clip664"><path d="M993,6032 L1435,6032 L1435,6060 L993,6060 L993,6032 Z" /></clipPath>
<path d="M995,6058 L1432,6058 Z M995,6058" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip664)" />
<text x="1005" y="6049" style="font:10px Open Sans">读取已提交的数据，但在一个事务中对同一项的多次读取结果可能不一样</text>
<clipPath id="clip665"><path d="M993,6059 L1289,6059 L1289,6089 L993,6089 L993,6059 Z" /></clipPath>
<path d="M995,6087 L1286,6087 Z M995,6087" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip665)" />
<text x="1005" y="6076" style="font:10px Open Sans">不会出现LU、DR，可能会出现NRR、SLU、PR</text>
<clipPath id="clip666"><path d="M808,6089 L1394,6089 L1394,6144 L808,6144 Z M809,6102 L809,6127 L972,6127 L972,6102 Z M809,6102 Z M809,6102" /></clipPath>
<path d="M985,6128 L985,6118 C985,6115.7929688 986.7929688,6114 989,6114 L994,6114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip666)" />
<clipPath id="clip667"><path d="M808,6089 L1394,6089 L1394,6144 L808,6144 Z M809,6102 L809,6127 L972,6127 L972,6102 Z M809,6102 Z M809,6102" /></clipPath>
<path d="M985,6128 L985,6139 C985,6141.2070313 986.7929688,6143 989,6143 L994,6143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip667)" />
<clipPath id="clip668"><path d="M807,6088 L1395,6088 L1395,6145 L807,6145 L807,6088 Z" /></clipPath>
<path d="M972,6128 L985,6128" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip668)" />
<clipPath id="clip669"><path d="M807,6100 L975,6100 L975,6130 L807,6130 L807,6100 Z" /></clipPath>
<path d="M809,6128 L972,6128 Z M809,6128" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip669)" />
<text x="819" y="6117" style="font:10px Open Sans">Repeatable Read（RR）</text>
<clipPath id="clip670"><path d="M992,6088 L1395,6088 L1395,6116 L992,6116 L992,6088 Z" /></clipPath>
<path d="M994,6114 L1392,6114 Z M994,6114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip670)" />
<text x="1004" y="6105" style="font:10px Open Sans">可重复读取，在一个事务中对同一项确保前后两次读取的结果一样</text>
<clipPath id="clip671"><path d="M992,6115 L1288,6115 L1288,6145 L992,6145 L992,6115 Z" /></clipPath>
<path d="M994,6143 L1285,6143 Z M994,6143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip671)" />
<text x="1004" y="6132" style="font:10px Open Sans">不会出现LU、DR、NRR、SLU，可能会出现PR</text>
<clipPath id="clip672"><path d="M808,6145 L1182,6145 L1182,6200 L808,6200 Z M809,6158 L809,6183 L929,6183 L929,6158 Z M809,6158 Z M809,6158" /></clipPath>
<path d="M942,6184 L942,6174 C942,6171.7929688 943.7929688,6170 946,6170 L951,6170" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip672)" />
<clipPath id="clip673"><path d="M808,6145 L1182,6145 L1182,6200 L808,6200 Z M809,6158 L809,6183 L929,6183 L929,6158 Z M809,6158 Z M809,6158" /></clipPath>
<path d="M942,6184 L942,6195 C942,6197.2070313 943.7929688,6199 946,6199 L951,6199" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip673)" />
<clipPath id="clip674"><path d="M807,6144 L1183,6144 L1183,6201 L807,6201 L807,6144 Z" /></clipPath>
<path d="M929,6184 L942,6184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip674)" />
<clipPath id="clip675"><path d="M807,6156 L932,6156 L932,6186 L807,6186 L807,6156 Z" /></clipPath>
<path d="M809,6184 L929,6184 Z M809,6184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip675)" />
<text x="819" y="6173" style="font:10px Open Sans">Serializable（S）</text>
<clipPath id="clip676"><path d="M949,6144 L1183,6144 L1183,6172 L949,6172 L949,6144 Z" /></clipPath>
<path d="M951,6170 L1180,6170 Z M951,6170" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip676)" />
<text x="961" y="6161" style="font:10px Open Sans">可序列化，数据库事务可串行化执行</text>
<clipPath id="clip677"><path d="M949,6171 L1180,6171 L1180,6201 L949,6201 L949,6171 Z" /></clipPath>
<path d="M951,6199 L1177,6199 Z M951,6199" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip677)" />
<text x="961" y="6188" style="font:10px Open Sans">不会出现LU、DR、NRR、SLU、PR</text>
<clipPath id="clip678"><path d="M713,6201 L1629,6201 L1629,6345 L713,6345 Z M714,6262 L714,6285 L761,6285 L761,6262 Z M714,6262 Z M714,6262" /></clipPath>
<path d="M774,6286 L774,6232 C774,6229.7929688 775.7929688,6228 778,6228 L783,6228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip678)" />
<clipPath id="clip679"><path d="M713,6201 L1629,6201 L1629,6345 L713,6345 Z M714,6262 L714,6285 L761,6285 L761,6262 Z M714,6262 Z M714,6262" /></clipPath>
<path d="M774,6286 L774,6261 C774,6258.7929688 775.7929688,6257 778,6257 L783,6257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip679)" />
<clipPath id="clip680"><path d="M713,6201 L1629,6201 L1629,6345 L713,6345 Z M714,6262 L714,6285 L761,6285 L761,6262 Z M714,6262 Z M714,6262" /></clipPath>
<path d="M774,6286 C774,6286 775.7929688,6286 778,6286 L783,6286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip680)" />
<clipPath id="clip681"><path d="M713,6201 L1629,6201 L1629,6345 L713,6345 Z M714,6262 L714,6285 L761,6285 L761,6262 Z M714,6262 Z M714,6262" /></clipPath>
<path d="M774,6286 L774,6311 C774,6313.2070313 775.7929688,6315 778,6315 L783,6315" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip681)" />
<clipPath id="clip682"><path d="M713,6201 L1629,6201 L1629,6345 L713,6345 Z M714,6262 L714,6285 L761,6285 L761,6262 Z M714,6262 Z M714,6262" /></clipPath>
<path d="M774,6286 L774,6340 C774,6342.2070313 775.7929688,6344 778,6344 L783,6344" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip682)" />
<clipPath id="clip683"><path d="M712,6200 L1630,6200 L1630,6346 L712,6346 L712,6200 Z" /></clipPath>
<path d="M761,6286 L774,6286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip683)" />
<clipPath id="clip684"><path d="M712,6260 L764,6260 L764,6288 L712,6288 L712,6260 Z" /></clipPath>
<path d="M714,6286 L761,6286 Z M714,6286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip684)" />
<text x="724" y="6277" style="font:10px Open Sans">异常</text>
<clipPath id="clip685"><path d="M782,6201 L1629,6201 L1629,6229 L782,6229 Z M783,6202 L783,6227 L921,6227 L921,6202 Z M783,6202 Z M783,6202" /></clipPath>
<path d="M934,6228 C934,6228 935.7929688,6228 938,6228 L943,6228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip685)" />
<clipPath id="clip686"><path d="M781,6200 L1630,6200 L1630,6230 L781,6230 L781,6200 Z" /></clipPath>
<path d="M921,6228 L934,6228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip686)" />
<clipPath id="clip687"><path d="M781,6200 L924,6200 L924,6230 L781,6230 L781,6200 Z" /></clipPath>
<path d="M783,6228 L921,6228 Z M783,6228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip687)" />
<text x="793" y="6217" style="font:10px Open Sans">Lost Update（LU）</text>
<clipPath id="clip688"><path d="M941,6202 L1630,6202 L1630,6230 L941,6230 L941,6202 Z" /></clipPath>
<path d="M943,6228 L1627,6228 Z M943,6228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip688)" />
<text x="953" y="6219" style="font:10px Open Sans">第一类丢失更新，两个事务同时修改一个数据项，但后一个事务中途失败回滚，则前一个事务已提交的修改可能丢失</text>
<clipPath id="clip689"><path d="M782,6230 L1248,6230 L1248,6258 L782,6258 Z M783,6231 L783,6256 L917,6256 L917,6231 Z M783,6231 Z M783,6231" /></clipPath>
<path d="M930,6257 C930,6257 931.7929688,6257 934,6257 L939,6257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip689)" />
<clipPath id="clip690"><path d="M781,6229 L1249,6229 L1249,6259 L781,6259 L781,6229 Z" /></clipPath>
<path d="M917,6257 L930,6257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip690)" />
<clipPath id="clip691"><path d="M781,6229 L920,6229 L920,6259 L781,6259 L781,6229 Z" /></clipPath>
<path d="M783,6257 L917,6257 Z M783,6257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip691)" />
<text x="793" y="6246" style="font:10px Open Sans">Dirty Reads（DR）</text>
<clipPath id="clip692"><path d="M937,6231 L1249,6231 L1249,6259 L937,6259 L937,6231 Z" /></clipPath>
<path d="M939,6257 L1246,6257 Z M939,6257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip692)" />
<text x="949" y="6248" style="font:10px Open Sans">一个事务读取了另一个事务更新却没有提交的数据</text>
<clipPath id="clip693"><path d="M782,6259 L1349,6259 L1349,6287 L782,6287 Z M783,6260 L783,6285 L992,6285 L992,6260 Z M783,6260 Z M783,6260" /></clipPath>
<path d="M1005,6286 C1005,6286 1006.7929688,6286 1009,6286 L1014,6286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip693)" />
<clipPath id="clip694"><path d="M781,6258 L1350,6258 L1350,6288 L781,6288 L781,6258 Z" /></clipPath>
<path d="M992,6286 L1005,6286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip694)" />
<clipPath id="clip695"><path d="M781,6258 L995,6258 L995,6288 L781,6288 L781,6258 Z" /></clipPath>
<path d="M783,6286 L992,6286 Z M783,6286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip695)" />
<text x="793" y="6275" style="font:10px Open Sans">Non-Repeatable Reads（NRR）</text>
<clipPath id="clip696"><path d="M1012,6260 L1350,6260 L1350,6288 L1012,6288 L1012,6260 Z" /></clipPath>
<path d="M1014,6286 L1347,6286 Z M1014,6286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip696)" />
<text x="1024" y="6277" style="font:10px Open Sans">一个事务对同一数据项的多次读取可能得到的结果不同</text>
<clipPath id="clip697"><path d="M782,6288 L1559,6288 L1559,6316 L782,6316 Z M783,6289 L783,6314 L981,6314 L981,6289 Z M783,6289 Z M783,6289" /></clipPath>
<path d="M994,6315 C994,6315 995.7929688,6315 998,6315 L1003,6315" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip697)" />
<clipPath id="clip698"><path d="M781,6287 L1560,6287 L1560,6317 L781,6317 L781,6287 Z" /></clipPath>
<path d="M981,6315 L994,6315" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip698)" />
<clipPath id="clip699"><path d="M781,6287 L984,6287 L984,6317 L781,6317 L781,6287 Z" /></clipPath>
<path d="M783,6315 L981,6315 Z M783,6315" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip699)" />
<text x="793" y="6304" style="font:10px Open Sans">Second Lost Updates（SLU）</text>
<clipPath id="clip700"><path d="M1001,6289 L1560,6289 L1560,6317 L1001,6317 L1001,6289 Z" /></clipPath>
<path d="M1003,6315 L1557,6315 Z M1003,6315" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip700)" />
<text x="1013" y="6306" style="font:10px Open Sans">第二类丢失更新，两个事务同时读取和修改同一项数据项，后面的修改可能使前面的修改失效</text>
<clipPath id="clip701"><path d="M782,6317 L1597,6317 L1597,6345 L782,6345 Z M783,6318 L783,6343 L941,6343 L941,6318 Z M783,6318 Z M783,6318" /></clipPath>
<path d="M954,6344 C954,6344 955.7929688,6344 958,6344 L963,6344" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip701)" />
<clipPath id="clip702"><path d="M781,6316 L1598,6316 L1598,6346 L781,6346 L781,6316 Z" /></clipPath>
<path d="M941,6344 L954,6344" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip702)" />
<clipPath id="clip703"><path d="M781,6316 L944,6316 L944,6346 L781,6346 L781,6316 Z" /></clipPath>
<path d="M783,6344 L941,6344 Z M783,6344" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip703)" />
<text x="793" y="6333" style="font:10px Open Sans">Phantom Reads（PR）</text>
<clipPath id="clip704"><path d="M961,6318 L1598,6318 L1598,6346 L961,6346 L961,6318 Z" /></clipPath>
<path d="M963,6344 L1595,6344 Z M963,6344" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip704)" />
<text x="973" y="6335" style="font:10px Open Sans">事务执行中由于两次查询之间有另一个事务插入数据，后面的查询结果出现了前面查询结果中未出现的数据</text>
<clipPath id="clip705"><path d="M644,6346 L1373,6346 L1373,6833 L644,6833 Z M645,6593 L645,6616 L718,6616 L718,6593 Z M645,6593 Z M645,6593" /></clipPath>
<path d="M731,6617 L731,6449 C731,6446.7929688 732.7929688,6445 735,6445 L740,6445" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip705)" />
<clipPath id="clip706"><path d="M644,6346 L1373,6346 L1373,6833 L644,6833 Z M645,6593 L645,6616 L718,6616 L718,6593 Z M645,6593 Z M645,6593" /></clipPath>
<path d="M731,6617 L731,6650 C731,6652.2070313 732.7929688,6654 735,6654 L740,6654" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip706)" />
<clipPath id="clip707"><path d="M644,6346 L1373,6346 L1373,6833 L644,6833 Z M645,6593 L645,6616 L718,6616 L718,6593 Z M645,6593 Z M645,6593" /></clipPath>
<path d="M731,6617 L731,6786 C731,6788.2070313 732.7929688,6790 735,6790 L740,6790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip707)" />
<clipPath id="clip708"><path d="M643,6345 L1374,6345 L1374,6834 L643,6834 L643,6345 Z" /></clipPath>
<path d="M718,6617 L731,6617" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip708)" />
<clipPath id="clip709"><path d="M643,6591 L721,6591 L721,6619 L643,6619 L643,6591 Z" /></clipPath>
<path d="M645,6617 L718,6617 Z M645,6617" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip709)" />
<text x="655" y="6608" style="font:10px Open Sans">并发控制</text>
<clipPath id="clip710"><path d="M739,6346 L1226,6346 L1226,6534 L739,6534 Z M740,6421 L740,6444 L813,6444 L813,6421 Z M740,6421 Z M740,6421" /></clipPath>
<path d="M826,6445 L826,6375 C826,6372.7929688 827.7929688,6371 830,6371 L835,6371" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip710)" />
<clipPath id="clip711"><path d="M739,6346 L1226,6346 L1226,6534 L739,6534 Z M740,6421 L740,6444 L813,6444 L813,6421 Z M740,6421 Z M740,6421" /></clipPath>
<path d="M826,6445 L826,6402 C826,6399.7929688 827.7929688,6398 830,6398 L835,6398" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip711)" />
<clipPath id="clip712"><path d="M739,6346 L1226,6346 L1226,6534 L739,6534 Z M740,6421 L740,6444 L813,6444 L813,6421 Z M740,6421 Z M740,6421" /></clipPath>
<path d="M826,6445 L826,6429 C826,6426.7929688 827.7929688,6425 830,6425 L835,6425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip712)" />
<clipPath id="clip713"><path d="M739,6346 L1226,6346 L1226,6534 L739,6534 Z M740,6421 L740,6444 L813,6444 L813,6421 Z M740,6421 Z M740,6421" /></clipPath>
<path d="M826,6445 L826,6448 C826,6450.2070313 827.7929688,6452 830,6452 L835,6452" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip713)" />
<clipPath id="clip714"><path d="M739,6346 L1226,6346 L1226,6534 L739,6534 Z M740,6421 L740,6444 L813,6444 L813,6421 Z M740,6421 Z M740,6421" /></clipPath>
<path d="M826,6445 L826,6475 C826,6477.2070313 827.7929688,6479 830,6479 L835,6479" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip714)" />
<clipPath id="clip715"><path d="M739,6346 L1226,6346 L1226,6534 L739,6534 Z M740,6421 L740,6444 L813,6444 L813,6421 Z M740,6421 Z M740,6421" /></clipPath>
<path d="M826,6445 L826,6515 C826,6517.2070313 827.7929688,6519 830,6519 L835,6519" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip715)" />
<clipPath id="clip716"><path d="M738,6345 L1227,6345 L1227,6535 L738,6535 L738,6345 Z" /></clipPath>
<path d="M813,6445 L826,6445" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip716)" />
<clipPath id="clip717"><path d="M738,6419 L816,6419 L816,6447 L738,6447 L738,6419 Z" /></clipPath>
<path d="M740,6445 L813,6445 Z M740,6445" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip717)" />
<text x="750" y="6436" style="font:10px Open Sans">数据库锁</text>
<clipPath id="clip718"><path d="M833,6345 L885,6345 L885,6373 L833,6373 L833,6345 Z" /></clipPath>
<path d="M835,6371 L882,6371 Z M835,6371" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip718)" />
<text x="845" y="6362" style="font:10px Open Sans">读锁</text>
<clipPath id="clip719"><path d="M833,6372 L885,6372 L885,6400 L833,6400 L833,6372 Z" /></clipPath>
<path d="M835,6398 L882,6398 Z M835,6398" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip719)" />
<text x="845" y="6389" style="font:10px Open Sans">写锁</text>
<clipPath id="clip720"><path d="M833,6399 L1028,6399 L1028,6427 L833,6427 L833,6399 Z" /></clipPath>
<path d="M835,6425 L1025,6425 Z M835,6425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip720)" />
<text x="845" y="6416" style="font:10px Open Sans">允许对同一个元素加多个读锁</text>
<clipPath id="clip721"><path d="M833,6426 L1106,6426 L1106,6454 L833,6454 L833,6426 Z" /></clipPath>
<path d="M835,6452 L1103,6452 Z M835,6452" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip721)" />
<text x="845" y="6443" style="font:10px Open Sans">只允许加一个写锁，且写事务将阻塞读事务</text>
<clipPath id="clip722"><path d="M833,6453 L1067,6453 L1067,6481 L833,6481 L833,6453 Z" /></clipPath>
<path d="M835,6479 L1064,6479 Z M835,6479" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip722)" />
<text x="845" y="6470" style="font:10px Open Sans">加锁对象可以是行、数据快甚至表格</text>
<clipPath id="clip723"><path d="M834,6481 L1226,6481 L1226,6534 L834,6534 Z M835,6495 L835,6518 L882,6518 L882,6495 Z M835,6495 Z M835,6495" /></clipPath>
<path d="M895,6519 L895,6510 C895,6507.7929688 896.7929688,6506 899,6506 L904,6506" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip723)" />
<clipPath id="clip724"><path d="M834,6481 L1226,6481 L1226,6534 L834,6534 Z M835,6495 L835,6518 L882,6518 L882,6495 Z M835,6495 Z M835,6495" /></clipPath>
<path d="M895,6519 L895,6529 C895,6531.2070313 896.7929688,6533 899,6533 L904,6533" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip724)" />
<clipPath id="clip725"><path d="M833,6480 L1227,6480 L1227,6535 L833,6535 L833,6480 Z" /></clipPath>
<path d="M882,6519 L895,6519" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip725)" />
<clipPath id="clip726"><path d="M833,6493 L885,6493 L885,6521 L833,6521 L833,6493 Z" /></clipPath>
<path d="M835,6519 L882,6519 Z M835,6519" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip726)" />
<text x="845" y="6510" style="font:10px Open Sans">死锁</text>
<clipPath id="clip727"><path d="M902,6480 L1227,6480 L1227,6508 L902,6508 L902,6480 Z" /></clipPath>
<path d="M904,6506 L1224,6506 Z M904,6506" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip727)" />
<text x="914" y="6497" style="font:10px Open Sans">方案一：给每个事务设置超时时间，超时后自动回滚</text>
<clipPath id="clip728"><path d="M902,6507 L1214,6507 L1214,6535 L902,6535 L902,6507 Z" /></clipPath>
<path d="M904,6533 L1211,6533 Z M904,6533" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip728)" />
<text x="914" y="6524" style="font:10px Open Sans">方案二：死锁检测，回滚某些事务来消除循环依赖</text>
<clipPath id="clip729"><path d="M739,6535 L1373,6535 L1373,6723 L739,6723 Z M740,6630 L740,6653 L813,6653 L813,6630 Z M740,6630 Z M740,6630" /></clipPath>
<path d="M826,6654 L826,6591 C826,6588.7929688 827.7929688,6587 830,6587 L835,6587" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip729)" />
<clipPath id="clip730"><path d="M739,6535 L1373,6535 L1373,6723 L739,6723 Z M740,6630 L740,6653 L813,6653 L813,6630 Z M740,6630 Z M740,6630" /></clipPath>
<path d="M826,6654 L826,6645 C826,6642.7929688 827.7929688,6641 830,6641 L835,6641" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip730)" />
<clipPath id="clip731"><path d="M739,6535 L1373,6535 L1373,6723 L739,6723 Z M740,6630 L740,6653 L813,6653 L813,6630 Z M740,6630 Z M740,6630" /></clipPath>
<path d="M826,6654 L826,6664 C826,6666.2070313 827.7929688,6668 830,6668 L835,6668" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip731)" />
<clipPath id="clip732"><path d="M739,6535 L1373,6535 L1373,6723 L739,6723 Z M740,6630 L740,6653 L813,6653 L813,6630 Z M740,6630 Z M740,6630" /></clipPath>
<path d="M826,6654 L826,6691 C826,6693.2070313 827.7929688,6695 830,6695 L835,6695" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip732)" />
<clipPath id="clip733"><path d="M739,6535 L1373,6535 L1373,6723 L739,6723 Z M740,6630 L740,6653 L813,6653 L813,6630 Z M740,6630 Z M740,6630" /></clipPath>
<path d="M826,6654 L826,6718 C826,6720.2070313 827.7929688,6722 830,6722 L835,6722" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip733)" />
<clipPath id="clip734"><path d="M738,6534 L1374,6534 L1374,6724 L738,6724 L738,6534 Z" /></clipPath>
<path d="M813,6654 L826,6654" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip734)" />
<clipPath id="clip735"><path d="M738,6628 L816,6628 L816,6656 L738,6656 L738,6628 Z" /></clipPath>
<path d="M740,6654 L813,6654 Z M740,6654" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip735)" />
<text x="750" y="6645" style="font:10px Open Sans">写时复制</text>
<clipPath id="clip736"><path d="M834,6535 L1373,6535 L1373,6615 L834,6615 Z M835,6561 L835,6586 L1016,6586 L1016,6561 Z M835,6561 Z M835,6561" /></clipPath>
<path d="M1029,6587 L1029,6564 C1029,6561.7929688 1030.7929688,6560 1033,6560 L1038,6560" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip736)" />
<clipPath id="clip737"><path d="M834,6535 L1373,6535 L1373,6615 L834,6615 Z M835,6561 L835,6586 L1016,6586 L1016,6561 Z M835,6561 Z M835,6561" /></clipPath>
<path d="M1029,6587 C1029,6587 1030.7929688,6587 1033,6587 L1038,6587" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip737)" />
<clipPath id="clip738"><path d="M834,6535 L1373,6535 L1373,6615 L834,6615 Z M835,6561 L835,6586 L1016,6586 L1016,6561 Z M835,6561 Z M835,6561" /></clipPath>
<path d="M1029,6587 L1029,6610 C1029,6612.2070313 1030.7929688,6614 1033,6614 L1038,6614" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip738)" />
<clipPath id="clip739"><path d="M833,6534 L1374,6534 L1374,6616 L833,6616 L833,6534 Z" /></clipPath>
<path d="M1016,6587 L1029,6587" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip739)" />
<clipPath id="clip740"><path d="M833,6559 L1019,6559 L1019,6589 L833,6589 L833,6559 Z" /></clipPath>
<path d="M835,6587 L1016,6587 Z M835,6587" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip740)" />
<text x="845" y="6576" style="font:10px Open Sans">写时复制B+树执行写的步骤</text>
<clipPath id="clip741"><path d="M1036,6534 L1361,6534 L1361,6562 L1036,6562 L1036,6534 Z" /></clipPath>
<path d="M1038,6560 L1358,6560 Z M1038,6560" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip741)" />
<text x="1048" y="6551" style="font:10px Open Sans">拷贝：将从叶子到根节点路径上的所有节点拷贝出来</text>
<clipPath id="clip742"><path d="M1036,6561 L1231,6561 L1231,6589 L1036,6589 L1036,6561 Z" /></clipPath>
<path d="M1038,6587 L1228,6587 Z M1038,6587" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip742)" />
<text x="1048" y="6578" style="font:10px Open Sans">修改：对拷贝的节点执行修改</text>
<clipPath id="clip743"><path d="M1036,6588 L1374,6588 L1374,6616 L1036,6616 L1036,6588 Z" /></clipPath>
<path d="M1038,6614 L1371,6614 Z M1038,6614" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip743)" />
<text x="1048" y="6605" style="font:10px Open Sans">提交：原子地切换根节点的指针，使之指向新的根节点</text>
<clipPath id="clip744"><path d="M833,6615 L950,6615 L950,6643 L833,6643 L833,6615 Z" /></clipPath>
<path d="M835,6641 L947,6641 Z M835,6641" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip744)" />
<text x="845" y="6632" style="font:10px Open Sans">读操作不用加锁</text>
<clipPath id="clip745"><path d="M833,6642 L1106,6642 L1106,6670 L833,6670 L833,6642 Z" /></clipPath>
<path d="M835,6668 L1103,6668 Z M835,6668" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip745)" />
<text x="845" y="6659" style="font:10px Open Sans">读操作发生在提交之前则读取老节点的数据</text>
<clipPath id="clip746"><path d="M833,6669 L1132,6669 L1132,6697 L833,6697 L833,6669 Z" /></clipPath>
<path d="M835,6695 L1129,6695 Z M835,6695" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip746)" />
<text x="845" y="6686" style="font:10px Open Sans">涉及引用计数，对没有引用的节点进行垃圾回收</text>
<clipPath id="clip747"><path d="M833,6696 L1171,6696 L1171,6724 L833,6724 L833,6696 Z" /></clipPath>
<path d="M835,6722 L1168,6722 Z M835,6722" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip747)" />
<text x="845" y="6713" style="font:10px Open Sans">多个写操作之间是互斥的，同一时刻只允许一个写操作</text>
<clipPath id="clip748"><path d="M739,6724 L1248,6724 L1248,6833 L739,6833 Z M740,6766 L740,6789 L852,6789 L852,6766 Z M740,6766 Z M740,6766" /></clipPath>
<path d="M865,6790 L865,6753 C865,6750.7929688 866.7929688,6749 869,6749 L874,6749" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip748)" />
<clipPath id="clip749"><path d="M739,6724 L1248,6724 L1248,6833 L739,6833 Z M740,6766 L740,6789 L852,6789 L852,6766 Z M740,6766 Z M740,6766" /></clipPath>
<path d="M865,6790 L865,6780 C865,6777.7929688 866.7929688,6776 869,6776 L874,6776" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip749)" />
<clipPath id="clip750"><path d="M739,6724 L1248,6724 L1248,6833 L739,6833 Z M740,6766 L740,6789 L852,6789 L852,6766 Z M740,6766 Z M740,6766" /></clipPath>
<path d="M865,6790 L865,6799 C865,6801.2070313 866.7929688,6803 869,6803 L874,6803" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip750)" />
<clipPath id="clip751"><path d="M739,6724 L1248,6724 L1248,6833 L739,6833 Z M740,6766 L740,6789 L852,6789 L852,6766 Z M740,6766 Z M740,6766" /></clipPath>
<path d="M865,6790 L865,6828 C865,6830.2070313 866.7929688,6832 869,6832 L874,6832" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip751)" />
<clipPath id="clip752"><path d="M738,6723 L1249,6723 L1249,6834 L738,6834 L738,6723 Z" /></clipPath>
<path d="M852,6790 L865,6790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip752)" />
<clipPath id="clip753"><path d="M738,6764 L855,6764 L855,6792 L738,6792 L738,6764 Z" /></clipPath>
<path d="M740,6790 L852,6790 Z M740,6790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip753)" />
<text x="750" y="6781" style="font:10px Open Sans">多版本并发控制</text>
<clipPath id="clip754"><path d="M872,6723 L976,6723 L976,6751 L872,6751 L872,6723 Z" /></clipPath>
<path d="M874,6749 L973,6749 Z M874,6749" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip754)" />
<text x="884" y="6740" style="font:10px Open Sans">读事务不加锁</text>
<clipPath id="clip755"><path d="M872,6750 L1041,6750 L1041,6778 L872,6778 L872,6750 Z" /></clipPath>
<path d="M874,6776 L1038,6776 Z M874,6776" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip755)" />
<text x="884" y="6767" style="font:10px Open Sans">对每行数据维护多个版本</text>
<clipPath id="clip756"><path d="M872,6777 L1249,6777 L1249,6805 L872,6805 L872,6777 Z" /></clipPath>
<path d="M874,6803 L1246,6803 Z M874,6803" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip756)" />
<text x="884" y="6794" style="font:10px Open Sans">无论事务执行时间多长，总能提供与事务开始时相一致的数据</text>
<clipPath id="clip757"><path d="M872,6804 L1017,6804 L1017,6834 L872,6834 L872,6804 Z" /></clipPath>
<path d="M874,6832 L1014,6832 Z M874,6832" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip757)" />
<text x="884" y="6821" style="font:10px Open Sans">MySQL InnoDB引擎</text>
<clipPath id="clip758"><path d="M510,6834 L1338,6834 L1338,7142 L510,7142 Z M511,6920 L511,6943 L584,6943 L584,6920 Z M511,6920 Z M511,6920" /></clipPath>
<path d="M597,6944 L597,6863 C597,6860.7929688 598.7929688,6859 601,6859 L606,6859" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip758)" />
<clipPath id="clip759"><path d="M510,6834 L1338,6834 L1338,7142 L510,7142 Z M511,6920 L511,6943 L584,6943 L584,6920 Z M511,6920 Z M511,6920" /></clipPath>
<path d="M597,6944 L597,6906 C597,6903.7929688 598.7929688,6902 601,6902 L606,6902" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip759)" />
<clipPath id="clip760"><path d="M510,6834 L1338,6834 L1338,7142 L510,7142 Z M511,6920 L511,6943 L584,6943 L584,6920 Z M511,6920 Z M511,6920" /></clipPath>
<path d="M597,6944 L597,7025 C597,7027.2070313 598.7929688,7029 601,7029 L606,7029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip760)" />
<clipPath id="clip761"><path d="M509,6833 L1339,6833 L1339,7143 L509,7143 L509,6833 Z" /></clipPath>
<path d="M584,6944 L597,6944" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip761)" />
<clipPath id="clip762"><path d="M509,6918 L587,6918 L587,6946 L509,6946 L509,6918 Z" /></clipPath>
<path d="M511,6944 L584,6944 Z M511,6944" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip762)" />
<text x="521" y="6935" style="font:10px Open Sans">故障恢复</text>
<clipPath id="clip763"><path d="M604,6833 L799,6833 L799,6861 L604,6861 L604,6833 Z" /></clipPath>
<path d="M606,6859 L796,6859 Z M606,6859" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip763)" />
<text x="616" y="6850" style="font:10px Open Sans">先写日志后修改内存中的数据</text>
<clipPath id="clip764"><path d="M605,6861 L1166,6861 L1166,6918 L605,6918 Z M606,6876 L606,6901 L835,6901 L835,6876 Z M606,6876 Z M606,6876" /></clipPath>
<path d="M848,6902 L848,6892 C848,6889.7929688 849.7929688,6888 852,6888 L857,6888" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip764)" />
<clipPath id="clip765"><path d="M605,6861 L1166,6861 L1166,6918 L605,6918 Z M606,6876 L606,6901 L835,6901 L835,6876 Z M606,6876 Z M606,6876" /></clipPath>
<path d="M848,6902 L848,6913 C848,6915.2070313 849.7929688,6917 852,6917 L857,6917" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip765)" />
<clipPath id="clip766"><path d="M604,6860 L1167,6860 L1167,6919 L604,6919 L604,6860 Z" /></clipPath>
<path d="M835,6902 L848,6902" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip766)" />
<clipPath id="clip767"><path d="M604,6874 L838,6874 L838,6904 L604,6904 L604,6874 Z" /></clipPath>
<path d="M606,6902 L835,6902 Z M606,6902" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip767)" />
<text x="616" y="6891" style="font:10px Open Sans">操作日志/提交日志（Commit Log）</text>
<clipPath id="clip768"><path d="M855,6860 L1167,6860 L1167,6890 L855,6890 L855,6860 Z" /></clipPath>
<path d="M857,6888 L1164,6888 Z M857,6888" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip768)" />
<text x="867" y="6877" style="font:10px Open Sans">回滚日志（UNDO Log）：记录事务修改前的状态</text>
<clipPath id="clip769"><path d="M855,6889 L1162,6889 L1162,6919 L855,6919 L855,6889 Z" /></clipPath>
<path d="M857,6917 L1159,6917 Z M857,6917" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip769)" />
<text x="867" y="6906" style="font:10px Open Sans">重做日志（REDO Log）：记录事务修改后的状态</text>
<clipPath id="clip770"><path d="M605,6919 L1338,6919 L1338,7142 L605,7142 Z M606,7005 L606,7028 L679,7028 L679,7005 Z M606,7005 Z M606,7005" /></clipPath>
<path d="M692,7029 L692,6950 C692,6947.7929688 693.7929688,6946 696,6946 L701,6946" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip770)" />
<clipPath id="clip771"><path d="M605,6919 L1338,6919 L1338,7142 L605,7142 Z M606,7005 L606,7028 L679,7028 L679,7005 Z M606,7005 Z M606,7005" /></clipPath>
<path d="M692,7029 L692,7019 C692,7016.7929688 693.7929688,7015 696,7015 L701,7015" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip771)" />
<clipPath id="clip772"><path d="M605,6919 L1338,6919 L1338,7142 L605,7142 Z M606,7005 L606,7028 L679,7028 L679,7005 Z M606,7005 Z M606,7005" /></clipPath>
<path d="M692,7029 L692,7108 C692,7110.2070313 693.7929688,7112 696,7112 L701,7112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip772)" />
<clipPath id="clip773"><path d="M604,6918 L1339,6918 L1339,7143 L604,7143 L604,6918 Z" /></clipPath>
<path d="M679,7029 L692,7029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip773)" />
<clipPath id="clip774"><path d="M604,7003 L682,7003 L682,7031 L604,7031 L604,7003 Z" /></clipPath>
<path d="M606,7029 L679,7029 Z M606,7029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip774)" />
<text x="616" y="7020" style="font:10px Open Sans">优化手段</text>
<clipPath id="clip775"><path d="M699,6918 L1033,6918 L1033,6948 L699,6948 L699,6918 Z" /></clipPath>
<path d="M701,6946 L1030,6946 Z M701,6946" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip775)" />
<text x="711" y="6935" style="font:10px Open Sans">REDO日志缓存后定期刷入磁盘，但有丢失数据的可能</text>
<clipPath id="clip776"><path d="M700,6948 L1338,6948 L1338,7057 L700,7057 Z M701,6991 L701,7014 L774,7014 L774,6991 Z M701,6991 Z M701,6991" /></clipPath>
<path d="M787,7015 L787,6979 C787,6976.7929688 788.7929688,6975 791,6975 L796,6975" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip776)" />
<clipPath id="clip777"><path d="M700,6948 L1338,6948 L1338,7057 L700,7057 Z M701,6991 L701,7014 L774,7014 L774,6991 Z M701,6991 Z M701,6991" /></clipPath>
<path d="M787,7015 L787,7006 C787,7003.7929688 788.7929688,7002 791,7002 L796,7002" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip777)" />
<clipPath id="clip778"><path d="M700,6948 L1338,6948 L1338,7057 L700,7057 Z M701,6991 L701,7014 L774,7014 L774,6991 Z M701,6991 Z M701,6991" /></clipPath>
<path d="M787,7015 L787,7025 C787,7027.2070313 788.7929688,7029 791,7029 L796,7029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip778)" />
<clipPath id="clip779"><path d="M700,6948 L1338,6948 L1338,7057 L700,7057 Z M701,6991 L701,7014 L774,7014 L774,6991 Z M701,6991 Z M701,6991" /></clipPath>
<path d="M787,7015 L787,7052 C787,7054.2070313 788.7929688,7056 791,7056 L796,7056" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip779)" />
<clipPath id="clip780"><path d="M699,6947 L1339,6947 L1339,7058 L699,7058 L699,6947 Z" /></clipPath>
<path d="M774,7015 L787,7015" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip780)" />
<clipPath id="clip781"><path d="M699,6989 L777,6989 L777,7017 L699,7017 L699,6989 Z" /></clipPath>
<path d="M701,7015 L774,7015 Z M701,7015" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip781)" />
<text x="711" y="7006" style="font:10px Open Sans">成组提交</text>
<clipPath id="clip782"><path d="M794,6947 L1339,6947 L1339,6977 L794,6977 L794,6947 Z" /></clipPath>
<path d="M796,6975 L1336,6975 Z M796,6975" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip782)" />
<text x="806" y="6964" style="font:10px Open Sans">RDDO日志先写到存储系统的日志缓冲区，到达一定大小或超过一定时间后一次性刷入磁盘</text>
<clipPath id="clip783"><path d="M794,6976 L1223,6976 L1223,7004 L794,7004 L794,6976 Z" /></clipPath>
<path d="M796,7002 L1220,7002 Z M796,7002" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip783)" />
<text x="806" y="6993" style="font:10px Open Sans">接着一次性将多个事务的修改应用到内存中并逐个返回客户端操作结果</text>
<clipPath id="clip784"><path d="M794,7003 L1080,7003 L1080,7031 L794,7031 L794,7003 Z" /></clipPath>
<path d="M796,7029 L1077,7029 Z M796,7029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip784)" />
<text x="806" y="7020" style="font:10px Open Sans">保证了日志成功刷入磁盘后才返回写操作成功</text>
<clipPath id="clip785"><path d="M794,7030 L1067,7030 L1067,7058 L794,7058 L794,7030 Z" /></clipPath>
<path d="M796,7056 L1064,7056 Z M796,7056" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip785)" />
<text x="806" y="7047" style="font:10px Open Sans">牺牲写事务的延时，但提高了系统的吞吐量</text>
<clipPath id="clip786"><path d="M700,7058 L1193,7058 L1193,7142 L700,7142 Z M701,7088 L701,7111 L761,7111 L761,7088 Z M701,7088 Z M701,7088" /></clipPath>
<path d="M774,7112 L774,7087 C774,7084.7929688 775.7929688,7083 778,7083 L783,7083" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip786)" />
<clipPath id="clip787"><path d="M700,7058 L1193,7058 L1193,7142 L700,7142 Z M701,7088 L701,7111 L761,7111 L761,7088 Z M701,7088 Z M701,7088" /></clipPath>
<path d="M774,7112 C774,7112 775.7929688,7112 778,7112 L783,7112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip787)" />
<clipPath id="clip788"><path d="M700,7058 L1193,7058 L1193,7142 L700,7142 Z M701,7088 L701,7111 L761,7111 L761,7088 Z M701,7088 Z M701,7088" /></clipPath>
<path d="M774,7112 L774,7137 C774,7139.2070313 775.7929688,7141 778,7141 L783,7141" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip788)" />
<clipPath id="clip789"><path d="M699,7057 L1194,7057 L1194,7143 L699,7143 L699,7057 Z" /></clipPath>
<path d="M761,7112 L774,7112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip789)" />
<clipPath id="clip790"><path d="M699,7086 L764,7086 L764,7114 L699,7114 L699,7086 Z" /></clipPath>
<path d="M701,7112 L761,7112 Z M701,7112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip790)" />
<text x="711" y="7103" style="font:10px Open Sans">检查点</text>
<clipPath id="clip791"><path d="M781,7057 L989,7057 L989,7085 L781,7085 L781,7057 Z" /></clipPath>
<path d="M783,7083 L986,7083 Z M783,7083" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip791)" />
<text x="793" y="7074" style="font:10px Open Sans">将内存中的数据定期转储到磁盘</text>
<clipPath id="clip792"><path d="M781,7084 L1194,7084 L1194,7114 L781,7114 L781,7084 Z" /></clipPath>
<path d="M783,7112 L1191,7112 Z M783,7112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip792)" />
<text x="793" y="7101" style="font:10px Open Sans">故障恢复只需要回放checkpoint时刻的日志回放点之后的REDO日志</text>
<clipPath id="clip793"><path d="M781,7113 L1077,7113 L1077,7143 L781,7143 L781,7113 Z" /></clipPath>
<path d="M783,7141 L1074,7141 Z M783,7141" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip793)" />
<text x="793" y="7130" style="font:10px Open Sans">可使用内存数据快照技术保证dump的一致状态</text>
<clipPath id="clip794"><path d="M510,7143 L1367,7143 L1367,7607 L510,7607 Z M511,7375 L511,7398 L584,7398 L584,7375 Z M511,7375 Z M511,7375" /></clipPath>
<path d="M597,7399 L597,7266 C597,7263.7929688 598.7929688,7262 601,7262 L606,7262" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip794)" />
<clipPath id="clip795"><path d="M510,7143 L1367,7143 L1367,7607 L510,7607 Z M511,7375 L511,7398 L584,7398 L584,7375 Z M511,7375 Z M511,7375" /></clipPath>
<path d="M597,7399 L597,7533 C597,7535.2070313 598.7929688,7537 601,7537 L606,7537" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip795)" />
<clipPath id="clip796"><path d="M509,7142 L1368,7142 L1368,7608 L509,7608 L509,7142 Z" /></clipPath>
<path d="M584,7399 L597,7399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip796)" />
<clipPath id="clip797"><path d="M509,7373 L587,7373 L587,7401 L509,7401 L509,7373 Z" /></clipPath>
<path d="M511,7399 L584,7399 Z M511,7399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip797)" />
<text x="521" y="7390" style="font:10px Open Sans">数据压缩</text>
<clipPath id="clip798"><path d="M605,7143 L1367,7143 L1367,7441 L605,7441 Z M606,7238 L606,7261 L679,7261 L679,7238 Z M606,7238 Z M606,7238" /></clipPath>
<path d="M692,7262 L692,7185 C692,7182.7929688 693.7929688,7181 696,7181 L701,7181" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip798)" />
<clipPath id="clip799"><path d="M605,7143 L1367,7143 L1367,7441 L605,7441 Z M606,7238 L606,7261 L679,7261 L679,7238 Z M606,7238 Z M606,7238" /></clipPath>
<path d="M692,7262 L692,7340 C692,7342.2070313 693.7929688,7344 696,7344 L701,7344" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip799)" />
<clipPath id="clip800"><path d="M604,7142 L1368,7142 L1368,7442 L604,7442 L604,7142 Z" /></clipPath>
<path d="M679,7262 L692,7262" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip800)" />
<clipPath id="clip801"><path d="M604,7236 L682,7236 L682,7264 L604,7264 L604,7236 Z" /></clipPath>
<path d="M606,7262 L679,7262 Z M606,7262" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip801)" />
<text x="616" y="7253" style="font:10px Open Sans">压缩算法</text>
<clipPath id="clip802"><path d="M700,7143 L897,7143 L897,7196 L700,7196 Z M701,7157 L701,7180 L774,7180 L774,7157 Z M701,7157 Z M701,7157" /></clipPath>
<path d="M787,7181 L787,7172 C787,7169.7929688 788.7929688,7168 791,7168 L796,7168" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip802)" />
<clipPath id="clip803"><path d="M700,7143 L897,7143 L897,7196 L700,7196 Z M701,7157 L701,7180 L774,7180 L774,7157 Z M701,7157 Z M701,7157" /></clipPath>
<path d="M787,7181 L787,7191 C787,7193.2070313 788.7929688,7195 791,7195 L796,7195" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip803)" />
<clipPath id="clip804"><path d="M699,7142 L898,7142 L898,7197 L699,7197 L699,7142 Z" /></clipPath>
<path d="M774,7181 L787,7181" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip804)" />
<clipPath id="clip805"><path d="M699,7155 L777,7155 L777,7183 L699,7183 L699,7155 Z" /></clipPath>
<path d="M701,7181 L774,7181 Z M701,7181" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip805)" />
<text x="711" y="7172" style="font:10px Open Sans">有损压缩</text>
<clipPath id="clip806"><path d="M794,7142 L885,7142 L885,7170 L794,7170 L794,7142 Z" /></clipPath>
<path d="M796,7168 L882,7168 Z M796,7168" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip806)" />
<text x="806" y="7159" style="font:10px Open Sans">压缩比率高</text>
<clipPath id="clip807"><path d="M794,7169 L898,7169 L898,7197 L794,7197 L794,7169 Z" /></clipPath>
<path d="M796,7195 L895,7195 Z M796,7195" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip807)" />
<text x="806" y="7186" style="font:10px Open Sans">数据可能失真</text>
<clipPath id="clip808"><path d="M700,7197 L1367,7197 L1367,7441 L700,7441 Z M701,7320 L701,7343 L774,7343 L774,7320 Z M701,7320 Z M701,7320" /></clipPath>
<path d="M787,7344 L787,7253 C787,7250.7929688 788.7929688,7249 791,7249 L796,7249" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip808)" />
<clipPath id="clip809"><path d="M700,7197 L1367,7197 L1367,7441 L700,7441 Z M701,7320 L701,7343 L774,7343 L774,7320 Z M701,7320 Z M701,7320" /></clipPath>
<path d="M787,7344 L787,7347 C787,7349.2070313 788.7929688,7351 791,7351 L796,7351" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip809)" />
<clipPath id="clip810"><path d="M700,7197 L1367,7197 L1367,7441 L700,7441 Z M701,7320 L701,7343 L774,7343 L774,7320 Z M701,7320 Z M701,7320" /></clipPath>
<path d="M787,7344 L787,7436 C787,7438.2070313 788.7929688,7440 791,7440 L796,7440" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip810)" />
<clipPath id="clip811"><path d="M699,7196 L1368,7196 L1368,7442 L699,7442 L699,7196 Z" /></clipPath>
<path d="M774,7344 L787,7344" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip811)" />
<clipPath id="clip812"><path d="M699,7318 L777,7318 L777,7346 L699,7346 L699,7318 Z" /></clipPath>
<path d="M701,7344 L774,7344 Z M701,7344" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip812)" />
<text x="711" y="7335" style="font:10px Open Sans">无损压缩</text>
<clipPath id="clip813"><path d="M795,7197 L1176,7197 L1176,7277 L795,7277 Z M796,7223 L796,7248 L871,7248 L871,7223 Z M796,7223 Z M796,7223" /></clipPath>
<path d="M884,7249 L884,7226 C884,7223.7929688 885.7929688,7222 888,7222 L893,7222" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip813)" />
<clipPath id="clip814"><path d="M795,7197 L1176,7197 L1176,7277 L795,7277 Z M796,7223 L796,7248 L871,7248 L871,7223 Z M796,7223 Z M796,7223" /></clipPath>
<path d="M884,7249 C884,7249 885.7929688,7249 888,7249 L893,7249" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip814)" />
<clipPath id="clip815"><path d="M795,7197 L1176,7197 L1176,7277 L795,7277 Z M796,7223 L796,7248 L871,7248 L871,7223 Z M796,7223 Z M796,7223" /></clipPath>
<path d="M884,7249 L884,7272 C884,7274.2070313 885.7929688,7276 888,7276 L893,7276" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip815)" />
<clipPath id="clip816"><path d="M794,7196 L1177,7196 L1177,7278 L794,7278 L794,7196 Z" /></clipPath>
<path d="M871,7249 L884,7249" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip816)" />
<clipPath id="clip817"><path d="M794,7221 L874,7221 L874,7251 L794,7251 L794,7221 Z" /></clipPath>
<path d="M796,7249 L871,7249 Z M796,7249" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip817)" />
<text x="806" y="7238" style="font:10px Open Sans">Huffman</text>
<clipPath id="clip818"><path d="M891,7196 L1034,7196 L1034,7224 L891,7224 L891,7196 Z" /></clipPath>
<path d="M893,7222 L1031,7222 Z M893,7222" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip818)" />
<text x="903" y="7213" style="font:10px Open Sans">基于编码的优化技术</text>
<clipPath id="clip819"><path d="M891,7223 L1151,7223 L1151,7251 L891,7251 L891,7223 Z" /></clipPath>
<path d="M893,7249 L1148,7249 Z M893,7249" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip819)" />
<text x="903" y="7240" style="font:10px Open Sans">统计字符出现的频率来计算最优前缀编码</text>
<clipPath id="clip820"><path d="M891,7250 L1177,7250 L1177,7278 L891,7278 L891,7250 Z" /></clipPath>
<path d="M893,7276 L1174,7276 Z M893,7276" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip820)" />
<text x="903" y="7267" style="font:10px Open Sans">要求一个字符的编码不能是另一个字符的前缀</text>
<clipPath id="clip821"><path d="M795,7278 L1367,7278 L1367,7414 L795,7414 Z M796,7325 L796,7350 L858,7350 L858,7325 Z M796,7325 Z M796,7325" /></clipPath>
<path d="M871,7351 L871,7307 C871,7304.7929688 872.7929688,7303 875,7303 L880,7303" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip821)" />
<clipPath id="clip822"><path d="M795,7278 L1367,7278 L1367,7414 L795,7414 Z M796,7325 L796,7350 L858,7350 L858,7325 Z M796,7325 Z M796,7325" /></clipPath>
<path d="M871,7351 L871,7347 C871,7344.7929688 872.7929688,7343 875,7343 L880,7343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip822)" />
<clipPath id="clip823"><path d="M795,7278 L1367,7278 L1367,7414 L795,7414 Z M796,7325 L796,7350 L858,7350 L858,7325 Z M796,7325 Z M796,7325" /></clipPath>
<path d="M871,7351 L871,7395 C871,7397.2070313 872.7929688,7399 875,7399 L880,7399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip823)" />
<clipPath id="clip824"><path d="M794,7277 L1368,7277 L1368,7415 L794,7415 L794,7277 Z" /></clipPath>
<path d="M858,7351 L871,7351" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip824)" />
<clipPath id="clip825"><path d="M794,7323 L861,7323 L861,7353 L794,7353 L794,7323 Z" /></clipPath>
<path d="M796,7351 L858,7351 Z M796,7351" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip825)" />
<text x="806" y="7340" style="font:10px Open Sans">LZ系列</text>
<clipPath id="clip826"><path d="M878,7277 L1021,7277 L1021,7305 L878,7305 L878,7277 Z" /></clipPath>
<path d="M880,7303 L1018,7303 Z M880,7303" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip826)" />
<text x="890" y="7294" style="font:10px Open Sans">基于字典的压缩算法</text>
<clipPath id="clip827"><path d="M879,7305 L1367,7305 L1367,7358 L879,7358 Z M880,7317 L880,7342 L932,7342 L932,7317 Z M880,7317 Z M880,7317" /></clipPath>
<path d="M945,7343 L945,7334 C945,7331.7929688 946.7929688,7330 949,7330 L954,7330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip827)" />
<clipPath id="clip828"><path d="M879,7305 L1367,7305 L1367,7358 L879,7358 Z M880,7317 L880,7342 L932,7342 L932,7317 Z M880,7317 Z M880,7317" /></clipPath>
<path d="M945,7343 L945,7353 C945,7355.2070313 946.7929688,7357 949,7357 L954,7357" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip828)" />
<clipPath id="clip829"><path d="M878,7304 L1368,7304 L1368,7359 L878,7359 L878,7304 Z" /></clipPath>
<path d="M932,7343 L945,7343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip829)" />
<clipPath id="clip830"><path d="M878,7315 L935,7315 L935,7345 L878,7345 L878,7315 Z" /></clipPath>
<path d="M880,7343 L932,7343 Z M880,7343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip830)" />
<text x="890" y="7332" style="font:10px Open Sans">LZ77</text>
<clipPath id="clip831"><path d="M952,7304 L1368,7304 L1368,7332 L952,7332 L952,7304 Z" /></clipPath>
<path d="M954,7330 L1365,7330 Z M954,7330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip831)" />
<text x="964" y="7321" style="font:10px Open Sans">重复出现的片段只保存第一个，后面的记录第一个出现的位置和长度</text>
<clipPath id="clip832"><path d="M952,7331 L1212,7331 L1212,7359 L952,7359 L952,7331 Z" /></clipPath>
<path d="M954,7357 L1209,7357 Z M954,7357" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip832)" />
<text x="964" y="7348" style="font:10px Open Sans">需要额外的一个位区分源信息和匹配信息</text>
<clipPath id="clip833"><path d="M879,7359 L1231,7359 L1231,7414 L879,7414 Z M880,7373 L880,7398 L991,7398 L991,7373 Z M880,7373 Z M880,7373" /></clipPath>
<path d="M1004,7399 L1004,7390 C1004,7387.7929688 1005.7929688,7386 1008,7386 L1013,7386" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip833)" />
<clipPath id="clip834"><path d="M879,7359 L1231,7359 L1231,7414 L879,7414 Z M880,7373 L880,7398 L991,7398 L991,7373 Z M880,7373 Z M880,7373" /></clipPath>
<path d="M1004,7399 L1004,7409 C1004,7411.2070313 1005.7929688,7413 1008,7413 L1013,7413" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip834)" />
<clipPath id="clip835"><path d="M878,7358 L1232,7358 L1232,7415 L878,7415 L878,7358 Z" /></clipPath>
<path d="M991,7399 L1004,7399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip835)" />
<clipPath id="clip836"><path d="M878,7371 L994,7371 L994,7401 L878,7401 L878,7371 Z" /></clipPath>
<path d="M880,7399 L991,7399 Z M880,7399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip836)" />
<text x="890" y="7388" style="font:10px Open Sans">BMDiff和Zippy</text>
<clipPath id="clip837"><path d="M1011,7358 L1112,7358 L1112,7388 L1011,7388 L1011,7358 Z" /></clipPath>
<path d="M1013,7386 L1109,7386 Z M1013,7386" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip837)" />
<text x="1023" y="7375" style="font:10px Open Sans">Bigtable使用</text>
<clipPath id="clip838"><path d="M1011,7387 L1232,7387 L1232,7415 L1011,7415 L1011,7387 Z" /></clipPath>
<path d="M1013,7413 L1229,7413 Z M1013,7413" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip838)" />
<text x="1023" y="7404" style="font:10px Open Sans">压缩比不算高，但处理速度非常快</text>
<clipPath id="clip839"><path d="M794,7414 L963,7414 L963,7442 L794,7442 L794,7414 Z" /></clipPath>
<path d="M796,7440 L960,7440 Z M796,7440" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip839)" />
<text x="806" y="7431" style="font:10px Open Sans">压缩比和执行效率的权衡</text>
<clipPath id="clip840"><path d="M605,7442 L1088,7442 L1088,7607 L605,7607 Z M606,7513 L606,7536 L679,7536 L679,7513 Z M606,7513 Z M606,7513" /></clipPath>
<path d="M692,7537 L692,7473 C692,7470.7929688 693.7929688,7469 696,7469 L701,7469" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip840)" />
<clipPath id="clip841"><path d="M605,7442 L1088,7442 L1088,7607 L605,7607 Z M606,7513 L606,7536 L679,7536 L679,7513 Z M606,7513 Z M606,7513" /></clipPath>
<path d="M692,7537 L692,7502 C692,7499.7929688 693.7929688,7498 696,7498 L701,7498" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip841)" />
<clipPath id="clip842"><path d="M605,7442 L1088,7442 L1088,7607 L605,7607 Z M606,7513 L606,7536 L679,7536 L679,7513 Z M606,7513 Z M606,7513" /></clipPath>
<path d="M692,7537 L692,7529 C692,7526.7929688 693.7929688,7525 696,7525 L701,7525" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip842)" />
<clipPath id="clip843"><path d="M605,7442 L1088,7442 L1088,7607 L605,7607 Z M606,7513 L606,7536 L679,7536 L679,7513 Z M606,7513 Z M606,7513" /></clipPath>
<path d="M692,7537 L692,7548 C692,7550.2070313 693.7929688,7552 696,7552 L701,7552" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip843)" />
<clipPath id="clip844"><path d="M605,7442 L1088,7442 L1088,7607 L605,7607 Z M606,7513 L606,7536 L679,7536 L679,7513 Z M606,7513 Z M606,7513" /></clipPath>
<path d="M692,7537 L692,7575 C692,7577.2070313 693.7929688,7579 696,7579 L701,7579" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip844)" />
<clipPath id="clip845"><path d="M605,7442 L1088,7442 L1088,7607 L605,7607 Z M606,7513 L606,7536 L679,7536 L679,7513 Z M606,7513 Z M606,7513" /></clipPath>
<path d="M692,7537 L692,7602 C692,7604.2070313 693.7929688,7606 696,7606 L701,7606" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip845)" />
<clipPath id="clip846"><path d="M604,7441 L1089,7441 L1089,7608 L604,7608 L604,7441 Z" /></clipPath>
<path d="M679,7537 L692,7537" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip846)" />
<clipPath id="clip847"><path d="M604,7511 L682,7511 L682,7539 L604,7539 L604,7511 Z" /></clipPath>
<path d="M606,7537 L679,7537 Z M606,7537" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip847)" />
<text x="616" y="7528" style="font:10px Open Sans">列式存储</text>
<clipPath id="clip848"><path d="M699,7441 L965,7441 L965,7471 L699,7471 L699,7441 Z" /></clipPath>
<path d="M701,7469 L962,7469 Z M701,7469" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip848)" />
<text x="711" y="7458" style="font:10px Open Sans">OLTP适合将完整的数据行存储在数据页中</text>
<clipPath id="clip849"><path d="M699,7470 L888,7470 L888,7500 L699,7500 L699,7470 Z" /></clipPath>
<path d="M701,7498 L885,7498 Z M701,7498" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip849)" />
<text x="711" y="7487" style="font:10px Open Sans">OLAP往往只关心少数数据列</text>
<clipPath id="clip850"><path d="M699,7499 L972,7499 L972,7527 L699,7527 L699,7499 Z" /></clipPath>
<path d="M701,7525 L969,7525 Z M701,7525" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip850)" />
<text x="711" y="7516" style="font:10px Open Sans">列式数据库将同一个数据列的值存放在一起</text>
<clipPath id="clip851"><path d="M699,7526 L1050,7526 L1050,7554 L699,7554 L699,7526 Z" /></clipPath>
<path d="M701,7552 L1047,7552 Z M701,7552" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip851)" />
<text x="711" y="7543" style="font:10px Open Sans">列组：将多个经常一起访问的数据列的各个值存放在一起</text>
<clipPath id="clip852"><path d="M699,7553 L985,7553 L985,7581 L699,7581 L699,7553 Z" /></clipPath>
<path d="M701,7579 L982,7579 Z M701,7579" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip852)" />
<text x="711" y="7570" style="font:10px Open Sans">同一数据列的数据重复度很高，具有压缩优势</text>
<clipPath id="clip853"><path d="M699,7580 L1089,7580 L1089,7608 L699,7608 L699,7580 Z" /></clipPath>
<path d="M701,7606 L1086,7606 Z M701,7606" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip853)" />
<text x="711" y="7597" style="font:10px Open Sans">可对列式存储做专门的索引优化，例如两个值的列使用位图索引</text>
<clipPath id="clip854"><path d="M389,7608 L2102,7608 L2102,12535 L389,12535 Z M390,10294 L390,10317 L476,10317 L476,10294 Z M390,10294 Z M390,10294" /></clipPath>
<path d="M489,10318 L489,8251 C489,8248.7929688 490.7929688,8247 493,8247 L498,8247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip854)" />
<clipPath id="clip855"><path d="M389,7608 L2102,7608 L2102,12535 L389,12535 Z M390,10294 L390,10317 L476,10317 L476,10294 Z M390,10294 Z M390,10294" /></clipPath>
<path d="M489,10318 L489,8883 C489,8880.7929688 490.7929688,8879 493,8879 L498,8879" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip855)" />
<clipPath id="clip856"><path d="M389,7608 L2102,7608 L2102,12535 L389,12535 Z M390,10294 L390,10317 L476,10317 L476,10294 Z M390,10294 Z M390,10294" /></clipPath>
<path d="M489,10318 L489,9273 C489,9270.7929688 490.7929688,9269 493,9269 L498,9269" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip856)" />
<clipPath id="clip857"><path d="M389,7608 L2102,7608 L2102,12535 L389,12535 Z M390,10294 L390,10317 L476,10317 L476,10294 Z M390,10294 Z M390,10294" /></clipPath>
<path d="M489,10318 L489,9733 C489,9730.7929688 490.7929688,9729 493,9729 L498,9729" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip857)" />
<clipPath id="clip858"><path d="M389,7608 L2102,7608 L2102,12535 L389,12535 Z M390,10294 L390,10317 L476,10317 L476,10294 Z M390,10294 Z M390,10294" /></clipPath>
<path d="M489,10318 L489,10355 C489,10357.2070313 490.7929688,10359 493,10359 L498,10359" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip858)" />
<clipPath id="clip859"><path d="M389,7608 L2102,7608 L2102,12535 L389,12535 Z M390,10294 L390,10317 L476,10317 L476,10294 Z M390,10294 Z M390,10294" /></clipPath>
<path d="M489,10318 L489,10921 C489,10923.2070313 490.7929688,10925 493,10925 L498,10925" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip859)" />
<clipPath id="clip860"><path d="M389,7608 L2102,7608 L2102,12535 L389,12535 Z M390,10294 L390,10317 L476,10317 L476,10294 Z M390,10294 Z M390,10294" /></clipPath>
<path d="M489,10318 L489,11703 C489,11705.2070313 490.7929688,11707 493,11707 L498,11707" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip860)" />
<clipPath id="clip861"><path d="M389,7608 L2102,7608 L2102,12535 L389,12535 Z M390,10294 L390,10317 L476,10317 L476,10294 Z M390,10294 Z M390,10294" /></clipPath>
<path d="M489,10318 L489,12385 C489,12387.2070313 490.7929688,12389 493,12389 L498,12389" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip861)" />
<clipPath id="clip862"><path d="M388,7607 L2103,7607 L2103,12536 L388,12536 L388,7607 Z" /></clipPath>
<path d="M476,10318 L489,10318" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip862)" />
<clipPath id="clip863"><path d="M388,10292 L479,10292 L479,10320 L388,10320 L388,10292 Z" /></clipPath>
<path d="M390,10318 L476,10318 Z M390,10318" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip863)" />
<text x="400" y="10309" style="font:10px Open Sans">分布式系统</text>
<clipPath id="clip864"><path d="M497,7608 L1723,7608 L1723,8813 L497,8813 Z M498,8223 L498,8246 L571,8246 L571,8223 Z M498,8223 Z M498,8223" /></clipPath>
<path d="M584,8247 L584,7827 C584,7824.7929688 585.7929688,7823 588,7823 L593,7823" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip864)" />
<clipPath id="clip865"><path d="M497,7608 L1723,7608 L1723,8813 L497,8813 Z M498,8223 L498,8246 L571,8246 L571,8223 Z M498,8223 Z M498,8223" /></clipPath>
<path d="M584,8247 C584,8249.2070313 585.7929688,8251 588,8251 L593,8251" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip865)" />
<clipPath id="clip866"><path d="M497,7608 L1723,7608 L1723,8813 L497,8813 Z M498,8223 L498,8246 L571,8246 L571,8223 Z M498,8223 Z M498,8223" /></clipPath>
<path d="M584,8247 L584,8667 C584,8669.2070313 585.7929688,8671 588,8671 L593,8671" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip866)" />
<clipPath id="clip867"><path d="M496,7607 L1724,7607 L1724,8814 L496,8814 L496,7607 Z" /></clipPath>
<path d="M571,8247 L584,8247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip867)" />
<clipPath id="clip868"><path d="M496,8221 L574,8221 L574,8249 L496,8249 L496,8221 Z" /></clipPath>
<path d="M498,8247 L571,8247 Z M498,8247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip868)" />
<text x="508" y="8238" style="font:10px Open Sans">基本概念</text>
<clipPath id="clip869"><path d="M592,7608 L1382,7608 L1382,8064 L592,8064 Z M593,7799 L593,7822 L640,7822 L640,7799 Z M593,7799 Z M593,7799" /></clipPath>
<path d="M653,7823 L653,7637 C653,7634.7929688 654.7929688,7633 657,7633 L662,7633" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip869)" />
<clipPath id="clip870"><path d="M592,7608 L1382,7608 L1382,8064 L592,8064 Z M593,7799 L593,7822 L640,7822 L640,7799 Z M593,7799 Z M593,7799" /></clipPath>
<path d="M653,7823 L653,7803 C653,7800.7929688 654.7929688,7799 657,7799 L662,7799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip870)" />
<clipPath id="clip871"><path d="M592,7608 L1382,7608 L1382,8064 L592,8064 Z M593,7799 L593,7822 L640,7822 L640,7799 Z M593,7799 Z M593,7799" /></clipPath>
<path d="M653,7823 L653,8010 C653,8012.2070313 654.7929688,8014 657,8014 L662,8014" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip871)" />
<clipPath id="clip872"><path d="M591,7607 L1383,7607 L1383,8065 L591,8065 L591,7607 Z" /></clipPath>
<path d="M640,7823 L653,7823" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip872)" />
<clipPath id="clip873"><path d="M591,7797 L643,7797 L643,7825 L591,7825 L591,7797 Z" /></clipPath>
<path d="M593,7823 L640,7823 Z M593,7823" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip873)" />
<text x="603" y="7814" style="font:10px Open Sans">异常</text>
<clipPath id="clip874"><path d="M660,7607 L1037,7607 L1037,7635 L660,7635 L660,7607 Z" /></clipPath>
<path d="M662,7633 L1034,7633 Z M662,7633" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip874)" />
<text x="672" y="7624" style="font:10px Open Sans">分布式存储系统中，节点之间通过网络互联，如何自动容错？</text>
<clipPath id="clip875"><path d="M661,7635 L1382,7635 L1382,7927 L661,7927 Z M662,7775 L662,7798 L735,7798 L735,7775 Z M662,7775 Z M662,7775" /></clipPath>
<path d="M748,7799 L748,7705 C748,7702.7929688 749.7929688,7701 752,7701 L757,7701" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip875)" />
<clipPath id="clip876"><path d="M661,7635 L1382,7635 L1382,7927 L661,7927 Z M662,7775 L662,7798 L735,7798 L735,7775 Z M662,7775 Z M662,7775" /></clipPath>
<path d="M748,7799 L748,7802 C748,7804.2070313 749.7929688,7806 752,7806 L757,7806" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip876)" />
<clipPath id="clip877"><path d="M661,7635 L1382,7635 L1382,7927 L661,7927 Z M662,7775 L662,7798 L735,7798 L735,7775 Z M662,7775 Z M662,7775" /></clipPath>
<path d="M748,7799 L748,7894 C748,7896.2070313 749.7929688,7898 752,7898 L757,7898" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip877)" />
<clipPath id="clip878"><path d="M660,7634 L1383,7634 L1383,7928 L660,7928 L660,7634 Z" /></clipPath>
<path d="M735,7799 L748,7799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip878)" />
<clipPath id="clip879"><path d="M660,7773 L738,7773 L738,7801 L660,7801 L660,7773 Z" /></clipPath>
<path d="M662,7799 L735,7799 Z M662,7799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip879)" />
<text x="672" y="7790" style="font:10px Open Sans">异常类型</text>
<clipPath id="clip880"><path d="M756,7635 L1369,7635 L1369,7744 L756,7744 Z M757,7677 L757,7700 L843,7700 L843,7677 Z M757,7677 Z M757,7677" /></clipPath>
<path d="M856,7701 L856,7664 C856,7661.7929688 857.7929688,7660 860,7660 L865,7660" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip880)" />
<clipPath id="clip881"><path d="M756,7635 L1369,7635 L1369,7744 L756,7744 Z M757,7677 L757,7700 L843,7700 L843,7677 Z M757,7677 Z M757,7677" /></clipPath>
<path d="M856,7701 L856,7693 C856,7690.7929688 857.7929688,7689 860,7689 L865,7689" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip881)" />
<clipPath id="clip882"><path d="M756,7635 L1369,7635 L1369,7744 L756,7744 Z M757,7677 L757,7700 L843,7700 L843,7677 Z M757,7677 Z M757,7677" /></clipPath>
<path d="M856,7701 L856,7712 C856,7714.2070313 857.7929688,7716 860,7716 L865,7716" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip882)" />
<clipPath id="clip883"><path d="M756,7635 L1369,7635 L1369,7744 L756,7744 Z M757,7677 L757,7700 L843,7700 L843,7677 Z M757,7677 Z M757,7677" /></clipPath>
<path d="M856,7701 L856,7739 C856,7741.2070313 857.7929688,7743 860,7743 L865,7743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip883)" />
<clipPath id="clip884"><path d="M755,7634 L1370,7634 L1370,7745 L755,7745 L755,7634 Z" /></clipPath>
<path d="M843,7701 L856,7701" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip884)" />
<clipPath id="clip885"><path d="M755,7675 L846,7675 L846,7703 L755,7703 L755,7675 Z" /></clipPath>
<path d="M757,7701 L843,7701 Z M757,7701" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip885)" />
<text x="767" y="7692" style="font:10px Open Sans">服务器宕机</text>
<clipPath id="clip886"><path d="M863,7634 L1058,7634 L1058,7662 L863,7662 L863,7634 Z" /></clipPath>
<path d="M865,7660 L1055,7660 Z M865,7660" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip886)" />
<text x="875" y="7651" style="font:10px Open Sans">内存错误、服务器停电等导致</text>
<clipPath id="clip887"><path d="M863,7661 L1029,7661 L1029,7691 L863,7691 L863,7661 Z" /></clipPath>
<path d="M865,7689 L1026,7689 Z M865,7689" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip887)" />
<text x="875" y="7678" style="font:10px Open Sans">发生宕机时节点“不可用”</text>
<clipPath id="clip888"><path d="M863,7690 L1045,7690 L1045,7718 L863,7718 L863,7690 Z" /></clipPath>
<path d="M865,7716 L1042,7716 Z M865,7716" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip888)" />
<text x="875" y="7707" style="font:10px Open Sans">重启后丢失所有的内存信息</text>
<clipPath id="clip889"><path d="M863,7717 L1370,7717 L1370,7745 L863,7745 L863,7717 Z" /></clipPath>
<path d="M865,7743 L1367,7743 Z M865,7743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip889)" />
<text x="875" y="7734" style="font:10px Open Sans">需要通过读取持久化介质中数据来恢复内存信息，从而恢复到宕机前某个一致的状态</text>
<clipPath id="clip890"><path d="M756,7745 L1382,7745 L1382,7844 L756,7844 Z M757,7782 L757,7805 L830,7805 L830,7782 Z M757,7782 Z M757,7782" /></clipPath>
<path d="M843,7806 L843,7774 C843,7771.7929688 844.7929688,7770 847,7770 L852,7770" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip890)" />
<clipPath id="clip891"><path d="M756,7745 L1382,7745 L1382,7844 L756,7844 Z M757,7782 L757,7805 L830,7805 L830,7782 Z M757,7782 Z M757,7782" /></clipPath>
<path d="M843,7806 L843,7803 C843,7800.7929688 844.7929688,7799 847,7799 L852,7799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip891)" />
<clipPath id="clip892"><path d="M756,7745 L1382,7745 L1382,7844 L756,7844 Z M757,7782 L757,7805 L830,7805 L830,7782 Z M757,7782 Z M757,7782" /></clipPath>
<path d="M843,7806 L843,7839 C843,7841.2070313 844.7929688,7843 847,7843 L852,7843" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip892)" />
<clipPath id="clip893"><path d="M755,7744 L1383,7744 L1383,7845 L755,7845 L755,7744 Z" /></clipPath>
<path d="M830,7806 L843,7806" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip893)" />
<clipPath id="clip894"><path d="M755,7780 L833,7780 L833,7808 L755,7808 L755,7780 Z" /></clipPath>
<path d="M757,7806 L830,7806 Z M757,7806" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip894)" />
<text x="767" y="7797" style="font:10px Open Sans">网络异常</text>
<clipPath id="clip895"><path d="M850,7744 L1149,7744 L1149,7772 L850,7772 L850,7744 Z" /></clipPath>
<path d="M852,7770 L1146,7770 Z M852,7770" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip895)" />
<text x="862" y="7761" style="font:10px Open Sans">可能是消息丢失、消息乱序、网络包数据错误等</text>
<clipPath id="clip896"><path d="M850,7771 L1354,7771 L1354,7801 L850,7801 L850,7771 Z" /></clipPath>
<path d="M852,7799 L1351,7799 Z M852,7799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip896)" />
<text x="862" y="7788" style="font:10px Open Sans">“网络分区“：集群的所有节点被划分成多个区域，区域内可通信，区域之间无法通信</text>
<clipPath id="clip897"><path d="M850,7800 L1383,7800 L1383,7845 L850,7845 L850,7800 Z" /></clipPath>
<path d="M852,7843 L1380,7843 Z M852,7843" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip897)" />
<text x="862" y="7817" style="font:10px Open Sans">设计容错系统的基本原则：网络永远是不可靠的，收到对方回复后才认为消息发送成功；</text>
<text x="862" y="7834" style="font:10px Open Sans">系统设计时总是假设网络将会出现异常并采取相应的处理措施</text>
<clipPath id="clip898"><path d="M756,7845 L1031,7845 L1031,7927 L756,7927 Z M757,7874 L757,7897 L830,7897 L830,7874 Z M757,7874 Z M757,7874" /></clipPath>
<path d="M843,7898 L843,7874 C843,7871.7929688 844.7929688,7870 847,7870 L852,7870" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip898)" />
<clipPath id="clip899"><path d="M756,7845 L1031,7845 L1031,7927 L756,7927 Z M757,7874 L757,7897 L830,7897 L830,7874 Z M757,7874 Z M757,7874" /></clipPath>
<path d="M843,7898 C843,7897.4492188 844.7929688,7897 847,7897 L852,7897" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip899)" />
<clipPath id="clip900"><path d="M756,7845 L1031,7845 L1031,7927 L756,7927 Z M757,7874 L757,7897 L830,7897 L830,7874 Z M757,7874 Z M757,7874" /></clipPath>
<path d="M843,7898 L843,7922 C843,7924.2070313 844.7929688,7926 847,7926 L852,7926" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip900)" />
<clipPath id="clip901"><path d="M755,7844 L1032,7844 L1032,7928 L755,7928 L755,7844 Z" /></clipPath>
<path d="M830,7898 L843,7898" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip901)" />
<clipPath id="clip902"><path d="M755,7872 L833,7872 L833,7900 L755,7900 L755,7872 Z" /></clipPath>
<path d="M757,7898 L830,7898 Z M757,7898" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip902)" />
<text x="767" y="7889" style="font:10px Open Sans">磁盘故障</text>
<clipPath id="clip903"><path d="M850,7844 L1019,7844 L1019,7872 L850,7872 L850,7844 Z" /></clipPath>
<path d="M852,7870 L1016,7870 Z M852,7870" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip903)" />
<text x="862" y="7861" style="font:10px Open Sans">磁盘损坏和磁盘数据错误</text>
<clipPath id="clip904"><path d="M850,7871 L1032,7871 L1032,7899 L850,7899 L850,7871 Z" /></clipPath>
<path d="M852,7897 L1029,7897 Z M852,7897" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip904)" />
<text x="862" y="7888" style="font:10px Open Sans">将数据存储在多台服务器上</text>
<clipPath id="clip905"><path d="M850,7898 L988,7898 L988,7928 L850,7928 L850,7898 Z" /></clipPath>
<path d="M852,7926 L985,7926 Z M852,7926" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip905)" />
<text x="862" y="7915" style="font:10px Open Sans">采用checksum机制</text>
<clipPath id="clip906"><path d="M661,7928 L1174,7928 L1174,8064 L661,8064 Z M662,7990 L662,8013 L709,8013 L709,7990 Z M662,7990 Z M662,7990" /></clipPath>
<path d="M722,8014 L722,7984 C722,7981.7929688 723.7929688,7980 726,7980 L731,7980" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip906)" />
<clipPath id="clip907"><path d="M661,7928 L1174,7928 L1174,8064 L661,8064 Z M662,7990 L662,8013 L709,8013 L709,7990 Z M662,7990 Z M662,7990" /></clipPath>
<path d="M722,8014 L722,8045 C722,8047.2070313 723.7929688,8049 726,8049 L731,8049" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip907)" />
<clipPath id="clip908"><path d="M660,7927 L1175,7927 L1175,8065 L660,8065 L660,7927 Z" /></clipPath>
<path d="M709,8014 L722,8014" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip908)" />
<clipPath id="clip909"><path d="M660,7988 L712,7988 L712,8016 L660,8016 L660,7988 Z" /></clipPath>
<path d="M662,8014 L709,8014 Z M662,8014" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip909)" />
<text x="672" y="8005" style="font:10px Open Sans">超时</text>
<clipPath id="clip910"><path d="M730,7928 L1107,7928 L1107,8008 L730,8008 Z M731,7954 L731,7979 L958,7979 L958,7954 Z M731,7954 Z M731,7954" /></clipPath>
<path d="M971,7980 L971,7957 C971,7954.7929688 972.7929688,7953 975,7953 L980,7953" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip910)" />
<clipPath id="clip911"><path d="M730,7928 L1107,7928 L1107,8008 L730,8008 Z M731,7954 L731,7979 L958,7979 L958,7954 Z M731,7954 Z M731,7954" /></clipPath>
<path d="M971,7980 C971,7980 972.7929688,7980 975,7980 L980,7980" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip911)" />
<clipPath id="clip912"><path d="M730,7928 L1107,7928 L1107,8008 L730,8008 Z M731,7954 L731,7979 L958,7979 L958,7954 Z M731,7954 Z M731,7954" /></clipPath>
<path d="M971,7980 L971,8003 C971,8005.2070313 972.7929688,8007 975,8007 L980,8007" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip912)" />
<clipPath id="clip913"><path d="M729,7927 L1108,7927 L1108,8009 L729,8009 L729,7927 Z" /></clipPath>
<path d="M958,7980 L971,7980" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip913)" />
<clipPath id="clip914"><path d="M729,7952 L961,7952 L961,7982 L729,7982 L729,7952 Z" /></clipPath>
<path d="M731,7980 L958,7980 Z M731,7980" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip914)" />
<text x="741" y="7969" style="font:10px Open Sans">分布式存储系统的三态（RPC调用）</text>
<clipPath id="clip915"><path d="M978,7927 L1030,7927 L1030,7955 L978,7955 L978,7927 Z" /></clipPath>
<path d="M980,7953 L1027,7953 Z M980,7953" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip915)" />
<text x="990" y="7944" style="font:10px Open Sans">成功</text>
<clipPath id="clip916"><path d="M978,7954 L1030,7954 L1030,7982 L978,7982 L978,7954 Z" /></clipPath>
<path d="M980,7980 L1027,7980 Z M980,7980" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip916)" />
<text x="990" y="7971" style="font:10px Open Sans">失败</text>
<clipPath id="clip917"><path d="M978,7981 L1108,7981 L1108,8009 L978,8009 L978,7981 Z" /></clipPath>
<path d="M980,8007 L1105,8007 Z M980,8007" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip917)" />
<text x="990" y="7998" style="font:10px Open Sans">超时（未知状态）</text>
<clipPath id="clip918"><path d="M730,8009 L1174,8009 L1174,8064 L730,8064 Z M731,8025 L731,8048 L843,8048 L843,8025 Z M731,8025 Z M731,8025" /></clipPath>
<path d="M856,8049 L856,8040 C856,8037.7929688 857.7929688,8036 860,8036 L865,8036" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip918)" />
<clipPath id="clip919"><path d="M730,8009 L1174,8009 L1174,8064 L730,8064 Z M731,8025 L731,8048 L843,8048 L843,8025 Z M731,8025 Z M731,8025" /></clipPath>
<path d="M856,8049 L856,8059 C856,8061.2070313 857.7929688,8063 860,8063 L865,8063" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip919)" />
<clipPath id="clip920"><path d="M729,8008 L1175,8008 L1175,8065 L729,8065 L729,8008 Z" /></clipPath>
<path d="M843,8049 L856,8049" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip920)" />
<clipPath id="clip921"><path d="M729,8023 L846,8023 L846,8051 L729,8051 L729,8023 Z" /></clipPath>
<path d="M731,8049 L843,8049 Z M731,8049" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip921)" />
<text x="741" y="8040" style="font:10px Open Sans">超时的处理方式</text>
<clipPath id="clip922"><path d="M863,8008 L1173,8008 L1173,8038 L863,8038 L863,8008 Z" /></clipPath>
<path d="M865,8036 L1170,8036 Z M865,8036" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip922)" />
<text x="875" y="8025" style="font:10px Open Sans">不断读取之前操作的状态来验证RPC操作是否成功</text>
<clipPath id="clip923"><path d="M863,8037 L1175,8037 L1175,8065 L863,8065 L863,8037 Z" /></clipPath>
<path d="M865,8063 L1172,8063 Z M865,8063" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip923)" />
<text x="875" y="8054" style="font:10px Open Sans">将操作设计为幂等的，失败和超时时重试直到成功</text>
<clipPath id="clip924"><path d="M592,8065 L1723,8065 L1723,8427 L592,8427 Z M593,8227 L593,8250 L653,8250 L653,8227 Z M593,8227 Z M593,8227" /></clipPath>
<path d="M666,8251 L666,8094 C666,8091.7929688 667.7929688,8090 670,8090 L675,8090" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip924)" />
<clipPath id="clip925"><path d="M592,8065 L1723,8065 L1723,8427 L592,8427 Z M593,8227 L593,8250 L653,8250 L653,8227 Z M593,8227 Z M593,8227" /></clipPath>
<path d="M666,8251 L666,8190 C666,8187.7929688 667.7929688,8186 670,8186 L675,8186" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip925)" />
<clipPath id="clip926"><path d="M592,8065 L1723,8065 L1723,8427 L592,8427 Z M593,8227 L593,8250 L653,8250 L653,8227 Z M593,8227 Z M593,8227" /></clipPath>
<path d="M666,8251 L666,8408 C666,8410.2070313 667.7929688,8412 670,8412 L675,8412" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip926)" />
<clipPath id="clip927"><path d="M591,8064 L1724,8064 L1724,8428 L591,8428 L591,8064 Z" /></clipPath>
<path d="M653,8251 L666,8251" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip927)" />
<clipPath id="clip928"><path d="M591,8225 L656,8225 L656,8253 L591,8253 L591,8225 Z" /></clipPath>
<path d="M593,8251 L653,8251 Z M593,8251" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip928)" />
<text x="603" y="8242" style="font:10px Open Sans">一致性</text>
<clipPath id="clip929"><path d="M673,8064 L920,8064 L920,8092 L673,8092 L673,8064 Z" /></clipPath>
<path d="M675,8090 L917,8090 Z M675,8090" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip929)" />
<text x="685" y="8081" style="font:10px Open Sans">副本是分布式存储系统容错的唯一手段</text>
<clipPath id="clip930"><path d="M674,8092 L1723,8092 L1723,8373 L674,8373 Z M675,8162 L675,8185 L787,8185 L787,8162 Z M675,8162 Z M675,8162" /></clipPath>
<path d="M800,8186 L800,8123 C800,8120.7929688 801.7929688,8119 804,8119 L809,8119" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip930)" />
<clipPath id="clip931"><path d="M674,8092 L1723,8092 L1723,8373 L674,8373 Z M675,8162 L675,8185 L787,8185 L787,8162 Z M675,8162 Z M675,8162" /></clipPath>
<path d="M800,8186 L800,8152 C800,8149.7929688 801.7929688,8148 804,8148 L809,8148" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip931)" />
<clipPath id="clip932"><path d="M674,8092 L1723,8092 L1723,8373 L674,8373 Z M675,8162 L675,8185 L787,8185 L787,8162 Z M675,8162 Z M675,8162" /></clipPath>
<path d="M800,8186 L800,8249 C800,8251.2070313 801.7929688,8253 804,8253 L809,8253" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip932)" />
<clipPath id="clip933"><path d="M673,8091 L1724,8091 L1724,8374 L673,8374 L673,8091 Z" /></clipPath>
<path d="M787,8186 L800,8186" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip933)" />
<clipPath id="clip934"><path d="M673,8160 L790,8160 L790,8188 L673,8188 L673,8160 Z" /></clipPath>
<path d="M675,8186 L787,8186 Z M675,8186" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip934)" />
<text x="685" y="8177" style="font:10px Open Sans">从客户端角度看</text>
<clipPath id="clip935"><path d="M808,8092 L1181,8092 L1181,8120 L808,8120 Z M809,8095 L809,8118 L882,8118 L882,8095 Z M809,8095 Z M809,8095" /></clipPath>
<path d="M895,8119 C895,8119 896.7929688,8119 899,8119 L904,8119" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip935)" />
<clipPath id="clip936"><path d="M807,8091 L1182,8091 L1182,8121 L807,8121 L807,8091 Z" /></clipPath>
<path d="M882,8119 L895,8119" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip936)" />
<clipPath id="clip937"><path d="M807,8093 L885,8093 L885,8121 L807,8121 L807,8093 Z" /></clipPath>
<path d="M809,8119 L882,8119 Z M809,8119" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip937)" />
<text x="819" y="8110" style="font:10px Open Sans">强一致性</text>
<clipPath id="clip938"><path d="M902,8091 L1182,8091 L1182,8121 L902,8121 L902,8091 Z" /></clipPath>
<path d="M904,8119 L1179,8119 Z M904,8119" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip938)" />
<text x="914" y="8108" style="font:10px Open Sans">A更新数据，后续A、B、C读取都返回最新值</text>
<clipPath id="clip939"><path d="M808,8121 L1220,8121 L1220,8149 L808,8149 Z M809,8124 L809,8147 L882,8147 L882,8124 Z M809,8124 Z M809,8124" /></clipPath>
<path d="M895,8148 C895,8148 896.7929688,8148 899,8148 L904,8148" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip939)" />
<clipPath id="clip940"><path d="M807,8120 L1221,8120 L1221,8150 L807,8150 L807,8120 Z" /></clipPath>
<path d="M882,8148 L895,8148" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip940)" />
<clipPath id="clip941"><path d="M807,8122 L885,8122 L885,8150 L807,8150 L807,8122 Z" /></clipPath>
<path d="M809,8148 L882,8148 Z M809,8148" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip941)" />
<text x="819" y="8139" style="font:10px Open Sans">弱一致性</text>
<clipPath id="clip942"><path d="M902,8120 L1221,8120 L1221,8150 L902,8150 L902,8120 Z" /></clipPath>
<path d="M904,8148 L1218,8148 Z M904,8148" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip942)" />
<text x="914" y="8137" style="font:10px Open Sans">A更新数据，不能保证后续A、B、C读取到最新数据</text>
<clipPath id="clip943"><path d="M808,8150 L1723,8150 L1723,8373 L808,8373 Z M809,8229 L809,8252 L895,8252 L895,8229 Z M809,8229 Z M809,8229" /></clipPath>
<path d="M908,8253 L908,8181 C908,8178.7929688 909.7929688,8177 912,8177 L917,8177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip943)" />
<clipPath id="clip944"><path d="M808,8150 L1723,8150 L1723,8373 L808,8373 Z M809,8229 L809,8252 L895,8252 L895,8229 Z M809,8229 Z M809,8229" /></clipPath>
<path d="M908,8253 L908,8235 C908,8232.7929688 909.7929688,8231 912,8231 L917,8231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip944)" />
<clipPath id="clip945"><path d="M808,8150 L1723,8150 L1723,8373 L808,8373 Z M809,8229 L809,8252 L895,8252 L895,8229 Z M809,8229 Z M809,8229" /></clipPath>
<path d="M908,8253 L908,8325 C908,8327.2070313 909.7929688,8329 912,8329 L917,8329" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip945)" />
<clipPath id="clip946"><path d="M807,8149 L1724,8149 L1724,8374 L807,8374 L807,8149 Z" /></clipPath>
<path d="M895,8253 L908,8253" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip946)" />
<clipPath id="clip947"><path d="M807,8227 L898,8227 L898,8255 L807,8255 L807,8227 Z" /></clipPath>
<path d="M809,8253 L895,8253 Z M809,8253" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip947)" />
<text x="819" y="8244" style="font:10px Open Sans">最终一致性</text>
<clipPath id="clip948"><path d="M915,8149 L1335,8149 L1335,8179 L915,8179 L915,8149 Z" /></clipPath>
<path d="M917,8177 L1332,8177 Z M917,8177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip948)" />
<text x="927" y="8166" style="font:10px Open Sans">A更新数据，如果没有写操作，A、B、C的读取“最终”都会得到最新值</text>
<clipPath id="clip949"><path d="M916,8179 L1279,8179 L1279,8259 L916,8259 Z M917,8205 L917,8230 L1078,8230 L1078,8205 Z M917,8205 Z M917,8205" /></clipPath>
<path d="M1091,8231 L1091,8208 C1091,8205.7929688 1092.7929688,8204 1095,8204 L1100,8204" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip949)" />
<clipPath id="clip950"><path d="M916,8179 L1279,8179 L1279,8259 L916,8259 Z M917,8205 L917,8230 L1078,8230 L1078,8205 Z M917,8205 Z M917,8205" /></clipPath>
<path d="M1091,8231 C1091,8231 1092.7929688,8231 1095,8231 L1100,8231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip950)" />
<clipPath id="clip951"><path d="M916,8179 L1279,8179 L1279,8259 L916,8259 Z M917,8205 L917,8230 L1078,8230 L1078,8205 Z M917,8205 Z M917,8205" /></clipPath>
<path d="M1091,8231 L1091,8254 C1091,8256.2070313 1092.7929688,8258 1095,8258 L1100,8258" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip951)" />
<clipPath id="clip952"><path d="M915,8178 L1280,8178 L1280,8260 L915,8260 L915,8178 Z" /></clipPath>
<path d="M1078,8231 L1091,8231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip952)" />
<clipPath id="clip953"><path d="M915,8203 L1081,8203 L1081,8233 L915,8233 L915,8203 Z" /></clipPath>
<path d="M917,8231 L1078,8231 Z M917,8231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip953)" />
<text x="927" y="8220" style="font:10px Open Sans">存在一个“不一致性窗口”</text>
<clipPath id="clip954"><path d="M1098,8178 L1176,8178 L1176,8206 L1098,8206 L1098,8178 Z" /></clipPath>
<path d="M1100,8204 L1173,8204 Z M1100,8204" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip954)" />
<text x="1110" y="8195" style="font:10px Open Sans">交互延迟</text>
<clipPath id="clip955"><path d="M1098,8205 L1176,8205 L1176,8233 L1098,8233 L1098,8205 Z" /></clipPath>
<path d="M1100,8231 L1173,8231 Z M1100,8231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip955)" />
<text x="1110" y="8222" style="font:10px Open Sans">系统负载</text>
<clipPath id="clip956"><path d="M1098,8232 L1280,8232 L1280,8260 L1098,8260 L1098,8232 Z" /></clipPath>
<path d="M1100,8258 L1277,8258 Z M1100,8258" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip956)" />
<text x="1110" y="8249" style="font:10px Open Sans">复制协议要求同步的副本数</text>
<clipPath id="clip957"><path d="M916,8260 L1723,8260 L1723,8373 L916,8373 Z M917,8305 L917,8328 L964,8328 L964,8305 Z M917,8305 Z M917,8305" /></clipPath>
<path d="M977,8329 L977,8291 C977,8288.7929688 978.7929688,8287 981,8287 L986,8287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip957)" />
<clipPath id="clip958"><path d="M916,8260 L1723,8260 L1723,8373 L916,8373 Z M917,8305 L917,8328 L964,8328 L964,8305 Z M917,8305 Z M917,8305" /></clipPath>
<path d="M977,8329 L977,8318 C977,8315.7929688 978.7929688,8314 981,8314 L986,8314" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip958)" />
<clipPath id="clip959"><path d="M916,8260 L1723,8260 L1723,8373 L916,8373 Z M917,8305 L917,8328 L964,8328 L964,8305 Z M917,8305 Z M917,8305" /></clipPath>
<path d="M977,8329 L977,8339 C977,8341.2070313 978.7929688,8343 981,8343 L986,8343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip959)" />
<clipPath id="clip960"><path d="M916,8260 L1723,8260 L1723,8373 L916,8373 Z M917,8305 L917,8328 L964,8328 L964,8305 Z M917,8305 Z M917,8305" /></clipPath>
<path d="M977,8329 L977,8368 C977,8370.2070313 978.7929688,8372 981,8372 L986,8372" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip960)" />
<clipPath id="clip961"><path d="M915,8259 L1724,8259 L1724,8374 L915,8374 L915,8259 Z" /></clipPath>
<path d="M964,8329 L977,8329" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip961)" />
<clipPath id="clip962"><path d="M915,8303 L967,8303 L967,8331 L915,8331 L915,8303 Z" /></clipPath>
<path d="M917,8329 L964,8329 Z M917,8329" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip962)" />
<text x="927" y="8320" style="font:10px Open Sans">变体</text>
<clipPath id="clip963"><path d="M985,8260 L1549,8260 L1549,8288 L985,8288 Z M986,8263 L986,8286 L1072,8286 L1072,8263 Z M986,8263 Z M986,8263" /></clipPath>
<path d="M1085,8287 C1085,8287 1086.7929688,8287 1089,8287 L1094,8287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip963)" />
<clipPath id="clip964"><path d="M984,8259 L1550,8259 L1550,8289 L984,8289 L984,8259 Z" /></clipPath>
<path d="M1072,8287 L1085,8287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip964)" />
<clipPath id="clip965"><path d="M984,8261 L1075,8261 L1075,8289 L984,8289 L984,8261 Z" /></clipPath>
<path d="M986,8287 L1072,8287 Z M986,8287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip965)" />
<text x="996" y="8278" style="font:10px Open Sans">读写一致性</text>
<clipPath id="clip966"><path d="M1092,8259 L1550,8259 L1550,8289 L1092,8289 L1092,8259 Z" /></clipPath>
<path d="M1094,8287 L1547,8287 Z M1094,8287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip966)" />
<text x="1104" y="8276" style="font:10px Open Sans">A更新数据，A的后续操作会读到最新值，但其他用户可能要过一会才能看到</text>
<clipPath id="clip967"><path d="M985,8289 L1442,8289 L1442,8315 L985,8315 Z M986,8290 L986,8313 L1072,8313 L1072,8290 Z M986,8290 Z M986,8290" /></clipPath>
<path d="M1085,8314 C1085,8314 1086.7929688,8314 1089,8314 L1094,8314" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip967)" />
<clipPath id="clip968"><path d="M984,8288 L1443,8288 L1443,8316 L984,8316 L984,8288 Z" /></clipPath>
<path d="M1072,8314 L1085,8314" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip968)" />
<clipPath id="clip969"><path d="M984,8288 L1075,8288 L1075,8316 L984,8316 L984,8288 Z" /></clipPath>
<path d="M986,8314 L1072,8314 Z M986,8314" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip969)" />
<text x="996" y="8305" style="font:10px Open Sans">会话一致性</text>
<clipPath id="clip970"><path d="M1092,8288 L1443,8288 L1443,8316 L1092,8316 L1092,8288 Z" /></clipPath>
<path d="M1094,8314 L1440,8314 Z M1094,8314" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip970)" />
<text x="1104" y="8305" style="font:10px Open Sans">客户端和存储系统的交互的整个会话期间保证读写一致性</text>
<clipPath id="clip971"><path d="M985,8316 L1489,8316 L1489,8344 L985,8344 Z M986,8319 L986,8342 L1085,8342 L1085,8319 Z M986,8319 Z M986,8319" /></clipPath>
<path d="M1098,8343 C1098,8343 1099.7929688,8343 1102,8343 L1107,8343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip971)" />
<clipPath id="clip972"><path d="M984,8315 L1490,8315 L1490,8345 L984,8345 L984,8315 Z" /></clipPath>
<path d="M1085,8343 L1098,8343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip972)" />
<clipPath id="clip973"><path d="M984,8317 L1088,8317 L1088,8345 L984,8345 L984,8317 Z" /></clipPath>
<path d="M986,8343 L1085,8343 Z M986,8343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip973)" />
<text x="996" y="8334" style="font:10px Open Sans">单调读一致性</text>
<clipPath id="clip974"><path d="M1105,8315 L1490,8315 L1490,8345 L1105,8345 L1105,8315 Z" /></clipPath>
<path d="M1107,8343 L1487,8343 Z M1107,8343" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip974)" />
<text x="1117" y="8332" style="font:10px Open Sans">如果A已经读取了某个对象的值，那么后续不会读取到更早的值</text>
<clipPath id="clip975"><path d="M985,8345 L1723,8345 L1723,8373 L985,8373 Z M986,8348 L986,8371 L1085,8371 L1085,8348 Z M986,8348 Z M986,8348" /></clipPath>
<path d="M1098,8372 C1098,8372 1099.7929688,8372 1102,8372 L1107,8372" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip975)" />
<clipPath id="clip976"><path d="M984,8344 L1724,8344 L1724,8374 L984,8374 L984,8344 Z" /></clipPath>
<path d="M1085,8372 L1098,8372" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip976)" />
<clipPath id="clip977"><path d="M984,8346 L1088,8346 L1088,8374 L984,8374 L984,8346 Z" /></clipPath>
<path d="M986,8372 L1085,8372 Z M986,8372" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip977)" />
<text x="996" y="8363" style="font:10px Open Sans">单调写一致性</text>
<clipPath id="clip978"><path d="M1105,8344 L1724,8344 L1724,8374 L1105,8374 L1105,8344 Z" /></clipPath>
<path d="M1107,8372 L1721,8372 Z M1107,8372" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip978)" />
<text x="1117" y="8361" style="font:10px Open Sans">A的写操作按顺序完成，即对同一个客户端的操作存储系统的多个副本需要按照与客户端相同的顺序完成</text>
<clipPath id="clip979"><path d="M674,8374 L1317,8374 L1317,8427 L674,8427 Z M675,8388 L675,8411 L800,8411 L800,8388 Z M675,8388 Z M675,8388" /></clipPath>
<path d="M813,8412 L813,8403 C813,8400.7929688 814.7929688,8399 817,8399 L822,8399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip979)" />
<clipPath id="clip980"><path d="M674,8374 L1317,8374 L1317,8427 L674,8427 Z M675,8388 L675,8411 L800,8411 L800,8388 Z M675,8388 Z M675,8388" /></clipPath>
<path d="M813,8412 L813,8422 C813,8424.2070313 814.7929688,8426 817,8426 L822,8426" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip980)" />
<clipPath id="clip981"><path d="M673,8373 L1318,8373 L1318,8428 L673,8428 L673,8373 Z" /></clipPath>
<path d="M800,8412 L813,8412" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip981)" />
<clipPath id="clip982"><path d="M673,8386 L803,8386 L803,8414 L673,8414 L673,8386 Z" /></clipPath>
<path d="M675,8412 L800,8412 Z M675,8412" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip982)" />
<text x="685" y="8403" style="font:10px Open Sans">从存储系统角度看</text>
<clipPath id="clip983"><path d="M821,8374 L1317,8374 L1317,8400 L821,8400 Z M822,8375 L822,8398 L908,8398 L908,8375 Z M822,8375 Z M822,8375" /></clipPath>
<path d="M921,8399 C921,8399 922.7929688,8399 925,8399 L930,8399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip983)" />
<clipPath id="clip984"><path d="M820,8373 L1318,8373 L1318,8401 L820,8401 L820,8373 Z" /></clipPath>
<path d="M908,8399 L921,8399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip984)" />
<clipPath id="clip985"><path d="M820,8373 L911,8373 L911,8401 L820,8401 L820,8373 Z" /></clipPath>
<path d="M822,8399 L908,8399 Z M822,8399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip985)" />
<text x="832" y="8390" style="font:10px Open Sans">副本一致性</text>
<clipPath id="clip986"><path d="M928,8373 L1318,8373 L1318,8401 L928,8401 L928,8373 Z" /></clipPath>
<path d="M930,8399 L1315,8399 Z M930,8399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip986)" />
<text x="940" y="8390" style="font:10px Open Sans">存储系统的多个副本之间的数据是否一直，不一致的时间窗口等</text>
<clipPath id="clip987"><path d="M821,8401 L1317,8401 L1317,8427 L821,8427 Z M822,8402 L822,8425 L934,8425 L934,8402 Z M822,8402 Z M822,8402" /></clipPath>
<path d="M947,8426 C947,8426 948.7929688,8426 951,8426 L956,8426" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip987)" />
<clipPath id="clip988"><path d="M820,8400 L1318,8400 L1318,8428 L820,8428 L820,8400 Z" /></clipPath>
<path d="M934,8426 L947,8426" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip988)" />
<clipPath id="clip989"><path d="M820,8400 L937,8400 L937,8428 L820,8428 L820,8400 Z" /></clipPath>
<path d="M822,8426 L934,8426 Z M822,8426" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip989)" />
<text x="832" y="8417" style="font:10px Open Sans">更新顺序一致性</text>
<clipPath id="clip990"><path d="M954,8400 L1318,8400 L1318,8428 L954,8428 L954,8400 Z" /></clipPath>
<path d="M956,8426 L1315,8426 Z M956,8426" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip990)" />
<text x="966" y="8417" style="font:10px Open Sans">存储系统的多个副本之间是否按照相同的顺序执行更新操作</text>
<clipPath id="clip991"><path d="M592,8428 L1430,8428 L1430,8813 L592,8813 Z M593,8647 L593,8670 L666,8670 L666,8647 Z M593,8647 Z M593,8647" /></clipPath>
<path d="M679,8671 L679,8548 C679,8545.7929688 680.7929688,8544 683,8544 L688,8544" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip991)" />
<clipPath id="clip992"><path d="M592,8428 L1430,8428 L1430,8813 L592,8813 Z M593,8647 L593,8670 L666,8670 L666,8647 Z M593,8647 Z M593,8647" /></clipPath>
<path d="M679,8671 C679,8673.2070313 680.7929688,8675 683,8675 L688,8675" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip992)" />
<clipPath id="clip993"><path d="M592,8428 L1430,8428 L1430,8813 L592,8813 Z M593,8647 L593,8670 L666,8670 L666,8647 Z M593,8647 Z M593,8647" /></clipPath>
<path d="M679,8671 L679,8739 C679,8741.2070313 680.7929688,8743 683,8743 L688,8743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip993)" />
<clipPath id="clip994"><path d="M592,8428 L1430,8428 L1430,8813 L592,8813 Z M593,8647 L593,8670 L666,8670 L666,8647 Z M593,8647 Z M593,8647" /></clipPath>
<path d="M679,8671 L679,8794 C679,8796.2070313 680.7929688,8798 683,8798 L688,8798" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip994)" />
<clipPath id="clip995"><path d="M591,8427 L1431,8427 L1431,8814 L591,8814 L591,8427 Z" /></clipPath>
<path d="M666,8671 L679,8671" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip995)" />
<clipPath id="clip996"><path d="M591,8645 L669,8645 L669,8673 L591,8673 L591,8645 Z" /></clipPath>
<path d="M593,8671 L666,8671 Z M593,8671" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip996)" />
<text x="603" y="8662" style="font:10px Open Sans">衡量指标</text>
<clipPath id="clip997"><path d="M687,8428 L1226,8428 L1226,8622 L687,8622 Z M688,8520 L688,8543 L735,8543 L735,8520 Z M688,8520 Z M688,8520" /></clipPath>
<path d="M748,8544 L748,8486 C748,8483.7929688 749.7929688,8482 752,8482 L757,8482" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip997)" />
<clipPath id="clip998"><path d="M687,8428 L1226,8428 L1226,8622 L687,8622 Z M688,8520 L688,8543 L735,8543 L735,8520 Z M688,8520 Z M688,8520" /></clipPath>
<path d="M748,8544 L748,8548 C748,8550.2070313 749.7929688,8552 752,8552 L757,8552" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip998)" />
<clipPath id="clip999"><path d="M687,8428 L1226,8428 L1226,8622 L687,8622 Z M688,8520 L688,8543 L735,8543 L735,8520 Z M688,8520 Z M688,8520" /></clipPath>
<path d="M748,8544 L748,8603 C748,8605.2070313 749.7929688,8607 752,8607 L757,8607" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip999)" />
<clipPath id="clip1000"><path d="M686,8427 L1227,8427 L1227,8623 L686,8623 L686,8427 Z" /></clipPath>
<path d="M735,8544 L748,8544" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1000)" />
<clipPath id="clip1001"><path d="M686,8518 L738,8518 L738,8546 L686,8546 L686,8518 Z" /></clipPath>
<path d="M688,8544 L735,8544 Z M688,8544" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1001)" />
<text x="698" y="8535" style="font:10px Open Sans">性能</text>
<clipPath id="clip1002"><path d="M756,8428 L1109,8428 L1109,8512 L756,8512 Z M757,8458 L757,8481 L830,8481 L830,8458 Z M757,8458 Z M757,8458" /></clipPath>
<path d="M843,8482 L843,8457 C843,8454.7929688 844.7929688,8453 847,8453 L852,8453" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1002)" />
<clipPath id="clip1003"><path d="M756,8428 L1109,8428 L1109,8512 L756,8512 Z M757,8458 L757,8481 L830,8481 L830,8458 Z M757,8458 Z M757,8458" /></clipPath>
<path d="M843,8482 C843,8482 844.7929688,8482 847,8482 L852,8482" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1003)" />
<clipPath id="clip1004"><path d="M756,8428 L1109,8428 L1109,8512 L756,8512 Z M757,8458 L757,8481 L830,8481 L830,8458 Z M757,8458 Z M757,8458" /></clipPath>
<path d="M843,8482 L843,8507 C843,8509.2070313 844.7929688,8511 847,8511 L852,8511" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1004)" />
<clipPath id="clip1005"><path d="M755,8427 L1110,8427 L1110,8513 L755,8513 L755,8427 Z" /></clipPath>
<path d="M830,8482 L843,8482" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1005)" />
<clipPath id="clip1006"><path d="M755,8456 L833,8456 L833,8484 L755,8484 L755,8456 Z" /></clipPath>
<path d="M757,8482 L830,8482 Z M757,8482" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1006)" />
<text x="767" y="8473" style="font:10px Open Sans">吞吐能力</text>
<clipPath id="clip1007"><path d="M850,8427 L1110,8427 L1110,8455 L850,8455 L850,8427 Z" /></clipPath>
<path d="M852,8453 L1107,8453 Z M852,8453" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1007)" />
<text x="862" y="8444" style="font:10px Open Sans">系统在某一段时间内可以处理的请求总数</text>
<clipPath id="clip1008"><path d="M850,8454 L1031,8454 L1031,8484 L850,8484 L850,8454 Z" /></clipPath>
<path d="M852,8482 L1028,8482 Z M852,8482" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1008)" />
<text x="862" y="8471" style="font:10px Open Sans">QPS：每秒处理的读操作数</text>
<clipPath id="clip1009"><path d="M850,8483 L1028,8483 L1028,8513 L850,8513 L850,8483 Z" /></clipPath>
<path d="M852,8511 L1025,8511 Z M852,8511" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1009)" />
<text x="862" y="8500" style="font:10px Open Sans">TPS：每秒处理的写操作数</text>
<clipPath id="clip1010"><path d="M756,8513 L1174,8513 L1174,8568 L756,8568 Z M757,8528 L757,8551 L830,8551 L830,8528 Z M757,8528 Z M757,8528" /></clipPath>
<path d="M843,8552 L843,8542 C843,8539.7929688 844.7929688,8538 847,8538 L852,8538" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1010)" />
<clipPath id="clip1011"><path d="M756,8513 L1174,8513 L1174,8568 L756,8568 Z M757,8528 L757,8551 L830,8551 L830,8528 Z M757,8528 Z M757,8528" /></clipPath>
<path d="M843,8552 L843,8563 C843,8565.2070313 844.7929688,8567 847,8567 L852,8567" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1011)" />
<clipPath id="clip1012"><path d="M755,8512 L1175,8512 L1175,8569 L755,8569 L755,8512 Z" /></clipPath>
<path d="M830,8552 L843,8552" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1012)" />
<clipPath id="clip1013"><path d="M755,8526 L833,8526 L833,8554 L755,8554 L755,8526 Z" /></clipPath>
<path d="M757,8552 L830,8552 Z M757,8552" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1013)" />
<text x="767" y="8543" style="font:10px Open Sans">响应时间</text>
<clipPath id="clip1014"><path d="M850,8512 L1136,8512 L1136,8540 L850,8540 L850,8512 Z" /></clipPath>
<path d="M852,8538 L1133,8538 Z M852,8538" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1014)" />
<text x="862" y="8529" style="font:10px Open Sans">从某个请求发出到接收到返回结果消耗的时间</text>
<clipPath id="clip1015"><path d="M850,8539 L1175,8539 L1175,8569 L850,8569 L850,8539 Z" /></clipPath>
<path d="M852,8567 L1172,8567 Z M852,8567" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1015)" />
<text x="862" y="8556" style="font:10px Open Sans">通常用平均延时或99.9%以上请求的最大延时来衡量</text>
<clipPath id="clip1016"><path d="M756,8569 L1226,8569 L1226,8622 L756,8622 Z M757,8583 L757,8606 L986,8606 L986,8583 Z M757,8583 Z M757,8583" /></clipPath>
<path d="M999,8607 L999,8598 C999,8595.7929688 1000.7929688,8594 1003,8594 L1008,8594" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1016)" />
<clipPath id="clip1017"><path d="M756,8569 L1226,8569 L1226,8622 L756,8622 Z M757,8583 L757,8606 L986,8606 L986,8583 Z M757,8583 Z M757,8583" /></clipPath>
<path d="M999,8607 L999,8617 C999,8619.2070313 1000.7929688,8621 1003,8621 L1008,8621" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1017)" />
<clipPath id="clip1018"><path d="M755,8568 L1227,8568 L1227,8623 L755,8623 L755,8568 Z" /></clipPath>
<path d="M986,8607 L999,8607" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1018)" />
<clipPath id="clip1019"><path d="M755,8581 L989,8581 L989,8609 L755,8609 L755,8581 Z" /></clipPath>
<path d="M757,8607 L986,8607 Z M757,8607" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1019)" />
<text x="767" y="8598" style="font:10px Open Sans">这两个指标往往是矛盾的，需要权衡</text>
<clipPath id="clip1020"><path d="M1006,8568 L1227,8568 L1227,8596 L1006,8596 L1006,8568 Z" /></clipPath>
<path d="M1008,8594 L1224,8594 Z M1008,8594" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1020)" />
<text x="1018" y="8585" style="font:10px Open Sans">追求高吞吐，往往很难做到低延迟</text>
<clipPath id="clip1021"><path d="M1006,8595 L1227,8595 L1227,8623 L1006,8623 L1006,8595 Z" /></clipPath>
<path d="M1008,8621 L1224,8621 Z M1008,8621" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1021)" />
<text x="1018" y="8612" style="font:10px Open Sans">追求低延迟，吞吐量也会受到限制</text>
<clipPath id="clip1022"><path d="M687,8623 L1079,8623 L1079,8703 L687,8703 Z M688,8651 L688,8674 L748,8674 L748,8651 Z M688,8651 Z M688,8651" /></clipPath>
<path d="M761,8675 L761,8652 C761,8649.7929688 762.7929688,8648 765,8648 L770,8648" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1022)" />
<clipPath id="clip1023"><path d="M687,8623 L1079,8623 L1079,8703 L687,8703 Z M688,8651 L688,8674 L748,8674 L748,8651 Z M688,8651 Z M688,8651" /></clipPath>
<path d="M761,8675 C761,8675 762.7929688,8675 765,8675 L770,8675" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1023)" />
<clipPath id="clip1024"><path d="M687,8623 L1079,8623 L1079,8703 L687,8703 Z M688,8651 L688,8674 L748,8674 L748,8651 Z M688,8651 Z M688,8651" /></clipPath>
<path d="M761,8675 L761,8698 C761,8700.2070313 762.7929688,8702 765,8702 L770,8702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1024)" />
<clipPath id="clip1025"><path d="M686,8622 L1080,8622 L1080,8704 L686,8704 L686,8622 Z" /></clipPath>
<path d="M748,8675 L761,8675" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1025)" />
<clipPath id="clip1026"><path d="M686,8649 L751,8649 L751,8677 L686,8677 L686,8649 Z" /></clipPath>
<path d="M688,8675 L748,8675 Z M688,8675" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1026)" />
<text x="698" y="8666" style="font:10px Open Sans">可用性</text>
<clipPath id="clip1027"><path d="M768,8622 L1067,8622 L1067,8650 L768,8650 L768,8622 Z" /></clipPath>
<path d="M770,8648 L1064,8648 Z M770,8648" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1027)" />
<text x="780" y="8639" style="font:10px Open Sans">系统在面对各种异常时可以提供正常服务的能力</text>
<clipPath id="clip1028"><path d="M768,8649 L1080,8649 L1080,8677 L768,8677 L768,8649 Z" /></clipPath>
<path d="M770,8675 L1077,8675 Z M770,8675" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1028)" />
<text x="780" y="8666" style="font:10px Open Sans">可以用系统停服时间与正常服务时间的比例来衡量</text>
<clipPath id="clip1029"><path d="M768,8676 L1067,8676 L1067,8704 L768,8704 L768,8676 Z" /></clipPath>
<path d="M770,8702 L1064,8702 Z M770,8702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1029)" />
<text x="780" y="8693" style="font:10px Open Sans">可用性往往体现了系统整体代码质量和容错能力</text>
<clipPath id="clip1030"><path d="M687,8704 L1430,8704 L1430,8759 L687,8759 Z M688,8719 L688,8742 L748,8742 L748,8719 Z M688,8719 Z M688,8719" /></clipPath>
<path d="M761,8743 L761,8733 C761,8730.7929688 762.7929688,8729 765,8729 L770,8729" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1030)" />
<clipPath id="clip1031"><path d="M687,8704 L1430,8704 L1430,8759 L687,8759 Z M688,8719 L688,8742 L748,8742 L748,8719 Z M688,8719 Z M688,8719" /></clipPath>
<path d="M761,8743 L761,8754 C761,8756.2070313 762.7929688,8758 765,8758 L770,8758" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1031)" />
<clipPath id="clip1032"><path d="M686,8703 L1431,8703 L1431,8760 L686,8760 L686,8703 Z" /></clipPath>
<path d="M748,8743 L761,8743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1032)" />
<clipPath id="clip1033"><path d="M686,8717 L751,8717 L751,8745 L686,8745 L686,8717 Z" /></clipPath>
<path d="M688,8743 L748,8743 Z M688,8743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1033)" />
<text x="698" y="8734" style="font:10px Open Sans">一致性</text>
<clipPath id="clip1034"><path d="M768,8703 L1431,8703 L1431,8731 L768,8731 L768,8703 Z" /></clipPath>
<path d="M770,8729 L1428,8729 Z M770,8729" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1034)" />
<text x="780" y="8720" style="font:10px Open Sans">系统部署在同一个数据中心内，只要系统设计合理，在保证强一致性的前提下不会对性能和可用性造成太大影响</text>
<clipPath id="clip1035"><path d="M768,8730 L1152,8730 L1152,8760 L768,8760 L768,8730 Z" /></clipPath>
<path d="M770,8758 L1149,8758 Z M770,8758" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1035)" />
<text x="780" y="8747" style="font:10px Open Sans">Ali的OceanBase和Google的分布式存储系统都倾向于强一致性</text>
<clipPath id="clip1036"><path d="M687,8760 L1261,8760 L1261,8813 L687,8813 Z M688,8774 L688,8797 L761,8797 L761,8774 Z M688,8774 Z M688,8774" /></clipPath>
<path d="M774,8798 L774,8789 C774,8786.7929688 775.7929688,8785 778,8785 L783,8785" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1036)" />
<clipPath id="clip1037"><path d="M687,8760 L1261,8760 L1261,8813 L687,8813 Z M688,8774 L688,8797 L761,8797 L761,8774 Z M688,8774 Z M688,8774" /></clipPath>
<path d="M774,8798 L774,8808 C774,8810.2070313 775.7929688,8812 778,8812 L783,8812" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1037)" />
<clipPath id="clip1038"><path d="M686,8759 L1262,8759 L1262,8814 L686,8814 L686,8759 Z" /></clipPath>
<path d="M761,8798 L774,8798" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1038)" />
<clipPath id="clip1039"><path d="M686,8772 L764,8772 L764,8800 L686,8800 L686,8772 Z" /></clipPath>
<path d="M688,8798 L761,8798 Z M688,8798" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1039)" />
<text x="698" y="8789" style="font:10px Open Sans">可扩展性</text>
<clipPath id="clip1040"><path d="M781,8759 L1262,8759 L1262,8787 L781,8787 L781,8759 Z" /></clipPath>
<path d="M783,8785 L1259,8785 Z M783,8785" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1040)" />
<text x="793" y="8776" style="font:10px Open Sans">分布式系统通过扩展集群服务器规模来提高系统存储容量、计算量和性能的能力</text>
<clipPath id="clip1041"><path d="M781,8786 L937,8786 L937,8814 L781,8814 L781,8786 Z" /></clipPath>
<path d="M783,8812 L934,8812 Z M783,8812" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1041)" />
<text x="793" y="8803" style="font:10px Open Sans">理想状态：线性可扩展</text>
<clipPath id="clip1042"><path d="M497,8814 L798,8814 L798,8921 L497,8921 Z M498,8855 L498,8878 L571,8878 L571,8855 Z M498,8855 Z M498,8855" /></clipPath>
<path d="M584,8879 L584,8843 C584,8840.7929688 585.7929688,8839 588,8839 L593,8839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1042)" />
<clipPath id="clip1043"><path d="M497,8814 L798,8814 L798,8921 L497,8921 Z M498,8855 L498,8878 L571,8878 L571,8855 Z M498,8855 Z M498,8855" /></clipPath>
<path d="M584,8879 L584,8870 C584,8867.7929688 585.7929688,8866 588,8866 L593,8866" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1043)" />
<clipPath id="clip1044"><path d="M497,8814 L798,8814 L798,8921 L497,8921 Z M498,8855 L498,8878 L571,8878 L571,8855 Z M498,8855 Z M498,8855" /></clipPath>
<path d="M584,8879 L584,8889 C584,8891.2070313 585.7929688,8893 588,8893 L593,8893" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1044)" />
<clipPath id="clip1045"><path d="M497,8814 L798,8814 L798,8921 L497,8921 Z M498,8855 L498,8878 L571,8878 L571,8855 Z M498,8855 Z M498,8855" /></clipPath>
<path d="M584,8879 L584,8916 C584,8918.2070313 585.7929688,8920 588,8920 L593,8920" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1045)" />
<clipPath id="clip1046"><path d="M496,8813 L799,8813 L799,8922 L496,8922 L496,8813 Z" /></clipPath>
<path d="M571,8879 L584,8879" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1046)" />
<clipPath id="clip1047"><path d="M496,8853 L574,8853 L574,8881 L496,8881 L496,8853 Z" /></clipPath>
<path d="M498,8879 L571,8879 Z M498,8879" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1047)" />
<text x="508" y="8870" style="font:10px Open Sans">性能分析</text>
<clipPath id="clip1048"><path d="M591,8813 L799,8813 L799,8841 L591,8841 L591,8813 Z" /></clipPath>
<path d="M593,8839 L796,8839 Z M593,8839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1048)" />
<text x="603" y="8830" style="font:10px Open Sans">在系统设计之处估算系统的性能</text>
<clipPath id="clip1049"><path d="M591,8840 L786,8840 L786,8868 L591,8868 L591,8840 Z" /></clipPath>
<path d="M593,8866 L783,8866 Z M593,8866" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1049)" />
<text x="603" y="8857" style="font:10px Open Sans">判断设计方案是否存在瓶颈点</text>
<clipPath id="clip1050"><path d="M591,8867 L695,8867 L695,8895 L591,8895 L591,8867 Z" /></clipPath>
<path d="M593,8893 L692,8893 Z M593,8893" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1050)" />
<text x="603" y="8884" style="font:10px Open Sans">权衡多种方案</text>
<clipPath id="clip1051"><path d="M591,8894 L760,8894 L760,8922 L591,8922 L591,8894 Z" /></clipPath>
<path d="M593,8920 L757,8920 Z M593,8920" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1051)" />
<text x="603" y="8911" style="font:10px Open Sans">作为后续性能优化的依据</text>
<clipPath id="clip1052"><path d="M497,8922 L1902,8922 L1902,9477 L497,9477 Z M498,9245 L498,9268 L571,9268 L571,9245 Z M498,9245 Z M498,9245" /></clipPath>
<path d="M584,9269 L584,9093 C584,9090.7929688 585.7929688,9089 588,9089 L593,9089" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1052)" />
<clipPath id="clip1053"><path d="M497,8922 L1902,8922 L1902,9477 L497,9477 Z M498,9245 L498,9268 L571,9268 L571,9245 Z M498,9245 Z M498,9245" /></clipPath>
<path d="M584,9269 L584,9336 C584,9338.2070313 585.7929688,9340 588,9340 L593,9340" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1053)" />
<clipPath id="clip1054"><path d="M497,8922 L1902,8922 L1902,9477 L497,9477 Z M498,9245 L498,9268 L571,9268 L571,9245 Z M498,9245 Z M498,9245" /></clipPath>
<path d="M584,9269 L584,9445 C584,9447.2070313 585.7929688,9449 588,9449 L593,9449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1054)" />
<clipPath id="clip1055"><path d="M496,8921 L1903,8921 L1903,9478 L496,9478 L496,8921 Z" /></clipPath>
<path d="M571,9269 L584,9269" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1055)" />
<clipPath id="clip1056"><path d="M496,9243 L574,9243 L574,9271 L496,9271 L496,9243 Z" /></clipPath>
<path d="M498,9269 L571,9269 Z M498,9269" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1056)" />
<text x="508" y="9260" style="font:10px Open Sans">数据分布</text>
<clipPath id="clip1057"><path d="M592,8922 L1902,8922 L1902,9230 L592,9230 Z M593,9065 L593,9088 L666,9088 L666,9065 Z M593,9065 Z M593,9065" /></clipPath>
<path d="M679,9089 L679,8953 C679,8950.7929688 680.7929688,8949 683,8949 L688,8949" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1057)" />
<clipPath id="clip1058"><path d="M592,8922 L1902,8922 L1902,9230 L592,9230 Z M593,9065 L593,9088 L666,9088 L666,9065 Z M593,9065 Z M593,9065" /></clipPath>
<path d="M679,9089 L679,8980 C679,8977.7929688 680.7929688,8976 683,8976 L688,8976" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1058)" />
<clipPath id="clip1059"><path d="M592,8922 L1902,8922 L1902,9230 L592,9230 Z M593,9065 L593,9088 L666,9088 L666,9065 Z M593,9065 Z M593,9065" /></clipPath>
<path d="M679,9089 L679,9055 C679,9052.7929688 680.7929688,9051 683,9051 L688,9051" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1059)" />
<clipPath id="clip1060"><path d="M592,8922 L1902,8922 L1902,9230 L592,9230 Z M593,9065 L593,9088 L666,9088 L666,9065 Z M593,9065 Z M593,9065" /></clipPath>
<path d="M679,9089 L679,9225 C679,9227.2070313 680.7929688,9229 683,9229 L688,9229" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1060)" />
<clipPath id="clip1061"><path d="M591,8921 L1903,8921 L1903,9231 L591,9231 L591,8921 Z" /></clipPath>
<path d="M666,9089 L679,9089" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1061)" />
<clipPath id="clip1062"><path d="M591,9063 L669,9063 L669,9091 L591,9091 L591,9063 Z" /></clipPath>
<path d="M593,9089 L666,9089 Z M593,9089" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1062)" />
<text x="603" y="9080" style="font:10px Open Sans">哈希分布</text>
<clipPath id="clip1063"><path d="M686,8921 L764,8921 L764,8951 L686,8951 L686,8921 Z" /></clipPath>
<path d="M688,8949 L761,8949 Z M688,8949" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1063)" />
<text x="698" y="8938" style="font:10px Open Sans">Dynamo</text>
<clipPath id="clip1064"><path d="M686,8950 L1401,8950 L1401,8978 L686,8978 L686,8950 Z" /></clipPath>
<path d="M688,8976 L1398,8976 Z M688,8976" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1064)" />
<text x="698" y="8967" style="font:10px Open Sans">根据数据的某一种特征计算哈希值，并将哈希值与集群中的服务器建立映射关系（取模），从而将数据分散到各个服务器</text>
<clipPath id="clip1065"><path d="M687,8978 L1902,8978 L1902,9203 L687,9203 Z M688,9027 L688,9050 L865,9050 L865,9027 Z M688,9027 Z M688,9027" /></clipPath>
<path d="M878,9051 L878,9007 C878,9004.7929688 879.7929688,9003 882,9003 L887,9003" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1065)" />
<clipPath id="clip1066"><path d="M687,8978 L1902,8978 L1902,9203 L687,9203 Z M688,9027 L688,9050 L865,9050 L865,9027 Z M688,9027 Z M688,9027" /></clipPath>
<path d="M878,9051 L878,9034 C878,9031.7929688 879.7929688,9030 882,9030 L887,9030" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1066)" />
<clipPath id="clip1067"><path d="M687,8978 L1902,8978 L1902,9203 L687,9203 Z M688,9027 L688,9050 L865,9050 L865,9027 Z M688,9027 Z M688,9027" /></clipPath>
<path d="M878,9051 L878,9096 C878,9098.2070313 879.7929688,9100 882,9100 L887,9100" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1067)" />
<clipPath id="clip1068"><path d="M686,8977 L1903,8977 L1903,9204 L686,9204 L686,8977 Z" /></clipPath>
<path d="M865,9051 L878,9051" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1068)" />
<clipPath id="clip1069"><path d="M686,9025 L868,9025 L868,9053 L686,9053 L686,9025 Z" /></clipPath>
<path d="M688,9051 L865,9051 Z M688,9051" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1069)" />
<text x="698" y="9042" style="font:10px Open Sans">避免大用户数据倾斜的问题</text>
<clipPath id="clip1070"><path d="M885,8977 L1249,8977 L1249,9005 L885,9005 L885,8977 Z" /></clipPath>
<path d="M887,9003 L1246,9003 Z M887,9003" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1070)" />
<text x="897" y="8994" style="font:10px Open Sans">手动拆分：线下标记大用户，并将数据拆分到多台服务器上</text>
<clipPath id="clip1071"><path d="M885,9004 L1366,9004 L1366,9032 L885,9032 L885,9004 Z" /></clipPath>
<path d="M887,9030 L1363,9030 Z M887,9030" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1071)" />
<text x="897" y="9021" style="font:10px Open Sans">自动拆分：数据分布算法能够动态调整，自动将大用户的数据拆分到多台服务器</text>
<clipPath id="clip1072"><path d="M886,9032 L1902,9032 L1902,9203 L886,9203 Z M887,9076 L887,9099 L1272,9099 L1272,9076 Z M887,9076 Z M887,9076" /></clipPath>
<path d="M1285,9100 L1285,9061 C1285,9058.7929688 1286.7929688,9057 1289,9057 L1294,9057" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1072)" />
<clipPath id="clip1073"><path d="M886,9032 L1902,9032 L1902,9203 L886,9203 Z M887,9076 L887,9099 L1272,9099 L1272,9076 Z M887,9076 Z M887,9076" /></clipPath>
<path d="M1285,9100 L1285,9140 C1285,9142.2070313 1286.7929688,9144 1289,9144 L1294,9144" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1073)" />
<clipPath id="clip1074"><path d="M885,9031 L1903,9031 L1903,9204 L885,9204 L885,9031 Z" /></clipPath>
<path d="M1272,9100 L1285,9100" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1074)" />
<clipPath id="clip1075"><path d="M885,9074 L1275,9074 L1275,9102 L885,9102 L885,9074 Z" /></clipPath>
<path d="M887,9100 L1272,9100 Z M887,9100" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1075)" />
<text x="897" y="9091" style="font:10px Open Sans">按服务器数量取模的方式，当服务器下线时，需要大量数据迁移</text>
<clipPath id="clip1076"><path d="M1292,9031 L1747,9031 L1747,9059 L1292,9059 L1292,9031 Z" /></clipPath>
<path d="M1294,9057 L1744,9057 Z M1294,9057" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1076)" />
<text x="1304" y="9048" style="font:10px Open Sans">方案一：将哈希值与服务器的对应关系作为元数据，交给元数据服务器管理</text>
<clipPath id="clip1077"><path d="M1293,9059 L1902,9059 L1902,9203 L1293,9203 Z M1294,9120 L1294,9143 L1458,9143 L1458,9120 Z M1294,9120 Z M1294,9120" /></clipPath>
<path d="M1471,9144 L1471,9090 C1471,9087.7929688 1472.7929688,9086 1475,9086 L1480,9086" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1077)" />
<clipPath id="clip1078"><path d="M1293,9059 L1902,9059 L1902,9203 L1293,9203 Z M1294,9120 L1294,9143 L1458,9143 L1458,9120 Z M1294,9120 Z M1294,9120" /></clipPath>
<path d="M1471,9144 L1471,9119 C1471,9116.7929688 1472.7929688,9115 1475,9115 L1480,9115" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1078)" />
<clipPath id="clip1079"><path d="M1293,9059 L1902,9059 L1902,9203 L1293,9203 Z M1294,9120 L1294,9143 L1458,9143 L1458,9120 Z M1294,9120 Z M1294,9120" /></clipPath>
<path d="M1471,9144 C1471,9144 1472.7929688,9144 1475,9144 L1480,9144" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1079)" />
<clipPath id="clip1080"><path d="M1293,9059 L1902,9059 L1902,9203 L1293,9203 Z M1294,9120 L1294,9143 L1458,9143 L1458,9120 Z M1294,9120 Z M1294,9120" /></clipPath>
<path d="M1471,9144 L1471,9169 C1471,9171.2070313 1472.7929688,9173 1475,9173 L1480,9173" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1080)" />
<clipPath id="clip1081"><path d="M1293,9059 L1902,9059 L1902,9203 L1293,9203 Z M1294,9120 L1294,9143 L1458,9143 L1458,9120 Z M1294,9120 Z M1294,9120" /></clipPath>
<path d="M1471,9144 L1471,9198 C1471,9200.2070313 1472.7929688,9202 1475,9202 L1480,9202" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1081)" />
<clipPath id="clip1082"><path d="M1292,9058 L1903,9058 L1903,9204 L1292,9204 L1292,9058 Z" /></clipPath>
<path d="M1458,9144 L1471,9144" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1082)" />
<clipPath id="clip1083"><path d="M1292,9118 L1461,9118 L1461,9146 L1292,9146 L1292,9118 Z" /></clipPath>
<path d="M1294,9144 L1458,9144 Z M1294,9144" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1083)" />
<text x="1304" y="9135" style="font:10px Open Sans">方案二：一致性哈希算法</text>
<clipPath id="clip1084"><path d="M1478,9058 L1721,9058 L1721,9088 L1478,9088 L1478,9058 Z" /></clipPath>
<path d="M1480,9086 L1718,9086 Z M1480,9086" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1084)" />
<text x="1490" y="9075" style="font:10px Open Sans">给系统中每个节点分配一个随机token</text>
<clipPath id="clip1085"><path d="M1478,9087 L1656,9087 L1656,9117 L1478,9117 L1478,9087 Z" /></clipPath>
<path d="M1480,9115 L1653,9115 Z M1480,9115" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1085)" />
<text x="1490" y="9104" style="font:10px Open Sans">这些token构成一个哈希环</text>
<clipPath id="clip1086"><path d="M1478,9116 L1721,9116 L1721,9146 L1478,9146 L1478,9116 Z" /></clipPath>
<path d="M1480,9144 L1718,9144 Z M1480,9144" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1086)" />
<text x="1490" y="9133" style="font:10px Open Sans">执行数据操作时，先计算Key的哈希值</text>
<clipPath id="clip1087"><path d="M1478,9145 L1903,9145 L1903,9175 L1478,9175 L1478,9145 Z" /></clipPath>
<path d="M1480,9173 L1900,9173 Z M1480,9173" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1087)" />
<text x="1490" y="9162" style="font:10px Open Sans">然后存放到顺时针方向第一个大于或等于该哈希值的token所在的节点</text>
<clipPath id="clip1088"><path d="M1478,9174 L1834,9174 L1834,9204 L1478,9204 L1478,9174 Z" /></clipPath>
<path d="M1480,9202 L1831,9202 Z M1480,9202" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1088)" />
<text x="1490" y="9191" style="font:10px Open Sans">优点：节点加入/删除时只会影响到在哈希环中相邻的节点</text>
<clipPath id="clip1089"><path d="M686,9203 L959,9203 L959,9231 L686,9231 L686,9203 Z" /></clipPath>
<path d="M688,9229 L956,9229 Z M688,9229" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1089)" />
<text x="698" y="9220" style="font:10px Open Sans">破坏了数据的有序性，只支持随机读取操作</text>
<clipPath id="clip1090"><path d="M592,9231 L1023,9231 L1023,9396 L592,9396 Z M593,9316 L593,9339 L666,9339 L666,9316 Z M593,9316 Z M593,9316" /></clipPath>
<path d="M679,9340 L679,9289 C679,9286.7929688 680.7929688,9285 683,9285 L688,9285" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1090)" />
<clipPath id="clip1091"><path d="M592,9231 L1023,9231 L1023,9396 L592,9396 Z M593,9316 L593,9339 L666,9339 L666,9316 Z M593,9316 Z M593,9316" /></clipPath>
<path d="M679,9340 C679,9340.5507813 680.7929688,9341 683,9341 L688,9341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1091)" />
<clipPath id="clip1092"><path d="M592,9231 L1023,9231 L1023,9396 L592,9396 Z M593,9316 L593,9339 L666,9339 L666,9316 Z M593,9316 Z M593,9316" /></clipPath>
<path d="M679,9340 L679,9364 C679,9366.2070313 680.7929688,9368 683,9368 L688,9368" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1092)" />
<clipPath id="clip1093"><path d="M592,9231 L1023,9231 L1023,9396 L592,9396 Z M593,9316 L593,9339 L666,9339 L666,9316 Z M593,9316 Z M593,9316" /></clipPath>
<path d="M679,9340 L679,9391 C679,9393.2070313 680.7929688,9395 683,9395 L688,9395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1093)" />
<clipPath id="clip1094"><path d="M591,9230 L1024,9230 L1024,9397 L591,9397 L591,9230 Z" /></clipPath>
<path d="M666,9340 L679,9340" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1094)" />
<clipPath id="clip1095"><path d="M591,9314 L669,9314 L669,9342 L591,9342 L591,9314 Z" /></clipPath>
<path d="M593,9340 L666,9340 Z M593,9340" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1095)" />
<text x="603" y="9331" style="font:10px Open Sans">顺序分布</text>
<clipPath id="clip1096"><path d="M687,9231 L977,9231 L977,9315 L687,9315 Z M688,9259 L688,9284 L758,9284 L758,9259 Z M688,9259 Z M688,9259" /></clipPath>
<path d="M771,9285 L771,9260 C771,9257.7929688 772.7929688,9256 775,9256 L780,9256" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1096)" />
<clipPath id="clip1097"><path d="M687,9231 L977,9231 L977,9315 L687,9315 Z M688,9259 L688,9284 L758,9284 L758,9259 Z M688,9259 Z M688,9259" /></clipPath>
<path d="M771,9285 C771,9285 772.7929688,9285 775,9285 L780,9285" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1097)" />
<clipPath id="clip1098"><path d="M687,9231 L977,9231 L977,9315 L687,9315 Z M688,9259 L688,9284 L758,9284 L758,9259 Z M688,9259 Z M688,9259" /></clipPath>
<path d="M771,9285 L771,9310 C771,9312.2070313 772.7929688,9314 775,9314 L780,9314" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1098)" />
<clipPath id="clip1099"><path d="M686,9230 L978,9230 L978,9316 L686,9316 L686,9230 Z" /></clipPath>
<path d="M758,9285 L771,9285" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1099)" />
<clipPath id="clip1100"><path d="M686,9257 L761,9257 L761,9287 L686,9287 L686,9257 Z" /></clipPath>
<path d="M688,9285 L758,9285 Z M688,9285" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1100)" />
<text x="698" y="9274" style="font:10px Open Sans">Bigtable</text>
<clipPath id="clip1101"><path d="M778,9230 L895,9230 L895,9258 L778,9258 L778,9230 Z" /></clipPath>
<path d="M780,9256 L892,9256 Z M780,9256" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1101)" />
<text x="790" y="9247" style="font:10px Open Sans">将索引分为两级</text>
<clipPath id="clip1102"><path d="M778,9257 L965,9257 L965,9287 L778,9287 L778,9257 Z" /></clipPath>
<path d="M780,9285 L962,9285 Z M780,9285" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1102)" />
<text x="790" y="9274" style="font:10px Open Sans">根表维护Meta表的位置信息</text>
<clipPath id="clip1103"><path d="M778,9286 L978,9286 L978,9316 L778,9316 L778,9286 Z" /></clipPath>
<path d="M780,9314 L975,9314 Z M780,9314" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1103)" />
<text x="790" y="9303" style="font:10px Open Sans">Meta表维护用户表的位置信息</text>
<clipPath id="clip1104"><path d="M686,9315 L933,9315 L933,9343 L686,9343 L686,9315 Z" /></clipPath>
<path d="M688,9341 L930,9341 Z M688,9341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1104)" />
<text x="698" y="9332" style="font:10px Open Sans">顺序分布在分布式表格系统中比较常见</text>
<clipPath id="clip1105"><path d="M686,9342 L1024,9342 L1024,9370 L686,9370 L686,9342 Z" /></clipPath>
<path d="M688,9368 L1021,9368 Z M688,9368" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1105)" />
<text x="698" y="9359" style="font:10px Open Sans">将大表顺序划分为连续的范围，每个范围称为一个子表</text>
<clipPath id="clip1106"><path d="M686,9369 L907,9369 L907,9397 L686,9397 L686,9369 Z" /></clipPath>
<path d="M688,9395 L904,9395 Z M688,9395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1106)" />
<text x="698" y="9386" style="font:10px Open Sans">设计时需要考虑子表的分裂与合并</text>
<clipPath id="clip1107"><path d="M592,9397 L1023,9397 L1023,9477 L592,9477 Z M593,9425 L593,9448 L666,9448 L666,9425 Z M593,9425 Z M593,9425" /></clipPath>
<path d="M679,9449 L679,9426 C679,9423.7929688 680.7929688,9422 683,9422 L688,9422" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1107)" />
<clipPath id="clip1108"><path d="M592,9397 L1023,9397 L1023,9477 L592,9477 Z M593,9425 L593,9448 L666,9448 L666,9425 Z M593,9425 Z M593,9425" /></clipPath>
<path d="M679,9449 C679,9449 680.7929688,9449 683,9449 L688,9449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1108)" />
<clipPath id="clip1109"><path d="M592,9397 L1023,9397 L1023,9477 L592,9477 Z M593,9425 L593,9448 L666,9448 L666,9425 Z M593,9425 Z M593,9425" /></clipPath>
<path d="M679,9449 L679,9472 C679,9474.2070313 680.7929688,9476 683,9476 L688,9476" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1109)" />
<clipPath id="clip1110"><path d="M591,9396 L1024,9396 L1024,9478 L591,9478 L591,9396 Z" /></clipPath>
<path d="M666,9449 L679,9449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1110)" />
<clipPath id="clip1111"><path d="M591,9423 L669,9423 L669,9451 L591,9451 L591,9423 Z" /></clipPath>
<path d="M593,9449 L666,9449 Z M593,9449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1111)" />
<text x="603" y="9440" style="font:10px Open Sans">负载均衡</text>
<clipPath id="clip1112"><path d="M686,9396 L1011,9396 L1011,9424 L686,9424 L686,9396 Z" /></clipPath>
<path d="M688,9422 L1008,9422 Z M688,9422" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1112)" />
<text x="698" y="9413" style="font:10px Open Sans">总控节点根据全局负载信息进行整体调度，迁移数据</text>
<clipPath id="clip1113"><path d="M686,9423 L1024,9423 L1024,9451 L686,9451 L686,9423 Z" /></clipPath>
<path d="M688,9449 L1021,9449 Z M688,9449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1113)" />
<text x="698" y="9440" style="font:10px Open Sans">工作节点通过心跳包将节点的负载信息发送给主控节点</text>
<clipPath id="clip1114"><path d="M686,9450 L1011,9450 L1011,9478 L686,9478 L686,9450 Z" /></clipPath>
<path d="M688,9476 L1008,9476 Z M688,9476" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1114)" />
<text x="698" y="9467" style="font:10px Open Sans">主控节点计算出工作节点的负载以及需要迁移的数据</text>
<clipPath id="clip1115"><path d="M497,9478 L1532,9478 L1532,10106 L497,10106 Z M498,9705 L498,9728 L545,9728 L545,9705 Z M498,9705 Z M498,9705" /></clipPath>
<path d="M558,9729 L558,9507 C558,9504.7929688 559.7929688,9503 562,9503 L567,9503" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1115)" />
<clipPath id="clip1116"><path d="M497,9478 L1532,9478 L1532,10106 L497,10106 Z M498,9705 L498,9728 L545,9728 L545,9705 Z M498,9705 Z M498,9705" /></clipPath>
<path d="M558,9729 L558,9534 C558,9531.7929688 559.7929688,9530 562,9530 L567,9530" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1116)" />
<clipPath id="clip1117"><path d="M497,9478 L1532,9478 L1532,10106 L497,10106 Z M498,9705 L498,9728 L545,9728 L545,9705 Z M498,9705 Z M498,9705" /></clipPath>
<path d="M558,9729 L558,9561 C558,9558.7929688 559.7929688,9557 562,9557 L567,9557" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1117)" />
<clipPath id="clip1118"><path d="M497,9478 L1532,9478 L1532,10106 L497,10106 Z M498,9705 L498,9728 L545,9728 L545,9705 Z M498,9705 Z M498,9705" /></clipPath>
<path d="M558,9729 L558,9588 C558,9585.7929688 559.7929688,9584 562,9584 L567,9584" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1118)" />
<clipPath id="clip1119"><path d="M497,9478 L1532,9478 L1532,10106 L497,10106 Z M498,9705 L498,9728 L545,9728 L545,9705 Z M498,9705 Z M498,9705" /></clipPath>
<path d="M558,9729 L558,9697 C558,9694.7929688 559.7929688,9693 562,9693 L567,9693" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1119)" />
<clipPath id="clip1120"><path d="M497,9478 L1532,9478 L1532,10106 L497,10106 Z M498,9705 L498,9728 L545,9728 L545,9705 Z M498,9705 Z M498,9705" /></clipPath>
<path d="M558,9729 L558,9951 C558,9953.2070313 559.7929688,9955 562,9955 L567,9955" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1120)" />
<clipPath id="clip1121"><path d="M496,9477 L1533,9477 L1533,10107 L496,10107 L496,9477 Z" /></clipPath>
<path d="M545,9729 L558,9729" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1121)" />
<clipPath id="clip1122"><path d="M496,9703 L548,9703 L548,9731 L496,9731 L496,9703 Z" /></clipPath>
<path d="M498,9729 L545,9729 Z M498,9729" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1122)" />
<text x="508" y="9720" style="font:10px Open Sans">复制</text>
<clipPath id="clip1123"><path d="M565,9477 L942,9477 L942,9505 L565,9505 L565,9477 Z" /></clipPath>
<path d="M567,9503 L939,9503 Z M567,9503" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1123)" />
<text x="577" y="9494" style="font:10px Open Sans">为保证分布式系统的高可靠和高可用，数据一般存储多个副本</text>
<clipPath id="clip1124"><path d="M565,9504 L1059,9504 L1059,9532 L565,9532 L565,9504 Z" /></clipPath>
<path d="M567,9530 L1056,9530 Z M567,9530" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1124)" />
<text x="577" y="9521" style="font:10px Open Sans">当某个副本所在的节点出现故障时，系统能将服务切换到其他副本，实现自动容错</text>
<clipPath id="clip1125"><path d="M565,9531 L1020,9531 L1020,9559 L565,9559 L565,9531 Z" /></clipPath>
<path d="M567,9557 L1017,9557 Z M567,9557" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1125)" />
<text x="577" y="9548" style="font:10px Open Sans">系统通过复制协议将数据同步到多个节点，并确保多个副本之间数据一致性</text>
<clipPath id="clip1126"><path d="M565,9558 L955,9558 L955,9586 L565,9586 L565,9558 Z" /></clipPath>
<path d="M567,9584 L952,9584 Z M567,9584" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1126)" />
<text x="577" y="9575" style="font:10px Open Sans">往往一个主副本，其他为备副本，由主副本将数据复制到备副本</text>
<clipPath id="clip1127"><path d="M566,9586 L1235,9586 L1235,9776 L566,9776 Z M567,9669 L567,9692 L640,9692 L640,9669 Z M567,9669 Z M567,9669" /></clipPath>
<path d="M653,9693 L653,9615 C653,9612.7929688 654.7929688,9611 657,9611 L662,9611" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1127)" />
<clipPath id="clip1128"><path d="M566,9586 L1235,9586 L1235,9776 L566,9776 Z M567,9669 L567,9692 L640,9692 L640,9669 Z M567,9669 Z M567,9669" /></clipPath>
<path d="M653,9693 L653,9642 C653,9639.7929688 654.7929688,9638 657,9638 L662,9638" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1128)" />
<clipPath id="clip1129"><path d="M566,9586 L1235,9586 L1235,9776 L566,9776 Z M567,9669 L567,9692 L640,9692 L640,9669 Z M567,9669 Z M567,9669" /></clipPath>
<path d="M653,9693 L653,9701 C653,9703.2070313 654.7929688,9705 657,9705 L662,9705" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1129)" />
<clipPath id="clip1130"><path d="M566,9586 L1235,9586 L1235,9776 L566,9776 Z M567,9669 L567,9692 L640,9692 L640,9669 Z M567,9669 Z M567,9669" /></clipPath>
<path d="M653,9693 L653,9771 C653,9773.2070313 654.7929688,9775 657,9775 L662,9775" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1130)" />
<clipPath id="clip1131"><path d="M565,9585 L1236,9585 L1236,9777 L565,9777 L565,9585 Z" /></clipPath>
<path d="M640,9693 L653,9693" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1131)" />
<clipPath id="clip1132"><path d="M565,9667 L643,9667 L643,9695 L565,9695 L565,9667 Z" /></clipPath>
<path d="M567,9693 L640,9693 Z M567,9693" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1132)" />
<text x="577" y="9684" style="font:10px Open Sans">复制协议</text>
<clipPath id="clip1133"><path d="M660,9585 L751,9585 L751,9613 L660,9613 L660,9585 Z" /></clipPath>
<path d="M662,9611 L748,9611 Z M662,9611" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1133)" />
<text x="672" y="9602" style="font:10px Open Sans">强同步复制</text>
<clipPath id="clip1134"><path d="M660,9612 L738,9612 L738,9640 L660,9640 L660,9612 Z" /></clipPath>
<path d="M662,9638 L735,9638 Z M662,9638" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1134)" />
<text x="672" y="9629" style="font:10px Open Sans">异步复制</text>
<clipPath id="clip1135"><path d="M661,9640 L1235,9640 L1235,9747 L661,9747 Z M662,9681 L662,9704 L813,9704 L813,9681 Z M662,9681 Z M662,9681" /></clipPath>
<path d="M826,9705 L826,9669 C826,9666.7929688 827.7929688,9665 830,9665 L835,9665" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1135)" />
<clipPath id="clip1136"><path d="M661,9640 L1235,9640 L1235,9747 L661,9747 Z M662,9681 L662,9704 L813,9704 L813,9681 Z M662,9681 Z M662,9681" /></clipPath>
<path d="M826,9705 L826,9696 C826,9693.7929688 827.7929688,9692 830,9692 L835,9692" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1136)" />
<clipPath id="clip1137"><path d="M661,9640 L1235,9640 L1235,9747 L661,9747 Z M662,9681 L662,9704 L813,9704 L813,9681 Z M662,9681 Z M662,9681" /></clipPath>
<path d="M826,9705 L826,9715 C826,9717.2070313 827.7929688,9719 830,9719 L835,9719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1137)" />
<clipPath id="clip1138"><path d="M661,9640 L1235,9640 L1235,9747 L661,9747 Z M662,9681 L662,9704 L813,9704 L813,9681 Z M662,9681 Z M662,9681" /></clipPath>
<path d="M826,9705 L826,9742 C826,9744.2070313 827.7929688,9746 830,9746 L835,9746" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1138)" />
<clipPath id="clip1139"><path d="M660,9639 L1236,9639 L1236,9748 L660,9748 L660,9639 Z" /></clipPath>
<path d="M813,9705 L826,9705" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1139)" />
<clipPath id="clip1140"><path d="M660,9679 L816,9679 L816,9707 L660,9707 L660,9679 Z" /></clipPath>
<path d="M662,9705 L813,9705 Z M662,9705" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1140)" />
<text x="672" y="9696" style="font:10px Open Sans">基于主副本的复制协议</text>
<clipPath id="clip1141"><path d="M833,9639 L1236,9639 L1236,9667 L833,9667 L833,9639 Z" /></clipPath>
<path d="M835,9665 L1233,9665 Z M835,9665" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1141)" />
<text x="845" y="9656" style="font:10px Open Sans">将主副本的数据以某种形式（例如同步操作日志）发送到其他副本</text>
<clipPath id="clip1142"><path d="M833,9666 L1041,9666 L1041,9694 L833,9694 L833,9666 Z" /></clipPath>
<path d="M835,9692 L1038,9692 Z M835,9692" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1142)" />
<text x="845" y="9683" style="font:10px Open Sans">要求任何时刻只能有一个主副本</text>
<clipPath id="clip1143"><path d="M833,9693 L1158,9693 L1158,9721 L833,9721 L833,9693 Z" /></clipPath>
<path d="M835,9719 L1155,9719 Z M835,9719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1143)" />
<text x="845" y="9710" style="font:10px Open Sans">如果主副本故障，需要选举一个备副本为新的主副本</text>
<clipPath id="clip1144"><path d="M833,9720 L1171,9720 L1171,9748 L833,9748 L833,9720 Z" /></clipPath>
<path d="M835,9746 L1168,9746 Z M835,9746" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1144)" />
<text x="845" y="9737" style="font:10px Open Sans">为避免故障时需要回放所有日志，通常使用检查点技术</text>
<clipPath id="clip1145"><path d="M661,9748 L1070,9748 L1070,9776 L661,9776 Z M662,9751 L662,9774 L865,9774 L865,9751 Z M662,9751 Z M662,9751" /></clipPath>
<path d="M878,9775 C878,9775 879.7929688,9775 882,9775 L887,9775" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1145)" />
<clipPath id="clip1146"><path d="M660,9747 L1071,9747 L1071,9777 L660,9777 L660,9747 Z" /></clipPath>
<path d="M865,9775 L878,9775" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1146)" />
<clipPath id="clip1147"><path d="M660,9749 L868,9749 L868,9777 L660,9777 L660,9749 Z" /></clipPath>
<path d="M662,9775 L865,9775 Z M662,9775" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1147)" />
<text x="672" y="9766" style="font:10px Open Sans">基于写多个存储节点的复制协议</text>
<clipPath id="clip1148"><path d="M885,9747 L1071,9747 L1071,9777 L885,9777 L885,9747 Z" /></clipPath>
<path d="M887,9775 L1068,9775 Z M887,9775" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1148)" />
<text x="897" y="9764" style="font:10px Open Sans">Dynamo中的NWR复制协议</text>
<clipPath id="clip1149"><path d="M566,9777 L1532,9777 L1532,10106 L566,10106 Z M567,9931 L567,9954 L679,9954 L679,9931 Z M567,9931 Z M567,9931" /></clipPath>
<path d="M692,9955 L692,9837 C692,9834.7929688 693.7929688,9833 696,9833 L701,9833" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1149)" />
<clipPath id="clip1150"><path d="M566,9777 L1532,9777 L1532,10106 L566,10106 Z M567,9931 L567,9954 L679,9954 L679,9931 Z M567,9931 Z M567,9931" /></clipPath>
<path d="M692,9955 L692,9920 C692,9917.7929688 693.7929688,9916 696,9916 L701,9916" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1150)" />
<clipPath id="clip1151"><path d="M566,9777 L1532,9777 L1532,10106 L566,10106 Z M567,9931 L567,9954 L679,9954 L679,9931 Z M567,9931 Z M567,9931" /></clipPath>
<path d="M692,9955 L692,9966 C692,9968.2070313 693.7929688,9970 696,9970 L701,9970" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1151)" />
<clipPath id="clip1152"><path d="M566,9777 L1532,9777 L1532,10106 L566,10106 Z M567,9931 L567,9954 L679,9954 L679,9931 Z M567,9931 Z M567,9931" /></clipPath>
<path d="M692,9955 L692,10006 C692,10008.2070313 693.7929688,10010 696,10010 L701,10010" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1152)" />
<clipPath id="clip1153"><path d="M566,9777 L1532,9777 L1532,10106 L566,10106 Z M567,9931 L567,9954 L679,9954 L679,9931 Z M567,9931 Z M567,9931" /></clipPath>
<path d="M692,9955 L692,10074 C692,10076.2070313 693.7929688,10078 696,10078 L701,10078" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1153)" />
<clipPath id="clip1154"><path d="M565,9776 L1533,9776 L1533,10107 L565,10107 L565,9776 Z" /></clipPath>
<path d="M679,9955 L692,9955" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1154)" />
<clipPath id="clip1155"><path d="M565,9929 L682,9929 L682,9957 L565,9957 L565,9929 Z" /></clipPath>
<path d="M567,9955 L679,9955 Z M567,9955" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1155)" />
<text x="577" y="9946" style="font:10px Open Sans">一致性与可用性</text>
<clipPath id="clip1156"><path d="M700,9777 L1038,9777 L1038,9863 L700,9863 Z M701,9807 L701,9832 L746,9832 L746,9807 Z M701,9807 Z M701,9807" /></clipPath>
<path d="M759,9833 L759,9808 C759,9805.7929688 760.7929688,9804 763,9804 L768,9804" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1156)" />
<clipPath id="clip1157"><path d="M700,9777 L1038,9777 L1038,9863 L700,9863 Z M701,9807 L701,9832 L746,9832 L746,9807 Z M701,9807 Z M701,9807" /></clipPath>
<path d="M759,9833 C759,9833 760.7929688,9833 763,9833 L768,9833" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1157)" />
<clipPath id="clip1158"><path d="M700,9777 L1038,9777 L1038,9863 L700,9863 Z M701,9807 L701,9832 L746,9832 L746,9807 Z M701,9807 Z M701,9807" /></clipPath>
<path d="M759,9833 L759,9858 C759,9860.2070313 760.7929688,9862 763,9862 L768,9862" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1158)" />
<clipPath id="clip1159"><path d="M699,9776 L1039,9776 L1039,9864 L699,9864 L699,9776 Z" /></clipPath>
<path d="M746,9833 L759,9833" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1159)" />
<clipPath id="clip1160"><path d="M699,9805 L749,9805 L749,9835 L699,9835 L699,9805 Z" /></clipPath>
<path d="M701,9833 L746,9833 Z M701,9833" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1160)" />
<text x="711" y="9822" style="font:10px Open Sans">CAP</text>
<clipPath id="clip1161"><path d="M766,9776 L903,9776 L903,9806 L766,9806 L766,9776 Z" /></clipPath>
<path d="M768,9804 L900,9804 Z M768,9804" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1161)" />
<text x="778" y="9793" style="font:10px Open Sans">一致性Consistency</text>
<clipPath id="clip1162"><path d="M766,9805 L895,9805 L895,9835 L766,9835 L766,9805 Z" /></clipPath>
<path d="M768,9833 L892,9833 Z M768,9833" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1162)" />
<text x="778" y="9822" style="font:10px Open Sans">可用性Availability</text>
<clipPath id="clip1163"><path d="M766,9834 L1039,9834 L1039,9864 L766,9864 L766,9834 Z" /></clipPath>
<path d="M768,9862 L1036,9862 Z M768,9862" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1163)" />
<text x="778" y="9851" style="font:10px Open Sans">分区容忍性Tolerance of network Partition</text>
<clipPath id="clip1164"><path d="M700,9864 L1532,9864 L1532,9944 L700,9944 Z M701,9890 L701,9915 L850,9915 L850,9890 Z M701,9890 Z M701,9890" /></clipPath>
<path d="M863,9916 L863,9893 C863,9890.7929688 864.7929688,9889 867,9889 L872,9889" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1164)" />
<clipPath id="clip1165"><path d="M700,9864 L1532,9864 L1532,9944 L700,9944 Z M701,9890 L701,9915 L850,9915 L850,9890 Z M701,9890 Z M701,9890" /></clipPath>
<path d="M863,9916 C863,9916 864.7929688,9916 867,9916 L872,9916" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1165)" />
<clipPath id="clip1166"><path d="M700,9864 L1532,9864 L1532,9944 L700,9944 Z M701,9890 L701,9915 L850,9915 L850,9890 Z M701,9890 Z M701,9890" /></clipPath>
<path d="M863,9916 L863,9939 C863,9941.2070313 864.7929688,9943 867,9943 L872,9943" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1166)" />
<clipPath id="clip1167"><path d="M699,9863 L1533,9863 L1533,9945 L699,9945 L699,9863 Z" /></clipPath>
<path d="M850,9916 L863,9916" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1167)" />
<clipPath id="clip1168"><path d="M699,9888 L853,9888 L853,9918 L699,9918 L699,9888 Z" /></clipPath>
<path d="M701,9916 L850,9916 Z M701,9916" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1168)" />
<text x="711" y="9905" style="font:10px Open Sans">工程实践中CAP的理解</text>
<clipPath id="clip1169"><path d="M870,9863 L1533,9863 L1533,9891 L870,9891 L870,9863 Z" /></clipPath>
<path d="M872,9889 L1530,9889 Z M872,9889" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1169)" />
<text x="882" y="9880" style="font:10px Open Sans">一致性：（同一个客户端的）读操作总是能读取到之前完成的写操作结果，满足这个条件的系统称为强一致系统</text>
<clipPath id="clip1170"><path d="M870,9890 L1260,9890 L1260,9918 L870,9918 L870,9890 Z" /></clipPath>
<path d="M872,9916 L1257,9916 Z M872,9916" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1170)" />
<text x="882" y="9907" style="font:10px Open Sans">可用性：读写操作在单台机器发生故障的情况下仍能够正常执行</text>
<clipPath id="clip1171"><path d="M870,9917 L1377,9917 L1377,9945 L870,9945 L870,9917 Z" /></clipPath>
<path d="M872,9943 L1374,9943 Z M872,9943" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1171)" />
<text x="882" y="9934" style="font:10px Open Sans">分区容忍性：机器故障、网络故障、机房停电等异常情况下仍能满足一致性和可用性</text>
<clipPath id="clip1172"><path d="M699,9944 L1063,9944 L1063,9972 L699,9972 L699,9944 Z" /></clipPath>
<path d="M701,9970 L1060,9970 Z M701,9970" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1172)" />
<text x="711" y="9961" style="font:10px Open Sans">分布式存储系统要求能够自动容错，即必须满足分区容忍性</text>
<clipPath id="clip1173"><path d="M700,9972 L1482,9972 L1482,10025 L700,10025 Z M701,9986 L701,10009 L943,10009 L943,9986 Z M701,9986 Z M701,9986" /></clipPath>
<path d="M956,10010 L956,10001 C956,9998.7929688 957.7929688,9997 960,9997 L965,9997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1173)" />
<clipPath id="clip1174"><path d="M700,9972 L1482,9972 L1482,10025 L700,10025 Z M701,9986 L701,10009 L943,10009 L943,9986 Z M701,9986 Z M701,9986" /></clipPath>
<path d="M956,10010 L956,10020 C956,10022.2070313 957.7929688,10024 960,10024 L965,10024" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1174)" />
<clipPath id="clip1175"><path d="M699,9971 L1483,9971 L1483,10026 L699,10026 L699,9971 Z" /></clipPath>
<path d="M943,10010 L956,10010" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1175)" />
<clipPath id="clip1176"><path d="M699,9984 L946,9984 L946,10012 L699,10012 L699,9984 Z" /></clipPath>
<path d="M701,10010 L943,10010 Z M701,10010" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1176)" />
<text x="711" y="10001" style="font:10px Open Sans">一致性和写操作的可用性不能同时满足</text>
<clipPath id="clip1177"><path d="M963,9971 L1483,9971 L1483,9999 L963,9999 L963,9971 Z" /></clipPath>
<path d="M965,9997 L1480,9997 Z M965,9997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1177)" />
<text x="975" y="9988" style="font:10px Open Sans">强同步复制保证一致性，但主备副本间出现网络等故障时写操作阻塞，无法保证可用性</text>
<clipPath id="clip1178"><path d="M963,9998 L1249,9998 L1249,10026 L963,10026 L963,9998 Z" /></clipPath>
<path d="M965,10024 L1246,10024 Z M965,10024" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1178)" />
<text x="975" y="10015" style="font:10px Open Sans">异步复制保证了可用性，但无法做到强一致性</text>
<clipPath id="clip1179"><path d="M700,10026 L1408,10026 L1408,10106 L700,10106 Z M701,10052 L701,10077 L882,10077 L882,10052 Z M701,10052 Z M701,10052" /></clipPath>
<path d="M895,10078 L895,10055 C895,10052.7929688 896.7929688,10051 899,10051 L904,10051" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1179)" />
<clipPath id="clip1180"><path d="M700,10026 L1408,10026 L1408,10106 L700,10106 Z M701,10052 L701,10077 L882,10077 L882,10052 Z M701,10052 Z M701,10052" /></clipPath>
<path d="M895,10078 C895,10078 896.7929688,10078 899,10078 L904,10078" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1180)" />
<clipPath id="clip1181"><path d="M700,10026 L1408,10026 L1408,10106 L700,10106 Z M701,10052 L701,10077 L882,10077 L882,10052 Z M701,10052 Z M701,10052" /></clipPath>
<path d="M895,10078 L895,10101 C895,10103.2070313 896.7929688,10105 899,10105 L904,10105" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1181)" />
<clipPath id="clip1182"><path d="M699,10025 L1409,10025 L1409,10107 L699,10107 L699,10025 Z" /></clipPath>
<path d="M882,10078 L895,10078" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1182)" />
<clipPath id="clip1183"><path d="M699,10050 L885,10050 L885,10080 L699,10080 L699,10050 Z" /></clipPath>
<path d="M701,10078 L882,10078 Z M701,10078" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1183)" />
<text x="711" y="10067" style="font:10px Open Sans">Oracle DataGuard复制模式</text>
<clipPath id="clip1184"><path d="M902,10025 L1331,10025 L1331,10053 L902,10053 L902,10025 Z" /></clipPath>
<path d="M904,10051 L1328,10051 Z M904,10051" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1184)" />
<text x="914" y="10042" style="font:10px Open Sans">最大保护模式：写操作日志同步到至少一个备库才可以返回客户端成功</text>
<clipPath id="clip1185"><path d="M902,10052 L1318,10052 L1318,10080 L902,10080 L902,10052 Z" /></clipPath>
<path d="M904,10078 L1315,10078 Z M904,10078" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1185)" />
<text x="914" y="10069" style="font:10px Open Sans">最大性能模式：异步复制，写操作在主库执行成沟就返回客户端成功</text>
<clipPath id="clip1186"><path d="M902,10079 L1409,10079 L1409,10107 L902,10107 L902,10079 Z" /></clipPath>
<path d="M904,10105 L1406,10105 Z M904,10105" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1186)" />
<text x="914" y="10096" style="font:10px Open Sans">最大可用性模式：正常情况为最大保护模式，主备出现网络故障切换为最大性能模式</text>
<clipPath id="clip1187"><path d="M497,10107 L1508,10107 L1508,10637 L497,10637 Z M498,10335 L498,10358 L545,10358 L545,10335 Z M498,10335 Z M498,10335" /></clipPath>
<path d="M558,10359 L558,10163 C558,10160.7929688 559.7929688,10159 562,10159 L567,10159" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1187)" />
<clipPath id="clip1188"><path d="M497,10107 L1508,10107 L1508,10637 L497,10637 Z M498,10335 L498,10358 L545,10358 L545,10335 Z M498,10335 Z M498,10335" /></clipPath>
<path d="M558,10359 L558,10319 C558,10316.7929688 559.7929688,10315 562,10315 L567,10315" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1188)" />
<clipPath id="clip1189"><path d="M497,10107 L1508,10107 L1508,10637 L497,10637 Z M498,10335 L498,10358 L545,10358 L545,10335 Z M498,10335 Z M498,10335" /></clipPath>
<path d="M558,10359 L558,10555 C558,10557.2070313 559.7929688,10559 562,10559 L567,10559" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1189)" />
<clipPath id="clip1190"><path d="M496,10106 L1509,10106 L1509,10638 L496,10638 L496,10106 Z" /></clipPath>
<path d="M545,10359 L558,10359" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1190)" />
<clipPath id="clip1191"><path d="M496,10333 L548,10333 L548,10361 L496,10361 L496,10333 Z" /></clipPath>
<path d="M498,10359 L545,10359 Z M498,10359" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1191)" />
<text x="508" y="10350" style="font:10px Open Sans">容错</text>
<clipPath id="clip1192"><path d="M566,10107 L806,10107 L806,10187 L566,10187 Z M567,10133 L567,10158 L709,10158 L709,10133 Z M567,10133 Z M567,10133" /></clipPath>
<path d="M722,10159 L722,10136 C722,10133.7929688 723.7929688,10132 726,10132 L731,10132" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1192)" />
<clipPath id="clip1193"><path d="M566,10107 L806,10107 L806,10187 L566,10187 Z M567,10133 L567,10158 L709,10158 L709,10133 Z M567,10133 Z M567,10133" /></clipPath>
<path d="M722,10159 C722,10159 723.7929688,10159 726,10159 L731,10159" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1193)" />
<clipPath id="clip1194"><path d="M566,10107 L806,10107 L806,10187 L566,10187 Z M567,10133 L567,10158 L709,10158 L709,10133 Z M567,10133 Z M567,10133" /></clipPath>
<path d="M722,10159 L722,10182 C722,10184.2070313 723.7929688,10186 726,10186 L731,10186" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1194)" />
<clipPath id="clip1195"><path d="M565,10106 L807,10106 L807,10188 L565,10188 L565,10106 Z" /></clipPath>
<path d="M709,10159 L722,10159" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1195)" />
<clipPath id="clip1196"><path d="M565,10131 L712,10131 L712,10161 L565,10161 L565,10131 Z" /></clipPath>
<path d="M567,10159 L709,10159 Z M567,10159" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1196)" />
<text x="577" y="10148" style="font:10px Open Sans">常见故障（Google）</text>
<clipPath id="clip1197"><path d="M729,10106 L807,10106 L807,10134 L729,10134 L729,10106 Z" /></clipPath>
<path d="M731,10132 L804,10132 Z M731,10132" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1197)" />
<text x="741" y="10123" style="font:10px Open Sans">单机故障</text>
<clipPath id="clip1198"><path d="M729,10133 L807,10133 L807,10161 L729,10161 L729,10133 Z" /></clipPath>
<path d="M731,10159 L804,10159 Z M731,10159" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1198)" />
<text x="741" y="10150" style="font:10px Open Sans">磁盘故障</text>
<clipPath id="clip1199"><path d="M729,10160 L807,10160 L807,10188 L729,10188 L729,10160 Z" /></clipPath>
<path d="M731,10186 L804,10186 Z M731,10186" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1199)" />
<text x="741" y="10177" style="font:10px Open Sans">机架故障</text>
<clipPath id="clip1200"><path d="M566,10188 L1239,10188 L1239,10417 L566,10417 Z M567,10291 L567,10314 L640,10314 L640,10291 Z M567,10291 Z M567,10291" /></clipPath>
<path d="M653,10315 L653,10262 C653,10259.7929688 654.7929688,10258 657,10258 L662,10258" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1200)" />
<clipPath id="clip1201"><path d="M566,10188 L1239,10188 L1239,10417 L566,10417 Z M567,10291 L567,10314 L640,10314 L640,10291 Z M567,10291 Z M567,10291" /></clipPath>
<path d="M653,10315 L653,10368 C653,10370.2070313 654.7929688,10372 657,10372 L662,10372" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1201)" />
<clipPath id="clip1202"><path d="M565,10187 L1240,10187 L1240,10418 L565,10418 L565,10187 Z" /></clipPath>
<path d="M640,10315 L653,10315" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1202)" />
<clipPath id="clip1203"><path d="M565,10289 L643,10289 L643,10317 L565,10317 L565,10289 Z" /></clipPath>
<path d="M567,10315 L640,10315 Z M567,10315" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1203)" />
<text x="577" y="10306" style="font:10px Open Sans">故障检测</text>
<clipPath id="clip1204"><path d="M661,10188 L1239,10188 L1239,10303 L661,10303 Z M662,10234 L662,10257 L709,10257 L709,10234 Z M662,10234 Z M662,10234" /></clipPath>
<path d="M722,10258 L722,10219 C722,10216.7929688 723.7929688,10215 726,10215 L731,10215" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1204)" />
<clipPath id="clip1205"><path d="M661,10188 L1239,10188 L1239,10303 L661,10303 Z M662,10234 L662,10257 L709,10257 L709,10234 Z M662,10234 Z M662,10234" /></clipPath>
<path d="M722,10258 L722,10248 C722,10245.7929688 723.7929688,10244 726,10244 L731,10244" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1205)" />
<clipPath id="clip1206"><path d="M661,10188 L1239,10188 L1239,10303 L661,10303 Z M662,10234 L662,10257 L709,10257 L709,10234 Z M662,10234 Z M662,10234" /></clipPath>
<path d="M722,10258 L722,10269 C722,10271.2070313 723.7929688,10273 726,10273 L731,10273" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1206)" />
<clipPath id="clip1207"><path d="M661,10188 L1239,10188 L1239,10303 L661,10303 Z M662,10234 L662,10257 L709,10257 L709,10234 Z M662,10234 Z M662,10234" /></clipPath>
<path d="M722,10258 L722,10298 C722,10300.2070313 723.7929688,10302 726,10302 L731,10302" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1207)" />
<clipPath id="clip1208"><path d="M660,10187 L1240,10187 L1240,10304 L660,10304 L660,10187 Z" /></clipPath>
<path d="M709,10258 L722,10258" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1208)" />
<clipPath id="clip1209"><path d="M660,10232 L712,10232 L712,10260 L660,10260 L660,10232 Z" /></clipPath>
<path d="M662,10258 L709,10258 Z M662,10258" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1209)" />
<text x="672" y="10249" style="font:10px Open Sans">心跳</text>
<clipPath id="clip1210"><path d="M729,10187 L1240,10187 L1240,10217 L729,10217 L729,10187 Z" /></clipPath>
<path d="M731,10215 L1237,10215 Z M731,10215" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1210)" />
<text x="741" y="10204" style="font:10px Open Sans">总控机A向工作机B定时发送心跳包，A一定次数后都收不到B的心跳则认为B发生故障</text>
<clipPath id="clip1211"><path d="M729,10216 L1180,10216 L1180,10246 L729,10246 L729,10216 Z" /></clipPath>
<path d="M731,10244 L1177,10244 Z M731,10244" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1211)" />
<text x="741" y="10233" style="font:10px Open Sans">A收不到B的心跳并不能确保B发生故障并停止了服务（网络、B过于繁忙）</text>
<clipPath id="clip1212"><path d="M729,10245 L1063,10245 L1063,10275 L729,10275 L729,10245 Z" /></clipPath>
<path d="M731,10273 L1060,10273 Z M731,10273" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1212)" />
<text x="741" y="10262" style="font:10px Open Sans">B故障后往往需要将其上的服务迁移到集群的其他机器</text>
<clipPath id="clip1213"><path d="M729,10274 L998,10274 L998,10304 L729,10304 L729,10274 Z" /></clipPath>
<path d="M731,10302 L995,10302 Z M731,10302" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1213)" />
<text x="741" y="10291" style="font:10px Open Sans">为保证强一致性，需要确保B不再提供服务</text>
<clipPath id="clip1214"><path d="M661,10304 L1226,10304 L1226,10417 L661,10417 Z M662,10348 L662,10371 L735,10371 L735,10348 Z M662,10348 Z M662,10348" /></clipPath>
<path d="M748,10372 L748,10333 C748,10330.7929688 749.7929688,10329 752,10329 L757,10329" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1214)" />
<clipPath id="clip1215"><path d="M661,10304 L1226,10304 L1226,10417 L661,10417 Z M662,10348 L662,10371 L735,10371 L735,10348 Z M662,10348 Z M662,10348" /></clipPath>
<path d="M748,10372 L748,10362 C748,10359.7929688 749.7929688,10358 752,10358 L757,10358" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1215)" />
<clipPath id="clip1216"><path d="M661,10304 L1226,10304 L1226,10417 L661,10417 Z M662,10348 L662,10371 L735,10371 L735,10348 Z M662,10348 Z M662,10348" /></clipPath>
<path d="M748,10372 L748,10383 C748,10385.2070313 749.7929688,10387 752,10387 L757,10387" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1216)" />
<clipPath id="clip1217"><path d="M661,10304 L1226,10304 L1226,10417 L661,10417 Z M662,10348 L662,10371 L735,10371 L735,10348 Z M662,10348 Z M662,10348" /></clipPath>
<path d="M748,10372 L748,10412 C748,10414.2070313 749.7929688,10416 752,10416 L757,10416" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1217)" />
<clipPath id="clip1218"><path d="M660,10303 L1227,10303 L1227,10418 L660,10418 L660,10303 Z" /></clipPath>
<path d="M735,10372 L748,10372" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1218)" />
<clipPath id="clip1219"><path d="M660,10346 L738,10346 L738,10374 L660,10374 L660,10346 Z" /></clipPath>
<path d="M662,10372 L735,10372 Z M662,10372" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1219)" />
<text x="672" y="10363" style="font:10px Open Sans">租约机制</text>
<clipPath id="clip1220"><path d="M755,10303 L1002,10303 L1002,10331 L755,10331 L755,10303 Z" /></clipPath>
<path d="M757,10329 L999,10329 Z M757,10329" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1220)" />
<text x="767" y="10320" style="font:10px Open Sans">租约机制就是带有超时时间的一种授权</text>
<clipPath id="clip1221"><path d="M755,10330 L1028,10330 L1028,10360 L755,10360 L755,10330 Z" /></clipPath>
<path d="M757,10358 L1025,10358 Z M757,10358" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1221)" />
<text x="767" y="10347" style="font:10px Open Sans">A给B发放租约，B在租约有效期内提供服务</text>
<clipPath id="clip1222"><path d="M755,10359 L1006,10359 L1006,10389 L755,10389 L755,10359 Z" /></clipPath>
<path d="M757,10387 L1003,10387 Z M757,10387" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1222)" />
<text x="767" y="10376" style="font:10px Open Sans">B在租约快到期的时候向A重新申请租约</text>
<clipPath id="clip1223"><path d="M755,10388 L1227,10388 L1227,10418 L755,10418 L755,10388 Z" /></clipPath>
<path d="M757,10416 L1224,10416 Z M757,10416" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1223)" />
<text x="767" y="10405" style="font:10px Open Sans">B出现故障或与A之间网络故障时，B的租约将到期，A能够确保B不再提供服务</text>
<clipPath id="clip1224"><path d="M566,10418 L1508,10418 L1508,10637 L566,10637 Z M567,10535 L567,10558 L640,10558 L640,10535 Z M567,10535 Z M567,10535" /></clipPath>
<path d="M653,10559 L653,10487 C653,10484.7929688 654.7929688,10483 657,10483 L662,10483" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1224)" />
<clipPath id="clip1225"><path d="M566,10418 L1508,10418 L1508,10637 L566,10637 Z M567,10535 L567,10558 L640,10558 L640,10535 Z M567,10535 Z M567,10535" /></clipPath>
<path d="M653,10559 L653,10576 C653,10578.2070313 654.7929688,10580 657,10580 L662,10580" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1225)" />
<clipPath id="clip1226"><path d="M566,10418 L1508,10418 L1508,10637 L566,10637 Z M567,10535 L567,10558 L640,10558 L640,10535 Z M567,10535 Z M567,10535" /></clipPath>
<path d="M653,10559 L653,10632 C653,10634.2070313 654.7929688,10636 657,10636 L662,10636" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1226)" />
<clipPath id="clip1227"><path d="M565,10417 L1509,10417 L1509,10638 L565,10638 L565,10417 Z" /></clipPath>
<path d="M640,10559 L653,10559" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1227)" />
<clipPath id="clip1228"><path d="M565,10533 L643,10533 L643,10561 L565,10561 L565,10533 Z" /></clipPath>
<path d="M567,10559 L640,10559 Z M567,10559" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1228)" />
<text x="577" y="10550" style="font:10px Open Sans">故障恢复</text>
<clipPath id="clip1229"><path d="M661,10418 L1170,10418 L1170,10525 L661,10525 Z M662,10459 L662,10482 L735,10482 L735,10459 Z M662,10459 Z M662,10459" /></clipPath>
<path d="M748,10483 L748,10447 C748,10444.7929688 749.7929688,10443 752,10443 L757,10443" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1229)" />
<clipPath id="clip1230"><path d="M661,10418 L1170,10418 L1170,10525 L661,10525 Z M662,10459 L662,10482 L735,10482 L735,10459 Z M662,10459 Z M662,10459" /></clipPath>
<path d="M748,10483 L748,10474 C748,10471.7929688 749.7929688,10470 752,10470 L757,10470" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1230)" />
<clipPath id="clip1231"><path d="M661,10418 L1170,10418 L1170,10525 L661,10525 Z M662,10459 L662,10482 L735,10482 L735,10459 Z M662,10459 Z M662,10459" /></clipPath>
<path d="M748,10483 L748,10493 C748,10495.2070313 749.7929688,10497 752,10497 L757,10497" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1231)" />
<clipPath id="clip1232"><path d="M661,10418 L1170,10418 L1170,10525 L661,10525 Z M662,10459 L662,10482 L735,10482 L735,10459 Z M662,10459 Z M662,10459" /></clipPath>
<path d="M748,10483 L748,10520 C748,10522.2070313 749.7929688,10524 752,10524 L757,10524" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1232)" />
<clipPath id="clip1233"><path d="M660,10417 L1171,10417 L1171,10526 L660,10526 L660,10417 Z" /></clipPath>
<path d="M735,10483 L748,10483" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1233)" />
<clipPath id="clip1234"><path d="M660,10457 L738,10457 L738,10485 L660,10485 L660,10457 Z" /></clipPath>
<path d="M662,10483 L735,10483 Z M662,10483" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1234)" />
<text x="672" y="10474" style="font:10px Open Sans">单层结构</text>
<clipPath id="clip1235"><path d="M755,10417 L1002,10417 L1002,10445 L755,10445 L755,10417 Z" /></clipPath>
<path d="M757,10443 L999,10443 Z M757,10443" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1235)" />
<text x="767" y="10434" style="font:10px Open Sans">在系统中对每个数据分片维护多个副本</text>
<clipPath id="clip1236"><path d="M755,10444 L1171,10444 L1171,10472 L755,10472 L755,10444 Z" /></clipPath>
<path d="M757,10470 L1168,10470 Z M757,10470" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1236)" />
<text x="767" y="10461" style="font:10px Open Sans">主副本故障时，总控机选择最新的一个备副本成为主副本并提供服务</text>
<clipPath id="clip1237"><path d="M755,10471 L1002,10471 L1002,10499 L755,10499 L755,10471 Z" /></clipPath>
<path d="M757,10497 L999,10497 Z M757,10497" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1237)" />
<text x="767" y="10488" style="font:10px Open Sans">临时故障：一段时间内故障机重新上线</text>
<clipPath id="clip1238"><path d="M755,10498 L1158,10498 L1158,10526 L755,10526 L755,10498 Z" /></clipPath>
<path d="M757,10524 L1155,10524 Z M757,10524" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1238)" />
<text x="767" y="10515" style="font:10px Open Sans">永久性故障：一段时间后故障机未重新上线，则执行增加副本操作</text>
<clipPath id="clip1239"><path d="M661,10526 L1508,10526 L1508,10608 L661,10608 Z M662,10556 L662,10579 L735,10579 L735,10556 Z M662,10556 Z M662,10556" /></clipPath>
<path d="M748,10580 L748,10557 C748,10554.7929688 749.7929688,10553 752,10553 L757,10553" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1239)" />
<clipPath id="clip1240"><path d="M661,10526 L1508,10526 L1508,10608 L661,10608 Z M662,10556 L662,10579 L735,10579 L735,10556 Z M662,10556 Z M662,10556" /></clipPath>
<path d="M748,10580 C748,10580 749.7929688,10580 752,10580 L757,10580" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1240)" />
<clipPath id="clip1241"><path d="M661,10526 L1508,10526 L1508,10608 L661,10608 Z M662,10556 L662,10579 L735,10579 L735,10556 Z M662,10556 Z M662,10556" /></clipPath>
<path d="M748,10580 L748,10603 C748,10605.2070313 749.7929688,10607 752,10607 L757,10607" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1241)" />
<clipPath id="clip1242"><path d="M660,10525 L1509,10525 L1509,10609 L660,10609 L660,10525 Z" /></clipPath>
<path d="M735,10580 L748,10580" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1242)" />
<clipPath id="clip1243"><path d="M660,10554 L738,10554 L738,10582 L660,10582 L660,10554 Z" /></clipPath>
<path d="M662,10580 L735,10580 Z M662,10580" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1243)" />
<text x="672" y="10571" style="font:10px Open Sans">双层结构</text>
<clipPath id="clip1244"><path d="M755,10525 L1415,10525 L1415,10555 L755,10555 L755,10525 Z" /></clipPath>
<path d="M757,10553 L1412,10553 Z M757,10553" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1244)" />
<text x="767" y="10542" style="font:10px Open Sans">类Bigtable系统，将存储和服务分为两层，存储层对每个数据分片维护多个副本，服务层只有一个副本提供服务</text>
<clipPath id="clip1245"><path d="M755,10554 L1509,10554 L1509,10582 L755,10582 L755,10554 Z" /></clipPath>
<path d="M757,10580 L1506,10580 Z M757,10580" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1245)" />
<text x="767" y="10571" style="font:10px Open Sans">两层结构的分布式存储系统会将所有的数据持久化写入底层的分布式文件系统，每个数据分片同一时刻只有一个提供服务的节点</text>
<clipPath id="clip1246"><path d="M755,10581 L1353,10581 L1353,10609 L755,10609 L755,10581 Z" /></clipPath>
<path d="M757,10607 L1350,10607 Z M757,10607" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1246)" />
<text x="767" y="10598" style="font:10px Open Sans">某节点故障时，总控节点选择另一个工作节点，从共享的分布式文件系统里加载故障的数据分片即可</text>
<clipPath id="clip1247"><path d="M661,10609 L1310,10609 L1310,10637 L661,10637 Z M662,10612 L662,10635 L813,10635 L813,10612 Z M662,10612 Z M662,10612" /></clipPath>
<path d="M826,10636 C826,10636 827.7929688,10636 830,10636 L835,10636" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1247)" />
<clipPath id="clip1248"><path d="M660,10608 L1311,10608 L1311,10638 L660,10638 L660,10608 Z" /></clipPath>
<path d="M813,10636 L826,10636" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1248)" />
<clipPath id="clip1249"><path d="M660,10610 L816,10610 L816,10638 L660,10638 L660,10610 Z" /></clipPath>
<path d="M662,10636 L813,10636 Z M662,10636" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1249)" />
<text x="672" y="10627" style="font:10px Open Sans">总控节点自身的高可用</text>
<clipPath id="clip1250"><path d="M833,10608 L1311,10608 L1311,10638 L833,10638 L833,10608 Z" /></clipPath>
<path d="M835,10636 L1308,10636 Z M835,10636" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1250)" />
<text x="845" y="10625" style="font:10px Open Sans">状态实时同步到备机，通过外部服务选举（Paxos实现：Chubby/Zookeeper）</text>
<clipPath id="clip1251"><path d="M497,10638 L1322,10638 L1322,11050 L497,11050 Z M498,10901 L498,10924 L571,10924 L571,10901 Z M498,10901 Z M498,10901" /></clipPath>
<path d="M584,10925 L584,10819 C584,10816.7929688 585.7929688,10815 588,10815 L593,10815" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1251)" />
<clipPath id="clip1252"><path d="M497,10638 L1322,10638 L1322,11050 L497,11050 Z M498,10901 L498,10924 L571,10924 L571,10901 Z M498,10901 Z M498,10901" /></clipPath>
<path d="M584,10925 L584,11031 C584,11033.2070313 585.7929688,11035 588,11035 L593,11035" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1252)" />
<clipPath id="clip1253"><path d="M496,10637 L1323,10637 L1323,11051 L496,11051 L496,10637 Z" /></clipPath>
<path d="M571,10925 L584,10925" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1253)" />
<clipPath id="clip1254"><path d="M496,10899 L574,10899 L574,10927 L496,10927 L496,10899 Z" /></clipPath>
<path d="M498,10925 L571,10925 Z M498,10925" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1254)" />
<text x="508" y="10916" style="font:10px Open Sans">可扩展性</text>
<clipPath id="clip1255"><path d="M592,10638 L1322,10638 L1322,10996 L592,10996 Z M593,10791 L593,10814 L666,10814 L666,10791 Z M593,10791 Z M593,10791" /></clipPath>
<path d="M679,10815 L679,10667 C679,10664.7929688 680.7929688,10663 683,10663 L688,10663" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1255)" />
<clipPath id="clip1256"><path d="M592,10638 L1322,10638 L1322,10996 L592,10996 Z M593,10791 L593,10814 L666,10814 L666,10791 Z M593,10791 Z M593,10791" /></clipPath>
<path d="M679,10815 L679,10694 C679,10691.7929688 680.7929688,10690 683,10690 L688,10690" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1256)" />
<clipPath id="clip1257"><path d="M592,10638 L1322,10638 L1322,10996 L592,10996 Z M593,10791 L593,10814 L666,10814 L666,10791 Z M593,10791 Z M593,10791" /></clipPath>
<path d="M679,10815 L679,10723 C679,10720.7929688 680.7929688,10719 683,10719 L688,10719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1257)" />
<clipPath id="clip1258"><path d="M592,10638 L1322,10638 L1322,10996 L592,10996 Z M593,10791 L593,10814 L666,10814 L666,10791 Z M593,10791 Z M593,10791" /></clipPath>
<path d="M679,10815 L679,10750 C679,10747.7929688 680.7929688,10746 683,10746 L688,10746" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1258)" />
<clipPath id="clip1259"><path d="M592,10638 L1322,10638 L1322,10996 L592,10996 Z M593,10791 L593,10814 L666,10814 L666,10791 Z M593,10791 Z M593,10791" /></clipPath>
<path d="M679,10815 L679,10777 C679,10774.7929688 680.7929688,10773 683,10773 L688,10773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1259)" />
<clipPath id="clip1260"><path d="M592,10638 L1322,10638 L1322,10996 L592,10996 Z M593,10791 L593,10814 L666,10814 L666,10791 Z M593,10791 Z M593,10791" /></clipPath>
<path d="M679,10815 L679,10806 C679,10803.7929688 680.7929688,10802 683,10802 L688,10802" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1260)" />
<clipPath id="clip1261"><path d="M592,10638 L1322,10638 L1322,10996 L592,10996 Z M593,10791 L593,10814 L666,10814 L666,10791 Z M593,10791 Z M593,10791" /></clipPath>
<path d="M679,10815 L679,10827 C679,10829.2070313 680.7929688,10831 683,10831 L688,10831" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1261)" />
<clipPath id="clip1262"><path d="M592,10638 L1322,10638 L1322,10996 L592,10996 Z M593,10791 L593,10814 L666,10814 L666,10791 Z M593,10791 Z M593,10791" /></clipPath>
<path d="M679,10815 L679,10882 C679,10884.2070313 680.7929688,10886 683,10886 L688,10886" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1262)" />
<clipPath id="clip1263"><path d="M592,10638 L1322,10638 L1322,10996 L592,10996 Z M593,10791 L593,10814 L666,10814 L666,10791 Z M593,10791 Z M593,10791" /></clipPath>
<path d="M679,10815 L679,10964 C679,10966.2070313 680.7929688,10968 683,10968 L688,10968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1263)" />
<clipPath id="clip1264"><path d="M591,10637 L1323,10637 L1323,10997 L591,10997 L591,10637 Z" /></clipPath>
<path d="M666,10815 L679,10815" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1264)" />
<clipPath id="clip1265"><path d="M591,10789 L669,10789 L669,10817 L591,10817 L591,10789 Z" /></clipPath>
<path d="M593,10815 L666,10815 Z M593,10815" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1265)" />
<text x="603" y="10806" style="font:10px Open Sans">总控节点</text>
<clipPath id="clip1266"><path d="M686,10637 L1076,10637 L1076,10665 L686,10665 L686,10637 Z" /></clipPath>
<path d="M688,10663 L1073,10663 Z M688,10663" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1266)" />
<text x="698" y="10654" style="font:10px Open Sans">分布式存储系统大多带有总控节点，且能支持上万台的集群规模</text>
<clipPath id="clip1267"><path d="M686,10664 L1323,10664 L1323,10692 L686,10692 L686,10664 Z" /></clipPath>
<path d="M688,10690 L1320,10690 Z M688,10690" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1267)" />
<text x="698" y="10681" style="font:10px Open Sans">总控节点用于维护数据分布信息，执行工作机管理，数据定位，故障检测和恢复，负载均衡等全局调度工作</text>
<clipPath id="clip1268"><path d="M686,10691 L1035,10691 L1035,10721 L686,10721 L686,10691 Z" /></clipPath>
<path d="M688,10719 L1032,10719 Z M688,10719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1268)" />
<text x="698" y="10708" style="font:10px Open Sans">相对P2P架构，系统的设计更简单，更容易做到强一致性</text>
<clipPath id="clip1269"><path d="M686,10720 L1206,10720 L1206,10748 L686,10748 L686,10720 Z" /></clipPath>
<path d="M688,10746 L1203,10746 Z M688,10746" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1269)" />
<text x="698" y="10737" style="font:10px Open Sans">如果总控节点除了执行全局调度还要维护文件系统目录树，那么内存可能率先成为瓶颈</text>
<clipPath id="clip1270"><path d="M686,10747 L1089,10747 L1089,10775 L686,10775 L686,10747 Z" /></clipPath>
<path d="M688,10773 L1086,10773 Z M688,10773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1270)" />
<text x="698" y="10764" style="font:10px Open Sans">对于只需要维护数据分片位置信息的总控节点，一般不会成为瓶颈</text>
<clipPath id="clip1271"><path d="M686,10774 L1021,10774 L1021,10804 L686,10804 L686,10774 Z" /></clipPath>
<path d="M688,10802 L1018,10802 Z M688,10802" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1271)" />
<text x="698" y="10791" style="font:10px Open Sans">Google的分布式文件系统能扩展到8000台以上的集群</text>
<clipPath id="clip1272"><path d="M686,10803 L923,10803 L923,10833 L686,10833 L686,10803 Z" /></clipPath>
<path d="M688,10831 L920,10831 Z M688,10831" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1272)" />
<text x="698" y="10820" style="font:10px Open Sans">Hadoop能扩展到3000台以上的集群</text>
<clipPath id="clip1273"><path d="M687,10833 L1284,10833 L1284,10915 L687,10915 Z M688,10860 L688,10885 L954,10885 L954,10860 Z M688,10860 Z M688,10860" /></clipPath>
<path d="M967,10886 L967,10862 C967,10859.7929688 968.7929688,10858 971,10858 L976,10858" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1273)" />
<clipPath id="clip1274"><path d="M687,10833 L1284,10833 L1284,10915 L687,10915 Z M688,10860 L688,10885 L954,10885 L954,10860 Z M688,10860 Z M688,10860" /></clipPath>
<path d="M967,10886 C967,10886.5507813 968.7929688,10887 971,10887 L976,10887" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1274)" />
<clipPath id="clip1275"><path d="M687,10833 L1284,10833 L1284,10915 L687,10915 Z M688,10860 L688,10885 L954,10885 L954,10860 Z M688,10860 Z M688,10860" /></clipPath>
<path d="M967,10886 L967,10910 C967,10912.2070313 968.7929688,10914 971,10914 L976,10914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1275)" />
<clipPath id="clip1276"><path d="M686,10832 L1285,10832 L1285,10916 L686,10916 L686,10832 Z" /></clipPath>
<path d="M954,10886 L967,10886" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1276)" />
<clipPath id="clip1277"><path d="M686,10858 L957,10858 L957,10888 L686,10888 L686,10858 Z" /></clipPath>
<path d="M688,10886 L954,10886 Z M688,10886" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1277)" />
<text x="698" y="10875" style="font:10px Open Sans">设计时需要减少总控节点的负载，例如GFS</text>
<clipPath id="clip1278"><path d="M974,10832 L1130,10832 L1130,10860 L974,10860 L974,10832 Z" /></clipPath>
<path d="M976,10858 L1127,10858 Z M976,10858" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1278)" />
<text x="986" y="10849" style="font:10px Open Sans">舍弃了对小文件的支持</text>
<clipPath id="clip1279"><path d="M974,10859 L1285,10859 L1285,10889 L974,10889 L974,10859 Z" /></clipPath>
<path d="M976,10887 L1282,10887 Z M976,10887" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1279)" />
<text x="986" y="10876" style="font:10px Open Sans">把对数据的读写控制权下放到工作机ChunkServer</text>
<clipPath id="clip1280"><path d="M974,10888 L1260,10888 L1260,10916 L974,10916 L974,10888 Z" /></clipPath>
<path d="M976,10914 L1257,10914 Z M976,10914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1280)" />
<text x="986" y="10905" style="font:10px Open Sans">通过客户端缓存元数据减少对总控节点的访问</text>
<clipPath id="clip1281"><path d="M687,10916 L1196,10916 L1196,10996 L687,10996 Z M688,10944 L688,10967 L813,10967 L813,10944 Z M688,10944 Z M688,10944" /></clipPath>
<path d="M826,10968 L826,10945 C826,10942.7929688 827.7929688,10941 830,10941 L835,10941" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1281)" />
<clipPath id="clip1282"><path d="M687,10916 L1196,10916 L1196,10996 L687,10996 Z M688,10944 L688,10967 L813,10967 L813,10944 Z M688,10944 Z M688,10944" /></clipPath>
<path d="M826,10968 C826,10968 827.7929688,10968 830,10968 L835,10968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1282)" />
<clipPath id="clip1283"><path d="M687,10916 L1196,10916 L1196,10996 L687,10996 Z M688,10944 L688,10967 L813,10967 L813,10944 Z M688,10944 Z M688,10944" /></clipPath>
<path d="M826,10968 L826,10991 C826,10993.2070313 827.7929688,10995 830,10995 L835,10995" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1283)" />
<clipPath id="clip1284"><path d="M686,10915 L1197,10915 L1197,10997 L686,10997 L686,10915 Z" /></clipPath>
<path d="M813,10968 L826,10968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1284)" />
<clipPath id="clip1285"><path d="M686,10942 L816,10942 L816,10970 L686,10970 L686,10942 Z" /></clipPath>
<path d="M688,10968 L813,10968 Z M688,10968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1285)" />
<text x="698" y="10959" style="font:10px Open Sans">总控节点成为瓶颈</text>
<clipPath id="clip1286"><path d="M833,10915 L1197,10915 L1197,10943 L833,10943 L833,10915 Z" /></clipPath>
<path d="M835,10941 L1194,10941 Z M835,10941" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1286)" />
<text x="845" y="10932" style="font:10px Open Sans">采用两级结构，在总控机与工作机之间增加一层元数据节点</text>
<clipPath id="clip1287"><path d="M833,10942 L1119,10942 L1119,10970 L833,10970 L833,10942 Z" /></clipPath>
<path d="M835,10968 L1116,10968 Z M835,10968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1287)" />
<text x="845" y="10959" style="font:10px Open Sans">每个元数据节点只维护一部分文件系统的数据</text>
<clipPath id="clip1288"><path d="M833,10969 L1184,10969 L1184,10997 L833,10997 L833,10969 Z" /></clipPath>
<path d="M835,10995 L1181,10995 Z M835,10995" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1288)" />
<text x="845" y="10986" style="font:10px Open Sans">总控机只需要维护元数据节点的元数据，不可能成为瓶颈</text>
<clipPath id="clip1289"><path d="M592,10997 L1023,10997 L1023,11050 L592,11050 Z M593,11011 L593,11034 L679,11034 L679,11011 Z M593,11011 Z M593,11011" /></clipPath>
<path d="M692,11035 L692,11026 C692,11023.7929688 693.7929688,11022 696,11022 L701,11022" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1289)" />
<clipPath id="clip1290"><path d="M592,10997 L1023,10997 L1023,11050 L592,11050 Z M593,11011 L593,11034 L679,11034 L679,11011 Z M593,11011 Z M593,11011" /></clipPath>
<path d="M692,11035 L692,11045 C692,11047.2070313 693.7929688,11049 696,11049 L701,11049" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1290)" />
<clipPath id="clip1291"><path d="M591,10996 L1024,10996 L1024,11051 L591,11051 L591,10996 Z" /></clipPath>
<path d="M679,11035 L692,11035" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1291)" />
<clipPath id="clip1292"><path d="M591,11009 L682,11009 L682,11037 L591,11037 L591,11009 Z" /></clipPath>
<path d="M593,11035 L679,11035 Z M593,11035" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1292)" />
<text x="603" y="11026" style="font:10px Open Sans">数据库扩容</text>
<clipPath id="clip1293"><path d="M699,10996 L920,10996 L920,11024 L699,11024 L699,10996 Z" /></clipPath>
<path d="M701,11022 L917,11022 Z M701,11022" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1293)" />
<text x="711" y="11013" style="font:10px Open Sans">通过主从复制提高系统的读取能力</text>
<clipPath id="clip1294"><path d="M699,11023 L1024,11023 L1024,11051 L699,11051 L699,11023 Z" /></clipPath>
<path d="M701,11049 L1021,11049 Z M701,11049" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1294)" />
<text x="711" y="11040" style="font:10px Open Sans">通过垂直拆分和水平拆分将数据分布到多个存储节点</text>
<clipPath id="clip1295"><path d="M497,11051 L2102,11051 L2102,12207 L497,12207 Z M498,11683 L498,11706 L584,11706 L584,11683 Z M498,11683 Z M498,11683" /></clipPath>
<path d="M597,11707 L597,11242 C597,11239.7929688 598.7929688,11238 601,11238 L606,11238" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1295)" />
<clipPath id="clip1296"><path d="M497,11051 L2102,11051 L2102,12207 L497,12207 Z M498,11683 L498,11706 L584,11706 L584,11683 Z M498,11683 Z M498,11683" /></clipPath>
<path d="M597,11707 L597,11747 C597,11749.2070313 598.7929688,11751 601,11751 L606,11751" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1296)" />
<clipPath id="clip1297"><path d="M497,11051 L2102,11051 L2102,12207 L497,12207 Z M498,11683 L498,11706 L584,11706 L584,11683 Z M498,11683 Z M498,11683" /></clipPath>
<path d="M597,11707 L597,12173 C597,12175.2070313 598.7929688,12177 601,12177 L606,12177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1297)" />
<clipPath id="clip1298"><path d="M496,11050 L2103,11050 L2103,12208 L496,12208 L496,11050 Z" /></clipPath>
<path d="M584,11707 L597,11707" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1298)" />
<clipPath id="clip1299"><path d="M496,11681 L587,11681 L587,11709 L496,11709 L496,11681 Z" /></clipPath>
<path d="M498,11707 L584,11707 Z M498,11707" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1299)" />
<text x="508" y="11698" style="font:10px Open Sans">分布式协议</text>
<clipPath id="clip1300"><path d="M605,11051 L1395,11051 L1395,11401 L605,11401 Z M606,11214 L606,11237 L718,11237 L718,11214 Z M606,11214 Z M606,11214" /></clipPath>
<path d="M731,11238 L731,11080 C731,11077.7929688 732.7929688,11076 735,11076 L740,11076" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1300)" />
<clipPath id="clip1301"><path d="M605,11051 L1395,11051 L1395,11401 L605,11401 Z M606,11214 L606,11237 L718,11237 L718,11214 Z M606,11214 Z M606,11214" /></clipPath>
<path d="M731,11238 L731,11107 C731,11104.7929688 732.7929688,11103 735,11103 L740,11103" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1301)" />
<clipPath id="clip1302"><path d="M605,11051 L1395,11051 L1395,11401 L605,11401 Z M606,11214 L606,11237 L718,11237 L718,11214 Z M606,11214 Z M606,11214" /></clipPath>
<path d="M731,11238 L731,11181 C731,11178.7929688 732.7929688,11177 735,11177 L740,11177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1302)" />
<clipPath id="clip1303"><path d="M605,11051 L1395,11051 L1395,11401 L605,11401 Z M606,11214 L606,11237 L718,11237 L718,11214 Z M606,11214 Z M606,11214" /></clipPath>
<path d="M731,11238 L731,11301 C731,11303.2070313 732.7929688,11305 735,11305 L740,11305" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1303)" />
<clipPath id="clip1304"><path d="M605,11051 L1395,11051 L1395,11401 L605,11401 Z M606,11214 L606,11237 L718,11237 L718,11214 Z M606,11214 Z M606,11214" /></clipPath>
<path d="M731,11238 L731,11369 C731,11371.2070313 732.7929688,11373 735,11373 L740,11373" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1304)" />
<clipPath id="clip1305"><path d="M605,11051 L1395,11051 L1395,11401 L605,11401 Z M606,11214 L606,11237 L718,11237 L718,11214 Z M606,11214 Z M606,11214" /></clipPath>
<path d="M731,11238 L731,11396 C731,11398.2070313 732.7929688,11400 735,11400 L740,11400" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1305)" />
<clipPath id="clip1306"><path d="M604,11050 L1396,11050 L1396,11402 L604,11402 L604,11050 Z" /></clipPath>
<path d="M718,11238 L731,11238" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1306)" />
<clipPath id="clip1307"><path d="M604,11212 L721,11212 L721,11240 L604,11240 L604,11212 Z" /></clipPath>
<path d="M606,11238 L718,11238 Z M606,11238" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1307)" />
<text x="616" y="11229" style="font:10px Open Sans">两阶段提交协议</text>
<clipPath id="clip1308"><path d="M738,11050 L894,11050 L894,11078 L738,11078 L738,11050 Z" /></clipPath>
<path d="M740,11076 L891,11076 Z M740,11076" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1308)" />
<text x="750" y="11067" style="font:10px Open Sans">常用来实现分布式事务</text>
<clipPath id="clip1309"><path d="M738,11077 L998,11077 L998,11105 L738,11105 L738,11077 Z" /></clipPath>
<path d="M740,11103 L995,11103 Z M740,11103" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1309)" />
<text x="750" y="11094" style="font:10px Open Sans">系统中包含一个协调者，多个事务参与者</text>
<clipPath id="clip1310"><path d="M739,11105 L1395,11105 L1395,11239 L739,11239 Z M740,11153 L740,11176 L852,11176 L852,11153 Z M740,11153 Z M740,11153" /></clipPath>
<path d="M865,11177 L865,11147 C865,11144.7929688 866.7929688,11143 869,11143 L874,11143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1310)" />
<clipPath id="clip1311"><path d="M739,11105 L1395,11105 L1395,11239 L739,11239 Z M740,11153 L740,11176 L852,11176 L852,11153 Z M740,11153 Z M740,11153" /></clipPath>
<path d="M865,11177 L865,11207 C865,11209.2070313 866.7929688,11211 869,11211 L874,11211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1311)" />
<clipPath id="clip1312"><path d="M738,11104 L1396,11104 L1396,11240 L738,11240 L738,11104 Z" /></clipPath>
<path d="M852,11177 L865,11177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1312)" />
<clipPath id="clip1313"><path d="M738,11151 L855,11151 L855,11179 L738,11179 L738,11151 Z" /></clipPath>
<path d="M740,11177 L852,11177 Z M740,11177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1313)" />
<text x="750" y="11168" style="font:10px Open Sans">两阶段提交过程</text>
<clipPath id="clip1314"><path d="M873,11105 L1343,11105 L1343,11158 L873,11158 Z M874,11119 L874,11142 L947,11142 L947,11119 Z M874,11119 Z M874,11119" /></clipPath>
<path d="M960,11143 L960,11134 C960,11131.7929688 961.7929688,11130 964,11130 L969,11130" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1314)" />
<clipPath id="clip1315"><path d="M873,11105 L1343,11105 L1343,11158 L873,11158 Z M874,11119 L874,11142 L947,11142 L947,11119 Z M874,11119 Z M874,11119" /></clipPath>
<path d="M960,11143 L960,11153 C960,11155.2070313 961.7929688,11157 964,11157 L969,11157" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1315)" />
<clipPath id="clip1316"><path d="M872,11104 L1344,11104 L1344,11159 L872,11159 L872,11104 Z" /></clipPath>
<path d="M947,11143 L960,11143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1316)" />
<clipPath id="clip1317"><path d="M872,11117 L950,11117 L950,11145 L872,11145 L872,11117 Z" /></clipPath>
<path d="M874,11143 L947,11143 Z M874,11143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1317)" />
<text x="884" y="11134" style="font:10px Open Sans">请求阶段</text>
<clipPath id="clip1318"><path d="M967,11104 L1344,11104 L1344,11132 L967,11132 L967,11104 Z" /></clipPath>
<path d="M969,11130 L1341,11130 Z M969,11130" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1318)" />
<text x="979" y="11121" style="font:10px Open Sans">协调者通知事务参与者准备提交或取消事务，进入表决过程。</text>
<clipPath id="clip1319"><path d="M967,11131 L1318,11131 L1318,11159 L967,11159 L967,11131 Z" /></clipPath>
<path d="M969,11157 L1315,11157 Z M969,11157" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1319)" />
<text x="979" y="11148" style="font:10px Open Sans">表决过程中，参与者告知协调者自己的决策，同意或取消</text>
<clipPath id="clip1320"><path d="M873,11159 L1395,11159 L1395,11239 L873,11239 Z M874,11187 L874,11210 L947,11210 L947,11187 Z M874,11187 Z M874,11187" /></clipPath>
<path d="M960,11211 L960,11188 C960,11185.7929688 961.7929688,11184 964,11184 L969,11184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1320)" />
<clipPath id="clip1321"><path d="M873,11159 L1395,11159 L1395,11239 L873,11239 Z M874,11187 L874,11210 L947,11210 L947,11187 Z M874,11187 Z M874,11187" /></clipPath>
<path d="M960,11211 C960,11211 961.7929688,11211 964,11211 L969,11211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1321)" />
<clipPath id="clip1322"><path d="M873,11159 L1395,11159 L1395,11239 L873,11239 Z M874,11187 L874,11210 L947,11210 L947,11187 Z M874,11187 Z M874,11187" /></clipPath>
<path d="M960,11211 L960,11234 C960,11236.2070313 961.7929688,11238 964,11238 L969,11238" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1322)" />
<clipPath id="clip1323"><path d="M872,11158 L1396,11158 L1396,11240 L872,11240 L872,11158 Z" /></clipPath>
<path d="M947,11211 L960,11211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1323)" />
<clipPath id="clip1324"><path d="M872,11185 L950,11185 L950,11213 L872,11213 L872,11185 Z" /></clipPath>
<path d="M874,11211 L947,11211 Z M874,11211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1324)" />
<text x="884" y="11202" style="font:10px Open Sans">提交阶段</text>
<clipPath id="clip1325"><path d="M967,11158 L1305,11158 L1305,11186 L967,11186 L967,11158 Z" /></clipPath>
<path d="M969,11184 L1302,11184 Z M969,11184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1325)" />
<text x="979" y="11175" style="font:10px Open Sans">协调者基于请求阶段的投票结果进行决策，提交或取消</text>
<clipPath id="clip1326"><path d="M967,11185 L1396,11185 L1396,11213 L967,11213 L967,11185 Z" /></clipPath>
<path d="M969,11211 L1393,11211 Z M969,11211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1326)" />
<text x="979" y="11202" style="font:10px Open Sans">当且仅当所有参与者同意提交事务协调者才通知所有的参与者提交事务</text>
<clipPath id="clip1327"><path d="M967,11212 L1292,11212 L1292,11240 L967,11240 L967,11212 Z" /></clipPath>
<path d="M969,11238 L1289,11238 Z M969,11238" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1327)" />
<text x="979" y="11229" style="font:10px Open Sans">参与者在接收到协调者发来的消息后执行相应的操作</text>
<clipPath id="clip1328"><path d="M739,11240 L1395,11240 L1395,11347 L739,11347 Z M740,11281 L740,11304 L826,11304 L826,11281 Z M740,11281 Z M740,11281" /></clipPath>
<path d="M839,11305 L839,11282 C839,11279.7929688 840.7929688,11278 843,11278 L848,11278" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1328)" />
<clipPath id="clip1329"><path d="M739,11240 L1395,11240 L1395,11347 L739,11347 Z M740,11281 L740,11304 L826,11304 L826,11281 Z M740,11281 Z M740,11281" /></clipPath>
<path d="M839,11305 L839,11328 C839,11330.2070313 840.7929688,11332 843,11332 L848,11332" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1329)" />
<clipPath id="clip1330"><path d="M738,11239 L1396,11239 L1396,11348 L738,11348 L738,11239 Z" /></clipPath>
<path d="M826,11305 L839,11305" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1330)" />
<clipPath id="clip1331"><path d="M738,11279 L829,11279 L829,11307 L738,11307 L738,11279 Z" /></clipPath>
<path d="M740,11305 L826,11305 Z M740,11305" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1331)" />
<text x="750" y="11296" style="font:10px Open Sans">可能的故障</text>
<clipPath id="clip1332"><path d="M847,11240 L1395,11240 L1395,11293 L847,11293 Z M848,11254 L848,11277 L986,11277 L986,11254 Z M848,11254 Z M848,11254" /></clipPath>
<path d="M999,11278 L999,11269 C999,11266.7929688 1000.7929688,11265 1003,11265 L1008,11265" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1332)" />
<clipPath id="clip1333"><path d="M847,11240 L1395,11240 L1395,11293 L847,11293 Z M848,11254 L848,11277 L986,11277 L986,11254 Z M848,11254 Z M848,11254" /></clipPath>
<path d="M999,11278 L999,11288 C999,11290.2070313 1000.7929688,11292 1003,11292 L1008,11292" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1333)" />
<clipPath id="clip1334"><path d="M846,11239 L1396,11239 L1396,11294 L846,11294 L846,11239 Z" /></clipPath>
<path d="M986,11278 L999,11278" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1334)" />
<clipPath id="clip1335"><path d="M846,11252 L989,11252 L989,11280 L846,11280 L846,11252 Z" /></clipPath>
<path d="M848,11278 L986,11278 Z M848,11278" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1335)" />
<text x="858" y="11269" style="font:10px Open Sans">事务参与者发生故障</text>
<clipPath id="clip1336"><path d="M1006,11239 L1201,11239 L1201,11267 L1006,11267 L1006,11239 Z" /></clipPath>
<path d="M1008,11265 L1198,11265 Z M1008,11265" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1336)" />
<text x="1018" y="11256" style="font:10px Open Sans">给每个事务设置一个超时时间</text>
<clipPath id="clip1337"><path d="M1006,11266 L1396,11266 L1396,11294 L1006,11294 L1006,11266 Z" /></clipPath>
<path d="M1008,11292 L1393,11292 Z M1008,11292" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1337)" />
<text x="1018" y="11283" style="font:10px Open Sans">如果某个事务参与者一直不响应，达到超时时间后整个事务失败</text>
<clipPath id="clip1338"><path d="M847,11294 L1330,11294 L1330,11347 L847,11347 Z M848,11308 L848,11331 L960,11331 L960,11308 Z M848,11308 Z M848,11308" /></clipPath>
<path d="M973,11332 L973,11323 C973,11320.7929688 974.7929688,11319 977,11319 L982,11319" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1338)" />
<clipPath id="clip1339"><path d="M847,11294 L1330,11294 L1330,11347 L847,11347 Z M848,11308 L848,11331 L960,11331 L960,11308 Z M848,11308 Z M848,11308" /></clipPath>
<path d="M973,11332 L973,11342 C973,11344.2070313 974.7929688,11346 977,11346 L982,11346" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1339)" />
<clipPath id="clip1340"><path d="M846,11293 L1331,11293 L1331,11348 L846,11348 L846,11293 Z" /></clipPath>
<path d="M960,11332 L973,11332" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1340)" />
<clipPath id="clip1341"><path d="M846,11306 L963,11306 L963,11334 L846,11334 L846,11306 Z" /></clipPath>
<path d="M848,11332 L960,11332 Z M848,11332" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1341)" />
<text x="858" y="11323" style="font:10px Open Sans">协调者发生故障</text>
<clipPath id="clip1342"><path d="M980,11293 L1331,11293 L1331,11321 L980,11321 L980,11293 Z" /></clipPath>
<path d="M982,11319 L1328,11319 Z M982,11319" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1342)" />
<text x="992" y="11310" style="font:10px Open Sans">协调者将事务相关信息记录到操作日志并同步到备协调者</text>
<clipPath id="clip1343"><path d="M980,11320 L1305,11320 L1305,11348 L980,11348 L980,11320 Z" /></clipPath>
<path d="M982,11346 L1302,11346 Z M982,11346" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1343)" />
<text x="992" y="11337" style="font:10px Open Sans">协调者发生故障时，备协调者接替它完成后续的工作</text>
<clipPath id="clip1344"><path d="M738,11347 L1180,11347 L1180,11375 L738,11375 L738,11347 Z" /></clipPath>
<path d="M740,11373 L1177,11373 Z M740,11373" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1344)" />
<text x="750" y="11364" style="font:10px Open Sans">两阶段提交协议是阻塞协议，执行过程中需要锁住其他更新，且不能容错</text>
<clipPath id="clip1345"><path d="M738,11374 L1037,11374 L1037,11402 L738,11402 L738,11374 Z" /></clipPath>
<path d="M740,11400 L1034,11400 Z M740,11400" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1345)" />
<text x="750" y="11391" style="font:10px Open Sans">大多数分布式存储系统放弃对分布式事务的支持</text>
<clipPath id="clip1346"><path d="M605,11402 L2102,11402 L2102,12120 L605,12120 Z M606,11725 L606,11750 L689,11750 L689,11725 Z M606,11725 Z M606,11725" /></clipPath>
<path d="M702,11751 L702,11431 C702,11428.7929688 703.7929688,11427 706,11427 L711,11427" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1346)" />
<clipPath id="clip1347"><path d="M605,11402 L2102,11402 L2102,12120 L605,12120 Z M606,11725 L606,11750 L689,11750 L689,11725 Z M606,11725 Z M606,11725" /></clipPath>
<path d="M702,11751 L702,11458 C702,11455.7929688 703.7929688,11454 706,11454 L711,11454" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1347)" />
<clipPath id="clip1348"><path d="M605,11402 L2102,11402 L2102,12120 L605,12120 Z M606,11725 L606,11750 L689,11750 L689,11725 Z M606,11725 Z M606,11725" /></clipPath>
<path d="M702,11751 L702,11485 C702,11482.7929688 703.7929688,11481 706,11481 L711,11481" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1348)" />
<clipPath id="clip1349"><path d="M605,11402 L2102,11402 L2102,12120 L605,12120 Z M606,11725 L606,11750 L689,11750 L689,11725 Z M606,11725 Z M606,11725" /></clipPath>
<path d="M702,11751 L702,11514 C702,11511.7929688 703.7929688,11510 706,11510 L711,11510" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1349)" />
<clipPath id="clip1350"><path d="M605,11402 L2102,11402 L2102,12120 L605,12120 Z M606,11725 L606,11750 L689,11750 L689,11725 Z M606,11725 Z M606,11725" /></clipPath>
<path d="M702,11751 L702,11676 C702,11673.7929688 703.7929688,11672 706,11672 L711,11672" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1350)" />
<clipPath id="clip1351"><path d="M605,11402 L2102,11402 L2102,12120 L605,12120 Z M606,11725 L606,11750 L689,11750 L689,11725 Z M606,11725 Z M606,11725" /></clipPath>
<path d="M702,11751 L702,11955 C702,11957.2070313 703.7929688,11959 706,11959 L711,11959" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1351)" />
<clipPath id="clip1352"><path d="M605,11402 L2102,11402 L2102,12120 L605,12120 Z M606,11725 L606,11750 L689,11750 L689,11725 Z M606,11725 Z M606,11725" /></clipPath>
<path d="M702,11751 L702,12071 C702,12073.2070313 703.7929688,12075 706,12075 L711,12075" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1352)" />
<clipPath id="clip1353"><path d="M604,11401 L2103,11401 L2103,12121 L604,12121 L604,11401 Z" /></clipPath>
<path d="M689,11751 L702,11751" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1353)" />
<clipPath id="clip1354"><path d="M604,11723 L692,11723 L692,11753 L604,11753 L604,11723 Z" /></clipPath>
<path d="M606,11751 L689,11751 Z M606,11751" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1354)" />
<text x="616" y="11740" style="font:10px Open Sans">Paxos协议</text>
<clipPath id="clip1355"><path d="M709,11401 L943,11401 L943,11429 L709,11429 L709,11401 Z" /></clipPath>
<path d="M711,11427 L940,11427 Z M711,11427" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1355)" />
<text x="721" y="11418" style="font:10px Open Sans">用于解决多个节点之间的一致性问题</text>
<clipPath id="clip1356"><path d="M709,11428 L1138,11428 L1138,11456 L709,11456 L709,11428 Z" /></clipPath>
<path d="M711,11454 L1135,11454 Z M711,11454" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1356)" />
<text x="721" y="11445" style="font:10px Open Sans">节点之间通过操作日志同步数据，主节点故障时需要选举出新的主节点</text>
<clipPath id="clip1357"><path d="M709,11455 L1268,11455 L1268,11483 L709,11483 L709,11455 Z" /></clipPath>
<path d="M711,11481 L1265,11481 Z M711,11481" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1357)" />
<text x="721" y="11472" style="font:10px Open Sans">保证节点之间的一致性就可以提供高可用的全局服务（分布式锁服务、全局命名、配置服务）</text>
<clipPath id="clip1358"><path d="M709,11482 L1307,11482 L1307,11512 L709,11512 L709,11482 Z" /></clipPath>
<path d="M711,11510 L1304,11510 Z M711,11510" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1358)" />
<text x="721" y="11499" style="font:10px Open Sans">Paxos协议保证了即使同时存在多个proposer也能保证左右节点最终达成一致，选举出唯一的主节点</text>
<clipPath id="clip1359"><path d="M710,11512 L2102,11512 L2102,11888 L710,11888 Z M711,11648 L711,11671 L784,11671 L784,11648 Z M711,11648 Z M711,11648" /></clipPath>
<path d="M797,11672 L797,11586 C797,11583.7929688 798.7929688,11582 801,11582 L806,11582" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1359)" />
<clipPath id="clip1360"><path d="M710,11512 L2102,11512 L2102,11888 L710,11888 Z M711,11648 L711,11671 L784,11671 L784,11648 Z M711,11648 Z M711,11648" /></clipPath>
<path d="M797,11672 L797,11759 C797,11761.2070313 798.7929688,11763 801,11763 L806,11763" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1360)" />
<clipPath id="clip1361"><path d="M709,11511 L2103,11511 L2103,11889 L709,11889 L709,11511 Z" /></clipPath>
<path d="M784,11672 L797,11672" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1361)" />
<clipPath id="clip1362"><path d="M709,11646 L787,11646 L787,11674 L709,11674 L709,11646 Z" /></clipPath>
<path d="M711,11672 L784,11672 Z M711,11672" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1362)" />
<text x="721" y="11663" style="font:10px Open Sans">选举过程</text>
<clipPath id="clip1363"><path d="M805,11512 L1519,11512 L1519,11627 L805,11627 Z M806,11556 L806,11581 L999,11581 L999,11556 Z M806,11556 Z M806,11556" /></clipPath>
<path d="M1012,11582 L1012,11557 C1012,11554.7929688 1013.7929688,11553 1016,11553 L1021,11553" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1363)" />
<clipPath id="clip1364"><path d="M805,11512 L1519,11512 L1519,11627 L805,11627 Z M806,11556 L806,11581 L999,11581 L999,11556 Z M806,11556 Z M806,11556" /></clipPath>
<path d="M1012,11582 L1012,11607 C1012,11609.2070313 1013.7929688,11611 1016,11611 L1021,11611" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1364)" />
<clipPath id="clip1365"><path d="M804,11511 L1520,11511 L1520,11628 L804,11628 L804,11511 Z" /></clipPath>
<path d="M999,11582 L1012,11582" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1365)" />
<clipPath id="clip1366"><path d="M804,11554 L1002,11554 L1002,11584 L804,11584 L804,11554 Z" /></clipPath>
<path d="M806,11582 L999,11582 Z M806,11582" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1366)" />
<text x="816" y="11571" style="font:10px Open Sans">正常情况，只有一个proposer</text>
<clipPath id="clip1367"><path d="M1020,11512 L1519,11512 L1519,11569 L1020,11569 Z M1021,11529 L1021,11552 L1068,11552 L1068,11529 Z M1021,11529 Z M1021,11529" /></clipPath>
<path d="M1081,11553 L1081,11543 C1081,11540.7929688 1082.7929688,11539 1085,11539 L1090,11539" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1367)" />
<clipPath id="clip1368"><path d="M1020,11512 L1519,11512 L1519,11569 L1020,11569 Z M1021,11529 L1021,11552 L1068,11552 L1068,11529 Z M1021,11529 Z M1021,11529" /></clipPath>
<path d="M1081,11553 L1081,11564 C1081,11566.2070313 1082.7929688,11568 1085,11568 L1090,11568" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1368)" />
<clipPath id="clip1369"><path d="M1019,11511 L1520,11511 L1520,11570 L1019,11570 L1019,11511 Z" /></clipPath>
<path d="M1068,11553 L1081,11553" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1369)" />
<clipPath id="clip1370"><path d="M1019,11527 L1071,11527 L1071,11555 L1019,11555 L1019,11527 Z" /></clipPath>
<path d="M1021,11553 L1068,11553 Z M1021,11553" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1370)" />
<text x="1031" y="11544" style="font:10px Open Sans">批准</text>
<clipPath id="clip1371"><path d="M1088,11511 L1520,11511 L1520,11541 L1088,11541 L1088,11511 Z" /></clipPath>
<path d="M1090,11539 L1517,11539 Z M1090,11539" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1371)" />
<text x="1100" y="11528" style="font:10px Open Sans">proposer发送accept消息给所有其他节点（acceptor）接受某个提议值</text>
<clipPath id="clip1372"><path d="M1088,11540 L1257,11540 L1257,11570 L1088,11570 L1088,11540 Z" /></clipPath>
<path d="M1090,11568 L1254,11568 Z M1090,11568" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1372)" />
<text x="1100" y="11557" style="font:10px Open Sans">acceptor可以接受或拒绝</text>
<clipPath id="clip1373"><path d="M1020,11570 L1454,11570 L1454,11627 L1020,11627 Z M1021,11587 L1021,11610 L1068,11610 L1068,11587 Z M1021,11587 Z M1021,11587" /></clipPath>
<path d="M1081,11611 L1081,11601 C1081,11598.7929688 1082.7929688,11597 1085,11597 L1090,11597" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1373)" />
<clipPath id="clip1374"><path d="M1020,11570 L1454,11570 L1454,11627 L1020,11627 Z M1021,11587 L1021,11610 L1068,11610 L1068,11587 Z M1021,11587 Z M1021,11587" /></clipPath>
<path d="M1081,11611 L1081,11622 C1081,11624.2070313 1082.7929688,11626 1085,11626 L1090,11626" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1374)" />
<clipPath id="clip1375"><path d="M1019,11569 L1455,11569 L1455,11628 L1019,11628 L1019,11569 Z" /></clipPath>
<path d="M1068,11611 L1081,11611" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1375)" />
<clipPath id="clip1376"><path d="M1019,11585 L1071,11585 L1071,11613 L1019,11613 L1019,11585 Z" /></clipPath>
<path d="M1021,11611 L1068,11611 Z M1021,11611" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1376)" />
<text x="1031" y="11602" style="font:10px Open Sans">确认</text>
<clipPath id="clip1377"><path d="M1088,11569 L1374,11569 L1374,11599 L1088,11599 L1088,11569 Z" /></clipPath>
<path d="M1090,11597 L1371,11597 Z M1090,11597" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1377)" />
<text x="1100" y="11586" style="font:10px Open Sans">如果超过一半的acceptor接受，则提议值生效</text>
<clipPath id="clip1378"><path d="M1088,11598 L1455,11598 L1455,11628 L1088,11628 L1088,11598 Z" /></clipPath>
<path d="M1090,11626 L1452,11626 Z M1090,11626" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1378)" />
<text x="1100" y="11615" style="font:10px Open Sans">proposer发送acknowledge消息通知所有acceptor提议生效</text>
<clipPath id="clip1379"><path d="M805,11628 L2102,11628 L2102,11888 L805,11888 Z M806,11737 L806,11762 L1051,11762 L1051,11737 Z M806,11737 Z M806,11737" /></clipPath>
<path d="M1064,11763 L1064,11659 C1064,11656.7929688 1065.7929688,11655 1068,11655 L1073,11655" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1379)" />
<clipPath id="clip1380"><path d="M805,11628 L2102,11628 L2102,11888 L805,11888 Z M806,11737 L806,11762 L1051,11762 L1051,11737 Z M806,11737 Z M806,11737" /></clipPath>
<path d="M1064,11763 L1064,11702 C1064,11699.7929688 1065.7929688,11698 1068,11698 L1073,11698" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1380)" />
<clipPath id="clip1381"><path d="M805,11628 L2102,11628 L2102,11888 L805,11888 Z M806,11737 L806,11762 L1051,11762 L1051,11737 Z M806,11737 Z M806,11737" /></clipPath>
<path d="M1064,11763 L1064,11781 C1064,11783.2070313 1065.7929688,11785 1068,11785 L1073,11785" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1381)" />
<clipPath id="clip1382"><path d="M805,11628 L2102,11628 L2102,11888 L805,11888 Z M806,11737 L806,11762 L1051,11762 L1051,11737 Z M806,11737 Z M806,11737" /></clipPath>
<path d="M1064,11763 L1064,11868 C1064,11870.2070313 1065.7929688,11872 1068,11872 L1073,11872" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1382)" />
<clipPath id="clip1383"><path d="M804,11627 L2103,11627 L2103,11889 L804,11889 L804,11627 Z" /></clipPath>
<path d="M1051,11763 L1064,11763" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1383)" />
<clipPath id="clip1384"><path d="M804,11735 L1054,11735 L1054,11765 L804,11765 L804,11735 Z" /></clipPath>
<path d="M806,11763 L1051,11763 Z M806,11763" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1384)" />
<text x="816" y="11752" style="font:10px Open Sans">网络或其他异常时，出现多个proposer</text>
<clipPath id="clip1385"><path d="M1071,11627 L1893,11627 L1893,11657 L1071,11657 L1071,11627 Z" /></clipPath>
<path d="M1073,11655 L1890,11655 Z M1073,11655" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1385)" />
<text x="1083" y="11644" style="font:10px Open Sans">如果proposer第一次发起的accept请求没有被acceptor中的多数派批准（例如与其他proposer提议冲突），需要完整地执行一轮Paxos协议</text>
<clipPath id="clip1386"><path d="M1072,11657 L2102,11657 L2102,11714 L1072,11714 Z M1073,11674 L1073,11697 L1120,11697 L1120,11674 Z M1073,11674 Z M1073,11674" /></clipPath>
<path d="M1133,11698 L1133,11688 C1133,11685.7929688 1134.7929688,11684 1137,11684 L1142,11684" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1386)" />
<clipPath id="clip1387"><path d="M1072,11657 L2102,11657 L2102,11714 L1072,11714 Z M1073,11674 L1073,11697 L1120,11697 L1120,11674 Z M1073,11674 Z M1073,11674" /></clipPath>
<path d="M1133,11698 L1133,11709 C1133,11711.2070313 1134.7929688,11713 1137,11713 L1142,11713" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1387)" />
<clipPath id="clip1388"><path d="M1071,11656 L2103,11656 L2103,11715 L1071,11715 L1071,11656 Z" /></clipPath>
<path d="M1120,11698 L1133,11698" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1388)" />
<clipPath id="clip1389"><path d="M1071,11672 L1123,11672 L1123,11700 L1071,11700 L1071,11672 Z" /></clipPath>
<path d="M1073,11698 L1120,11698 Z M1073,11698" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1389)" />
<text x="1083" y="11689" style="font:10px Open Sans">准备</text>
<clipPath id="clip1390"><path d="M1140,11656 L1588,11656 L1588,11686 L1140,11686 L1140,11656 Z" /></clipPath>
<path d="M1142,11684 L1585,11684 Z M1142,11684" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1390)" />
<text x="1152" y="11673" style="font:10px Open Sans">Proposer首先选择一个提议序号n给其他的acceptor节点发送prepare消息</text>
<clipPath id="clip1391"><path d="M1140,11685 L2103,11685 L2103,11715 L1140,11715 L1140,11685 Z" /></clipPath>
<path d="M1142,11713 L2100,11713 Z M1142,11713" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1391)" />
<text x="1152" y="11702" style="font:10px Open Sans">acceptor收到prepare消息后，如果提议序号大于他已经回复的所有prepare消息，则acceptor将自己上次接受的提议回复给proposer，并承诺不再回复小于n的协议</text>
<clipPath id="clip1392"><path d="M1072,11715 L1852,11715 L1852,11830 L1072,11830 Z M1073,11761 L1073,11784 L1120,11784 L1120,11761 Z M1073,11761 Z M1073,11761" /></clipPath>
<path d="M1133,11785 L1133,11746 C1133,11743.7929688 1134.7929688,11742 1137,11742 L1142,11742" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1392)" />
<clipPath id="clip1393"><path d="M1072,11715 L1852,11715 L1852,11830 L1072,11830 Z M1073,11761 L1073,11784 L1120,11784 L1120,11761 Z M1073,11761 Z M1073,11761" /></clipPath>
<path d="M1133,11785 L1133,11775 C1133,11772.7929688 1134.7929688,11771 1137,11771 L1142,11771" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1393)" />
<clipPath id="clip1394"><path d="M1072,11715 L1852,11715 L1852,11830 L1072,11830 Z M1073,11761 L1073,11784 L1120,11784 L1120,11761 Z M1073,11761 Z M1073,11761" /></clipPath>
<path d="M1133,11785 L1133,11796 C1133,11798.2070313 1134.7929688,11800 1137,11800 L1142,11800" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1394)" />
<clipPath id="clip1395"><path d="M1072,11715 L1852,11715 L1852,11830 L1072,11830 Z M1073,11761 L1073,11784 L1120,11784 L1120,11761 Z M1073,11761 Z M1073,11761" /></clipPath>
<path d="M1133,11785 L1133,11825 C1133,11827.2070313 1134.7929688,11829 1137,11829 L1142,11829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1395)" />
<clipPath id="clip1396"><path d="M1071,11714 L1853,11714 L1853,11831 L1071,11831 L1071,11714 Z" /></clipPath>
<path d="M1120,11785 L1133,11785" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1396)" />
<clipPath id="clip1397"><path d="M1071,11759 L1123,11759 L1123,11787 L1071,11787 L1071,11759 Z" /></clipPath>
<path d="M1073,11785 L1120,11785 Z M1073,11785" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1397)" />
<text x="1083" y="11776" style="font:10px Open Sans">批准</text>
<clipPath id="clip1398"><path d="M1140,11714 L1554,11714 L1554,11744 L1140,11744 L1140,11714 Z" /></clipPath>
<path d="M1142,11742 L1551,11742 Z M1142,11742" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1398)" />
<text x="1152" y="11731" style="font:10px Open Sans">proposer收到acceptor中的多数派对prepare的回复后进入批准阶段</text>
<clipPath id="clip1399"><path d="M1140,11743 L1853,11743 L1853,11773 L1140,11773 L1140,11743 Z" /></clipPath>
<path d="M1142,11771 L1850,11771 Z M1142,11771" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1399)" />
<text x="1152" y="11760" style="font:10px Open Sans">如果之前的prepare阶段acceptor回复了上次接受的协议，那么proposer选择其中序号最大的提议值发送给acceptor批准</text>
<clipPath id="clip1400"><path d="M1140,11772 L1481,11772 L1481,11802 L1140,11802 L1140,11772 Z" /></clipPath>
<path d="M1142,11800 L1478,11800 Z M1142,11800" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1400)" />
<text x="1152" y="11789" style="font:10px Open Sans">否则，proposer生成一个新的提议值发给acceptor批准</text>
<clipPath id="clip1401"><path d="M1140,11801 L1551,11801 L1551,11831 L1140,11831 L1140,11801 Z" /></clipPath>
<path d="M1142,11829 L1548,11829 Z M1142,11829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1401)" />
<text x="1152" y="11818" style="font:10px Open Sans">acceptor在不违背他在prepare阶段的承诺的前提下，接受这个请求</text>
<clipPath id="clip1402"><path d="M1072,11831 L1506,11831 L1506,11888 L1072,11888 Z M1073,11848 L1073,11871 L1120,11871 L1120,11848 Z M1073,11848 Z M1073,11848" /></clipPath>
<path d="M1133,11872 L1133,11862 C1133,11859.7929688 1134.7929688,11858 1137,11858 L1142,11858" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1402)" />
<clipPath id="clip1403"><path d="M1072,11831 L1506,11831 L1506,11888 L1072,11888 Z M1073,11848 L1073,11871 L1120,11871 L1120,11848 Z M1073,11848 Z M1073,11848" /></clipPath>
<path d="M1133,11872 L1133,11883 C1133,11885.2070313 1134.7929688,11887 1137,11887 L1142,11887" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1403)" />
<clipPath id="clip1404"><path d="M1071,11830 L1507,11830 L1507,11889 L1071,11889 L1071,11830 Z" /></clipPath>
<path d="M1120,11872 L1133,11872" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1404)" />
<clipPath id="clip1405"><path d="M1071,11846 L1123,11846 L1123,11874 L1071,11874 L1071,11846 Z" /></clipPath>
<path d="M1073,11872 L1120,11872 Z M1073,11872" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1405)" />
<text x="1083" y="11863" style="font:10px Open Sans">确认</text>
<clipPath id="clip1406"><path d="M1140,11830 L1426,11830 L1426,11860 L1140,11860 L1140,11830 Z" /></clipPath>
<path d="M1142,11858 L1423,11858 Z M1142,11858" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1406)" />
<text x="1152" y="11847" style="font:10px Open Sans">如果超过一半的acceptor接受，则提议值生效</text>
<clipPath id="clip1407"><path d="M1140,11859 L1507,11859 L1507,11889 L1140,11889 L1140,11859 Z" /></clipPath>
<path d="M1142,11887 L1504,11887 Z M1142,11887" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1407)" />
<text x="1152" y="11876" style="font:10px Open Sans">proposer发送acknowledge消息通知所有acceptor提议生效</text>
<clipPath id="clip1408"><path d="M710,11889 L1847,11889 L1847,12004 L710,12004 Z M711,11933 L711,11958 L885,11958 L885,11933 Z M711,11933 Z M711,11933" /></clipPath>
<path d="M898,11959 L898,11934 C898,11931.7929688 899.7929688,11930 902,11930 L907,11930" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1408)" />
<clipPath id="clip1409"><path d="M710,11889 L1847,11889 L1847,12004 L710,12004 Z M711,11933 L711,11958 L885,11958 L885,11933 Z M711,11933 Z M711,11933" /></clipPath>
<path d="M898,11959 L898,11984 C898,11986.2070313 899.7929688,11988 902,11988 L907,11988" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1409)" />
<clipPath id="clip1410"><path d="M709,11888 L1848,11888 L1848,12005 L709,12005 L709,11888 Z" /></clipPath>
<path d="M885,11959 L898,11959" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1410)" />
<clipPath id="clip1411"><path d="M709,11931 L888,11931 L888,11961 L709,11961 L709,11931 Z" /></clipPath>
<path d="M711,11959 L885,11959 Z M711,11959" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1411)" />
<text x="721" y="11948" style="font:10px Open Sans">Paxos需要考虑的两个问题</text>
<clipPath id="clip1412"><path d="M906,11889 L1376,11889 L1376,11946 L906,11946 Z M907,11906 L907,11929 L1110,11929 L1110,11906 Z M907,11906 Z M907,11906" /></clipPath>
<path d="M1123,11930 L1123,11920 C1123,11917.7929688 1124.7929688,11916 1127,11916 L1132,11916" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1412)" />
<clipPath id="clip1413"><path d="M906,11889 L1376,11889 L1376,11946 L906,11946 Z M907,11906 L907,11929 L1110,11929 L1110,11906 Z M907,11906 Z M907,11906" /></clipPath>
<path d="M1123,11930 L1123,11941 C1123,11943.2070313 1124.7929688,11945 1127,11945 L1132,11945" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1413)" />
<clipPath id="clip1414"><path d="M905,11888 L1377,11888 L1377,11947 L905,11947 L905,11888 Z" /></clipPath>
<path d="M1110,11930 L1123,11930" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1414)" />
<clipPath id="clip1415"><path d="M905,11904 L1113,11904 L1113,11932 L905,11932 L905,11904 Z" /></clipPath>
<path d="M907,11930 L1110,11930 Z M907,11930" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1415)" />
<text x="917" y="11921" style="font:10px Open Sans">正确性：只有一个提议值会生效</text>
<clipPath id="clip1416"><path d="M1130,11888 L1351,11888 L1351,11918 L1130,11918 L1130,11888 Z" /></clipPath>
<path d="M1132,11916 L1348,11916 Z M1132,11916" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1416)" />
<text x="1142" y="11905" style="font:10px Open Sans">提议的生效需要多数acceptor接受</text>
<clipPath id="clip1417"><path d="M1130,11917 L1377,11917 L1377,11947 L1130,11947 L1130,11917 Z" /></clipPath>
<path d="M1132,11945 L1374,11945 Z M1132,11945" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1417)" />
<text x="1142" y="11934" style="font:10px Open Sans">每个acceptor不会接受两个不同的协议</text>
<clipPath id="clip1418"><path d="M906,11947 L1847,11947 L1847,12004 L906,12004 Z M907,11964 L907,11987 L1149,11987 L1149,11964 Z M907,11964 Z M907,11964" /></clipPath>
<path d="M1162,11988 L1162,11978 C1162,11975.7929688 1163.7929688,11974 1166,11974 L1171,11974" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1418)" />
<clipPath id="clip1419"><path d="M906,11947 L1847,11947 L1847,12004 L906,12004 Z M907,11964 L907,11987 L1149,11987 L1149,11964 Z M907,11964 Z M907,11964" /></clipPath>
<path d="M1162,11988 L1162,11999 C1162,12001.2070313 1163.7929688,12003 1166,12003 L1171,12003" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1419)" />
<clipPath id="clip1420"><path d="M905,11946 L1848,11946 L1848,12005 L905,12005 L905,11946 Z" /></clipPath>
<path d="M1149,11988 L1162,11988" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1420)" />
<clipPath id="clip1421"><path d="M905,11962 L1152,11962 L1152,11990 L905,11990 L905,11962 Z" /></clipPath>
<path d="M907,11988 L1149,11988 Z M907,11988" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1421)" />
<text x="917" y="11979" style="font:10px Open Sans">可终止性：最后总会有一个提议值生效</text>
<clipPath id="clip1422"><path d="M1169,11946 L1361,11946 L1361,11976 L1169,11976 L1169,11946 Z" /></clipPath>
<path d="M1171,11974 L1358,11974 Z M1171,11974" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1422)" />
<text x="1181" y="11963" style="font:10px Open Sans">Paxos不能严格保证可终止性</text>
<clipPath id="clip1423"><path d="M1169,11975 L1848,11975 L1848,12005 L1169,12005 L1169,11975 Z" /></clipPath>
<path d="M1171,12003 L1845,12003 Z M1171,12003" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1423)" />
<text x="1181" y="11992" style="font:10px Open Sans">只要超过一个acceptor接受了提议，proposer很快就会发现并重新提议其中序号最大的提议值，不断进行后可终止</text>
<clipPath id="clip1424"><path d="M710,12005 L1166,12005 L1166,12120 L710,12120 Z M711,12051 L711,12074 L758,12074 L758,12051 Z M711,12051 Z M711,12051" /></clipPath>
<path d="M771,12075 L771,12050 C771,12047.7929688 772.7929688,12046 775,12046 L780,12046" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1424)" />
<clipPath id="clip1425"><path d="M710,12005 L1166,12005 L1166,12120 L710,12120 Z M711,12051 L711,12074 L758,12074 L758,12051 Z M711,12051 Z M711,12051" /></clipPath>
<path d="M771,12075 L771,12100 C771,12102.2070313 772.7929688,12104 775,12104 L780,12104" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1425)" />
<clipPath id="clip1426"><path d="M709,12004 L1167,12004 L1167,12121 L709,12121 L709,12004 Z" /></clipPath>
<path d="M758,12075 L771,12075" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1426)" />
<clipPath id="clip1427"><path d="M709,12049 L761,12049 L761,12077 L709,12077 L709,12049 Z" /></clipPath>
<path d="M711,12075 L758,12075 Z M711,12075" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1427)" />
<text x="721" y="12066" style="font:10px Open Sans">用法</text>
<clipPath id="clip1428"><path d="M779,12005 L1166,12005 L1166,12062 L779,12062 Z M780,12022 L780,12045 L1009,12045 L1009,12022 Z M780,12022 Z M780,12022" /></clipPath>
<path d="M1022,12046 L1022,12036 C1022,12033.7929688 1023.7929688,12032 1026,12032 L1031,12032" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1428)" />
<clipPath id="clip1429"><path d="M779,12005 L1166,12005 L1166,12062 L779,12062 Z M780,12022 L780,12045 L1009,12045 L1009,12022 Z M780,12022 Z M780,12022" /></clipPath>
<path d="M1022,12046 L1022,12057 C1022,12059.2070313 1023.7929688,12061 1026,12061 L1031,12061" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1429)" />
<clipPath id="clip1430"><path d="M778,12004 L1167,12004 L1167,12063 L778,12063 L778,12004 Z" /></clipPath>
<path d="M1009,12046 L1022,12046" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1430)" />
<clipPath id="clip1431"><path d="M778,12020 L1012,12020 L1012,12048 L778,12048 L778,12020 Z" /></clipPath>
<path d="M780,12046 L1009,12046 Z M780,12046" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1431)" />
<text x="790" y="12037" style="font:10px Open Sans">实现全局的锁服务或命名和配置服务</text>
<clipPath id="clip1432"><path d="M1029,12004 L1148,12004 L1148,12034 L1029,12034 L1029,12004 Z" /></clipPath>
<path d="M1031,12032 L1145,12032 Z M1031,12032" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1432)" />
<text x="1041" y="12021" style="font:10px Open Sans">Google Chubby</text>
<clipPath id="clip1433"><path d="M1029,12033 L1167,12033 L1167,12063 L1029,12063 L1029,12033 Z" /></clipPath>
<path d="M1031,12061 L1164,12061 Z M1031,12061" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1433)" />
<text x="1041" y="12050" style="font:10px Open Sans">Apache Zookeeper</text>
<clipPath id="clip1434"><path d="M779,12063 L1112,12063 L1112,12120 L779,12120 Z M780,12080 L780,12103 L957,12103 L957,12080 Z M780,12080 Z M780,12080" /></clipPath>
<path d="M970,12104 L970,12094 C970,12091.7929688 971.7929688,12090 974,12090 L979,12090" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1434)" />
<clipPath id="clip1435"><path d="M779,12063 L1112,12063 L1112,12120 L779,12120 Z M780,12080 L780,12103 L957,12103 L957,12080 Z M780,12080 Z M780,12080" /></clipPath>
<path d="M970,12104 L970,12115 C970,12117.2070313 971.7929688,12119 974,12119 L979,12119" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1435)" />
<clipPath id="clip1436"><path d="M778,12062 L1113,12062 L1113,12121 L778,12121 L778,12062 Z" /></clipPath>
<path d="M957,12104 L970,12104" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1436)" />
<clipPath id="clip1437"><path d="M778,12078 L960,12078 L960,12106 L778,12106 L778,12078 Z" /></clipPath>
<path d="M780,12104 L957,12104 Z M780,12104" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1437)" />
<text x="790" y="12095" style="font:10px Open Sans">将数据复制到多个数据中心</text>
<clipPath id="clip1438"><path d="M977,12062 L1113,12062 L1113,12092 L977,12092 L977,12062 Z" /></clipPath>
<path d="M979,12090 L1110,12090 Z M979,12090" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1438)" />
<text x="989" y="12079" style="font:10px Open Sans">Google Megastore</text>
<clipPath id="clip1439"><path d="M977,12091 L1099,12091 L1099,12121 L977,12121 L977,12091 Z" /></clipPath>
<path d="M979,12119 L1096,12119 Z M979,12119" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1439)" />
<text x="989" y="12108" style="font:10px Open Sans">Google Spanner</text>
<clipPath id="clip1440"><path d="M605,12121 L1099,12121 L1099,12207 L605,12207 Z M606,12151 L606,12176 L706,12176 L706,12151 Z M606,12151 Z M606,12151" /></clipPath>
<path d="M719,12177 L719,12152 C719,12149.7929688 720.7929688,12148 723,12148 L728,12148" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1440)" />
<clipPath id="clip1441"><path d="M605,12121 L1099,12121 L1099,12207 L605,12207 Z M606,12151 L606,12176 L706,12176 L706,12151 Z M606,12151 Z M606,12151" /></clipPath>
<path d="M719,12177 C719,12177 720.7929688,12177 723,12177 L728,12177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1441)" />
<clipPath id="clip1442"><path d="M605,12121 L1099,12121 L1099,12207 L605,12207 Z M606,12151 L606,12176 L706,12176 L706,12151 Z M606,12151 Z M606,12151" /></clipPath>
<path d="M719,12177 L719,12202 C719,12204.2070313 720.7929688,12206 723,12206 L728,12206" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1442)" />
<clipPath id="clip1443"><path d="M604,12120 L1100,12120 L1100,12208 L604,12208 L604,12120 Z" /></clipPath>
<path d="M706,12177 L719,12177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1443)" />
<clipPath id="clip1444"><path d="M604,12149 L709,12149 L709,12179 L604,12179 L604,12149 Z" /></clipPath>
<path d="M606,12177 L706,12177 Z M606,12177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1444)" />
<text x="616" y="12166" style="font:10px Open Sans">Paxos vs 2PC</text>
<clipPath id="clip1445"><path d="M726,12120 L1100,12120 L1100,12150 L726,12150 L726,12120 Z" /></clipPath>
<path d="M728,12148 L1097,12148 Z M728,12148" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1445)" />
<text x="738" y="12137" style="font:10px Open Sans">Paxos用于保证同一个数据分片的多个副本之间的数据一致性</text>
<clipPath id="clip1446"><path d="M726,12149 L1036,12149 L1036,12179 L726,12179 L726,12149 Z" /></clipPath>
<path d="M728,12177 L1033,12177 Z M728,12177" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1446)" />
<text x="738" y="12166" style="font:10px Open Sans">2PC用于保证属于多个数据分片上的操作的原子性</text>
<clipPath id="clip1447"><path d="M726,12178 L984,12178 L984,12208 L726,12208 L726,12178 Z" /></clipPath>
<path d="M728,12206 L981,12206 Z M728,12206" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1447)" />
<text x="738" y="12195" style="font:10px Open Sans">两者结合，可解决2PC协调者故障的问题</text>
<clipPath id="clip1448"><path d="M497,12208 L1231,12208 L1231,12535 L497,12535 Z M498,12365 L498,12388 L584,12388 L584,12365 Z M498,12365 Z M498,12365" /></clipPath>
<path d="M597,12389 L597,12291 C597,12288.7929688 598.7929688,12287 601,12287 L606,12287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1448)" />
<clipPath id="clip1449"><path d="M497,12208 L1231,12208 L1231,12535 L497,12535 Z M498,12365 L498,12388 L584,12388 L584,12365 Z M498,12365 Z M498,12365" /></clipPath>
<path d="M597,12389 L597,12391 C597,12393.2070313 598.7929688,12395 601,12395 L606,12395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1449)" />
<clipPath id="clip1450"><path d="M497,12208 L1231,12208 L1231,12535 L497,12535 Z M498,12365 L498,12388 L584,12388 L584,12365 Z M498,12365 Z M498,12365" /></clipPath>
<path d="M597,12389 L597,12488 C597,12490.2070313 598.7929688,12492 601,12492 L606,12492" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1450)" />
<clipPath id="clip1451"><path d="M496,12207 L1232,12207 L1232,12536 L496,12536 L496,12207 Z" /></clipPath>
<path d="M584,12389 L597,12389" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1451)" />
<clipPath id="clip1452"><path d="M496,12363 L587,12363 L587,12391 L496,12391 L496,12363 Z" /></clipPath>
<path d="M498,12389 L584,12389 Z M498,12389" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1452)" />
<text x="508" y="12380" style="font:10px Open Sans">跨机房部署</text>
<clipPath id="clip1453"><path d="M605,12208 L1231,12208 L1231,12342 L605,12342 Z M606,12263 L606,12286 L705,12286 L705,12263 Z M606,12263 Z M606,12263" /></clipPath>
<path d="M718,12287 L718,12237 C718,12234.7929688 719.7929688,12233 722,12233 L727,12233" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1453)" />
<clipPath id="clip1454"><path d="M605,12208 L1231,12208 L1231,12342 L605,12342 Z M606,12263 L606,12286 L705,12286 L705,12263 Z M606,12263 Z M606,12263" /></clipPath>
<path d="M718,12287 L718,12264 C718,12261.7929688 719.7929688,12260 722,12260 L727,12260" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1454)" />
<clipPath id="clip1455"><path d="M605,12208 L1231,12208 L1231,12342 L605,12342 Z M606,12263 L606,12286 L705,12286 L705,12263 Z M606,12263 Z M606,12263" /></clipPath>
<path d="M718,12287 C718,12287 719.7929688,12287 722,12287 L727,12287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1455)" />
<clipPath id="clip1456"><path d="M605,12208 L1231,12208 L1231,12342 L605,12342 Z M606,12263 L606,12286 L705,12286 L705,12263 Z M606,12263 Z M606,12263" /></clipPath>
<path d="M718,12287 L718,12310 C718,12312.2070313 719.7929688,12314 722,12314 L727,12314" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1456)" />
<clipPath id="clip1457"><path d="M605,12208 L1231,12208 L1231,12342 L605,12342 Z M606,12263 L606,12286 L705,12286 L705,12263 Z M606,12263 Z M606,12263" /></clipPath>
<path d="M718,12287 L718,12337 C718,12339.2070313 719.7929688,12341 722,12341 L727,12341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1457)" />
<clipPath id="clip1458"><path d="M604,12207 L1232,12207 L1232,12343 L604,12343 L604,12207 Z" /></clipPath>
<path d="M705,12287 L718,12287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1458)" />
<clipPath id="clip1459"><path d="M604,12261 L708,12261 L708,12289 L604,12289 L604,12261 Z" /></clipPath>
<path d="M606,12287 L705,12287 Z M606,12287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1459)" />
<text x="616" y="12278" style="font:10px Open Sans">集群整体切换</text>
<clipPath id="clip1460"><path d="M725,12207 L855,12207 L855,12235 L725,12235 L725,12207 Z" /></clipPath>
<path d="M727,12233 L852,12233 Z M727,12233" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1460)" />
<text x="737" y="12224" style="font:10px Open Sans">两个机房保持独立</text>
<clipPath id="clip1461"><path d="M725,12234 L1115,12234 L1115,12262 L725,12262 L725,12234 Z" /></clipPath>
<path d="M727,12260 L1112,12260 Z M727,12260" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1461)" />
<text x="737" y="12251" style="font:10px Open Sans">每个机房部署单独的总控节点，且每个总控节点有一个备份节点</text>
<clipPath id="clip1462"><path d="M725,12261 L1076,12261 L1076,12289 L725,12289 L725,12261 Z" /></clipPath>
<path d="M727,12287 L1073,12287 Z M727,12287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1462)" />
<text x="737" y="12278" style="font:10px Open Sans">总控节点故障时自动将机房内的备份节点切换为总控节点</text>
<clipPath id="clip1463"><path d="M725,12288 L1024,12288 L1024,12316 L725,12316 L725,12288 Z" /></clipPath>
<path d="M727,12314 L1021,12314 Z M727,12314" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1463)" />
<text x="737" y="12305" style="font:10px Open Sans">机房之间数据同步可采用强同步方式或异步方式</text>
<clipPath id="clip1464"><path d="M725,12315 L1232,12315 L1232,12343 L725,12343 L725,12315 Z" /></clipPath>
<path d="M727,12341 L1229,12341 Z M727,12341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1464)" />
<text x="737" y="12332" style="font:10px Open Sans">异步方式一般机房切换是手工的，允许用户根据业务的特点选择丢失数据或停止服务</text>
<clipPath id="clip1465"><path d="M605,12343 L1166,12343 L1166,12423 L605,12423 Z M606,12371 L606,12394 L718,12394 L718,12371 Z M606,12371 Z M606,12371" /></clipPath>
<path d="M731,12395 L731,12372 C731,12369.7929688 732.7929688,12368 735,12368 L740,12368" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1465)" />
<clipPath id="clip1466"><path d="M605,12343 L1166,12343 L1166,12423 L605,12423 Z M606,12371 L606,12394 L718,12394 L718,12371 Z M606,12371 Z M606,12371" /></clipPath>
<path d="M731,12395 C731,12395 732.7929688,12395 735,12395 L740,12395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1466)" />
<clipPath id="clip1467"><path d="M605,12343 L1166,12343 L1166,12423 L605,12423 Z M606,12371 L606,12394 L718,12394 L718,12371 Z M606,12371 Z M606,12371" /></clipPath>
<path d="M731,12395 L731,12418 C731,12420.2070313 732.7929688,12422 735,12422 L740,12422" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1467)" />
<clipPath id="clip1468"><path d="M604,12342 L1167,12342 L1167,12424 L604,12424 L604,12342 Z" /></clipPath>
<path d="M718,12395 L731,12395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1468)" />
<clipPath id="clip1469"><path d="M604,12369 L721,12369 L721,12397 L604,12397 L604,12369 Z" /></clipPath>
<path d="M606,12395 L718,12395 Z M606,12395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1469)" />
<text x="616" y="12386" style="font:10px Open Sans">单个集群跨机房</text>
<clipPath id="clip1470"><path d="M738,12342 L1167,12342 L1167,12370 L738,12370 L738,12342 Z" /></clipPath>
<path d="M740,12368 L1164,12368 Z M740,12368" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1470)" />
<text x="750" y="12359" style="font:10px Open Sans">单个集群部署到多个机房，允许不同数据分片的主副本位于不同的机房</text>
<clipPath id="clip1471"><path d="M738,12369 L920,12369 L920,12397 L738,12397 L738,12369 Z" /></clipPath>
<path d="M740,12395 L917,12395 Z M740,12395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1471)" />
<text x="750" y="12386" style="font:10px Open Sans">整个集群只有一个总控节点</text>
<clipPath id="clip1472"><path d="M738,12396 L1154,12396 L1154,12424 L738,12424 L738,12396 Z" /></clipPath>
<path d="M740,12422 L1151,12422 Z M740,12422" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1472)" />
<text x="750" y="12413" style="font:10px Open Sans">总控节点需要考虑尽量将同一个数据分片的多个副本分布到多个机房</text>
<clipPath id="clip1473"><path d="M605,12424 L1030,12424 L1030,12535 L605,12535 Z M606,12466 L606,12491 L715,12491 L715,12466 Z M606,12466 Z M606,12466" /></clipPath>
<path d="M728,12492 L728,12455 C728,12452.7929688 729.7929688,12451 732,12451 L737,12451" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1473)" />
<clipPath id="clip1474"><path d="M605,12424 L1030,12424 L1030,12535 L605,12535 Z M606,12466 L606,12491 L715,12491 L715,12466 Z M606,12466 Z M606,12466" /></clipPath>
<path d="M728,12492 L728,12482 C728,12479.7929688 729.7929688,12478 732,12478 L737,12478" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1474)" />
<clipPath id="clip1475"><path d="M605,12424 L1030,12424 L1030,12535 L605,12535 Z M606,12466 L606,12491 L715,12491 L715,12466 Z M606,12466 Z M606,12466" /></clipPath>
<path d="M728,12492 L728,12501 C728,12503.2070313 729.7929688,12505 732,12505 L737,12505" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1475)" />
<clipPath id="clip1476"><path d="M605,12424 L1030,12424 L1030,12535 L605,12535 Z M606,12466 L606,12491 L715,12491 L715,12466 Z M606,12466 Z M606,12466" /></clipPath>
<path d="M728,12492 L728,12530 C728,12532.2070313 729.7929688,12534 732,12534 L737,12534" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1476)" />
<clipPath id="clip1477"><path d="M604,12423 L1031,12423 L1031,12536 L604,12536 L604,12423 Z" /></clipPath>
<path d="M715,12492 L728,12492" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1477)" />
<clipPath id="clip1478"><path d="M604,12464 L718,12464 L718,12494 L604,12494 L604,12464 Z" /></clipPath>
<path d="M606,12492 L715,12492 Z M606,12492" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1478)" />
<text x="616" y="12481" style="font:10px Open Sans">Paxos选主副本</text>
<clipPath id="clip1479"><path d="M735,12423 L1031,12423 L1031,12453 L735,12453 L735,12423 Z" /></clipPath>
<path d="M737,12451 L1028,12451 Z M737,12451" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1479)" />
<text x="747" y="12440" style="font:10px Open Sans">每个数据分片的多个副本构成一个Paxos复制组</text>
<clipPath id="clip1480"><path d="M735,12452 L1008,12452 L1008,12480 L735,12480 L735,12452 Z" /></clipPath>
<path d="M737,12478 L1005,12478 Z M737,12478" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1480)" />
<text x="747" y="12469" style="font:10px Open Sans">总控节点与工作节点之间不再需要保持租约</text>
<clipPath id="clip1481"><path d="M735,12479 L995,12479 L995,12507 L735,12507 L735,12479 Z" /></clipPath>
<path d="M737,12505 L992,12505 Z M737,12505" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1481)" />
<text x="747" y="12496" style="font:10px Open Sans">总控节点故障也不会对工作节点产生影响</text>
<clipPath id="clip1482"><path d="M735,12506 L934,12506 L934,12536 L735,12536 L735,12506 Z" /></clipPath>
<path d="M737,12534 L931,12534 Z M737,12534" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1482)" />
<text x="747" y="12523" style="font:10px Open Sans">Google Megastore和Spanner</text>
<clipPath id="clip1483"><path d="M289,12545 L1865,12545 L1865,39361 L289,39361 Z M295,26656 C292.2382813,26656 290,26658.2382813 290,26661 L290,26690 C290,26692.7617188 292.2382813,26695 295,26695 L363,26695 C365.7617188,26695 368,26692.7617188 368,26690 L368,26661 C368,26658.2382813 365.7617188,26656 363,26656 Z M295,26656 Z M295,26656" /></clipPath>
<path d="M381,26675.7578125 L381,16606 L390,16606" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1483)" />
<clipPath id="clip1484"><path d="M289,12545 L1865,12545 L1865,39361 L289,39361 Z M295,26656 C292.2382813,26656 290,26658.2382813 290,26661 L290,26690 C290,26692.7617188 292.2382813,26695 295,26695 L363,26695 C365.7617188,26695 368,26692.7617188 368,26690 L368,26661 C368,26658.2382813 365.7617188,26656 363,26656 Z M295,26656 Z M295,26656" /></clipPath>
<path d="M381,26675.7578125 L381,21435 L390,21435" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1484)" />
<clipPath id="clip1485"><path d="M289,12545 L1865,12545 L1865,39361 L289,39361 Z M295,26656 C292.2382813,26656 290,26658.2382813 290,26661 L290,26690 C290,26692.7617188 292.2382813,26695 295,26695 L363,26695 C365.7617188,26695 368,26692.7617188 368,26690 L368,26661 C368,26658.2382813 365.7617188,26656 363,26656 Z M295,26656 Z M295,26656" /></clipPath>
<path d="M381,26675.7578125 L381,28683 L390,28683" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1485)" />
<clipPath id="clip1486"><path d="M289,12545 L1865,12545 L1865,39361 L289,39361 Z M295,26656 C292.2382813,26656 290,26658.2382813 290,26661 L290,26690 C290,26692.7617188 292.2382813,26695 295,26695 L363,26695 C365.7617188,26695 368,26692.7617188 368,26690 L368,26661 C368,26658.2382813 365.7617188,26656 363,26656 Z M295,26656 Z M295,26656" /></clipPath>
<path d="M381,26675.7578125 L381,36747 L390,36747" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1486)" />
<clipPath id="clip1487"><path d="M288,12544 L1866,12544 L1866,39362 L288,39362 L288,12544 Z" /></clipPath>
<path d="M368,26675.6953125 L381,26675.7578125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1487)" />
<clipPath id="clip1488"><path d="M288,26654 L371,26654 L371,26698 L288,26698 L288,26654 Z" /></clipPath>
<path d="M295,26656 C292.2382813,26656 290,26658.2382813 290,26661 L290,26690 C290,26692.7617188 292.2382813,26695 295,26695 L363,26695 C365.7617188,26695 368,26692.7617188 368,26690 L368,26661 C368,26658.2382813 365.7617188,26656 363,26656 Z M295,26656" style="fill:rgb(254,244,236);stroke:none" clip-path="url(#clip1488)" />
<clipPath id="clip1489"><path d="M288,26654 L371,26654 L371,26698 L288,26698 L288,26654 Z" /></clipPath>
<path d="M295,26656 C292.2382813,26656 290,26658.2382813 290,26661 L290,26690 C290,26692.7617188 292.2382813,26695 295,26695 L363,26695 C365.7617188,26695 368,26692.7617188 368,26690 L368,26661 C368,26658.2382813 365.7617188,26656 363,26656 Z M295,26656" style="fill:none;stroke:rgb(141,134,126)" clip-path="url(#clip1489)" />
<text x="303" y="26678" style="font:13px Open Sans">范型篇</text>
<clipPath id="clip1490"><path d="M389,12545 L1753,12545 L1753,19065 L389,19065 Z M390,16582 L390,16605 L502,16605 L502,16582 Z M390,16582 Z M390,16582" /></clipPath>
<path d="M515,16606 L515,14369 C515,14366.7929688 516.7929688,14365 519,14365 L524,14365" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1490)" />
<clipPath id="clip1491"><path d="M389,12545 L1753,12545 L1753,19065 L389,19065 Z M390,16582 L390,16605 L502,16605 L502,16582 Z M390,16582 Z M390,16582" /></clipPath>
<path d="M515,16606 L515,17089 C515,17091.2070313 516.7929688,17093 519,17093 L524,17093" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1491)" />
<clipPath id="clip1492"><path d="M389,12545 L1753,12545 L1753,19065 L389,19065 Z M390,16582 L390,16605 L502,16605 L502,16582 Z M390,16582 Z M390,16582" /></clipPath>
<path d="M515,16606 L515,18844 C515,18846.2070313 516.7929688,18848 519,18848 L524,18848" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1492)" />
<clipPath id="clip1493"><path d="M388,12544 L1754,12544 L1754,19066 L388,19066 L388,12544 Z" /></clipPath>
<path d="M502,16606 L515,16606" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1493)" />
<clipPath id="clip1494"><path d="M388,16580 L505,16580 L505,16608 L388,16608 L388,16580 Z" /></clipPath>
<path d="M390,16606 L502,16606 Z M390,16606" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1494)" />
<text x="400" y="16597" style="font:10px Open Sans">分布式文件系统</text>
<clipPath id="clip1495"><path d="M523,12545 L1753,12545 L1753,16106 L523,16106 Z M524,14339 L524,14364 L569,14364 L569,14339 Z M524,14339 Z M524,14339" /></clipPath>
<path d="M582,14365 L582,12785 C582,12782.7929688 583.7929688,12781 586,12781 L591,12781" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1495)" />
<clipPath id="clip1496"><path d="M523,12545 L1753,12545 L1753,16106 L523,16106 Z M524,14339 L524,14364 L569,14364 L569,14339 Z M524,14339 Z M524,14339" /></clipPath>
<path d="M582,14365 L582,13773 C582,13770.7929688 583.7929688,13769 586,13769 L591,13769" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1496)" />
<clipPath id="clip1497"><path d="M523,12545 L1753,12545 L1753,16106 L523,16106 Z M524,14339 L524,14364 L569,14364 L569,14339 Z M524,14339 Z M524,14339" /></clipPath>
<path d="M582,14365 L582,15110 C582,15112.2070313 583.7929688,15114 586,15114 L591,15114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1497)" />
<clipPath id="clip1498"><path d="M523,12545 L1753,12545 L1753,16106 L523,16106 Z M524,14339 L524,14364 L569,14364 L569,14339 Z M524,14339 Z M524,14339" /></clipPath>
<path d="M582,14365 L582,15705 C582,15707.2070313 583.7929688,15709 586,15709 L591,15709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1498)" />
<clipPath id="clip1499"><path d="M523,12545 L1753,12545 L1753,16106 L523,16106 Z M524,14339 L524,14364 L569,14364 L569,14339 Z M524,14339 Z M524,14339" /></clipPath>
<path d="M582,14365 L582,15946 C582,15948.2070313 583.7929688,15950 586,15950 L591,15950" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1499)" />
<clipPath id="clip1500"><path d="M522,12544 L1754,12544 L1754,16107 L522,16107 L522,12544 Z" /></clipPath>
<path d="M569,14365 L582,14365" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1500)" />
<clipPath id="clip1501"><path d="M522,14337 L572,14337 L572,14367 L522,14367 L522,14337 Z" /></clipPath>
<path d="M524,14365 L569,14365 Z M524,14365" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1501)" />
<text x="534" y="14354" style="font:10px Open Sans">GFS</text>
<clipPath id="clip1502"><path d="M590,12545 L1633,12545 L1633,13006 L590,13006 Z M591,12757 L591,12780 L664,12780 L664,12757 Z M591,12757 Z M591,12757" /></clipPath>
<path d="M677,12781 L677,12648 C677,12645.7929688 678.7929688,12644 681,12644 L686,12644" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1502)" />
<clipPath id="clip1503"><path d="M590,12545 L1633,12545 L1633,13006 L590,13006 Z M591,12757 L591,12780 L664,12780 L664,12757 Z M591,12757 Z M591,12757" /></clipPath>
<path d="M677,12781 L677,12785 C677,12787.2070313 678.7929688,12789 681,12789 L686,12789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1503)" />
<clipPath id="clip1504"><path d="M590,12545 L1633,12545 L1633,13006 L590,13006 Z M591,12757 L591,12780 L664,12780 L664,12757 Z M591,12757 Z M591,12757" /></clipPath>
<path d="M677,12781 L677,12915 C677,12917.2070313 678.7929688,12919 681,12919 L686,12919" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1504)" />
<clipPath id="clip1505"><path d="M589,12544 L1634,12544 L1634,13007 L589,13007 L589,12544 Z" /></clipPath>
<path d="M664,12781 L677,12781" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1505)" />
<clipPath id="clip1506"><path d="M589,12755 L667,12755 L667,12783 L589,12783 L589,12755 Z" /></clipPath>
<path d="M591,12781 L664,12781 Z M591,12781" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1506)" />
<text x="601" y="12772" style="font:10px Open Sans">节点分类</text>
<clipPath id="clip1507"><path d="M685,12545 L1160,12545 L1160,12718 L685,12718 Z M686,12618 L686,12643 L814,12643 L814,12618 Z M686,12618 Z M686,12618" /></clipPath>
<path d="M827,12644 L827,12605 C827,12602.7929688 828.7929688,12601 831,12601 L836,12601" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1507)" />
<clipPath id="clip1508"><path d="M685,12545 L1160,12545 L1160,12718 L685,12718 Z M686,12618 L686,12643 L814,12643 L814,12618 Z M686,12618 Z M686,12618" /></clipPath>
<path d="M827,12644 L827,12684 C827,12686.2070313 828.7929688,12688 831,12688 L836,12688" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1508)" />
<clipPath id="clip1509"><path d="M684,12544 L1161,12544 L1161,12719 L684,12719 L684,12544 Z" /></clipPath>
<path d="M814,12644 L827,12644" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1509)" />
<clipPath id="clip1510"><path d="M684,12616 L817,12616 L817,12646 L684,12646 L684,12616 Z" /></clipPath>
<path d="M686,12644 L814,12644 Z M686,12644" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1510)" />
<text x="696" y="12633" style="font:10px Open Sans">主控服务器Master</text>
<clipPath id="clip1511"><path d="M835,12545 L1147,12545 L1147,12631 L835,12631 Z M836,12577 L836,12600 L961,12600 L961,12577 Z M836,12577 Z M836,12577" /></clipPath>
<path d="M974,12601 L974,12576 C974,12573.7929688 975.7929688,12572 978,12572 L983,12572" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1511)" />
<clipPath id="clip1512"><path d="M835,12545 L1147,12545 L1147,12631 L835,12631 Z M836,12577 L836,12600 L961,12600 L961,12577 Z M836,12577 Z M836,12577" /></clipPath>
<path d="M974,12601 C974,12601 975.7929688,12601 978,12601 L983,12601" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1512)" />
<clipPath id="clip1513"><path d="M835,12545 L1147,12545 L1147,12631 L835,12631 Z M836,12577 L836,12600 L961,12600 L961,12577 Z M836,12577 Z M836,12577" /></clipPath>
<path d="M974,12601 L974,12626 C974,12628.2070313 975.7929688,12630 978,12630 L983,12630" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1513)" />
<clipPath id="clip1514"><path d="M834,12544 L1148,12544 L1148,12632 L834,12632 L834,12544 Z" /></clipPath>
<path d="M961,12601 L974,12601" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1514)" />
<clipPath id="clip1515"><path d="M834,12575 L964,12575 L964,12603 L834,12603 L834,12575 Z" /></clipPath>
<path d="M836,12601 L961,12601 Z M836,12601" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1515)" />
<text x="846" y="12592" style="font:10px Open Sans">维护系统的元数据</text>
<clipPath id="clip1516"><path d="M981,12544 L1135,12544 L1135,12574 L981,12574 L981,12544 Z" /></clipPath>
<path d="M983,12572 L1132,12572 Z M983,12572" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1516)" />
<text x="993" y="12561" style="font:10px Open Sans">文件及chunk命名空间</text>
<clipPath id="clip1517"><path d="M981,12573 L1148,12573 L1148,12603 L981,12603 L981,12573 Z" /></clipPath>
<path d="M983,12601 L1145,12601 Z M983,12601" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1517)" />
<text x="993" y="12590" style="font:10px Open Sans">文件到chunk之间的映射</text>
<clipPath id="clip1518"><path d="M981,12602 L1096,12602 L1096,12632 L981,12632 L981,12602 Z" /></clipPath>
<path d="M983,12630 L1093,12630 Z M983,12630" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1518)" />
<text x="993" y="12619" style="font:10px Open Sans">chunk位置信息</text>
<clipPath id="clip1519"><path d="M835,12632 L1160,12632 L1160,12718 L835,12718 Z M836,12664 L836,12687 L1000,12687 L1000,12664 Z M836,12664 Z M836,12664" /></clipPath>
<path d="M1013,12688 L1013,12663 C1013,12660.7929688 1014.7929688,12659 1017,12659 L1022,12659" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1519)" />
<clipPath id="clip1520"><path d="M835,12632 L1160,12632 L1160,12718 L835,12718 Z M836,12664 L836,12687 L1000,12687 L1000,12664 Z M836,12664 Z M836,12664" /></clipPath>
<path d="M1013,12688 C1013,12688 1014.7929688,12688 1017,12688 L1022,12688" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1520)" />
<clipPath id="clip1521"><path d="M835,12632 L1160,12632 L1160,12718 L835,12718 Z M836,12664 L836,12687 L1000,12687 L1000,12664 Z M836,12664 Z M836,12664" /></clipPath>
<path d="M1013,12688 L1013,12713 C1013,12715.2070313 1014.7929688,12717 1017,12717 L1022,12717" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1521)" />
<clipPath id="clip1522"><path d="M834,12631 L1161,12631 L1161,12719 L834,12719 L834,12631 Z" /></clipPath>
<path d="M1000,12688 L1013,12688" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1522)" />
<clipPath id="clip1523"><path d="M834,12662 L1003,12662 L1003,12690 L834,12690 L834,12662 Z" /></clipPath>
<path d="M836,12688 L1000,12688 Z M836,12688" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1523)" />
<text x="846" y="12679" style="font:10px Open Sans">负责整个系统的全局控制</text>
<clipPath id="clip1524"><path d="M1020,12631 L1135,12631 L1135,12661 L1020,12661 L1020,12631 Z" /></clipPath>
<path d="M1022,12659 L1132,12659 Z M1022,12659" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1524)" />
<text x="1032" y="12648" style="font:10px Open Sans">chunk租约管理</text>
<clipPath id="clip1525"><path d="M1020,12660 L1161,12660 L1161,12690 L1020,12690 L1020,12660 Z" /></clipPath>
<path d="M1022,12688 L1158,12688 Z M1022,12688" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1525)" />
<text x="1032" y="12677" style="font:10px Open Sans">垃圾回收无用chunk</text>
<clipPath id="clip1526"><path d="M1020,12689 L1109,12689 L1109,12719 L1020,12719 L1020,12689 Z" /></clipPath>
<path d="M1022,12717 L1106,12717 Z M1022,12717" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1526)" />
<text x="1032" y="12706" style="font:10px Open Sans">chunk复制</text>
<clipPath id="clip1527"><path d="M685,12719 L1225,12719 L1225,12834 L685,12834 Z M686,12763 L686,12788 L862,12788 L862,12763 Z M686,12763 Z M686,12763" /></clipPath>
<path d="M875,12789 L875,12750 C875,12747.7929688 876.7929688,12746 879,12746 L884,12746" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1527)" />
<clipPath id="clip1528"><path d="M685,12719 L1225,12719 L1225,12834 L685,12834 Z M686,12763 L686,12788 L862,12788 L862,12763 Z M686,12763 Z M686,12763" /></clipPath>
<path d="M875,12789 L875,12779 C875,12776.7929688 876.7929688,12775 879,12775 L884,12775" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1528)" />
<clipPath id="clip1529"><path d="M685,12719 L1225,12719 L1225,12834 L685,12834 Z M686,12763 L686,12788 L862,12788 L862,12763 Z M686,12763 Z M686,12763" /></clipPath>
<path d="M875,12789 L875,12800 C875,12802.2070313 876.7929688,12804 879,12804 L884,12804" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1529)" />
<clipPath id="clip1530"><path d="M685,12719 L1225,12719 L1225,12834 L685,12834 Z M686,12763 L686,12788 L862,12788 L862,12763 Z M686,12763 Z M686,12763" /></clipPath>
<path d="M875,12789 L875,12829 C875,12831.2070313 876.7929688,12833 879,12833 L884,12833" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1530)" />
<clipPath id="clip1531"><path d="M684,12718 L1226,12718 L1226,12835 L684,12835 L684,12718 Z" /></clipPath>
<path d="M862,12789 L875,12789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1531)" />
<clipPath id="clip1532"><path d="M684,12761 L865,12761 L865,12791 L684,12791 L684,12761 Z" /></clipPath>
<path d="M686,12789 L862,12789 Z M686,12789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1532)" />
<text x="696" y="12778" style="font:10px Open Sans">数据快服务器ChunkServer</text>
<clipPath id="clip1533"><path d="M882,12718 L1151,12718 L1151,12748 L882,12748 L882,12718 Z" /></clipPath>
<path d="M884,12746 L1148,12746 Z M884,12746" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1533)" />
<text x="894" y="12735" style="font:10px Open Sans">GFS文件被划分为固定大小的数据快chunk</text>
<clipPath id="clip1534"><path d="M882,12747 L1221,12747 L1221,12777 L882,12777 L882,12747 Z" /></clipPath>
<path d="M884,12775 L1218,12775 Z M884,12775" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1534)" />
<text x="894" y="12764" style="font:10px Open Sans">主服务器在创建时分配一个64位全局唯一的chunk句柄</text>
<clipPath id="clip1535"><path d="M882,12776 L1201,12776 L1201,12806 L882,12806 L882,12776 Z" /></clipPath>
<path d="M884,12804 L1198,12804 Z M884,12804" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1535)" />
<text x="894" y="12793" style="font:10px Open Sans">CS以普通的Linux文件的形式将chunk存储在磁盘中</text>
<clipPath id="clip1536"><path d="M882,12805 L1226,12805 L1226,12835 L882,12835 L882,12805 Z" /></clipPath>
<path d="M884,12833 L1223,12833 Z M884,12833" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1536)" />
<text x="894" y="12822" style="font:10px Open Sans">为保证可靠性chunk在不同的机器中复制多份，默认3份</text>
<clipPath id="clip1537"><path d="M685,12835 L1633,12835 L1633,13006 L685,13006 Z M686,12895 L686,12918 L746,12918 L746,12895 Z M686,12895 Z M686,12895" /></clipPath>
<path d="M759,12919 L759,12866 C759,12863.7929688 760.7929688,12862 763,12862 L768,12862" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1537)" />
<clipPath id="clip1538"><path d="M685,12835 L1633,12835 L1633,13006 L685,13006 Z M686,12895 L686,12918 L746,12918 L746,12895 Z M686,12895 Z M686,12895" /></clipPath>
<path d="M759,12919 L759,12895 C759,12892.7929688 760.7929688,12891 763,12891 L768,12891" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1538)" />
<clipPath id="clip1539"><path d="M685,12835 L1633,12835 L1633,13006 L685,13006 Z M686,12895 L686,12918 L746,12918 L746,12895 Z M686,12895 Z M686,12895" /></clipPath>
<path d="M759,12919 C759,12919.5507813 760.7929688,12920 763,12920 L768,12920" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1539)" />
<clipPath id="clip1540"><path d="M685,12835 L1633,12835 L1633,13006 L685,13006 Z M686,12895 L686,12918 L746,12918 L746,12895 Z M686,12895 Z M686,12895" /></clipPath>
<path d="M759,12919 L759,12973 C759,12975.2070313 760.7929688,12977 763,12977 L768,12977" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1540)" />
<clipPath id="clip1541"><path d="M684,12834 L1634,12834 L1634,13007 L684,13007 L684,12834 Z" /></clipPath>
<path d="M746,12919 L759,12919" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1541)" />
<clipPath id="clip1542"><path d="M684,12893 L749,12893 L749,12921 L684,12921 L684,12893 Z" /></clipPath>
<path d="M686,12919 L746,12919 Z M686,12919" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1542)" />
<text x="696" y="12910" style="font:10px Open Sans">客户端</text>
<clipPath id="clip1543"><path d="M766,12834 L972,12834 L972,12864 L766,12864 L766,12834 Z" /></clipPath>
<path d="M768,12862 L969,12862 Z M768,12862" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1543)" />
<text x="778" y="12851" style="font:10px Open Sans">GFS提供给应用程序的访问接口</text>
<clipPath id="clip1544"><path d="M766,12863 L1024,12863 L1024,12893 L766,12893 L766,12863 Z" /></clipPath>
<path d="M768,12891 L1021,12891 Z M768,12891" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1544)" />
<text x="778" y="12880" style="font:10px Open Sans">不遵循POSIX规范，以库文件的形式提供</text>
<clipPath id="clip1545"><path d="M766,12892 L1366,12892 L1366,12922 L766,12922 L766,12892 Z" /></clipPath>
<path d="M768,12920 L1363,12920 Z M768,12920" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1545)" />
<text x="778" y="12909" style="font:10px Open Sans">访问GFS时先访问主控服务器节点获取与之交互的CS信息，然后直接访问CS节点，完成数据读取工作</text>
<clipPath id="clip1546"><path d="M767,12922 L1633,12922 L1633,13006 L767,13006 Z M768,12953 L768,12976 L1257,12976 L1257,12953 Z M768,12953 Z M768,12953" /></clipPath>
<path d="M1270,12977 L1270,12953 C1270,12950.7929688 1271.7929688,12949 1274,12949 L1279,12949" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1546)" />
<clipPath id="clip1547"><path d="M767,12922 L1633,12922 L1633,13006 L767,13006 Z M768,12953 L768,12976 L1257,12976 L1257,12953 Z M768,12953 Z M768,12953" /></clipPath>
<path d="M1270,12977 C1270,12977.5507813 1271.7929688,12978 1274,12978 L1279,12978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1547)" />
<clipPath id="clip1548"><path d="M767,12922 L1633,12922 L1633,13006 L767,13006 Z M768,12953 L768,12976 L1257,12976 L1257,12953 Z M768,12953 Z M768,12953" /></clipPath>
<path d="M1270,12977 L1270,13001 C1270,13003.2070313 1271.7929688,13005 1274,13005 L1279,13005" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1548)" />
<clipPath id="clip1549"><path d="M766,12921 L1634,12921 L1634,13007 L766,13007 L766,12921 Z" /></clipPath>
<path d="M1257,12977 L1270,12977" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1549)" />
<clipPath id="clip1550"><path d="M766,12951 L1260,12951 L1260,12979 L766,12979 L766,12951 Z" /></clipPath>
<path d="M768,12977 L1257,12977 Z M768,12977" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1550)" />
<text x="778" y="12968" style="font:10px Open Sans">客户端不缓存文件数据，之缓存主控服务器中获取的元数据，由应用的特点决定的</text>
<clipPath id="clip1551"><path d="M1277,12921 L1634,12921 L1634,12951 L1277,12951 L1277,12921 Z" /></clipPath>
<path d="M1279,12949 L1631,12949 Z M1279,12949" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1551)" />
<text x="1289" y="12938" style="font:10px Open Sans">MapReduce：客户端顺序读写，没有缓存文件数据的必要</text>
<clipPath id="clip1552"><path d="M1277,12950 L1599,12950 L1599,12980 L1277,12980 L1277,12950 Z" /></clipPath>
<path d="M1279,12978 L1596,12978 Z M1279,12978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1552)" />
<text x="1289" y="12967" style="font:10px Open Sans">Bigtable：分布式表格系统内部实现了一套缓存机制</text>
<clipPath id="clip1553"><path d="M1277,12979 L1589,12979 L1589,13007 L1277,13007 L1277,12979 Z" /></clipPath>
<path d="M1279,13005 L1586,13005 Z M1279,13005" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1553)" />
<text x="1289" y="12996" style="font:10px Open Sans">另外维护客户端缓存与之际数据的一致性极其复杂</text>
<clipPath id="clip1554"><path d="M590,13007 L1619,13007 L1619,14587 L590,14587 Z M591,13745 L591,13768 L664,13768 L664,13745 Z M591,13745 Z M591,13745" /></clipPath>
<path d="M677,13769 L677,13105 C677,13102.7929688 678.7929688,13101 681,13101 L686,13101" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1554)" />
<clipPath id="clip1555"><path d="M590,13007 L1619,13007 L1619,14587 L590,14587 Z M591,13745 L591,13768 L664,13768 L664,13745 Z M591,13745 Z M591,13745" /></clipPath>
<path d="M677,13769 L677,13338 C677,13335.7929688 678.7929688,13334 681,13334 L686,13334" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1555)" />
<clipPath id="clip1556"><path d="M590,13007 L1619,13007 L1619,14587 L590,14587 Z M591,13745 L591,13768 L664,13768 L664,13745 Z M591,13745 Z M591,13745" /></clipPath>
<path d="M677,13769 L677,13918 C677,13920.2070313 678.7929688,13922 681,13922 L686,13922" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1556)" />
<clipPath id="clip1557"><path d="M590,13007 L1619,13007 L1619,14587 L590,14587 Z M591,13745 L591,13768 L664,13768 L664,13745 Z M591,13745 Z M591,13745" /></clipPath>
<path d="M677,13769 L677,14433 C677,14435.2070313 678.7929688,14437 681,14437 L686,14437" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1557)" />
<clipPath id="clip1558"><path d="M589,13006 L1620,13006 L1620,14588 L589,14588 L589,13006 Z" /></clipPath>
<path d="M664,13769 L677,13769" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1558)" />
<clipPath id="clip1559"><path d="M589,13743 L667,13743 L667,13771 L589,13771 L589,13743 Z" /></clipPath>
<path d="M591,13769 L664,13769 Z M591,13769" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1559)" />
<text x="601" y="13760" style="font:10px Open Sans">关键问题</text>
<clipPath id="clip1560"><path d="M685,13007 L1283,13007 L1283,13170 L685,13170 Z M686,13077 L686,13100 L759,13100 L759,13077 Z M686,13077 Z M686,13077" /></clipPath>
<path d="M772,13101 L772,13038 C772,13035.7929688 773.7929688,13034 776,13034 L781,13034" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1560)" />
<clipPath id="clip1561"><path d="M685,13007 L1283,13007 L1283,13170 L685,13170 Z M686,13077 L686,13100 L759,13100 L759,13077 Z M686,13077 Z M686,13077" /></clipPath>
<path d="M772,13101 L772,13067 C772,13064.7929688 773.7929688,13063 776,13063 L781,13063" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1561)" />
<clipPath id="clip1562"><path d="M685,13007 L1283,13007 L1283,13170 L685,13170 Z M686,13077 L686,13100 L759,13100 L759,13077 Z M686,13077 Z M686,13077" /></clipPath>
<path d="M772,13101 L772,13096 C772,13093.7929688 773.7929688,13092 776,13092 L781,13092" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1562)" />
<clipPath id="clip1563"><path d="M685,13007 L1283,13007 L1283,13170 L685,13170 Z M686,13077 L686,13100 L759,13100 L759,13077 Z M686,13077 Z M686,13077" /></clipPath>
<path d="M772,13101 L772,13117 C772,13119.2070313 773.7929688,13121 776,13121 L781,13121" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1563)" />
<clipPath id="clip1564"><path d="M685,13007 L1283,13007 L1283,13170 L685,13170 Z M686,13077 L686,13100 L759,13100 L759,13077 Z M686,13077 Z M686,13077" /></clipPath>
<path d="M772,13101 L772,13165 C772,13167.2070313 773.7929688,13169 776,13169 L781,13169" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1564)" />
<clipPath id="clip1565"><path d="M684,13006 L1284,13006 L1284,13171 L684,13171 L684,13006 Z" /></clipPath>
<path d="M759,13101 L772,13101" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1565)" />
<clipPath id="clip1566"><path d="M684,13075 L762,13075 L762,13103 L684,13103 L684,13075 Z" /></clipPath>
<path d="M686,13101 L759,13101 Z M686,13101" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1566)" />
<text x="696" y="13092" style="font:10px Open Sans">租约机制</text>
<clipPath id="clip1567"><path d="M779,13006 L1026,13006 L1026,13036 L779,13036 L779,13006 Z" /></clipPath>
<path d="M781,13034 L1023,13034 Z M781,13034" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1567)" />
<text x="791" y="13023" style="font:10px Open Sans">通过租约机制将chunk写操作授权给CS</text>
<clipPath id="clip1568"><path d="M779,13035 L1027,13035 L1027,13065 L779,13065 L779,13035 Z" /></clipPath>
<path d="M781,13063 L1024,13063 Z M781,13063" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1568)" />
<text x="791" y="13052" style="font:10px Open Sans">拥有租约授权的CS称为主ChunkServer</text>
<clipPath id="clip1569"><path d="M779,13064 L946,13064 L946,13094 L779,13094 L779,13064 Z" /></clipPath>
<path d="M781,13092 L943,13092 Z M781,13092" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1569)" />
<text x="791" y="13081" style="font:10px Open Sans">租约授权针对单个chunk</text>
<clipPath id="clip1570"><path d="M779,13093 L996,13093 L996,13123 L779,13123 L779,13093 Z" /></clipPath>
<path d="M781,13121 L993,13121 Z M781,13121" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1570)" />
<text x="791" y="13110" style="font:10px Open Sans">GFS对每个chunk维护一个版本号</text>
<clipPath id="clip1571"><path d="M779,13122 L1284,13122 L1284,13171 L779,13171 L779,13122 Z" /></clipPath>
<path d="M781,13169 L1281,13169 Z M781,13169" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1571)" />
<text x="791" y="13139" style="font:10px Open Sans">某节点下线后重新上线，该节点上的chunk副本的版本会落后，会被标记为可删除的</text>
<text x="791" y="13158" style="font:10px Open Sans">chunk，由Master定时垃圾回收</text>
<clipPath id="clip1572"><path d="M685,13171 L1412,13171 L1412,13505 L685,13505 Z M686,13310 L686,13333 L772,13333 L772,13310 Z M686,13310 Z M686,13310" /></clipPath>
<path d="M785,13334 L785,13213 C785,13210.7929688 786.7929688,13209 789,13209 L794,13209" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1572)" />
<clipPath id="clip1573"><path d="M685,13171 L1412,13171 L1412,13505 L685,13505 Z M686,13310 L686,13333 L772,13333 L772,13310 Z M686,13310 Z M686,13310" /></clipPath>
<path d="M785,13334 L785,13254 C785,13251.7929688 786.7929688,13250 789,13250 L794,13250" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1573)" />
<clipPath id="clip1574"><path d="M685,13171 L1412,13171 L1412,13505 L685,13505 Z M686,13310 L686,13333 L772,13333 L772,13310 Z M686,13310 Z M686,13310" /></clipPath>
<path d="M785,13334 C785,13332.34375 786.7929688,13331 789,13331 L794,13331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1574)" />
<clipPath id="clip1575"><path d="M685,13171 L1412,13171 L1412,13505 L685,13505 Z M686,13310 L686,13333 L772,13333 L772,13310 Z M686,13310 Z M686,13310" /></clipPath>
<path d="M785,13334 L785,13455 C785,13457.2070313 786.7929688,13459 789,13459 L794,13459" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1575)" />
<clipPath id="clip1576"><path d="M684,13170 L1413,13170 L1413,13506 L684,13506 L684,13170 Z" /></clipPath>
<path d="M772,13334 L785,13334" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1576)" />
<clipPath id="clip1577"><path d="M684,13308 L775,13308 L775,13336 L684,13336 L684,13308 Z" /></clipPath>
<path d="M686,13334 L772,13334 Z M686,13334" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1577)" />
<text x="696" y="13325" style="font:10px Open Sans">一致性模型</text>
<clipPath id="clip1578"><path d="M793,13171 L1326,13171 L1326,13224 L793,13224 Z M794,13183 L794,13208 L1034,13208 L1034,13183 Z M794,13183 Z M794,13183" /></clipPath>
<path d="M1047,13209 L1047,13200 C1047,13197.7929688 1048.7929688,13196 1051,13196 L1056,13196" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1578)" />
<clipPath id="clip1579"><path d="M793,13171 L1326,13171 L1326,13224 L793,13224 Z M794,13183 L794,13208 L1034,13208 L1034,13183 Z M794,13183 Z M794,13183" /></clipPath>
<path d="M1047,13209 L1047,13219 C1047,13221.2070313 1048.7929688,13223 1051,13223 L1056,13223" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1579)" />
<clipPath id="clip1580"><path d="M792,13170 L1327,13170 L1327,13225 L792,13225 L792,13170 Z" /></clipPath>
<path d="M1034,13209 L1047,13209" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1580)" />
<clipPath id="clip1581"><path d="M792,13181 L1037,13181 L1037,13211 L792,13211 L792,13181 Z" /></clipPath>
<path d="M794,13209 L1034,13209 Z M794,13209" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1581)" />
<text x="804" y="13198" style="font:10px Open Sans">GFS主要是为了追加而不是改写设计的</text>
<clipPath id="clip1582"><path d="M1054,13170 L1327,13170 L1327,13198 L1054,13198 L1054,13170 Z" /></clipPath>
<path d="M1056,13196 L1324,13196 Z M1056,13196" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1582)" />
<text x="1066" y="13187" style="font:10px Open Sans">改写的需求较少，或者可以通过追加来实现</text>
<clipPath id="clip1583"><path d="M1054,13197 L1301,13197 L1301,13225 L1054,13225 L1054,13197 Z" /></clipPath>
<path d="M1056,13223 L1298,13223 Z M1056,13223" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1583)" />
<text x="1066" y="13214" style="font:10px Open Sans">追加的一致性模型相比改写更简单有效</text>
<clipPath id="clip1584"><path d="M792,13224 L1169,13224 L1169,13252 L792,13252 L792,13224 Z" /></clipPath>
<path d="M794,13250 L1166,13250 Z M794,13250" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1584)" />
<text x="804" y="13241" style="font:10px Open Sans">无异常时，追加成功的记录在各个副本中是确定并严格一致的</text>
<clipPath id="clip1585"><path d="M793,13252 L1250,13252 L1250,13386 L793,13386 Z M794,13307 L794,13330 L867,13330 L867,13307 Z M794,13307 Z M794,13307" /></clipPath>
<path d="M880,13331 L880,13281 C880,13278.7929688 881.7929688,13277 884,13277 L889,13277" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1585)" />
<clipPath id="clip1586"><path d="M793,13252 L1250,13252 L1250,13386 L793,13386 Z M794,13307 L794,13330 L867,13330 L867,13307 Z M794,13307 Z M794,13307" /></clipPath>
<path d="M880,13331 L880,13308 C880,13305.7929688 881.7929688,13304 884,13304 L889,13304" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1586)" />
<clipPath id="clip1587"><path d="M793,13252 L1250,13252 L1250,13386 L793,13386 Z M794,13307 L794,13330 L867,13330 L867,13307 Z M794,13307 Z M794,13307" /></clipPath>
<path d="M880,13331 C880,13331 881.7929688,13331 884,13331 L889,13331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1587)" />
<clipPath id="clip1588"><path d="M793,13252 L1250,13252 L1250,13386 L793,13386 Z M794,13307 L794,13330 L867,13330 L867,13307 Z M794,13307 Z M794,13307" /></clipPath>
<path d="M880,13331 L880,13354 C880,13356.2070313 881.7929688,13358 884,13358 L889,13358" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1588)" />
<clipPath id="clip1589"><path d="M793,13252 L1250,13252 L1250,13386 L793,13386 Z M794,13307 L794,13330 L867,13330 L867,13307 Z M794,13307 Z M794,13307" /></clipPath>
<path d="M880,13331 L880,13381 C880,13383.2070313 881.7929688,13385 884,13385 L889,13385" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1589)" />
<clipPath id="clip1590"><path d="M792,13251 L1251,13251 L1251,13387 L792,13387 L792,13251 Z" /></clipPath>
<path d="M867,13331 L880,13331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1590)" />
<clipPath id="clip1591"><path d="M792,13305 L870,13305 L870,13333 L792,13333 L792,13305 Z" /></clipPath>
<path d="M794,13331 L867,13331 Z M794,13331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1591)" />
<text x="804" y="13322" style="font:10px Open Sans">追加异常</text>
<clipPath id="clip1592"><path d="M887,13251 L1251,13251 L1251,13279 L887,13279 L887,13251 Z" /></clipPath>
<path d="M889,13277 L1248,13277 Z M889,13277" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1592)" />
<text x="899" y="13268" style="font:10px Open Sans">出现异常时，可能某些副本追加成功而某些副本失败的情况</text>
<clipPath id="clip1593"><path d="M887,13278 L1173,13278 L1173,13306 L887,13306 L887,13278 Z" /></clipPath>
<path d="M889,13304 L1170,13304 Z M889,13304" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1593)" />
<text x="899" y="13295" style="font:10px Open Sans">失败的副本可能会出现一些可识别的填充记录</text>
<clipPath id="clip1594"><path d="M887,13305 L1043,13305 L1043,13333 L887,13333 L887,13305 Z" /></clipPath>
<path d="M889,13331 L1040,13331 Z M889,13331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1594)" />
<text x="899" y="13322" style="font:10px Open Sans">客户端追加失败将重试</text>
<clipPath id="clip1595"><path d="M887,13332 L1251,13332 L1251,13360 L887,13360 L887,13332 Z" /></clipPath>
<path d="M889,13358 L1248,13358 Z M889,13358" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1595)" />
<text x="899" y="13349" style="font:10px Open Sans">只要用户追加成功，说明所有副本中都至少追加成功了一次</text>
<clipPath id="clip1596"><path d="M887,13359 L1173,13359 L1173,13387 L887,13387 L887,13359 Z" /></clipPath>
<path d="M889,13385 L1170,13385 Z M889,13385" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1596)" />
<text x="899" y="13376" style="font:10px Open Sans">重复记录和可识别的填充记录需要应用层处理</text>
<clipPath id="clip1597"><path d="M793,13387 L1412,13387 L1412,13505 L793,13505 Z M794,13435 L794,13458 L867,13458 L867,13435 Z M794,13435 Z M794,13435" /></clipPath>
<path d="M880,13459 L880,13418 C880,13415.7929688 881.7929688,13414 884,13414 L889,13414" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1597)" />
<clipPath id="clip1598"><path d="M793,13387 L1412,13387 L1412,13505 L793,13505 Z M794,13435 L794,13458 L867,13458 L867,13435 Z M794,13435 Z M794,13435" /></clipPath>
<path d="M880,13459 L880,13445 C880,13442.7929688 881.7929688,13441 884,13441 L889,13441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1598)" />
<clipPath id="clip1599"><path d="M793,13387 L1412,13387 L1412,13505 L793,13505 Z M794,13435 L794,13458 L867,13458 L867,13435 Z M794,13435 Z M794,13435" /></clipPath>
<path d="M880,13459 L880,13500 C880,13502.2070313 881.7929688,13504 884,13504 L889,13504" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1599)" />
<clipPath id="clip1600"><path d="M792,13386 L1413,13386 L1413,13506 L792,13506 L792,13386 Z" /></clipPath>
<path d="M867,13459 L880,13459" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1600)" />
<clipPath id="clip1601"><path d="M792,13433 L870,13433 L870,13461 L792,13461 L792,13433 Z" /></clipPath>
<path d="M794,13459 L867,13459 Z M794,13459" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1601)" />
<text x="804" y="13450" style="font:10px Open Sans">并发追加</text>
<clipPath id="clip1602"><path d="M887,13386 L1301,13386 L1301,13416 L887,13416 L887,13386 Z" /></clipPath>
<path d="M889,13414 L1298,13414 Z M889,13414" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1602)" />
<text x="899" y="13403" style="font:10px Open Sans">GFS支持多个客户端并发追加。多个客户端之间的顺序是无法保证的</text>
<clipPath id="clip1603"><path d="M887,13415 L1212,13415 L1212,13443 L887,13443 L887,13415 Z" /></clipPath>
<path d="M889,13441 L1209,13441 Z M889,13441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1603)" />
<text x="899" y="13432" style="font:10px Open Sans">同一客户端连续追加成功的多个记录也有可能被打断</text>
<clipPath id="clip1604"><path d="M887,13442 L1413,13442 L1413,13506 L887,13506 L887,13442 Z" /></clipPath>
<path d="M889,13504 L1410,13504 Z M889,13504" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1604)" />
<text x="899" y="13459" style="font:10px Open Sans">对于MapReduce应用，由于其批处理特性，可先将数据追加到一个临时文件，在临时文</text>
<text x="899" y="13478" style="font:10px Open Sans">件中维护索引记录每个追加成功的记录的偏移，等文件关闭时一次性将临时文件改名为</text>
<text x="899" y="13495" style="font:10px Open Sans">最终文件</text>
<clipPath id="clip1605"><path d="M685,13506 L1511,13506 L1511,14241 L685,14241 Z M686,13898 L686,13921 L759,13921 L759,13898 Z M686,13898 Z M686,13898" /></clipPath>
<path d="M772,13922 L772,13703 C772,13700.7929688 773.7929688,13699 776,13699 L781,13699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1605)" />
<clipPath id="clip1606"><path d="M685,13506 L1511,13506 L1511,14241 L685,14241 Z M686,13898 L686,13921 L759,13921 L759,13898 Z M686,13898 Z M686,13898" /></clipPath>
<path d="M772,13922 L772,13927 C772,13929.2070313 773.7929688,13931 776,13931 L781,13931" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1606)" />
<clipPath id="clip1607"><path d="M685,13506 L1511,13506 L1511,14241 L685,14241 Z M686,13898 L686,13921 L759,13921 L759,13898 Z M686,13898 Z M686,13898" /></clipPath>
<path d="M772,13922 L772,14142 C772,14144.2070313 773.7929688,14146 776,14146 L781,14146" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1607)" />
<clipPath id="clip1608"><path d="M684,13505 L1512,13505 L1512,14242 L684,14242 L684,13505 Z" /></clipPath>
<path d="M759,13922 L772,13922" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1608)" />
<clipPath id="clip1609"><path d="M684,13896 L762,13896 L762,13924 L684,13924 L684,13896 Z" /></clipPath>
<path d="M686,13922 L759,13922 Z M686,13922" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1609)" />
<text x="696" y="13913" style="font:10px Open Sans">追加流程</text>
<clipPath id="clip1610"><path d="M780,13506 L1398,13506 L1398,13829 L780,13829 Z M781,13675 L781,13698 L854,13698 L854,13675 Z M781,13675 Z M781,13675" /></clipPath>
<path d="M867,13699 L867,13575 C867,13572.7929688 868.7929688,13571 871,13571 L876,13571" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1610)" />
<clipPath id="clip1611"><path d="M780,13506 L1398,13506 L1398,13829 L780,13829 Z M781,13675 L781,13698 L854,13698 L854,13675 Z M781,13675 Z M781,13675" /></clipPath>
<path d="M867,13699 L867,13623 C867,13620.7929688 868.7929688,13619 871,13619 L876,13619" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1611)" />
<clipPath id="clip1612"><path d="M780,13506 L1398,13506 L1398,13829 L780,13829 Z M781,13675 L781,13698 L854,13698 L854,13675 Z M781,13675 Z M781,13675" /></clipPath>
<path d="M867,13699 L867,13688 C867,13685.7929688 868.7929688,13684 871,13684 L876,13684" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1612)" />
<clipPath id="clip1613"><path d="M780,13506 L1398,13506 L1398,13829 L780,13829 Z M781,13675 L781,13698 L854,13698 L854,13675 Z M781,13675 Z M781,13675" /></clipPath>
<path d="M867,13699 L867,13726 C867,13728.2070313 868.7929688,13730 871,13730 L876,13730" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1613)" />
<clipPath id="clip1614"><path d="M780,13506 L1398,13506 L1398,13829 L780,13829 Z M781,13675 L781,13698 L854,13698 L854,13675 Z M781,13675 Z M781,13675" /></clipPath>
<path d="M867,13699 L867,13753 C867,13755.2070313 868.7929688,13757 871,13757 L876,13757" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1614)" />
<clipPath id="clip1615"><path d="M780,13506 L1398,13506 L1398,13829 L780,13829 Z M781,13675 L781,13698 L854,13698 L854,13675 Z M781,13675 Z M781,13675" /></clipPath>
<path d="M867,13699 L867,13780 C867,13782.2070313 868.7929688,13784 871,13784 L876,13784" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1615)" />
<clipPath id="clip1616"><path d="M780,13506 L1398,13506 L1398,13829 L780,13829 Z M781,13675 L781,13698 L854,13698 L854,13675 Z M781,13675 Z M781,13675" /></clipPath>
<path d="M867,13699 L867,13824 C867,13826.2070313 868.7929688,13828 871,13828 L876,13828" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1616)" />
<clipPath id="clip1617"><path d="M779,13505 L1399,13505 L1399,13830 L779,13830 L779,13505 Z" /></clipPath>
<path d="M854,13699 L867,13699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1617)" />
<clipPath id="clip1618"><path d="M779,13673 L857,13673 L857,13701 L779,13701 L779,13673 Z" /></clipPath>
<path d="M781,13699 L854,13699 Z M781,13699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1618)" />
<text x="791" y="13690" style="font:10px Open Sans">追加流程</text>
<clipPath id="clip1619"><path d="M874,13505 L1393,13505 L1393,13573 L874,13573 L874,13505 Z" /></clipPath>
<path d="M876,13571 L1390,13571 Z M876,13571" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1619)" />
<text x="886" y="13522" style="font:10px Open Sans">客户端向Master请求chunk每个副本所在的CS，其中主CS持有租约。如果没有CS只有</text>
<text x="886" y="13541" style="font:10px Open Sans">租约，说明该chunk最近没有写操作，Master会发起一个任务，按一定的策略将chunk</text>
<text x="886" y="13560" style="font:10px Open Sans">的租约授权给其中一台CS</text>
<clipPath id="clip1620"><path d="M874,13572 L1399,13572 L1399,13621 L874,13621 L874,13572 Z" /></clipPath>
<path d="M876,13619 L1396,13619 Z M876,13619" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1620)" />
<text x="886" y="13589" style="font:10px Open Sans">Master返回客户端主副本和备副本所在的CS的位置信息，客户端将缓存这些信息供以后</text>
<text x="886" y="13608" style="font:10px Open Sans">使用。如果不出现故障，客户端以后读写该chunk都不需要再请求Master</text>
<clipPath id="clip1621"><path d="M874,13620 L1392,13620 L1392,13686 L874,13686 L874,13620 Z" /></clipPath>
<path d="M876,13684 L1389,13684 Z M876,13684" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1621)" />
<text x="886" y="13637" style="font:10px Open Sans">客户端将要追加的记录发送到每一个副本，每个CS会在内部的LRU结构中缓存这些数</text>
<text x="886" y="13656" style="font:10px Open Sans">据。GFS采用数据流和控制流分离的方法，从而能基于网络拓扑结构更好地调度数据流</text>
<text x="886" y="13675" style="font:10px Open Sans">的传输</text>
<clipPath id="clip1622"><path d="M874,13685 L1394,13685 L1394,13732 L874,13732 L874,13685 Z" /></clipPath>
<path d="M876,13730 L1391,13730 Z M876,13730" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1622)" />
<text x="886" y="13702" style="font:10px Open Sans">所有副本确认受到数据后，客户端发起一个写请求给主副本，由于主副本可能收到多个</text>
<text x="886" y="13719" style="font:10px Open Sans">客户端对同一个chunk的并发追加操作，主副本将确定这些操作的顺序并写入本地</text>
<clipPath id="clip1623"><path d="M874,13731 L1381,13731 L1381,13759 L874,13759 L874,13731 Z" /></clipPath>
<path d="M876,13757 L1378,13757 Z M876,13757" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1623)" />
<text x="886" y="13748" style="font:10px Open Sans">主副本发写请求提交给所有备副本。每个备副本会根据主副本确定的顺序执行写操作</text>
<clipPath id="clip1624"><path d="M874,13758 L1069,13758 L1069,13786 L874,13786 L874,13758 Z" /></clipPath>
<path d="M876,13784 L1066,13784 Z M876,13784" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1624)" />
<text x="886" y="13775" style="font:10px Open Sans">备副本成功完成后应答主副本</text>
<clipPath id="clip1625"><path d="M874,13785 L1394,13785 L1394,13830 L874,13830 L874,13785 Z" /></clipPath>
<path d="M876,13828 L1391,13828 Z M876,13828" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1625)" />
<text x="886" y="13802" style="font:10px Open Sans">主副本应答客户端，如果有副本发生错误，将出现主副本写成功但某些被副本不成功的</text>
<text x="886" y="13819" style="font:10px Open Sans">情况，客户端将重试</text>
<clipPath id="clip1626"><path d="M780,13830 L1511,13830 L1511,14024 L780,14024 Z M781,13907 L781,13930 L893,13930 L893,13907 Z M781,13907 Z M781,13907" /></clipPath>
<path d="M906,13931 L906,13887 C906,13884.7929688 907.7929688,13883 910,13883 L915,13883" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1626)" />
<clipPath id="clip1627"><path d="M780,13830 L1511,13830 L1511,14024 L780,14024 Z M781,13907 L781,13930 L893,13930 L893,13907 Z M781,13907 Z M781,13907" /></clipPath>
<path d="M906,13931 L906,13976 C906,13978.2070313 907.7929688,13980 910,13980 L915,13980" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1627)" />
<clipPath id="clip1628"><path d="M779,13829 L1512,13829 L1512,14025 L779,14025 L779,13829 Z" /></clipPath>
<path d="M893,13931 L906,13931" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1628)" />
<clipPath id="clip1629"><path d="M779,13905 L896,13905 L896,13933 L779,13933 L779,13905 Z" /></clipPath>
<path d="M781,13931 L893,13931 Z M781,13931" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1629)" />
<text x="791" y="13922" style="font:10px Open Sans">追加流程的特色</text>
<clipPath id="clip1630"><path d="M914,13830 L1371,13830 L1371,13912 L914,13912 Z M915,13859 L915,13882 L975,13882 L975,13859 Z M915,13859 Z M915,13859" /></clipPath>
<path d="M988,13883 L988,13859 C988,13856.7929688 989.7929688,13855 992,13855 L997,13855" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1630)" />
<clipPath id="clip1631"><path d="M914,13830 L1371,13830 L1371,13912 L914,13912 Z M915,13859 L915,13882 L975,13882 L975,13859 Z M915,13859 Z M915,13859" /></clipPath>
<path d="M988,13883 C988,13883.5507813 989.7929688,13884 992,13884 L997,13884" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1631)" />
<clipPath id="clip1632"><path d="M914,13830 L1371,13830 L1371,13912 L914,13912 Z M915,13859 L915,13882 L975,13882 L975,13859 Z M915,13859 Z M915,13859" /></clipPath>
<path d="M988,13883 L988,13907 C988,13909.2070313 989.7929688,13911 992,13911 L997,13911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1632)" />
<clipPath id="clip1633"><path d="M913,13829 L1372,13829 L1372,13913 L913,13913 L913,13829 Z" /></clipPath>
<path d="M975,13883 L988,13883" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1633)" />
<clipPath id="clip1634"><path d="M913,13857 L978,13857 L978,13885 L913,13885 L913,13857 Z" /></clipPath>
<path d="M915,13883 L975,13883 Z M915,13883" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1634)" />
<text x="925" y="13874" style="font:10px Open Sans">流水线</text>
<clipPath id="clip1635"><path d="M995,13829 L1099,13829 L1099,13857 L995,13857 L995,13829 Z" /></clipPath>
<path d="M997,13855 L1096,13855 Z M997,13855" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1635)" />
<text x="1007" y="13846" style="font:10px Open Sans">用于减少延时</text>
<clipPath id="clip1636"><path d="M995,13856 L1257,13856 L1257,13886 L995,13886 L995,13856 Z" /></clipPath>
<path d="M997,13884 L1254,13884 Z M997,13884" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1636)" />
<text x="1007" y="13873" style="font:10px Open Sans">当一个CS收到数据时，它就立即开始转发</text>
<clipPath id="clip1637"><path d="M995,13885 L1372,13885 L1372,13913 L995,13913 L995,13885 Z" /></clipPath>
<path d="M997,13911 L1369,13911 Z M997,13911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1637)" />
<text x="1007" y="13902" style="font:10px Open Sans">由于采用全双工网络，立即发送数据不会降低接收数据的速率</text>
<clipPath id="clip1638"><path d="M914,13913 L1511,13913 L1511,14024 L914,14024 Z M915,13956 L915,13979 L1053,13979 L1053,13956 Z M915,13956 Z M915,13956" /></clipPath>
<path d="M1066,13980 L1066,13942 C1066,13939.7929688 1067.7929688,13938 1070,13938 L1075,13938" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1638)" />
<clipPath id="clip1639"><path d="M914,13913 L1511,13913 L1511,14024 L914,14024 Z M915,13956 L915,13979 L1053,13979 L1053,13956 Z M915,13956 Z M915,13956" /></clipPath>
<path d="M1066,13980 L1066,13971 C1066,13968.7929688 1067.7929688,13967 1070,13967 L1075,13967" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1639)" />
<clipPath id="clip1640"><path d="M914,13913 L1511,13913 L1511,14024 L914,14024 Z M915,13956 L915,13979 L1053,13979 L1053,13956 Z M915,13956 Z M915,13956" /></clipPath>
<path d="M1066,13980 L1066,13992 C1066,13994.2070313 1067.7929688,13996 1070,13996 L1075,13996" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1640)" />
<clipPath id="clip1641"><path d="M914,13913 L1511,13913 L1511,14024 L914,14024 Z M915,13956 L915,13979 L1053,13979 L1053,13956 Z M915,13956 Z M915,13956" /></clipPath>
<path d="M1066,13980 L1066,14019 C1066,14021.2070313 1067.7929688,14023 1070,14023 L1075,14023" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1641)" />
<clipPath id="clip1642"><path d="M913,13912 L1512,13912 L1512,14025 L913,14025 L913,13912 Z" /></clipPath>
<path d="M1053,13980 L1066,13980" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1642)" />
<clipPath id="clip1643"><path d="M913,13954 L1056,13954 L1056,13982 L913,13982 L913,13954 Z" /></clipPath>
<path d="M915,13980 L1053,13980 Z M915,13980" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1643)" />
<text x="925" y="13971" style="font:10px Open Sans">分离数据流与控制流</text>
<clipPath id="clip1644"><path d="M1073,13912 L1216,13912 L1216,13940 L1073,13940 L1073,13912 Z" /></clipPath>
<path d="M1075,13938 L1213,13938 Z M1075,13938" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1644)" />
<text x="1085" y="13929" style="font:10px Open Sans">目标是优化数据传输</text>
<clipPath id="clip1645"><path d="M1073,13939 L1512,13939 L1512,13969 L1073,13969 L1073,13939 Z" /></clipPath>
<path d="M1075,13967 L1509,13967 Z M1075,13967" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1645)" />
<text x="1085" y="13956" style="font:10px Open Sans">每一台机器都是把数据发送到网络拓扑图上“最近”的尚未受到数据的节点</text>
<clipPath id="clip1646"><path d="M1073,13968 L1391,13968 L1391,13998 L1073,13998 L1073,13968 Z" /></clipPath>
<path d="M1075,13996 L1388,13996 Z M1075,13996" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1646)" />
<text x="1085" y="13985" style="font:10px Open Sans">前提是每次追加的数据都比较大（如MapReduce）</text>
<clipPath id="clip1647"><path d="M1073,13997 L1268,13997 L1268,14025 L1073,14025 L1073,13997 Z" /></clipPath>
<path d="M1075,14023 L1265,14023 Z M1075,14023" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1647)" />
<text x="1085" y="14014" style="font:10px Open Sans">分离增加了追加流程的复杂度</text>
<clipPath id="clip1648"><path d="M780,14025 L1510,14025 L1510,14241 L780,14241 Z M781,14122 L781,14145 L971,14145 L971,14122 Z M781,14122 Z M781,14122" /></clipPath>
<path d="M984,14146 L984,14056 C984,14053.7929688 985.7929688,14052 988,14052 L993,14052" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1648)" />
<clipPath id="clip1649"><path d="M780,14025 L1510,14025 L1510,14241 L780,14241 Z M781,14122 L781,14145 L971,14145 L971,14122 Z M781,14122 Z M781,14122" /></clipPath>
<path d="M984,14146 L984,14085 C984,14082.7929688 985.7929688,14081 988,14081 L993,14081" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1649)" />
<clipPath id="clip1650"><path d="M780,14025 L1510,14025 L1510,14241 L780,14241 Z M781,14122 L781,14145 L971,14145 L971,14122 Z M781,14122 Z M781,14122" /></clipPath>
<path d="M984,14146 L984,14129 C984,14126.7929688 985.7929688,14125 988,14125 L993,14125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1650)" />
<clipPath id="clip1651"><path d="M780,14025 L1510,14025 L1510,14241 L780,14241 Z M781,14122 L781,14145 L971,14145 L971,14122 Z M781,14122 Z M781,14122" /></clipPath>
<path d="M984,14146 L984,14148 C984,14150.2070313 985.7929688,14152 988,14152 L993,14152" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1651)" />
<clipPath id="clip1652"><path d="M780,14025 L1510,14025 L1510,14241 L780,14241 Z M781,14122 L781,14145 L971,14145 L971,14122 Z M781,14122 Z M781,14122" /></clipPath>
<path d="M984,14146 L984,14192 C984,14194.2070313 985.7929688,14196 988,14196 L993,14196" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1652)" />
<clipPath id="clip1653"><path d="M780,14025 L1510,14025 L1510,14241 L780,14241 Z M781,14122 L781,14145 L971,14145 L971,14122 Z M781,14122 Z M781,14122" /></clipPath>
<path d="M984,14146 L984,14236 C984,14238.2070313 985.7929688,14240 988,14240 L993,14240" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1653)" />
<clipPath id="clip1654"><path d="M779,14024 L1511,14024 L1511,14242 L779,14242 L779,14024 Z" /></clipPath>
<path d="M971,14146 L984,14146" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1654)" />
<clipPath id="clip1655"><path d="M779,14120 L974,14120 L974,14148 L779,14148 L779,14120 Z" /></clipPath>
<path d="M781,14146 L971,14146 Z M781,14146" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1655)" />
<text x="791" y="14137" style="font:10px Open Sans">使用主备复制的简化追加流程</text>
<clipPath id="clip1656"><path d="M991,14024 L1280,14024 L1280,14054 L991,14054 L991,14024 Z" /></clipPath>
<path d="M993,14052 L1277,14052 Z M993,14052" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1656)" />
<text x="1003" y="14041" style="font:10px Open Sans">客户端向Master请求chunk每个副本所在的CS</text>
<clipPath id="clip1657"><path d="M991,14053 L1321,14053 L1321,14083 L991,14083 L991,14053 Z" /></clipPath>
<path d="M993,14081 L1318,14081 Z M993,14081" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1657)" />
<text x="1003" y="14070" style="font:10px Open Sans">Master返回客户端主副本和备副本所在CS的位置信息</text>
<clipPath id="clip1658"><path d="M991,14082 L1511,14082 L1511,14127 L991,14127 L991,14082 Z" /></clipPath>
<path d="M993,14125 L1508,14125 Z M993,14125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1658)" />
<text x="1003" y="14099" style="font:10px Open Sans">客户端将待追加数据发送到主副本，主副本可能收到多个客户端的并发追加请求，需要</text>
<text x="1003" y="14116" style="font:10px Open Sans">确定操作顺序，并写入本地</text>
<clipPath id="clip1659"><path d="M991,14126 L1303,14126 L1303,14154 L991,14154 L991,14126 Z" /></clipPath>
<path d="M993,14152 L1300,14152 Z M993,14152" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1659)" />
<text x="1003" y="14143" style="font:10px Open Sans">主副本将数据通过流水线的方式转发给所有备副本</text>
<clipPath id="clip1660"><path d="M991,14153 L1511,14153 L1511,14198 L991,14198 L991,14153 Z" /></clipPath>
<path d="M993,14196 L1508,14196 Z M993,14196" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1660)" />
<text x="1003" y="14170" style="font:10px Open Sans">每个备副本收到待追加的记录数据后写入本地，所有副本都在本地写入成功并且收到后</text>
<text x="1003" y="14187" style="font:10px Open Sans">一个副本的应答消息时向前一个副本回应</text>
<clipPath id="clip1661"><path d="M991,14197 L1511,14197 L1511,14242 L991,14242 L991,14197 Z" /></clipPath>
<path d="M993,14240 L1508,14240 Z M993,14240" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1661)" />
<text x="1003" y="14214" style="font:10px Open Sans">主副本应答客户端，如果客户端在超时时间之内没有收到主副本的应答，说明发生了错</text>
<text x="1003" y="14231" style="font:10px Open Sans">误，需要重试</text>
<clipPath id="clip1662"><path d="M685,14242 L1619,14242 L1619,14587 L685,14587 Z M686,14413 L686,14436 L759,14436 L759,14413 Z M686,14413 Z M686,14413" /></clipPath>
<path d="M772,14437 L772,14351 C772,14348.7929688 773.7929688,14347 776,14347 L781,14347" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1662)" />
<clipPath id="clip1663"><path d="M685,14242 L1619,14242 L1619,14587 L685,14587 Z M686,14413 L686,14436 L759,14436 L759,14413 Z M686,14413 Z M686,14413" /></clipPath>
<path d="M772,14437 L772,14524 C772,14526.2070313 773.7929688,14528 776,14528 L781,14528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1663)" />
<clipPath id="clip1664"><path d="M684,14241 L1620,14241 L1620,14588 L684,14588 L684,14241 Z" /></clipPath>
<path d="M759,14437 L772,14437" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1664)" />
<clipPath id="clip1665"><path d="M684,14411 L762,14411 L762,14439 L684,14439 L684,14411 Z" /></clipPath>
<path d="M686,14437 L759,14437 Z M686,14437" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1665)" />
<text x="696" y="14428" style="font:10px Open Sans">容错机制</text>
<clipPath id="clip1666"><path d="M780,14242 L1574,14242 L1574,14442 L780,14442 Z M781,14321 L781,14346 L870,14346 L870,14321 Z M781,14321 Z M781,14321" /></clipPath>
<path d="M883,14347 L883,14302 C883,14299.7929688 884.7929688,14298 887,14298 L892,14298" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1666)" />
<clipPath id="clip1667"><path d="M780,14242 L1574,14242 L1574,14442 L780,14442 Z M781,14321 L781,14346 L870,14346 L870,14321 Z M781,14321 Z M781,14321" /></clipPath>
<path d="M883,14347 L883,14393 C883,14395.2070313 884.7929688,14397 887,14397 L892,14397" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1667)" />
<clipPath id="clip1668"><path d="M779,14241 L1575,14241 L1575,14443 L779,14443 L779,14241 Z" /></clipPath>
<path d="M870,14347 L883,14347" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1668)" />
<clipPath id="clip1669"><path d="M779,14319 L873,14319 L873,14349 L779,14349 L779,14319 Z" /></clipPath>
<path d="M781,14347 L870,14347 Z M781,14347" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1669)" />
<text x="791" y="14336" style="font:10px Open Sans">Master容错</text>
<clipPath id="clip1670"><path d="M891,14242 L1574,14242 L1574,14328 L891,14328 Z M892,14272 L892,14297 L1044,14297 L1044,14272 Z M892,14272 Z M892,14272" /></clipPath>
<path d="M1057,14298 L1057,14273 C1057,14270.7929688 1058.7929688,14269 1061,14269 L1066,14269" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1670)" />
<clipPath id="clip1671"><path d="M891,14242 L1574,14242 L1574,14328 L891,14328 Z M892,14272 L892,14297 L1044,14297 L1044,14272 Z M892,14272 Z M892,14272" /></clipPath>
<path d="M1057,14298 C1057,14298 1058.7929688,14298 1061,14298 L1066,14298" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1671)" />
<clipPath id="clip1672"><path d="M891,14242 L1574,14242 L1574,14328 L891,14328 Z M892,14272 L892,14297 L1044,14297 L1044,14272 Z M892,14272 Z M892,14272" /></clipPath>
<path d="M1057,14298 L1057,14323 C1057,14325.2070313 1058.7929688,14327 1061,14327 L1066,14327" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1672)" />
<clipPath id="clip1673"><path d="M890,14241 L1575,14241 L1575,14329 L890,14329 L890,14241 Z" /></clipPath>
<path d="M1044,14298 L1057,14298" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1673)" />
<clipPath id="clip1674"><path d="M890,14270 L1047,14270 L1047,14300 L890,14300 L890,14270 Z" /></clipPath>
<path d="M892,14298 L1044,14298 Z M892,14298" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1674)" />
<text x="902" y="14287" style="font:10px Open Sans">操作日志加checkpoint</text>
<clipPath id="clip1675"><path d="M1064,14241 L1405,14241 L1405,14271 L1064,14271 L1064,14241 Z" /></clipPath>
<path d="M1066,14269 L1402,14269 Z M1066,14269" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1675)" />
<text x="1076" y="14258" style="font:10px Open Sans">Master的修改操作总是先记录操作日志，然后修改内存</text>
<clipPath id="clip1676"><path d="M1064,14270 L1575,14270 L1575,14300 L1064,14300 L1064,14270 Z" /></clipPath>
<path d="M1066,14298 L1572,14298 Z M1066,14298" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1676)" />
<text x="1076" y="14287" style="font:10px Open Sans">为减少恢复时间（回放的日志量），Master定期将内存中数据转储到磁盘checkpoint</text>
<clipPath id="clip1677"><path d="M1064,14299 L1392,14299 L1392,14329 L1064,14329 L1064,14299 Z" /></clipPath>
<path d="M1066,14327 L1389,14327 Z M1066,14327" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1677)" />
<text x="1076" y="14316" style="font:10px Open Sans">Master故障重启时可通过操作日志恢复内存数据结构</text>
<clipPath id="clip1678"><path d="M891,14329 L1467,14329 L1467,14442 L891,14442 Z M892,14371 L892,14396 L1042,14396 L1042,14371 Z M892,14371 Z M892,14371" /></clipPath>
<path d="M1055,14397 L1055,14358 C1055,14355.7929688 1056.7929688,14354 1059,14354 L1064,14354" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1678)" />
<clipPath id="clip1679"><path d="M891,14329 L1467,14329 L1467,14442 L891,14442 Z M892,14371 L892,14396 L1042,14396 L1042,14371 Z M892,14371 Z M892,14371" /></clipPath>
<path d="M1055,14397 L1055,14387 C1055,14384.7929688 1056.7929688,14383 1059,14383 L1064,14383" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1679)" />
<clipPath id="clip1680"><path d="M891,14329 L1467,14329 L1467,14442 L891,14442 Z M892,14371 L892,14396 L1042,14396 L1042,14371 Z M892,14371 Z M892,14371" /></clipPath>
<path d="M1055,14397 L1055,14408 C1055,14410.2070313 1056.7929688,14412 1059,14412 L1064,14412" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1680)" />
<clipPath id="clip1681"><path d="M891,14329 L1467,14329 L1467,14442 L891,14442 Z M892,14371 L892,14396 L1042,14396 L1042,14371 Z M892,14371 Z M892,14371" /></clipPath>
<path d="M1055,14397 L1055,14437 C1055,14439.2070313 1056.7929688,14441 1059,14441 L1064,14441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1681)" />
<clipPath id="clip1682"><path d="M890,14328 L1468,14328 L1468,14443 L890,14443 L890,14328 Z" /></clipPath>
<path d="M1042,14397 L1055,14397" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1682)" />
<clipPath id="clip1683"><path d="M890,14369 L1045,14369 L1045,14399 L890,14399 L890,14369 Z" /></clipPath>
<path d="M892,14397 L1042,14397 Z M892,14397" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1683)" />
<text x="902" y="14386" style="font:10px Open Sans">“Shadow Master”热备</text>
<clipPath id="clip1684"><path d="M1062,14328 L1400,14328 L1400,14356 L1062,14356 L1062,14328 Z" /></clipPath>
<path d="M1064,14354 L1397,14354 Z M1064,14354" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1684)" />
<text x="1074" y="14345" style="font:10px Open Sans">所有元数据修改操作必须保证发送到实时热备才算成功</text>
<clipPath id="clip1685"><path d="M1062,14355 L1468,14355 L1468,14385 L1062,14385 L1062,14355 Z" /></clipPath>
<path d="M1064,14383 L1465,14383 Z M1064,14383" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1685)" />
<text x="1074" y="14372" style="font:10px Open Sans">远程的实时热备将实时接收Master发送的操作日志并在内存中回放</text>
<clipPath id="clip1686"><path d="M1062,14384 L1390,14384 L1390,14414 L1062,14414 L1062,14384 Z" /></clipPath>
<path d="M1064,14412 L1387,14412 Z M1064,14412" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1686)" />
<text x="1074" y="14401" style="font:10px Open Sans">Master宕机时可以秒级切换到实时备机继续提供服务</text>
<clipPath id="clip1687"><path d="M1062,14413 L1463,14413 L1463,14443 L1062,14443 L1062,14413 Z" /></clipPath>
<path d="M1064,14441 L1460,14441 Z M1064,14441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1687)" />
<text x="1074" y="14430" style="font:10px Open Sans">为保证同一时刻只有一个Master，使用Chubby服务进行选主操作</text>
<clipPath id="clip1688"><path d="M780,14443 L1619,14443 L1619,14587 L780,14587 Z M781,14502 L781,14527 L905,14527 L905,14502 Z M781,14502 Z M781,14502" /></clipPath>
<path d="M918,14528 C918,14528 919.7929688,14528 922,14528 L927,14528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1688)" />
<clipPath id="clip1689"><path d="M779,14442 L1620,14442 L1620,14588 L779,14588 L779,14442 Z" /></clipPath>
<path d="M905,14528 L918,14528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1689)" />
<clipPath id="clip1690"><path d="M779,14500 L908,14500 L908,14530 L779,14530 L779,14500 Z" /></clipPath>
<path d="M781,14528 L905,14528 Z M781,14528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1690)" />
<text x="791" y="14517" style="font:10px Open Sans">ChunkServer容错</text>
<clipPath id="clip1691"><path d="M926,14443 L1619,14443 L1619,14587 L926,14587 Z M927,14504 L927,14527 L1091,14527 L1091,14504 Z M927,14504 Z M927,14504" /></clipPath>
<path d="M1104,14528 L1104,14474 C1104,14471.7929688 1105.7929688,14470 1108,14470 L1113,14470" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1691)" />
<clipPath id="clip1692"><path d="M926,14443 L1619,14443 L1619,14587 L926,14587 Z M927,14504 L927,14527 L1091,14527 L1091,14504 Z M927,14504 Z M927,14504" /></clipPath>
<path d="M1104,14528 L1104,14503 C1104,14500.7929688 1105.7929688,14499 1108,14499 L1113,14499" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1692)" />
<clipPath id="clip1693"><path d="M926,14443 L1619,14443 L1619,14587 L926,14587 Z M927,14504 L927,14527 L1091,14527 L1091,14504 Z M927,14504 Z M927,14504" /></clipPath>
<path d="M1104,14528 C1104,14528 1105.7929688,14528 1108,14528 L1113,14528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1693)" />
<clipPath id="clip1694"><path d="M926,14443 L1619,14443 L1619,14587 L926,14587 Z M927,14504 L927,14527 L1091,14527 L1091,14504 Z M927,14504 Z M927,14504" /></clipPath>
<path d="M1104,14528 L1104,14553 C1104,14555.2070313 1105.7929688,14557 1108,14557 L1113,14557" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1694)" />
<clipPath id="clip1695"><path d="M926,14443 L1619,14443 L1619,14587 L926,14587 Z M927,14504 L927,14527 L1091,14527 L1091,14504 Z M927,14504 Z M927,14504" /></clipPath>
<path d="M1104,14528 L1104,14582 C1104,14584.2070313 1105.7929688,14586 1108,14586 L1113,14586" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1695)" />
<clipPath id="clip1696"><path d="M925,14442 L1620,14442 L1620,14588 L925,14588 L925,14442 Z" /></clipPath>
<path d="M1091,14528 L1104,14528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1696)" />
<clipPath id="clip1697"><path d="M925,14502 L1094,14502 L1094,14530 L925,14530 L925,14502 Z" /></clipPath>
<path d="M927,14528 L1091,14528 Z M927,14528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1697)" />
<text x="937" y="14519" style="font:10px Open Sans">采用复制多个副本的方式</text>
<clipPath id="clip1698"><path d="M1111,14442 L1265,14442 L1265,14472 L1111,14472 L1111,14442 Z" /></clipPath>
<path d="M1113,14470 L1262,14470 Z M1113,14470" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1698)" />
<text x="1123" y="14459" style="font:10px Open Sans">每个chunk有多个副本</text>
<clipPath id="clip1699"><path d="M1111,14471 L1344,14471 L1344,14501 L1111,14501 L1111,14471 Z" /></clipPath>
<path d="M1113,14499 L1341,14499 Z M1113,14499" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1699)" />
<text x="1123" y="14488" style="font:10px Open Sans">每个副本存储在不同的ChunkServer</text>
<clipPath id="clip1700"><path d="M1111,14500 L1460,14500 L1460,14530 L1111,14530 L1111,14500 Z" /></clipPath>
<path d="M1113,14528 L1457,14528 Z M1113,14528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1700)" />
<text x="1123" y="14517" style="font:10px Open Sans">对于每个chunk必须将所有的副本全写入成功才视为成功</text>
<clipPath id="clip1701"><path d="M1111,14529 L1620,14529 L1620,14559 L1111,14559 L1111,14529 Z" /></clipPath>
<path d="M1113,14557 L1617,14557 Z M1113,14557" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1701)" />
<text x="1123" y="14546" style="font:10px Open Sans">有副本丢失或不可恢复时Master自动将副本复制到其他ChunkServer，保证副本数量</text>
<clipPath id="clip1702"><path d="M1111,14558 L1568,14558 L1568,14588 L1111,14588 L1111,14558 Z" /></clipPath>
<path d="M1113,14586 L1565,14586 Z M1113,14586" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1702)" />
<text x="1123" y="14575" style="font:10px Open Sans">CS会对存储的数据维持校验和，不匹配时返回错误，客户端将选择其他副本</text>
<clipPath id="clip1703"><path d="M590,14588 L1753,14588 L1753,15623 L590,15623 Z M591,15088 L591,15113 L680,15113 L680,15088 Z M591,15088 Z M591,15088" /></clipPath>
<path d="M693,15114 L693,14713 C693,14710.7929688 694.7929688,14709 697,14709 L702,14709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1703)" />
<clipPath id="clip1704"><path d="M590,14588 L1753,14588 L1753,15623 L590,15623 Z M591,15088 L591,15113 L680,15113 L680,15088 Z M591,15088 Z M591,15088" /></clipPath>
<path d="M693,15114 L693,14982 C693,14979.7929688 694.7929688,14978 697,14978 L702,14978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1704)" />
<clipPath id="clip1705"><path d="M590,14588 L1753,14588 L1753,15623 L590,15623 Z M591,15088 L591,15113 L680,15113 L680,15088 Z M591,15088 Z M591,15088" /></clipPath>
<path d="M693,15114 L693,15313 C693,15315.2070313 694.7929688,15317 697,15317 L702,15317" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1705)" />
<clipPath id="clip1706"><path d="M590,14588 L1753,14588 L1753,15623 L590,15623 Z M591,15088 L591,15113 L680,15113 L680,15088 Z M591,15088 Z M591,15088" /></clipPath>
<path d="M693,15114 L693,15516 C693,15518.2070313 694.7929688,15520 697,15520 L702,15520" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1706)" />
<clipPath id="clip1707"><path d="M589,14587 L1754,14587 L1754,15624 L589,15624 L589,14587 Z" /></clipPath>
<path d="M680,15114 L693,15114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1707)" />
<clipPath id="clip1708"><path d="M589,15086 L683,15086 L683,15116 L589,15116 L589,15086 Z" /></clipPath>
<path d="M591,15114 L680,15114 Z M591,15114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1708)" />
<text x="601" y="15103" style="font:10px Open Sans">Master设计</text>
<clipPath id="clip1709"><path d="M701,14588 L1280,14588 L1280,14848 L701,14848 Z M702,14685 L702,14708 L775,14708 L775,14685 Z M702,14685 Z M702,14685" /></clipPath>
<path d="M788,14709 L788,14648 C788,14645.7929688 789.7929688,14644 792,14644 L797,14644" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1709)" />
<clipPath id="clip1710"><path d="M701,14588 L1280,14588 L1280,14848 L701,14848 Z M702,14685 L702,14708 L775,14708 L775,14685 Z M702,14685 Z M702,14685" /></clipPath>
<path d="M788,14709 L788,14770 C788,14772.2070313 789.7929688,14774 792,14774 L797,14774" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1710)" />
<clipPath id="clip1711"><path d="M700,14587 L1281,14587 L1281,14849 L700,14849 L700,14587 Z" /></clipPath>
<path d="M775,14709 L788,14709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1711)" />
<clipPath id="clip1712"><path d="M700,14683 L778,14683 L778,14711 L700,14711 L700,14683 Z" /></clipPath>
<path d="M702,14709 L775,14709 Z M702,14709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1712)" />
<text x="712" y="14700" style="font:10px Open Sans">内存占用</text>
<clipPath id="clip1713"><path d="M796,14588 L1214,14588 L1214,14674 L796,14674 Z M797,14620 L797,14643 L922,14643 L922,14620 Z M797,14620 Z M797,14620" /></clipPath>
<path d="M935,14644 L935,14619 C935,14616.7929688 936.7929688,14615 939,14615 L944,14615" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1713)" />
<clipPath id="clip1714"><path d="M796,14588 L1214,14588 L1214,14674 L796,14674 Z M797,14620 L797,14643 L922,14643 L922,14620 Z M797,14620 Z M797,14620" /></clipPath>
<path d="M935,14644 C935,14644 936.7929688,14644 939,14644 L944,14644" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1714)" />
<clipPath id="clip1715"><path d="M796,14588 L1214,14588 L1214,14674 L796,14674 Z M797,14620 L797,14643 L922,14643 L922,14620 Z M797,14620 Z M797,14620" /></clipPath>
<path d="M935,14644 L935,14669 C935,14671.2070313 936.7929688,14673 939,14673 L944,14673" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1715)" />
<clipPath id="clip1716"><path d="M795,14587 L1215,14587 L1215,14675 L795,14675 L795,14587 Z" /></clipPath>
<path d="M922,14644 L935,14644" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1716)" />
<clipPath id="clip1717"><path d="M795,14618 L925,14618 L925,14646 L795,14646 L795,14618 Z" /></clipPath>
<path d="M797,14644 L922,14644 Z M797,14644" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1717)" />
<text x="807" y="14635" style="font:10px Open Sans">需要维护的元数据</text>
<clipPath id="clip1718"><path d="M942,14587 L1200,14587 L1200,14617 L942,14617 L942,14587 Z" /></clipPath>
<path d="M944,14615 L1197,14615 Z M944,14615" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1718)" />
<text x="954" y="14604" style="font:10px Open Sans">文件及chunk命名空间（持久化到磁盘）</text>
<clipPath id="clip1719"><path d="M942,14616 L1213,14616 L1213,14646 L942,14646 L942,14616 Z" /></clipPath>
<path d="M944,14644 L1210,14644 Z M944,14644" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1719)" />
<text x="954" y="14633" style="font:10px Open Sans">文件到chunk之间的映射（持久化到磁盘）</text>
<clipPath id="clip1720"><path d="M942,14645 L1215,14645 L1215,14675 L942,14675 L942,14645 Z" /></clipPath>
<path d="M944,14673 L1212,14673 Z M944,14673" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1720)" />
<text x="954" y="14662" style="font:10px Open Sans">chunk副本的位置信息（通过CS汇报获取）</text>
<clipPath id="clip1721"><path d="M796,14675 L1280,14675 L1280,14848 L796,14848 Z M797,14750 L797,14773 L870,14773 L870,14750 Z M797,14750 Z M797,14750" /></clipPath>
<path d="M883,14774 L883,14706 C883,14703.7929688 884.7929688,14702 887,14702 L892,14702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1721)" />
<clipPath id="clip1722"><path d="M796,14675 L1280,14675 L1280,14848 L796,14848 Z M797,14750 L797,14773 L870,14773 L870,14750 Z M797,14750 Z M797,14750" /></clipPath>
<path d="M883,14774 L883,14735 C883,14732.7929688 884.7929688,14731 887,14731 L892,14731" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1722)" />
<clipPath id="clip1723"><path d="M796,14675 L1280,14675 L1280,14848 L796,14848 Z M797,14750 L797,14773 L870,14773 L870,14750 Z M797,14750 Z M797,14750" /></clipPath>
<path d="M883,14774 L883,14764 C883,14761.7929688 884.7929688,14760 887,14760 L892,14760" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1723)" />
<clipPath id="clip1724"><path d="M796,14675 L1280,14675 L1280,14848 L796,14848 Z M797,14750 L797,14773 L870,14773 L870,14750 Z M797,14750 Z M797,14750" /></clipPath>
<path d="M883,14774 L883,14785 C883,14787.2070313 884.7929688,14789 887,14789 L892,14789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1724)" />
<clipPath id="clip1725"><path d="M796,14675 L1280,14675 L1280,14848 L796,14848 Z M797,14750 L797,14773 L870,14773 L870,14750 Z M797,14750 Z M797,14750" /></clipPath>
<path d="M883,14774 L883,14814 C883,14816.2070313 884.7929688,14818 887,14818 L892,14818" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1725)" />
<clipPath id="clip1726"><path d="M796,14675 L1280,14675 L1280,14848 L796,14848 Z M797,14750 L797,14773 L870,14773 L870,14750 Z M797,14750 Z M797,14750" /></clipPath>
<path d="M883,14774 L883,14843 C883,14845.2070313 884.7929688,14847 887,14847 L892,14847" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1726)" />
<clipPath id="clip1727"><path d="M795,14674 L1281,14674 L1281,14849 L795,14849 L795,14674 Z" /></clipPath>
<path d="M870,14774 L883,14774" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1727)" />
<clipPath id="clip1728"><path d="M795,14748 L873,14748 L873,14776 L795,14776 L795,14748 Z" /></clipPath>
<path d="M797,14774 L870,14774 Z M797,14774" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1728)" />
<text x="807" y="14765" style="font:10px Open Sans">内存估算</text>
<clipPath id="clip1729"><path d="M890,14674 L1281,14674 L1281,14704 L890,14704 L890,14674 Z" /></clipPath>
<path d="M892,14702 L1278,14702 Z M892,14702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1729)" />
<text x="902" y="14691" style="font:10px Open Sans">每个chunk为64MB，默认存储3份，每个chunk元数据小于64B</text>
<clipPath id="clip1730"><path d="M890,14703 L1263,14703 L1263,14733 L890,14733 L890,14703 Z" /></clipPath>
<path d="M892,14731 L1260,14731 Z M892,14731" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1730)" />
<text x="902" y="14720" style="font:10px Open Sans">1PB数据的chunk元信息大小不超过1PB×3/64MB×64=3GB</text>
<clipPath id="clip1731"><path d="M890,14732 L1114,14732 L1114,14762 L890,14762 L890,14732 Z" /></clipPath>
<path d="M892,14760 L1111,14760 Z M892,14760" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1731)" />
<text x="902" y="14749" style="font:10px Open Sans">Master会对命令空间进行存储压缩</text>
<clipPath id="clip1732"><path d="M890,14761 L1270,14761 L1270,14791 L890,14791 L890,14761 Z" /></clipPath>
<path d="M892,14789 L1267,14789 Z M892,14789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1732)" />
<text x="902" y="14778" style="font:10px Open Sans">压缩存储后每个文件在文件命令空间的元数据也不超过64字节</text>
<clipPath id="clip1733"><path d="M890,14790 L1239,14790 L1239,14820 L890,14820 L890,14790 Z" /></clipPath>
<path d="M892,14818 L1236,14818 Z M892,14818" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1733)" />
<text x="902" y="14807" style="font:10px Open Sans">GFS中一般都是大文件，因此文件命名空间占用内存不多</text>
<clipPath id="clip1734"><path d="M890,14819 L1190,14819 L1190,14849 L890,14849 L890,14819 Z" /></clipPath>
<path d="M892,14847 L1187,14847 Z M892,14847" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1734)" />
<text x="902" y="14836" style="font:10px Open Sans">总之，Master内存容量不会成为GFS的系统瓶颈</text>
<clipPath id="clip1735"><path d="M701,14849 L1753,14849 L1753,15190 L701,15190 Z M702,14954 L702,14977 L775,14977 L775,14954 Z M702,14954 Z M702,14954" /></clipPath>
<path d="M788,14978 L788,14892 C788,14889.7929688 789.7929688,14888 792,14888 L797,14888" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1735)" />
<clipPath id="clip1736"><path d="M701,14849 L1753,14849 L1753,15190 L701,15190 Z M702,14954 L702,14977 L775,14977 L775,14954 Z M702,14954 Z M702,14954" /></clipPath>
<path d="M788,14978 L788,15064 C788,15066.2070313 789.7929688,15068 792,15068 L797,15068" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1736)" />
<clipPath id="clip1737"><path d="M700,14848 L1754,14848 L1754,15191 L700,15191 L700,14848 Z" /></clipPath>
<path d="M775,14978 L788,14978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1737)" />
<clipPath id="clip1738"><path d="M700,14952 L778,14952 L778,14980 L700,14980 L700,14952 Z" /></clipPath>
<path d="M702,14978 L775,14978 Z M702,14978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1738)" />
<text x="712" y="14969" style="font:10px Open Sans">负载均衡</text>
<clipPath id="clip1739"><path d="M796,14849 L1407,14849 L1407,14904 L796,14904 Z M797,14864 L797,14887 L1000,14887 L1000,14864 Z M797,14864 Z M797,14864" /></clipPath>
<path d="M1013,14888 L1013,14878 C1013,14875.7929688 1014.7929688,14874 1017,14874 L1022,14874" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1739)" />
<clipPath id="clip1740"><path d="M796,14849 L1407,14849 L1407,14904 L796,14904 Z M797,14864 L797,14887 L1000,14887 L1000,14864 Z M797,14864 Z M797,14864" /></clipPath>
<path d="M1013,14888 L1013,14899 C1013,14901.2070313 1014.7929688,14903 1017,14903 L1022,14903" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1740)" />
<clipPath id="clip1741"><path d="M795,14848 L1408,14848 L1408,14905 L795,14905 L795,14848 Z" /></clipPath>
<path d="M1000,14888 L1013,14888" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1741)" />
<clipPath id="clip1742"><path d="M795,14862 L1003,14862 L1003,14890 L795,14890 L795,14862 Z" /></clipPath>
<path d="M797,14888 L1000,14888 Z M797,14888" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1742)" />
<text x="807" y="14879" style="font:10px Open Sans">副本的分布策略需要考虑的因素</text>
<clipPath id="clip1743"><path d="M1020,14848 L1254,14848 L1254,14876 L1020,14876 L1020,14848 Z" /></clipPath>
<path d="M1022,14874 L1251,14874 Z M1022,14874" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1743)" />
<text x="1032" y="14865" style="font:10px Open Sans">网络拓扑、机架分布、磁盘利用率等</text>
<clipPath id="clip1744"><path d="M1020,14875 L1408,14875 L1408,14905 L1020,14905 L1020,14875 Z" /></clipPath>
<path d="M1022,14903 L1405,14903 Z M1022,14903" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1744)" />
<text x="1032" y="14892" style="font:10px Open Sans">为提高可用性，避免将一个chunk的所有副本存放在同一机架内</text>
<clipPath id="clip1745"><path d="M796,14905 L1753,14905 L1753,15190 L796,15190 Z M797,15044 L797,15067 L935,15067 L935,15044 Z M797,15044 Z M797,15044" /></clipPath>
<path d="M948,15068 L948,14965 C948,14962.7929688 949.7929688,14961 952,14961 L957,14961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1745)" />
<clipPath id="clip1746"><path d="M796,14905 L1753,14905 L1753,15190 L796,15190 Z M797,15044 L797,15067 L935,15067 L935,15044 Z M797,15044 Z M797,15044" /></clipPath>
<path d="M948,15068 L948,15093 C948,15095.2070313 949.7929688,15097 952,15097 L957,15097" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1746)" />
<clipPath id="clip1747"><path d="M796,14905 L1753,14905 L1753,15190 L796,15190 Z M797,15044 L797,15067 L935,15067 L935,15044 Z M797,15044 Z M797,15044" /></clipPath>
<path d="M948,15068 L948,15171 C948,15173.2070313 949.7929688,15175 952,15175 L957,15175" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1747)" />
<clipPath id="clip1748"><path d="M795,14904 L1754,14904 L1754,15191 L795,15191 L795,14904 Z" /></clipPath>
<path d="M935,15068 L948,15068" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1748)" />
<clipPath id="clip1749"><path d="M795,15042 L938,15042 L938,15070 L795,15070 L795,15042 Z" /></clipPath>
<path d="M797,15068 L935,15068 Z M797,15068" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1749)" />
<text x="807" y="15059" style="font:10px Open Sans">创建副本的三种情况</text>
<clipPath id="clip1750"><path d="M956,14905 L1753,14905 L1753,14991 L956,14991 Z M957,14935 L957,14960 L1041,14960 L1041,14935 Z M957,14935 Z M957,14935" /></clipPath>
<path d="M1054,14961 C1054,14961 1055.7929688,14961 1058,14961 L1063,14961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1750)" />
<clipPath id="clip1751"><path d="M955,14904 L1754,14904 L1754,14992 L955,14992 L955,14904 Z" /></clipPath>
<path d="M1041,14961 L1054,14961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1751)" />
<clipPath id="clip1752"><path d="M955,14933 L1044,14933 L1044,14963 L955,14963 L955,14933 Z" /></clipPath>
<path d="M957,14961 L1041,14961 Z M957,14961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1752)" />
<text x="967" y="14950" style="font:10px Open Sans">chunk创建</text>
<clipPath id="clip1753"><path d="M1062,14905 L1753,14905 L1753,14991 L1062,14991 Z M1063,14935 L1063,14960 L1280,14960 L1280,14935 Z M1063,14935 Z M1063,14935" /></clipPath>
<path d="M1293,14961 L1293,14936 C1293,14933.7929688 1294.7929688,14932 1297,14932 L1302,14932" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1753)" />
<clipPath id="clip1754"><path d="M1062,14905 L1753,14905 L1753,14991 L1062,14991 Z M1063,14935 L1063,14960 L1280,14960 L1280,14935 Z M1063,14935 Z M1063,14935" /></clipPath>
<path d="M1293,14961 C1293,14961 1294.7929688,14961 1297,14961 L1302,14961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1754)" />
<clipPath id="clip1755"><path d="M1062,14905 L1753,14905 L1753,14991 L1062,14991 Z M1063,14935 L1063,14960 L1280,14960 L1280,14935 Z M1063,14935 Z M1063,14935" /></clipPath>
<path d="M1293,14961 L1293,14986 C1293,14988.2070313 1294.7929688,14990 1297,14990 L1302,14990" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1755)" />
<clipPath id="clip1756"><path d="M1061,14904 L1754,14904 L1754,14992 L1061,14992 L1061,14904 Z" /></clipPath>
<path d="M1280,14961 L1293,14961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1756)" />
<clipPath id="clip1757"><path d="M1061,14933 L1283,14933 L1283,14963 L1061,14963 L1061,14933 Z" /></clipPath>
<path d="M1063,14961 L1280,14961 Z M1063,14961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1757)" />
<text x="1073" y="14950" style="font:10px Open Sans">Master选择chunk副本的初始位置</text>
<clipPath id="clip1758"><path d="M1300,14904 L1562,14904 L1562,14934 L1300,14934 L1300,14904 Z" /></clipPath>
<path d="M1302,14932 L1559,14932 Z M1302,14932" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1758)" />
<text x="1312" y="14921" style="font:10px Open Sans">新副本所在的CS磁盘利用率低于平均水平</text>
<clipPath id="clip1759"><path d="M1300,14933 L1754,14933 L1754,14963 L1300,14963 L1300,14933 Z" /></clipPath>
<path d="M1302,14961 L1751,14961 Z M1302,14961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1759)" />
<text x="1312" y="14950" style="font:10px Open Sans">限制每个CS”最近“创建的数量（避免空CS上线后大量chunk瞬间迁移过来）</text>
<clipPath id="clip1760"><path d="M1300,14962 L1558,14962 L1558,14992 L1300,14992 L1300,14962 Z" /></clipPath>
<path d="M1302,14990 L1555,14990 Z M1302,14990" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1760)" />
<text x="1312" y="14979" style="font:10px Open Sans">每个chunk的所有副本不能在同一个机架</text>
<clipPath id="clip1761"><path d="M956,14992 L1533,14992 L1533,15134 L956,15134 Z M957,15071 L957,15096 L1146,15096 L1146,15071 Z M957,15071 Z M957,15071" /></clipPath>
<path d="M1159,15097 L1159,15065 C1159,15062.7929688 1160.7929688,15061 1163,15061 L1168,15061" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1761)" />
<clipPath id="clip1762"><path d="M956,14992 L1533,14992 L1533,15134 L956,15134 Z M957,15071 L957,15096 L1146,15096 L1146,15071 Z M957,15071 Z M957,15071" /></clipPath>
<path d="M1159,15097 L1159,15129 C1159,15131.2070313 1160.7929688,15133 1163,15133 L1168,15133" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1762)" />
<clipPath id="clip1763"><path d="M955,14991 L1534,14991 L1534,15135 L955,15135 L955,14991 Z" /></clipPath>
<path d="M1146,15097 L1159,15097" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1763)" />
<clipPath id="clip1764"><path d="M955,15069 L1149,15069 L1149,15099 L955,15099 L955,15069 Z" /></clipPath>
<path d="M957,15097 L1146,15097 Z M957,15097" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1764)" />
<text x="967" y="15086" style="font:10px Open Sans">chunk复制（re-replication）</text>
<clipPath id="clip1765"><path d="M1167,14992 L1533,14992 L1533,15105 L1167,15105 Z M1168,15035 L1168,15060 L1356,15060 L1356,15035 Z M1168,15035 Z M1168,15035" /></clipPath>
<path d="M1369,15061 L1369,15023 C1369,15020.7929688 1370.7929688,15019 1373,15019 L1378,15019" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1765)" />
<clipPath id="clip1766"><path d="M1167,14992 L1533,14992 L1533,15105 L1167,15105 Z M1168,15035 L1168,15060 L1356,15060 L1356,15035 Z M1168,15035 Z M1168,15035" /></clipPath>
<path d="M1369,15061 L1369,15052 C1369,15049.7929688 1370.7929688,15048 1373,15048 L1378,15048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1766)" />
<clipPath id="clip1767"><path d="M1167,14992 L1533,14992 L1533,15105 L1167,15105 Z M1168,15035 L1168,15060 L1356,15060 L1356,15035 Z M1168,15035 Z M1168,15035" /></clipPath>
<path d="M1369,15061 L1369,15073 C1369,15075.2070313 1370.7929688,15077 1373,15077 L1378,15077" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1767)" />
<clipPath id="clip1768"><path d="M1167,14992 L1533,14992 L1533,15105 L1167,15105 Z M1168,15035 L1168,15060 L1356,15060 L1356,15035 Z M1168,15035 Z M1168,15035" /></clipPath>
<path d="M1369,15061 L1369,15100 C1369,15102.2070313 1370.7929688,15104 1373,15104 L1378,15104" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1768)" />
<clipPath id="clip1769"><path d="M1166,14991 L1534,14991 L1534,15106 L1166,15106 L1166,14991 Z" /></clipPath>
<path d="M1356,15061 L1369,15061" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1769)" />
<clipPath id="clip1770"><path d="M1166,15033 L1359,15033 L1359,15063 L1166,15063 L1166,15033 Z" /></clipPath>
<path d="M1168,15061 L1356,15061 Z M1168,15061" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1770)" />
<text x="1178" y="15050" style="font:10px Open Sans">chunk副本的数量小于一定值</text>
<clipPath id="clip1771"><path d="M1376,14991 L1443,14991 L1443,15021 L1376,15021 L1376,14991 Z" /></clipPath>
<path d="M1378,15019 L1440,15019 Z M1378,15019" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1771)" />
<text x="1388" y="15008" style="font:10px Open Sans">CS宕机</text>
<clipPath id="clip1772"><path d="M1376,15020 L1534,15020 L1534,15050 L1376,15050 L1376,15020 Z" /></clipPath>
<path d="M1378,15048 L1531,15048 Z M1378,15048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1772)" />
<text x="1388" y="15037" style="font:10px Open Sans">CS报告自己的副本损坏</text>
<clipPath id="clip1773"><path d="M1376,15049 L1469,15049 L1469,15079 L1376,15079 L1376,15049 Z" /></clipPath>
<path d="M1378,15077 L1466,15077 Z M1378,15077" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1773)" />
<text x="1388" y="15066" style="font:10px Open Sans">CS磁盘故障</text>
<clipPath id="clip1774"><path d="M1376,15078 L1519,15078 L1519,15106 L1376,15106 L1376,15078 Z" /></clipPath>
<path d="M1378,15104 L1516,15104 Z M1378,15104" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1774)" />
<text x="1388" y="15095" style="font:10px Open Sans">用户动态增加副本数</text>
<clipPath id="clip1775"><path d="M1166,15105 L1531,15105 L1531,15135 L1166,15135 L1166,15105 Z" /></clipPath>
<path d="M1168,15133 L1528,15133 Z M1168,15133" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1775)" />
<text x="1178" y="15122" style="font:10px Open Sans">每个chunk复制任务有个优先级，在Master中排队等待执行</text>
<clipPath id="clip1776"><path d="M956,15135 L1521,15135 L1521,15190 L956,15190 Z M957,15149 L957,15174 L1125,15174 L1125,15149 Z M957,15149 Z M957,15149" /></clipPath>
<path d="M1138,15175 L1138,15166 C1138,15163.7929688 1139.7929688,15162 1142,15162 L1147,15162" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1776)" />
<clipPath id="clip1777"><path d="M956,15135 L1521,15135 L1521,15190 L956,15190 Z M957,15149 L957,15174 L1125,15174 L1125,15149 Z M957,15149 Z M957,15149" /></clipPath>
<path d="M1138,15175 L1138,15185 C1138,15187.2070313 1139.7929688,15189 1142,15189 L1147,15189" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1777)" />
<clipPath id="clip1778"><path d="M955,15134 L1522,15134 L1522,15191 L955,15191 L955,15134 Z" /></clipPath>
<path d="M1125,15175 L1138,15175" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1778)" />
<clipPath id="clip1779"><path d="M955,15147 L1128,15147 L1128,15177 L955,15177 L955,15147 Z" /></clipPath>
<path d="M957,15175 L1125,15175 Z M957,15175" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1779)" />
<text x="967" y="15164" style="font:10px Open Sans">负载均衡（rebalancing）</text>
<clipPath id="clip1780"><path d="M1145,15134 L1356,15134 L1356,15164 L1145,15164 L1145,15134 Z" /></clipPath>
<path d="M1147,15162 L1353,15162 Z M1147,15162" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1780)" />
<text x="1157" y="15151" style="font:10px Open Sans">Master定期扫描副本的分布情况</text>
<clipPath id="clip1781"><path d="M1145,15163 L1522,15163 L1522,15191 L1145,15191 L1145,15163 Z" /></clipPath>
<path d="M1147,15189 L1519,15189 Z M1147,15189" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1781)" />
<text x="1157" y="15180" style="font:10px Open Sans">如果磁盘使用量或机器负载不均衡，将执行重新负载均衡操作</text>
<clipPath id="clip1782"><path d="M701,15191 L1358,15191 L1358,15420 L701,15420 Z M702,15293 L702,15316 L775,15316 L775,15293 Z M702,15293 Z M702,15293" /></clipPath>
<path d="M788,15317 L788,15263 C788,15260.7929688 789.7929688,15259 792,15259 L797,15259" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1782)" />
<clipPath id="clip1783"><path d="M701,15191 L1358,15191 L1358,15420 L701,15420 Z M702,15293 L702,15316 L775,15316 L775,15293 Z M702,15293 Z M702,15293" /></clipPath>
<path d="M788,15317 L788,15371 C788,15373.2070313 789.7929688,15375 792,15375 L797,15375" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1783)" />
<clipPath id="clip1784"><path d="M700,15190 L1359,15190 L1359,15421 L700,15421 L700,15190 Z" /></clipPath>
<path d="M775,15317 L788,15317" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1784)" />
<clipPath id="clip1785"><path d="M700,15291 L778,15291 L778,15319 L700,15319 L700,15291 Z" /></clipPath>
<path d="M702,15317 L775,15317 Z M702,15317" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1785)" />
<text x="712" y="15308" style="font:10px Open Sans">垃圾回收</text>
<clipPath id="clip1786"><path d="M796,15191 L1358,15191 L1358,15304 L796,15304 Z M797,15235 L797,15258 L870,15258 L870,15235 Z M797,15235 Z M797,15235" /></clipPath>
<path d="M883,15259 L883,15220 C883,15217.7929688 884.7929688,15216 887,15216 L892,15216" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1786)" />
<clipPath id="clip1787"><path d="M796,15191 L1358,15191 L1358,15304 L796,15304 Z M797,15235 L797,15258 L870,15258 L870,15235 Z M797,15235 Z M797,15235" /></clipPath>
<path d="M883,15259 L883,15249 C883,15246.7929688 884.7929688,15245 887,15245 L892,15245" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1787)" />
<clipPath id="clip1788"><path d="M796,15191 L1358,15191 L1358,15304 L796,15304 Z M797,15235 L797,15258 L870,15258 L870,15235 Z M797,15235 Z M797,15235" /></clipPath>
<path d="M883,15259 L883,15270 C883,15272.2070313 884.7929688,15274 887,15274 L892,15274" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1788)" />
<clipPath id="clip1789"><path d="M796,15191 L1358,15191 L1358,15304 L796,15304 Z M797,15235 L797,15258 L870,15258 L870,15235 Z M797,15235 Z M797,15235" /></clipPath>
<path d="M883,15259 L883,15299 C883,15301.2070313 884.7929688,15303 887,15303 L892,15303" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1789)" />
<clipPath id="clip1790"><path d="M795,15190 L1359,15190 L1359,15305 L795,15305 L795,15190 Z" /></clipPath>
<path d="M870,15259 L883,15259" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1790)" />
<clipPath id="clip1791"><path d="M795,15233 L873,15233 L873,15261 L795,15261 L795,15233 Z" /></clipPath>
<path d="M797,15259 L870,15259 Z M797,15259" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1791)" />
<text x="807" y="15250" style="font:10px Open Sans">延迟删除</text>
<clipPath id="clip1792"><path d="M890,15190 L1358,15190 L1358,15218 L890,15218 L890,15190 Z" /></clipPath>
<path d="M892,15216 L1355,15216 Z M892,15216" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1792)" />
<text x="902" y="15207" style="font:10px Open Sans">删除文件后在元数据中将文件改名为一个隐藏的名字，并包含一个删除时间戳</text>
<clipPath id="clip1793"><path d="M890,15217 L1335,15217 L1335,15247 L890,15247 L890,15217 Z" /></clipPath>
<path d="M892,15245 L1332,15245 Z M892,15245" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1793)" />
<text x="902" y="15234" style="font:10px Open Sans">Master定时检查，发现文件删除超过一定时间则将他从内存元数据中删除</text>
<clipPath id="clip1794"><path d="M890,15246 L1272,15246 L1272,15276 L890,15276 L890,15246 Z" /></clipPath>
<path d="M892,15274 L1269,15274 Z M892,15274" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1794)" />
<text x="902" y="15263" style="font:10px Open Sans">后续CS与Master的心跳消息中，每个CS汇报自己的chunk集合</text>
<clipPath id="clip1795"><path d="M890,15275 L1359,15275 L1359,15305 L890,15305 L890,15275 Z" /></clipPath>
<path d="M892,15303 L1356,15303 Z M892,15303" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1795)" />
<text x="902" y="15292" style="font:10px Open Sans">Master会回复在元数据中已不存在的chunk，这时CS会释放这些chunk的副本</text>
<clipPath id="clip1796"><path d="M796,15305 L1204,15305 L1204,15420 L796,15420 Z M797,15351 L797,15374 L870,15374 L870,15351 Z M797,15351 Z M797,15351" /></clipPath>
<path d="M883,15375 L883,15336 C883,15333.7929688 884.7929688,15332 887,15332 L892,15332" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1796)" />
<clipPath id="clip1797"><path d="M796,15305 L1204,15305 L1204,15420 L796,15420 Z M797,15351 L797,15374 L870,15374 L870,15351 Z M797,15351 Z M797,15351" /></clipPath>
<path d="M883,15375 L883,15365 C883,15362.7929688 884.7929688,15361 887,15361 L892,15361" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1797)" />
<clipPath id="clip1798"><path d="M796,15305 L1204,15305 L1204,15420 L796,15420 Z M797,15351 L797,15374 L870,15374 L870,15351 Z M797,15351 Z M797,15351" /></clipPath>
<path d="M883,15375 L883,15386 C883,15388.2070313 884.7929688,15390 887,15390 L892,15390" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1798)" />
<clipPath id="clip1799"><path d="M796,15305 L1204,15305 L1204,15420 L796,15420 Z M797,15351 L797,15374 L870,15374 L870,15351 Z M797,15351 Z M797,15351" /></clipPath>
<path d="M883,15375 L883,15415 C883,15417.2070313 884.7929688,15419 887,15419 L892,15419" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1799)" />
<clipPath id="clip1800"><path d="M795,15304 L1205,15304 L1205,15421 L795,15421 L795,15304 Z" /></clipPath>
<path d="M870,15375 L883,15375" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1800)" />
<clipPath id="clip1801"><path d="M795,15349 L873,15349 L873,15377 L795,15377 L795,15349 Z" /></clipPath>
<path d="M797,15375 L870,15375 Z M797,15375" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1801)" />
<text x="807" y="15366" style="font:10px Open Sans">副本失效</text>
<clipPath id="clip1802"><path d="M890,15304 L1163,15304 L1163,15334 L890,15334 L890,15304 Z" /></clipPath>
<path d="M892,15332 L1160,15332 Z M892,15332" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1802)" />
<text x="902" y="15321" style="font:10px Open Sans">CS失效期间丢失了对chunk的修改操作导致</text>
<clipPath id="clip1803"><path d="M890,15333 L1096,15333 L1096,15363 L890,15363 L890,15333 Z" /></clipPath>
<path d="M892,15361 L1093,15361 Z M892,15361" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1803)" />
<text x="902" y="15350" style="font:10px Open Sans">系统维护了每个chunk的版本号</text>
<clipPath id="clip1804"><path d="M890,15362 L1135,15362 L1135,15392 L890,15392 L890,15362 Z" /></clipPath>
<path d="M892,15390 L1132,15390 Z M892,15390" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1804)" />
<text x="902" y="15379" style="font:10px Open Sans">过期的chunk可以通过版本号检测出来</text>
<clipPath id="clip1805"><path d="M890,15391 L1205,15391 L1205,15421 L890,15421 L890,15391 Z" /></clipPath>
<path d="M892,15419 L1202,15419 Z M892,15419" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1805)" />
<text x="902" y="15408" style="font:10px Open Sans">Master通过正常的垃圾回收机制来删除过期的副本</text>
<clipPath id="clip1806"><path d="M701,15421 L1433,15421 L1433,15623 L701,15623 Z M702,15496 L702,15519 L749,15519 L749,15496 Z M702,15496 Z M702,15496" /></clipPath>
<path d="M762,15520 L762,15452 C762,15449.7929688 763.7929688,15448 766,15448 L771,15448" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1806)" />
<clipPath id="clip1807"><path d="M701,15421 L1433,15421 L1433,15623 L701,15623 Z M702,15496 L702,15519 L749,15519 L749,15496 Z M702,15496 Z M702,15496" /></clipPath>
<path d="M762,15520 L762,15510 C762,15507.7929688 763.7929688,15506 766,15506 L771,15506" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1807)" />
<clipPath id="clip1808"><path d="M701,15421 L1433,15421 L1433,15623 L701,15623 Z M702,15496 L702,15519 L749,15519 L749,15496 Z M702,15496 Z M702,15496" /></clipPath>
<path d="M762,15520 L762,15589 C762,15591.2070313 763.7929688,15593 766,15593 L771,15593" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1808)" />
<clipPath id="clip1809"><path d="M700,15420 L1434,15420 L1434,15624 L700,15624 L700,15420 Z" /></clipPath>
<path d="M749,15520 L762,15520" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1809)" />
<clipPath id="clip1810"><path d="M700,15494 L752,15494 L752,15522 L700,15522 L700,15494 Z" /></clipPath>
<path d="M702,15520 L749,15520 Z M702,15520" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1810)" />
<text x="712" y="15511" style="font:10px Open Sans">快照</text>
<clipPath id="clip1811"><path d="M769,15420 L1264,15420 L1264,15450 L769,15450 L769,15420 Z" /></clipPath>
<path d="M771,15448 L1261,15448 Z M771,15448" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1811)" />
<text x="781" y="15437" style="font:10px Open Sans">snapshot：生成某个时刻时刻源文件/目录的一个瞬间状态存放于目标文件/目录中</text>
<clipPath id="clip1812"><path d="M770,15450 L1433,15450 L1433,15536 L770,15536 Z M771,15480 L771,15505 L989,15505 L989,15480 Z M771,15480 Z M771,15480" /></clipPath>
<path d="M1002,15506 L1002,15481 C1002,15478.7929688 1003.7929688,15477 1006,15477 L1011,15477" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1812)" />
<clipPath id="clip1813"><path d="M770,15450 L1433,15450 L1433,15536 L770,15536 Z M771,15480 L771,15505 L989,15505 L989,15480 Z M771,15480 Z M771,15480" /></clipPath>
<path d="M1002,15506 C1002,15506 1003.7929688,15506 1006,15506 L1011,15506" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1813)" />
<clipPath id="clip1814"><path d="M770,15450 L1433,15450 L1433,15536 L770,15536 Z M771,15480 L771,15505 L989,15505 L989,15480 Z M771,15480 Z M771,15480" /></clipPath>
<path d="M1002,15506 L1002,15531 C1002,15533.2070313 1003.7929688,15535 1006,15535 L1011,15535" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1814)" />
<clipPath id="clip1815"><path d="M769,15449 L1434,15449 L1434,15537 L769,15537 L769,15449 Z" /></clipPath>
<path d="M989,15506 L1002,15506" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1815)" />
<clipPath id="clip1816"><path d="M769,15478 L992,15478 L992,15508 L769,15508 L769,15478 Z" /></clipPath>
<path d="M771,15506 L989,15506 Z M771,15506" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1816)" />
<text x="781" y="15495" style="font:10px Open Sans">GFS使用标准的COW机制生成快照</text>
<clipPath id="clip1817"><path d="M1009,15449 L1421,15449 L1421,15479 L1009,15479 L1009,15449 Z" /></clipPath>
<path d="M1011,15477 L1418,15477 Z M1011,15477" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1817)" />
<text x="1021" y="15466" style="font:10px Open Sans">快照只是增加chunk的引用计数，表示这个chunk被快照文件引用了</text>
<clipPath id="clip1818"><path d="M1009,15478 L1434,15478 L1434,15508 L1009,15508 L1009,15478 Z" /></clipPath>
<path d="M1011,15506 L1431,15506 Z M1011,15506" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1818)" />
<text x="1021" y="15495" style="font:10px Open Sans">客户端修改chunk时，才需要将在CS中拷贝chunk数据生成新的chunk</text>
<clipPath id="clip1819"><path d="M1009,15507 L1254,15507 L1254,15537 L1009,15537 L1009,15507 Z" /></clipPath>
<path d="M1011,15535 L1251,15535 Z M1011,15535" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1819)" />
<text x="1021" y="15524" style="font:10px Open Sans">后续的修改操作落在新生成的chunk上</text>
<clipPath id="clip1820"><path d="M770,15537 L1381,15537 L1381,15623 L770,15623 Z M771,15569 L771,15592 L948,15592 L948,15569 Z M771,15569 Z M771,15569" /></clipPath>
<path d="M961,15593 L961,15568 C961,15565.7929688 962.7929688,15564 965,15564 L970,15564" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1820)" />
<clipPath id="clip1821"><path d="M770,15537 L1381,15537 L1381,15623 L770,15623 Z M771,15569 L771,15592 L948,15592 L948,15569 Z M771,15569 Z M771,15569" /></clipPath>
<path d="M961,15593 C961,15593 962.7929688,15593 965,15593 L970,15593" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1821)" />
<clipPath id="clip1822"><path d="M770,15537 L1381,15537 L1381,15623 L770,15623 Z M771,15569 L771,15592 L948,15592 L948,15569 Z M771,15569 Z M771,15569" /></clipPath>
<path d="M961,15593 L961,15618 C961,15620.2070313 962.7929688,15622 965,15622 L970,15622" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1822)" />
<clipPath id="clip1823"><path d="M769,15536 L1382,15536 L1382,15624 L769,15624 L769,15536 Z" /></clipPath>
<path d="M948,15593 L961,15593" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1823)" />
<clipPath id="clip1824"><path d="M769,15567 L951,15567 L951,15595 L769,15595 L769,15567 Z" /></clipPath>
<path d="M771,15593 L948,15593 Z M771,15593" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1824)" />
<text x="781" y="15584" style="font:10px Open Sans">对文件执行快照的大致步骤</text>
<clipPath id="clip1825"><path d="M968,15536 L1382,15536 L1382,15566 L968,15566 L968,15536 Z" /></clipPath>
<path d="M970,15564 L1379,15564 Z M970,15564" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1825)" />
<text x="980" y="15553" style="font:10px Open Sans">通过租约机制收回对文件的每个chunk写权限，停止对文件的写服务</text>
<clipPath id="clip1826"><path d="M968,15565 L1283,15565 L1283,15595 L968,15595 L968,15565 Z" /></clipPath>
<path d="M970,15593 L1280,15593 Z M970,15593" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1826)" />
<text x="980" y="15582" style="font:10px Open Sans">Master拷贝文件名等元数据生成一个新的快照文件</text>
<clipPath id="clip1827"><path d="M968,15594 L1252,15594 L1252,15624 L968,15624 L968,15594 Z" /></clipPath>
<path d="M970,15622 L1249,15622 Z M970,15622" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1827)" />
<text x="980" y="15611" style="font:10px Open Sans">对执行快照的文件的所有chunk增加引用计数</text>
<clipPath id="clip1828"><path d="M590,15624 L1233,15624 L1233,15768 L590,15768 Z M591,15683 L591,15708 L715,15708 L715,15683 Z M591,15683 Z M591,15683" /></clipPath>
<path d="M728,15709 L728,15655 C728,15652.7929688 729.7929688,15651 732,15651 L737,15651" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1828)" />
<clipPath id="clip1829"><path d="M590,15624 L1233,15624 L1233,15768 L590,15768 Z M591,15683 L591,15708 L715,15708 L715,15683 Z M591,15683 Z M591,15683" /></clipPath>
<path d="M728,15709 L728,15684 C728,15681.7929688 729.7929688,15680 732,15680 L737,15680" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1829)" />
<clipPath id="clip1830"><path d="M590,15624 L1233,15624 L1233,15768 L590,15768 Z M591,15683 L591,15708 L715,15708 L715,15683 Z M591,15683 Z M591,15683" /></clipPath>
<path d="M728,15709 C728,15709 729.7929688,15709 732,15709 L737,15709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1830)" />
<clipPath id="clip1831"><path d="M590,15624 L1233,15624 L1233,15768 L590,15768 Z M591,15683 L591,15708 L715,15708 L715,15683 Z M591,15683 Z M591,15683" /></clipPath>
<path d="M728,15709 L728,15734 C728,15736.2070313 729.7929688,15738 732,15738 L737,15738" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1831)" />
<clipPath id="clip1832"><path d="M590,15624 L1233,15624 L1233,15768 L590,15768 Z M591,15683 L591,15708 L715,15708 L715,15683 Z M591,15683 Z M591,15683" /></clipPath>
<path d="M728,15709 L728,15763 C728,15765.2070313 729.7929688,15767 732,15767 L737,15767" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1832)" />
<clipPath id="clip1833"><path d="M589,15623 L1234,15623 L1234,15769 L589,15769 L589,15623 Z" /></clipPath>
<path d="M715,15709 L728,15709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1833)" />
<clipPath id="clip1834"><path d="M589,15681 L718,15681 L718,15711 L589,15711 L589,15681 Z" /></clipPath>
<path d="M591,15709 L715,15709 Z M591,15709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1834)" />
<text x="601" y="15698" style="font:10px Open Sans">ChunkServer设计</text>
<clipPath id="clip1835"><path d="M735,15623 L941,15623 L941,15653 L735,15653 L735,15623 Z" /></clipPath>
<path d="M737,15651 L938,15651 Z M737,15651" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1835)" />
<text x="747" y="15640" style="font:10px Open Sans">CS管理大小约为64MB的chunk</text>
<clipPath id="clip1836"><path d="M735,15652 L1110,15652 L1110,15682 L735,15682 L735,15652 Z" /></clipPath>
<path d="M737,15680 L1107,15680 Z M737,15680" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1836)" />
<text x="747" y="15669" style="font:10px Open Sans">存储的时候需要保证chunk尽可能均匀的分布在不同的磁盘中</text>
<clipPath id="clip1837"><path d="M735,15681 L993,15681 L993,15711 L735,15711 L735,15681 Z" /></clipPath>
<path d="M737,15709 L990,15709 Z M737,15709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1837)" />
<text x="747" y="15698" style="font:10px Open Sans">需要考虑磁盘空间、最近新建chunk数等</text>
<clipPath id="clip1838"><path d="M735,15710 L1234,15710 L1234,15740 L735,15740 L735,15710 Z" /></clipPath>
<path d="M737,15738 L1231,15738 Z M737,15738" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1838)" />
<text x="747" y="15727" style="font:10px Open Sans">Linux删除64MB文件较慢且没必要，删除时仅移至磁盘的回收站，新建的时候重用</text>
<clipPath id="clip1839"><path d="M735,15739 L1218,15739 L1218,15769 L735,15769 L735,15739 Z" /></clipPath>
<path d="M737,15767 L1215,15767 Z M737,15767" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1839)" />
<text x="747" y="15756" style="font:10px Open Sans">CS是个磁盘和网络密集型应用，为发挥机器最大性能需将磁盘和网络操作异步化</text>
<clipPath id="clip1840"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,15800 C651,15797.7929688 652.7929688,15796 655,15796 L660,15796" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1840)" />
<clipPath id="clip1841"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,15827 C651,15824.7929688 652.7929688,15823 655,15823 L660,15823" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1841)" />
<clipPath id="clip1842"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,15856 C651,15853.7929688 652.7929688,15852 655,15852 L660,15852" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1842)" />
<clipPath id="clip1843"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,15883 C651,15880.7929688 652.7929688,15879 655,15879 L660,15879" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1843)" />
<clipPath id="clip1844"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,15910 C651,15907.7929688 652.7929688,15906 655,15906 L660,15906" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1844)" />
<clipPath id="clip1845"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,15939 C651,15936.7929688 652.7929688,15935 655,15935 L660,15935" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1845)" />
<clipPath id="clip1846"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,15960 C651,15962.2070313 652.7929688,15964 655,15964 L660,15964" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1846)" />
<clipPath id="clip1847"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,15989 C651,15991.2070313 652.7929688,15993 655,15993 L660,15993" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1847)" />
<clipPath id="clip1848"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,16016 C651,16018.2070313 652.7929688,16020 655,16020 L660,16020" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1848)" />
<clipPath id="clip1849"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,16043 C651,16045.2070313 652.7929688,16047 655,16047 L660,16047" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1849)" />
<clipPath id="clip1850"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,16072 C651,16074.2070313 652.7929688,16076 655,16076 L660,16076" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1850)" />
<clipPath id="clip1851"><path d="M590,15769 L1154,15769 L1154,16106 L590,16106 Z M591,15926 L591,15949 L638,15949 L638,15926 Z M591,15926 Z M591,15926" /></clipPath>
<path d="M651,15950 L651,16101 C651,16103.2070313 652.7929688,16105 655,16105 L660,16105" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1851)" />
<clipPath id="clip1852"><path d="M589,15768 L1155,15768 L1155,16107 L589,16107 L589,15768 Z" /></clipPath>
<path d="M638,15950 L651,15950" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1852)" />
<clipPath id="clip1853"><path d="M589,15924 L641,15924 L641,15952 L589,15952 L589,15924 Z" /></clipPath>
<path d="M591,15950 L638,15950 Z M591,15950" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1853)" />
<text x="601" y="15941" style="font:10px Open Sans">讨论</text>
<clipPath id="clip1854"><path d="M658,15768 L812,15768 L812,15798 L658,15798 L658,15768 Z" /></clipPath>
<path d="M660,15796 L809,15796 Z M660,15796" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1854)" />
<text x="670" y="15785" style="font:10px Open Sans">GFS具有良好可扩展性</text>
<clipPath id="clip1855"><path d="M658,15797 L827,15797 L827,15825 L658,15825 L658,15797 Z" /></clipPath>
<path d="M660,15823 L824,15823 Z M660,15823" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1855)" />
<text x="670" y="15814" style="font:10px Open Sans">在软件层面进行故障检测</text>
<clipPath id="clip1856"><path d="M658,15824 L994,15824 L994,15854 L658,15854 L658,15824 Z" /></clipPath>
<path d="M660,15852 L991,15852 Z M660,15852" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1856)" />
<text x="670" y="15841" style="font:10px Open Sans">通过chunk复制操作将故障节点的服务迁移到新的节点</text>
<clipPath id="clip1857"><path d="M658,15853 L827,15853 L827,15881 L658,15881 L658,15853 Z" /></clipPath>
<path d="M660,15879 L824,15879 Z M660,15879" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1857)" />
<text x="670" y="15870" style="font:10px Open Sans">系统还支持负载均衡操作</text>
<clipPath id="clip1858"><path d="M658,15880 L1009,15880 L1009,15908 L658,15908 L658,15880 Z" /></clipPath>
<path d="M660,15906 L1006,15906 Z M660,15906" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1858)" />
<text x="670" y="15897" style="font:10px Open Sans">降低了底层硬件的要求，可采用廉价的错误率较高的硬件</text>
<clipPath id="clip1859"><path d="M658,15907 L869,15907 L869,15937 L658,15937 L658,15907 Z" /></clipPath>
<path d="M660,15935 L866,15935 Z M660,15935" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1859)" />
<text x="670" y="15924" style="font:10px Open Sans">证明了单Master的设计是可行的</text>
<clipPath id="clip1860"><path d="M658,15936 L1056,15936 L1056,15966 L658,15966 L658,15936 Z" /></clipPath>
<path d="M660,15964 L1053,15964 Z M660,15964" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1860)" />
<text x="670" y="15953" style="font:10px Open Sans">基于性能考虑，GFS提出“记录至少原子性追加一次”的一致性模型</text>
<clipPath id="clip1861"><path d="M658,15965 L1025,15965 L1025,15995 L658,15995 L658,15965 Z" /></clipPath>
<path d="M660,15993 L1022,15993 Z M660,15993" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1861)" />
<text x="670" y="15982" style="font:10px Open Sans">通过租约将chunk的修改授权下放到CS以减少Master的负载</text>
<clipPath id="clip1862"><path d="M658,15994 L918,15994 L918,16022 L658,16022 L658,15994 Z" /></clipPath>
<path d="M660,16020 L915,16020 Z M660,16020" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1862)" />
<text x="670" y="16011" style="font:10px Open Sans">通过流水线方式复制多个副本以减少延时</text>
<clipPath id="clip1863"><path d="M658,16021 L788,16021 L788,16049 L658,16049 L658,16021 Z" /></clipPath>
<path d="M660,16047 L785,16047 Z M660,16047" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1863)" />
<text x="670" y="16038" style="font:10px Open Sans">追加流程复杂繁琐</text>
<clipPath id="clip1864"><path d="M658,16048 L1155,16048 L1155,16078 L658,16078 L658,16048 Z" /></clipPath>
<path d="M660,16076 L1152,16076 Z M660,16076" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1864)" />
<text x="670" y="16065" style="font:10px Open Sans">Master维护的元数据很多，需要设计高效的数据结构，占用内存小，且能支持快照</text>
<clipPath id="clip1865"><path d="M658,16077 L1086,16077 L1086,16107 L658,16107 L658,16077 Z" /></clipPath>
<path d="M660,16105 L1083,16105 Z M660,16105" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1865)" />
<text x="670" y="16094" style="font:10px Open Sans">支持写时复制的B树能满足Master的元数据管理需求，但实现相当复杂</text>
<clipPath id="clip1866"><path d="M523,16107 L1734,16107 L1734,18578 L523,18578 Z M524,17067 L524,17092 L625,17092 L625,17067 Z M524,17067 Z M524,17067" /></clipPath>
<path d="M638,17093 L638,16166 C638,16163.7929688 639.7929688,16162 642,16162 L647,16162" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1866)" />
<clipPath id="clip1867"><path d="M523,16107 L1734,16107 L1734,18578 L523,18578 Z M524,17067 L524,17092 L625,17092 L625,17067 Z M524,17067 Z M524,17067" /></clipPath>
<path d="M638,17093 L638,16811 C638,16808.7929688 639.7929688,16807 642,16807 L647,16807" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1867)" />
<clipPath id="clip1868"><path d="M523,16107 L1734,16107 L1734,18578 L523,18578 Z M524,17067 L524,17092 L625,17092 L625,17067 Z M524,17067 Z M524,17067" /></clipPath>
<path d="M638,17093 L638,18021 C638,18023.2070313 639.7929688,18025 642,18025 L647,18025" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1868)" />
<clipPath id="clip1869"><path d="M522,16106 L1735,16106 L1735,18579 L522,18579 L522,16106 Z" /></clipPath>
<path d="M625,17093 L638,17093" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1869)" />
<clipPath id="clip1870"><path d="M522,17065 L628,17065 L628,17095 L522,17095 L522,17065 Z" /></clipPath>
<path d="M524,17093 L625,17093 Z M524,17093" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1870)" />
<text x="534" y="17082" style="font:10px Open Sans">Blob文件系统</text>
<clipPath id="clip1871"><path d="M646,16107 L921,16107 L921,16191 L646,16191 Z M647,16138 L647,16161 L694,16161 L694,16138 Z M647,16138 Z M647,16138" /></clipPath>
<path d="M707,16162 L707,16138 C707,16135.7929688 708.7929688,16134 711,16134 L716,16134" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1871)" />
<clipPath id="clip1872"><path d="M646,16107 L921,16107 L921,16191 L646,16191 Z M647,16138 L647,16161 L694,16161 L694,16138 Z M647,16138 Z M647,16138" /></clipPath>
<path d="M707,16162 C707,16162.5507813 708.7929688,16163 711,16163 L716,16163" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1872)" />
<clipPath id="clip1873"><path d="M646,16107 L921,16107 L921,16191 L646,16191 Z M647,16138 L647,16161 L694,16161 L694,16138 Z M647,16138 Z M647,16138" /></clipPath>
<path d="M707,16162 L707,16186 C707,16188.2070313 708.7929688,16190 711,16190 L716,16190" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1873)" />
<clipPath id="clip1874"><path d="M645,16106 L922,16106 L922,16192 L645,16192 L645,16106 Z" /></clipPath>
<path d="M694,16162 L707,16162" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1874)" />
<clipPath id="clip1875"><path d="M645,16136 L697,16136 L697,16164 L645,16164 L645,16136 Z" /></clipPath>
<path d="M647,16162 L694,16162 Z M647,16162" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1875)" />
<text x="657" y="16153" style="font:10px Open Sans">特点</text>
<clipPath id="clip1876"><path d="M714,16106 L885,16106 L885,16136 L714,16136 L714,16106 Z" /></clipPath>
<path d="M716,16134 L882,16134 Z M716,16134" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1876)" />
<text x="726" y="16123" style="font:10px Open Sans">每个Blob数据一般比较大</text>
<clipPath id="clip1877"><path d="M714,16135 L872,16135 L872,16165 L714,16165 L714,16135 Z" /></clipPath>
<path d="M716,16163 L869,16163 Z M716,16163" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1877)" />
<text x="726" y="16152" style="font:10px Open Sans">多个Blob之间没有关联</text>
<clipPath id="clip1878"><path d="M714,16164 L922,16164 L922,16192 L714,16192 L714,16164 Z" /></clipPath>
<path d="M716,16190 L919,16190 Z M716,16190" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1878)" />
<text x="726" y="16181" style="font:10px Open Sans">数据写入后基本只读，很少更新</text>
<clipPath id="clip1879"><path d="M646,16192 L1623,16192 L1623,17468 L646,17468 Z M647,16781 L647,16806 L689,16806 L689,16781 Z M647,16781 Z M647,16781" /></clipPath>
<path d="M702,16807 L702,16237 C702,16234.7929688 703.7929688,16233 706,16233 L711,16233" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1879)" />
<clipPath id="clip1880"><path d="M646,16192 L1623,16192 L1623,17468 L646,17468 Z M647,16781 L647,16806 L689,16806 L689,16781 Z M647,16781 Z M647,16781" /></clipPath>
<path d="M702,16807 L702,16279 C702,16276.7929688 703.7929688,16275 706,16275 L711,16275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1880)" />
<clipPath id="clip1881"><path d="M646,16192 L1623,16192 L1623,17468 L646,17468 Z M647,16781 L647,16806 L689,16806 L689,16781 Z M647,16781 Z M647,16781" /></clipPath>
<path d="M702,16807 L702,16756 C702,16753.7929688 703.7929688,16752 706,16752 L711,16752" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1881)" />
<clipPath id="clip1882"><path d="M646,16192 L1623,16192 L1623,17468 L646,17468 Z M647,16781 L647,16806 L689,16806 L689,16781 Z M647,16781 Z M647,16781" /></clipPath>
<path d="M702,16807 L702,17377 C702,17379.2070313 703.7929688,17381 706,17381 L711,17381" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1882)" />
<clipPath id="clip1883"><path d="M645,16191 L1624,16191 L1624,17469 L645,17469 L645,16191 Z" /></clipPath>
<path d="M689,16807 L702,16807" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1883)" />
<clipPath id="clip1884"><path d="M645,16779 L692,16779 L692,16809 L645,16809 L645,16779 Z" /></clipPath>
<path d="M647,16807 L689,16807 Z M647,16807" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1884)" />
<text x="657" y="16796" style="font:10px Open Sans">TFS</text>
<clipPath id="clip1885"><path d="M710,16192 L1392,16192 L1392,16249 L710,16249 Z M711,16209 L711,16232 L823,16232 L823,16209 Z M711,16209 Z M711,16209" /></clipPath>
<path d="M836,16233 L836,16223 C836,16220.7929688 837.7929688,16219 840,16219 L845,16219" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1885)" />
<clipPath id="clip1886"><path d="M710,16192 L1392,16192 L1392,16249 L710,16249 Z M711,16209 L711,16232 L823,16232 L823,16209 Z M711,16209 Z M711,16209" /></clipPath>
<path d="M836,16233 L836,16244 C836,16246.2070313 837.7929688,16248 840,16248 L845,16248" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1886)" />
<clipPath id="clip1887"><path d="M709,16191 L1393,16191 L1393,16250 L709,16250 L709,16191 Z" /></clipPath>
<path d="M823,16233 L836,16233" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1887)" />
<clipPath id="clip1888"><path d="M709,16207 L826,16207 L826,16235 L709,16235 L709,16207 Z" /></clipPath>
<path d="M711,16233 L823,16233 Z M711,16233" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1888)" />
<text x="721" y="16224" style="font:10px Open Sans">需要考虑的问题</text>
<clipPath id="clip1889"><path d="M843,16191 L1239,16191 L1239,16221 L843,16221 L843,16191 Z" /></clipPath>
<path d="M845,16219 L1236,16219 Z M845,16219" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1889)" />
<text x="855" y="16208" style="font:10px Open Sans">Metadata信息存储（图片数量巨大，单机无法提供元数据服务）</text>
<clipPath id="clip1890"><path d="M843,16220 L1393,16220 L1393,16250 L843,16250 L843,16220 Z" /></clipPath>
<path d="M845,16248 L1390,16248 Z M845,16248" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1890)" />
<text x="855" y="16237" style="font:10px Open Sans">减少图片读取的IO次数（Linux读取文件三次磁盘IO：目录元数据、文件inode、文件内容）</text>
<clipPath id="clip1891"><path d="M710,16250 L1011,16250 L1011,16276 L710,16276 Z M711,16251 L711,16274 L758,16274 L758,16251 Z M711,16251 Z M711,16251" /></clipPath>
<path d="M771,16275 C771,16275 772.7929688,16275 775,16275 L780,16275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1891)" />
<clipPath id="clip1892"><path d="M709,16249 L1012,16249 L1012,16277 L709,16277 L709,16249 Z" /></clipPath>
<path d="M758,16275 L771,16275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1892)" />
<clipPath id="clip1893"><path d="M709,16249 L761,16249 L761,16277 L709,16277 L709,16249 Z" /></clipPath>
<path d="M711,16275 L758,16275 Z M711,16275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1893)" />
<text x="721" y="16266" style="font:10px Open Sans">思路</text>
<clipPath id="clip1894"><path d="M778,16249 L1012,16249 L1012,16277 L778,16277 L778,16249 Z" /></clipPath>
<path d="M780,16275 L1009,16275 Z M780,16275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1894)" />
<text x="790" y="16266" style="font:10px Open Sans">多个逻辑图片文件共享一个物理文件</text>
<clipPath id="clip1895"><path d="M710,16277 L1623,16277 L1623,17240 L710,17240 Z M711,16728 L711,16751 L784,16751 L784,16728 Z M711,16728 Z M711,16728" /></clipPath>
<path d="M797,16752 L797,16335 C797,16332.7929688 798.7929688,16331 801,16331 L806,16331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1895)" />
<clipPath id="clip1896"><path d="M710,16277 L1623,16277 L1623,17240 L710,17240 Z M711,16728 L711,16751 L784,16751 L784,16728 Z M711,16728 Z M711,16728" /></clipPath>
<path d="M797,16752 L797,16559 C797,16556.7929688 798.7929688,16555 801,16555 L806,16555" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1896)" />
<clipPath id="clip1897"><path d="M710,16277 L1623,16277 L1623,17240 L710,17240 Z M711,16728 L711,16751 L784,16751 L784,16728 Z M711,16728 Z M711,16728" /></clipPath>
<path d="M797,16752 L797,16862 C797,16864.2070313 798.7929688,16866 801,16866 L806,16866" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1897)" />
<clipPath id="clip1898"><path d="M710,16277 L1623,16277 L1623,17240 L710,17240 Z M711,16728 L711,16751 L784,16751 L784,16728 Z M711,16728 Z M711,16728" /></clipPath>
<path d="M797,16752 L797,17170 C797,17172.2070313 798.7929688,17174 801,17174 L806,17174" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1898)" />
<clipPath id="clip1899"><path d="M709,16276 L1624,16276 L1624,17241 L709,17241 L709,16276 Z" /></clipPath>
<path d="M784,16752 L797,16752" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1899)" />
<clipPath id="clip1900"><path d="M709,16726 L787,16726 L787,16754 L709,16754 L709,16726 Z" /></clipPath>
<path d="M711,16752 L784,16752 Z M711,16752" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1900)" />
<text x="721" y="16743" style="font:10px Open Sans">系统架构</text>
<clipPath id="clip1901"><path d="M805,16277 L1109,16277 L1109,16361 L805,16361 Z M806,16307 L806,16330 L853,16330 L853,16307 Z M806,16307 Z M806,16307" /></clipPath>
<path d="M866,16331 L866,16306 C866,16303.7929688 867.7929688,16302 870,16302 L875,16302" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1901)" />
<clipPath id="clip1902"><path d="M805,16277 L1109,16277 L1109,16361 L805,16361 Z M806,16307 L806,16330 L853,16330 L853,16307 Z M806,16307 Z M806,16307" /></clipPath>
<path d="M866,16331 C866,16331 867.7929688,16331 870,16331 L875,16331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1902)" />
<clipPath id="clip1903"><path d="M805,16277 L1109,16277 L1109,16361 L805,16361 Z M806,16307 L806,16330 L853,16330 L853,16307 Z M806,16307 Z M806,16307" /></clipPath>
<path d="M866,16331 L866,16356 C866,16358.2070313 867.7929688,16360 870,16360 L875,16360" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1903)" />
<clipPath id="clip1904"><path d="M804,16276 L1110,16276 L1110,16362 L804,16362 L804,16276 Z" /></clipPath>
<path d="M853,16331 L866,16331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1904)" />
<clipPath id="clip1905"><path d="M804,16305 L856,16305 L856,16333 L804,16333 L804,16305 Z" /></clipPath>
<path d="M806,16331 L853,16331 Z M806,16331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1905)" />
<text x="816" y="16322" style="font:10px Open Sans">特点</text>
<clipPath id="clip1906"><path d="M873,16276 L1029,16276 L1029,16304 L873,16304 L873,16276 Z" /></clipPath>
<path d="M875,16302 L1026,16302 Z M875,16302" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1906)" />
<text x="885" y="16293" style="font:10px Open Sans">内部不维护文件目录树</text>
<clipPath id="clip1907"><path d="M873,16303 L1110,16303 L1110,16333 L873,16333 L873,16303 Z" /></clipPath>
<path d="M875,16331 L1107,16331 Z M875,16331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1907)" />
<text x="885" y="16320" style="font:10px Open Sans">每个小文件使用一个64位的编号表示</text>
<clipPath id="clip1908"><path d="M873,16332 L972,16332 L972,16362 L873,16362 L873,16332 Z" /></clipPath>
<path d="M875,16360 L969,16360 Z M875,16360" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1908)" />
<text x="885" y="16349" style="font:10px Open Sans">TFS读多写少</text>
<clipPath id="clip1909"><path d="M805,16362 L1418,16362 L1418,16680 L805,16680 Z M806,16531 L806,16554 L879,16554 L879,16531 Z M806,16531 Z M806,16531" /></clipPath>
<path d="M892,16555 L892,16451 C892,16448.7929688 893.7929688,16447 896,16447 L901,16447" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1909)" />
<clipPath id="clip1910"><path d="M805,16362 L1418,16362 L1418,16680 L805,16680 Z M806,16531 L806,16554 L879,16554 L879,16531 Z M806,16531 Z M806,16531" /></clipPath>
<path d="M892,16555 L892,16573 C892,16575.2070313 893.7929688,16577 896,16577 L901,16577" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1910)" />
<clipPath id="clip1911"><path d="M805,16362 L1418,16362 L1418,16680 L805,16680 Z M806,16531 L806,16554 L879,16554 L879,16531 Z M806,16531 Z M806,16531" /></clipPath>
<path d="M892,16555 L892,16660 C892,16662.2070313 893.7929688,16664 896,16664 L901,16664" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1911)" />
<clipPath id="clip1912"><path d="M804,16361 L1419,16361 L1419,16681 L804,16681 L804,16361 Z" /></clipPath>
<path d="M879,16555 L892,16555" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1912)" />
<clipPath id="clip1913"><path d="M804,16529 L882,16529 L882,16557 L804,16557 L804,16529 Z" /></clipPath>
<path d="M806,16555 L879,16555 Z M806,16555" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1913)" />
<text x="816" y="16546" style="font:10px Open Sans">整体结构</text>
<clipPath id="clip1914"><path d="M900,16362 L1301,16362 L1301,16506 L900,16506 Z M901,16423 L901,16446 L948,16446 L948,16423 Z M901,16423 Z M901,16423" /></clipPath>
<path d="M961,16447 L961,16393 C961,16390.7929688 962.7929688,16389 965,16389 L970,16389" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1914)" />
<clipPath id="clip1915"><path d="M900,16362 L1301,16362 L1301,16506 L900,16506 Z M901,16423 L901,16446 L948,16446 L948,16423 Z M901,16423 Z M901,16423" /></clipPath>
<path d="M961,16447 L961,16422 C961,16419.7929688 962.7929688,16418 965,16418 L970,16418" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1915)" />
<clipPath id="clip1916"><path d="M900,16362 L1301,16362 L1301,16506 L900,16506 Z M901,16423 L901,16446 L948,16446 L948,16423 Z M901,16423 Z M901,16423" /></clipPath>
<path d="M961,16447 C961,16447 962.7929688,16447 965,16447 L970,16447" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1916)" />
<clipPath id="clip1917"><path d="M900,16362 L1301,16362 L1301,16506 L900,16506 Z M901,16423 L901,16446 L948,16446 L948,16423 Z M901,16423 Z M901,16423" /></clipPath>
<path d="M961,16447 L961,16472 C961,16474.2070313 962.7929688,16476 965,16476 L970,16476" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1917)" />
<clipPath id="clip1918"><path d="M900,16362 L1301,16362 L1301,16506 L900,16506 Z M901,16423 L901,16446 L948,16446 L948,16423 Z M901,16423 Z M901,16423" /></clipPath>
<path d="M961,16447 L961,16501 C961,16503.2070313 962.7929688,16505 965,16505 L970,16505" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1918)" />
<clipPath id="clip1919"><path d="M899,16361 L1302,16361 L1302,16507 L899,16507 L899,16361 Z" /></clipPath>
<path d="M948,16447 L961,16447" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1919)" />
<clipPath id="clip1920"><path d="M899,16421 L951,16421 L951,16449 L899,16449 L899,16421 Z" /></clipPath>
<path d="M901,16447 L948,16447 Z M901,16447" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1920)" />
<text x="911" y="16438" style="font:10px Open Sans">集群</text>
<clipPath id="clip1921"><path d="M968,16361 L1172,16361 L1172,16391 L968,16391 L968,16361 Z" /></clipPath>
<path d="M970,16389 L1169,16389 Z M970,16389" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1921)" />
<text x="980" y="16378" style="font:10px Open Sans">两个NameServer（一主一备）</text>
<clipPath id="clip1922"><path d="M968,16390 L1087,16390 L1087,16420 L968,16420 L968,16390 Z" /></clipPath>
<path d="M970,16418 L1084,16418 Z M970,16418" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1922)" />
<text x="980" y="16407" style="font:10px Open Sans">多个DataServer</text>
<clipPath id="clip1923"><path d="M968,16419 L1291,16419 L1291,16449 L968,16449 L968,16419 Z" /></clipPath>
<path d="M970,16447 L1288,16447 Z M970,16447" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1923)" />
<text x="980" y="16436" style="font:10px Open Sans">NameServer通过心跳对DataServer的状态进行监测</text>
<clipPath id="clip1924"><path d="M968,16448 L1207,16448 L1207,16478 L968,16478 L968,16448 Z" /></clipPath>
<path d="M970,16476 L1204,16476 Z M970,16476" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1924)" />
<text x="980" y="16465" style="font:10px Open Sans">每个NameServer上运行多个dsp进程</text>
<clipPath id="clip1925"><path d="M968,16477 L1302,16477 L1302,16507 L968,16507 L968,16477 Z" /></clipPath>
<path d="M970,16505 L1299,16505 Z M970,16505" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1925)" />
<text x="980" y="16494" style="font:10px Open Sans">一个dsp进程对应一个挂载点，一般对应一个独立磁盘</text>
<clipPath id="clip1926"><path d="M900,16507 L1418,16507 L1418,16622 L900,16622 Z M901,16551 L901,16576 L955,16576 L955,16551 Z M901,16551 Z M901,16551" /></clipPath>
<path d="M968,16577 L968,16538 C968,16535.7929688 969.7929688,16534 972,16534 L977,16534" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1926)" />
<clipPath id="clip1927"><path d="M900,16507 L1418,16507 L1418,16622 L900,16622 Z M901,16551 L901,16576 L955,16576 L955,16551 Z M901,16551 Z M901,16551" /></clipPath>
<path d="M968,16577 L968,16567 C968,16564.7929688 969.7929688,16563 972,16563 L977,16563" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1927)" />
<clipPath id="clip1928"><path d="M900,16507 L1418,16507 L1418,16622 L900,16622 Z M901,16551 L901,16576 L955,16576 L955,16551 Z M901,16551 Z M901,16551" /></clipPath>
<path d="M968,16577 L968,16588 C968,16590.2070313 969.7929688,16592 972,16592 L977,16592" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1928)" />
<clipPath id="clip1929"><path d="M900,16507 L1418,16507 L1418,16622 L900,16622 Z M901,16551 L901,16576 L955,16576 L955,16551 Z M901,16551 Z M901,16551" /></clipPath>
<path d="M968,16577 L968,16617 C968,16619.2070313 969.7929688,16621 972,16621 L977,16621" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1929)" />
<clipPath id="clip1930"><path d="M899,16506 L1419,16506 L1419,16623 L899,16623 L899,16506 Z" /></clipPath>
<path d="M955,16577 L968,16577" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1930)" />
<clipPath id="clip1931"><path d="M899,16549 L958,16549 L958,16579 L899,16579 L899,16549 Z" /></clipPath>
<path d="M901,16577 L955,16577 Z M901,16577" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1931)" />
<text x="911" y="16566" style="font:10px Open Sans">Block</text>
<clipPath id="clip1932"><path d="M975,16506 L1315,16506 L1315,16536 L975,16536 L975,16506 Z" /></clipPath>
<path d="M977,16534 L1312,16534 Z M977,16534" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1932)" />
<text x="987" y="16523" style="font:10px Open Sans">TFS将大量小文件合并成一个大文件，称为块（Block）</text>
<clipPath id="clip1933"><path d="M975,16535 L1256,16535 L1256,16565 L975,16565 L975,16535 Z" /></clipPath>
<path d="M977,16563 L1253,16563 Z M977,16563" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1933)" />
<text x="987" y="16552" style="font:10px Open Sans">每个Block拥有在集群内的唯一编号（块ID）</text>
<clipPath id="clip1934"><path d="M975,16564 L1265,16564 L1265,16594 L975,16594 L975,16564 Z" /></clipPath>
<path d="M977,16592 L1262,16592 Z M977,16592" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1934)" />
<text x="987" y="16581" style="font:10px Open Sans">通过&lt;块ID，块内偏移&gt;可以唯一确定一个文件</text>
<clipPath id="clip1935"><path d="M975,16593 L1419,16593 L1419,16623 L975,16623 L975,16593 Z" /></clipPath>
<path d="M977,16621 L1416,16621 Z M977,16621" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1935)" />
<text x="987" y="16610" style="font:10px Open Sans">Block的实际数据存储在DataServer中，大小一般位64MB，默认存储3份</text>
<clipPath id="clip1936"><path d="M900,16623 L1314,16623 L1314,16680 L900,16680 Z M901,16640 L901,16663 L961,16663 L961,16640 Z M901,16640 Z M901,16640" /></clipPath>
<path d="M974,16664 L974,16654 C974,16651.7929688 975.7929688,16650 978,16650 L983,16650" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1936)" />
<clipPath id="clip1937"><path d="M900,16623 L1314,16623 L1314,16680 L900,16680 Z M901,16640 L901,16663 L961,16663 L961,16640 Z M901,16640 Z M901,16640" /></clipPath>
<path d="M974,16664 L974,16675 C974,16677.2070313 975.7929688,16679 978,16679 L983,16679" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1937)" />
<clipPath id="clip1938"><path d="M899,16622 L1315,16622 L1315,16681 L899,16681 L899,16622 Z" /></clipPath>
<path d="M961,16664 L974,16664" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1938)" />
<clipPath id="clip1939"><path d="M899,16638 L964,16638 L964,16666 L899,16666 L899,16638 Z" /></clipPath>
<path d="M901,16664 L961,16664 Z M901,16664" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1939)" />
<text x="911" y="16655" style="font:10px Open Sans">客户端</text>
<clipPath id="clip1940"><path d="M981,16622 L1184,16622 L1184,16652 L981,16652 L981,16622 Z" /></clipPath>
<path d="M983,16650 L1181,16650 Z M983,16650" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1940)" />
<text x="993" y="16639" style="font:10px Open Sans">TFS提供给应用程序的访问接口</text>
<clipPath id="clip1941"><path d="M981,16651 L1315,16651 L1315,16681 L981,16681 L981,16651 Z" /></clipPath>
<path d="M983,16679 L1312,16679 Z M983,16679" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1941)" />
<text x="993" y="16668" style="font:10px Open Sans">客户端不缓存文件数据，之缓存NameServer的元数据</text>
<clipPath id="clip1942"><path d="M805,16681 L1590,16681 L1590,17039 L805,17039 Z M806,16842 L806,16865 L879,16865 L879,16842 Z M806,16842 Z M806,16842" /></clipPath>
<path d="M892,16866 L892,16712 C892,16709.7929688 893.7929688,16708 896,16708 L901,16708" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1942)" />
<clipPath id="clip1943"><path d="M805,16681 L1590,16681 L1590,17039 L805,17039 Z M806,16842 L806,16865 L879,16865 L879,16842 Z M806,16842 Z M806,16842" /></clipPath>
<path d="M892,16866 L892,16758 C892,16755.7929688 893.7929688,16754 896,16754 L901,16754" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1943)" />
<clipPath id="clip1944"><path d="M805,16681 L1590,16681 L1590,17039 L805,17039 Z M806,16842 L806,16865 L879,16865 L879,16842 Z M806,16842 Z M806,16842" /></clipPath>
<path d="M892,16866 L892,16878 C892,16880.2070313 893.7929688,16882 896,16882 L901,16882" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1944)" />
<clipPath id="clip1945"><path d="M805,16681 L1590,16681 L1590,17039 L805,17039 Z M806,16842 L806,16865 L879,16865 L879,16842 Z M806,16842 Z M806,16842" /></clipPath>
<path d="M892,16866 L892,17020 C892,17022.2070313 893.7929688,17024 896,17024 L901,17024" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1945)" />
<clipPath id="clip1946"><path d="M804,16680 L1591,16680 L1591,17040 L804,17040 L804,16680 Z" /></clipPath>
<path d="M879,16866 L892,16866" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1946)" />
<clipPath id="clip1947"><path d="M804,16840 L882,16840 L882,16868 L804,16868 L804,16840 Z" /></clipPath>
<path d="M806,16866 L879,16866 Z M806,16866" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1947)" />
<text x="816" y="16857" style="font:10px Open Sans">追加流程</text>
<clipPath id="clip1948"><path d="M899,16680 L1246,16680 L1246,16710 L899,16710 L899,16680 Z" /></clipPath>
<path d="M901,16708 L1243,16708 Z M901,16708" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1948)" />
<text x="911" y="16697" style="font:10px Open Sans">TFS读多写少，即使每次写操作都经过NameServer也OK</text>
<clipPath id="clip1949"><path d="M899,16709 L1419,16709 L1419,16756 L899,16756 L899,16709 Z" /></clipPath>
<path d="M901,16754 L1416,16754 Z M901,16754" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1949)" />
<text x="911" y="16726" style="font:10px Open Sans">TFS不需要支持类似GFS的多客户端并发追加操作，同一时刻每个Block只能有一个写操</text>
<text x="911" y="16745" style="font:10px Open Sans">作，多个客户端的写操作会被串行化</text>
<clipPath id="clip1950"><path d="M900,16756 L1590,16756 L1590,16983 L900,16983 Z M901,16858 L901,16881 L948,16881 L948,16858 Z M901,16858 Z M901,16858" /></clipPath>
<path d="M961,16882 L961,16787 C961,16784.7929688 962.7929688,16783 965,16783 L970,16783" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1950)" />
<clipPath id="clip1951"><path d="M900,16756 L1590,16756 L1590,16983 L900,16983 Z M901,16858 L901,16881 L948,16881 L948,16858 Z M901,16858 Z M901,16858" /></clipPath>
<path d="M961,16882 L961,16816 C961,16813.7929688 962.7929688,16812 965,16812 L970,16812" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1951)" />
<clipPath id="clip1952"><path d="M900,16756 L1590,16756 L1590,16983 L900,16983 Z M901,16858 L901,16881 L948,16881 L948,16858 Z M901,16858 Z M901,16858" /></clipPath>
<path d="M961,16882 L961,16845 C961,16842.7929688 962.7929688,16841 965,16841 L970,16841" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1952)" />
<clipPath id="clip1953"><path d="M900,16756 L1590,16756 L1590,16983 L900,16983 Z M901,16858 L901,16881 L948,16881 L948,16858 Z M901,16858 Z M901,16858" /></clipPath>
<path d="M961,16882 L961,16872 C961,16869.7929688 962.7929688,16868 965,16868 L970,16868" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1953)" />
<clipPath id="clip1954"><path d="M900,16756 L1590,16756 L1590,16983 L900,16983 Z M901,16858 L901,16881 L948,16881 L948,16858 Z M901,16858 Z M901,16858" /></clipPath>
<path d="M961,16882 L961,16893 C961,16895.2070313 962.7929688,16897 965,16897 L970,16897" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1954)" />
<clipPath id="clip1955"><path d="M900,16756 L1590,16756 L1590,16983 L900,16983 Z M901,16858 L901,16881 L948,16881 L948,16858 Z M901,16858 Z M901,16858" /></clipPath>
<path d="M961,16882 L961,16920 C961,16922.2070313 962.7929688,16924 965,16924 L970,16924" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1955)" />
<clipPath id="clip1956"><path d="M900,16756 L1590,16756 L1590,16983 L900,16983 Z M901,16858 L901,16881 L948,16881 L948,16858 Z M901,16858 Z M901,16858" /></clipPath>
<path d="M961,16882 L961,16949 C961,16951.2070313 962.7929688,16953 965,16953 L970,16953" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1956)" />
<clipPath id="clip1957"><path d="M900,16756 L1590,16756 L1590,16983 L900,16983 Z M901,16858 L901,16881 L948,16881 L948,16858 Z M901,16858 Z M901,16858" /></clipPath>
<path d="M961,16882 L961,16978 C961,16980.2070313 962.7929688,16982 965,16982 L970,16982" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1957)" />
<clipPath id="clip1958"><path d="M899,16755 L1591,16755 L1591,16984 L899,16984 L899,16755 Z" /></clipPath>
<path d="M948,16882 L961,16882" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1958)" />
<clipPath id="clip1959"><path d="M899,16856 L951,16856 L951,16884 L899,16884 L899,16856 Z" /></clipPath>
<path d="M901,16882 L948,16882 Z M901,16882" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1959)" />
<text x="911" y="16873" style="font:10px Open Sans">流程</text>
<clipPath id="clip1960"><path d="M968,16755 L1185,16755 L1185,16785 L968,16785 L968,16755 Z" /></clipPath>
<path d="M970,16783 L1182,16783 Z M970,16783" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1960)" />
<text x="980" y="16772" style="font:10px Open Sans">客户端向NameServer发起写请求</text>
<clipPath id="clip1961"><path d="M968,16784 L1493,16784 L1493,16814 L968,16814 L968,16784 Z" /></clipPath>
<path d="M970,16812 L1490,16812 Z M970,16812" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1961)" />
<text x="980" y="16801" style="font:10px Open Sans">NameServer根据DataServer上的可写块、容量和负载加权平均来选择一个可写的Block</text>
<clipPath id="clip1962"><path d="M968,16813 L1341,16813 L1341,16843 L968,16843 L968,16813 Z" /></clipPath>
<path d="M970,16841 L1338,16841 Z M970,16841" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1962)" />
<text x="980" y="16830" style="font:10px Open Sans">在该Block所在的多个DataServer中选一个作为写入的主副本</text>
<clipPath id="clip1963"><path d="M968,16842 L1306,16842 L1306,16870 L968,16870 L968,16842 Z" /></clipPath>
<path d="M970,16868 L1303,16868 Z M970,16868" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1963)" />
<text x="980" y="16859" style="font:10px Open Sans">客户端向主副本写入数据，主副本将数据同步到备副本</text>
<clipPath id="clip1964"><path d="M968,16869 L1543,16869 L1543,16899 L968,16899 L968,16869 Z" /></clipPath>
<path d="M970,16897 L1540,16897 Z M970,16897" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1964)" />
<text x="980" y="16886" style="font:10px Open Sans">如果所有副本修改成功，主副本通知NameServer更新Block版本号，成功后返回客户端操作结果</text>
<clipPath id="clip1965"><path d="M968,16898 L1319,16898 L1319,16926 L968,16926 L968,16898 Z" /></clipPath>
<path d="M970,16924 L1316,16924 Z M970,16924" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1965)" />
<text x="980" y="16915" style="font:10px Open Sans">如果中间发生任何错误，客户端都可以从第一步开始重试</text>
<clipPath id="clip1966"><path d="M968,16925 L1458,16925 L1458,16955 L968,16955 L968,16925 Z" /></clipPath>
<path d="M970,16953 L1455,16953 Z M970,16953" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1966)" />
<text x="980" y="16942" style="font:10px Open Sans">写操作返回客户端小文件在TFS中的Block编号和Block偏移，应用系统保存该信息</text>
<clipPath id="clip1967"><path d="M968,16954 L1591,16954 L1591,16984 L968,16984 L968,16954 Z" /></clipPath>
<path d="M970,16982 L1588,16982 Z M970,16982" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1967)" />
<text x="980" y="16971" style="font:10px Open Sans">读取时先根据Block编号从NamServer中查找Block所在的DataServer，然后根据Block偏移读取图片数据</text>
<clipPath id="clip1968"><path d="M900,16984 L1223,16984 L1223,17039 L900,17039 Z M901,17000 L901,17023 L948,17023 L948,17000 Z M901,17000 Z M901,17000" /></clipPath>
<path d="M961,17024 L961,17015 C961,17012.7929688 962.7929688,17011 965,17011 L970,17011" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1968)" />
<clipPath id="clip1969"><path d="M900,16984 L1223,16984 L1223,17039 L900,17039 Z M901,17000 L901,17023 L948,17023 L948,17000 Z M901,17000 Z M901,17000" /></clipPath>
<path d="M961,17024 L961,17034 C961,17036.2070313 962.7929688,17038 965,17038 L970,17038" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1969)" />
<clipPath id="clip1970"><path d="M899,16983 L1224,16983 L1224,17040 L899,17040 L899,16983 Z" /></clipPath>
<path d="M948,17024 L961,17024" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1970)" />
<clipPath id="clip1971"><path d="M899,16998 L951,16998 L951,17026 L899,17026 L899,16998 Z" /></clipPath>
<path d="M901,17024 L948,17024 Z M901,17024" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1971)" />
<text x="911" y="17015" style="font:10px Open Sans">缺点</text>
<clipPath id="clip1972"><path d="M968,16983 L1224,16983 L1224,17013 L968,17013 L968,16983 Z" /></clipPath>
<path d="M970,17011 L1221,17011 Z M970,17011" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1972)" />
<text x="980" y="17000" style="font:10px Open Sans">每个写请求都需要访问多次NameServer</text>
<clipPath id="clip1973"><path d="M968,17012 L1215,17012 L1215,17040 L968,17040 L968,17012 Z" /></clipPath>
<path d="M970,17038 L1212,17038 Z M970,17038" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1973)" />
<text x="980" y="17029" style="font:10px Open Sans">数据推送没有采用流水线方式减小延迟</text>
<clipPath id="clip1974"><path d="M805,17040 L1623,17040 L1623,17240 L805,17240 Z M806,17148 L806,17173 L907,17173 L907,17148 Z M806,17148 Z M806,17148" /></clipPath>
<path d="M920,17174 L920,17114 C920,17111.7929688 921.7929688,17110 924,17110 L929,17110" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1974)" />
<clipPath id="clip1975"><path d="M805,17040 L1623,17040 L1623,17240 L805,17240 Z M806,17148 L806,17173 L907,17173 L907,17148 Z M806,17148 Z M806,17148" /></clipPath>
<path d="M920,17174 L920,17177 C920,17179.2070313 921.7929688,17181 924,17181 L929,17181" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1975)" />
<clipPath id="clip1976"><path d="M805,17040 L1623,17040 L1623,17240 L805,17240 Z M806,17148 L806,17173 L907,17173 L907,17148 Z M806,17148 Z M806,17148" /></clipPath>
<path d="M920,17174 L920,17206 C920,17208.2070313 921.7929688,17210 924,17210 L929,17210" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1976)" />
<clipPath id="clip1977"><path d="M805,17040 L1623,17040 L1623,17240 L805,17240 Z M806,17148 L806,17173 L907,17173 L907,17148 Z M806,17148 Z M806,17148" /></clipPath>
<path d="M920,17174 L920,17235 C920,17237.2070313 921.7929688,17239 924,17239 L929,17239" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1977)" />
<clipPath id="clip1978"><path d="M804,17039 L1624,17039 L1624,17241 L804,17241 L804,17039 Z" /></clipPath>
<path d="M907,17174 L920,17174" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1978)" />
<clipPath id="clip1979"><path d="M804,17146 L910,17146 L910,17176 L804,17176 L804,17146 Z" /></clipPath>
<path d="M806,17174 L907,17174 Z M806,17174" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1979)" />
<text x="816" y="17163" style="font:10px Open Sans">MasterServer</text>
<clipPath id="clip1980"><path d="M928,17040 L1623,17040 L1623,17155 L928,17155 Z M929,17086 L929,17109 L1002,17109 L1002,17086 Z M929,17086 Z M929,17086" /></clipPath>
<path d="M1015,17110 L1015,17071 C1015,17068.7929688 1016.7929688,17067 1019,17067 L1024,17067" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1980)" />
<clipPath id="clip1981"><path d="M928,17040 L1623,17040 L1623,17155 L928,17155 Z M929,17086 L929,17109 L1002,17109 L1002,17086 Z M929,17086 Z M929,17086" /></clipPath>
<path d="M1015,17110 C1015,17110 1016.7929688,17110 1019,17110 L1024,17110" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1981)" />
<clipPath id="clip1982"><path d="M928,17040 L1623,17040 L1623,17155 L928,17155 Z M929,17086 L929,17109 L1002,17109 L1002,17086 Z M929,17086 Z M929,17086" /></clipPath>
<path d="M1015,17110 L1015,17150 C1015,17152.2070313 1016.7929688,17154 1019,17154 L1024,17154" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1982)" />
<clipPath id="clip1983"><path d="M927,17039 L1624,17039 L1624,17156 L927,17156 L927,17039 Z" /></clipPath>
<path d="M1002,17110 L1015,17110" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1983)" />
<clipPath id="clip1984"><path d="M927,17084 L1005,17084 L1005,17112 L927,17112 L927,17084 Z" /></clipPath>
<path d="M929,17110 L1002,17110 Z M929,17110" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1984)" />
<text x="939" y="17101" style="font:10px Open Sans">主要功能</text>
<clipPath id="clip1985"><path d="M1022,17039 L1289,17039 L1289,17069 L1022,17069 L1022,17039 Z" /></clipPath>
<path d="M1024,17067 L1286,17067 Z M1024,17067" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1985)" />
<text x="1034" y="17056" style="font:10px Open Sans">Block管理：创建、删除、复制、重新均衡</text>
<clipPath id="clip1986"><path d="M1023,17069 L1623,17069 L1623,17126 L1023,17126 Z M1024,17084 L1024,17109 L1322,17109 L1322,17084 Z M1024,17084 Z M1024,17084" /></clipPath>
<path d="M1335,17110 L1335,17100 C1335,17097.7929688 1336.7929688,17096 1339,17096 L1344,17096" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1986)" />
<clipPath id="clip1987"><path d="M1023,17069 L1623,17069 L1623,17126 L1023,17126 Z M1024,17084 L1024,17109 L1322,17109 L1322,17084 Z M1024,17084 Z M1024,17084" /></clipPath>
<path d="M1335,17110 L1335,17121 C1335,17123.2070313 1336.7929688,17125 1339,17125 L1344,17125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1987)" />
<clipPath id="clip1988"><path d="M1022,17068 L1624,17068 L1624,17127 L1022,17127 L1022,17068 Z" /></clipPath>
<path d="M1322,17110 L1335,17110" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1988)" />
<clipPath id="clip1989"><path d="M1022,17082 L1325,17082 L1325,17112 L1022,17112 L1022,17082 Z" /></clipPath>
<path d="M1024,17110 L1322,17110 Z M1024,17110" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1989)" />
<text x="1034" y="17099" style="font:10px Open Sans">DataServer管理：心跳、DataServer加入及退出</text>
<clipPath id="clip1990"><path d="M1342,17068 L1611,17068 L1611,17098 L1342,17098 L1342,17068 Z" /></clipPath>
<path d="M1344,17096 L1608,17096 Z M1344,17096" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1990)" />
<text x="1354" y="17085" style="font:10px Open Sans">发现DataServer故障后执行Block复制操作</text>
<clipPath id="clip1991"><path d="M1342,17097 L1624,17097 L1624,17127 L1342,17127 L1342,17097 Z" /></clipPath>
<path d="M1344,17125 L1621,17125 Z M1344,17125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1991)" />
<text x="1354" y="17114" style="font:10px Open Sans">新DataServer加入会触发Block负载均衡操作</text>
<clipPath id="clip1992"><path d="M1022,17126 L1252,17126 L1252,17156 L1022,17156 L1022,17126 Z" /></clipPath>
<path d="M1024,17154 L1249,17154 Z M1024,17154" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1992)" />
<text x="1034" y="17143" style="font:10px Open Sans">管理Block与DataServer的映射关系</text>
<clipPath id="clip1993"><path d="M927,17155 L1109,17155 L1109,17183 L927,17183 L927,17155 Z" /></clipPath>
<path d="M929,17181 L1106,17181 Z M929,17181" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1993)" />
<text x="939" y="17172" style="font:10px Open Sans">不需要保存文件目录树信息</text>
<clipPath id="clip1994"><path d="M927,17182 L1181,17182 L1181,17212 L927,17212 L927,17182 Z" /></clipPath>
<path d="M929,17210 L1178,17210 Z M929,17210" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1994)" />
<text x="939" y="17199" style="font:10px Open Sans">不需要维护文件与Block之间的映射关系</text>
<clipPath id="clip1995"><path d="M927,17211 L1088,17211 L1088,17241 L927,17241 L927,17211 Z" /></clipPath>
<path d="M929,17239 L1085,17239 Z M929,17239" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1995)" />
<text x="939" y="17228" style="font:10px Open Sans">采用HA结构，一主一备</text>
<clipPath id="clip1996"><path d="M710,17241 L1380,17241 L1380,17468 L710,17468 Z M711,17357 L711,17380 L758,17380 L758,17357 Z M711,17357 Z M711,17357" /></clipPath>
<path d="M771,17381 L771,17328 C771,17325.7929688 772.7929688,17324 775,17324 L780,17324" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1996)" />
<clipPath id="clip1997"><path d="M710,17241 L1380,17241 L1380,17468 L710,17468 Z M711,17357 L711,17380 L758,17380 L758,17357 Z M711,17357 Z M711,17357" /></clipPath>
<path d="M771,17381 L771,17435 C771,17437.2070313 772.7929688,17439 775,17439 L780,17439" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1997)" />
<clipPath id="clip1998"><path d="M709,17240 L1381,17240 L1381,17469 L709,17469 L709,17240 Z" /></clipPath>
<path d="M758,17381 L771,17381" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1998)" />
<clipPath id="clip1999"><path d="M709,17355 L761,17355 L761,17383 L709,17383 L709,17355 Z" /></clipPath>
<path d="M711,17381 L758,17381 Z M711,17381" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip1999)" />
<text x="721" y="17372" style="font:10px Open Sans">讨论</text>
<clipPath id="clip2000"><path d="M779,17241 L1304,17241 L1304,17383 L779,17383 Z M780,17300 L780,17323 L853,17323 L853,17300 Z M780,17300 Z M780,17300" /></clipPath>
<path d="M866,17324 L866,17270 C866,17267.7929688 867.7929688,17266 870,17266 L875,17266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2000)" />
<clipPath id="clip2001"><path d="M779,17241 L1304,17241 L1304,17383 L779,17383 Z M780,17300 L780,17323 L853,17323 L853,17300 Z M780,17300 Z M780,17300" /></clipPath>
<path d="M866,17324 L866,17299 C866,17296.7929688 867.7929688,17295 870,17295 L875,17295" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2001)" />
<clipPath id="clip2002"><path d="M779,17241 L1304,17241 L1304,17383 L779,17383 Z M780,17300 L780,17323 L853,17323 L853,17300 Z M780,17300 Z M780,17300" /></clipPath>
<path d="M866,17324 C866,17324 867.7929688,17324 870,17324 L875,17324" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2002)" />
<clipPath id="clip2003"><path d="M779,17241 L1304,17241 L1304,17383 L779,17383 Z M780,17300 L780,17323 L853,17323 L853,17300 Z M780,17300 Z M780,17300" /></clipPath>
<path d="M866,17324 L866,17349 C866,17351.2070313 867.7929688,17353 870,17353 L875,17353" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2003)" />
<clipPath id="clip2004"><path d="M779,17241 L1304,17241 L1304,17383 L779,17383 Z M780,17300 L780,17323 L853,17323 L853,17300 Z M780,17300 Z M780,17300" /></clipPath>
<path d="M866,17324 L866,17378 C866,17380.2070313 867.7929688,17382 870,17382 L875,17382" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2004)" />
<clipPath id="clip2005"><path d="M778,17240 L1305,17240 L1305,17384 L778,17384 L778,17240 Z" /></clipPath>
<path d="M853,17324 L866,17324" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2005)" />
<clipPath id="clip2006"><path d="M778,17298 L856,17298 L856,17326 L778,17326 L778,17298 Z" /></clipPath>
<path d="M780,17324 L853,17324 Z M780,17324" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2006)" />
<text x="790" y="17315" style="font:10px Open Sans">图片去重</text>
<clipPath id="clip2007"><path d="M873,17240 L1081,17240 L1081,17268 L873,17268 L873,17240 Z" /></clipPath>
<path d="M875,17266 L1078,17266 Z M875,17266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2007)" />
<text x="885" y="17257" style="font:10px Open Sans">在外部维护一套文件级别的去重</text>
<clipPath id="clip2008"><path d="M873,17267 L1188,17267 L1188,17297 L873,17297 L873,17267 Z" /></clipPath>
<path d="M875,17295 L1185,17295 Z M875,17295" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2008)" />
<text x="885" y="17284" style="font:10px Open Sans">采用MD5或SHA1等Hash算法为图片文件计算指纹</text>
<clipPath id="clip2009"><path d="M873,17296 L1193,17296 L1193,17326 L873,17326 L873,17296 Z" /></clipPath>
<path d="M875,17324 L1190,17324 Z M875,17324" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2009)" />
<text x="885" y="17313" style="font:10px Open Sans">图片写入TFS之前先去去重系统中查找是否存在指纹</text>
<clipPath id="clip2010"><path d="M873,17325 L1305,17325 L1305,17355 L873,17355 L873,17325 Z" /></clipPath>
<path d="M875,17353 L1302,17353 Z M875,17353" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2010)" />
<text x="885" y="17342" style="font:10px Open Sans">图片写入TFS后也需要将指纹以及在TFS中的位置信息保存到去重系统中</text>
<clipPath id="clip2011"><path d="M873,17354 L1077,17354 L1077,17384 L873,17384 L873,17354 Z" /></clipPath>
<path d="M875,17382 L1074,17382 Z M875,17382" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2011)" />
<text x="885" y="17371" style="font:10px Open Sans">淘宝内部使用Tair进行图片去重</text>
<clipPath id="clip2012"><path d="M779,17384 L1380,17384 L1380,17468 L779,17468 Z M780,17415 L780,17438 L892,17438 L892,17415 Z M780,17415 Z M780,17415" /></clipPath>
<path d="M905,17439 L905,17415 C905,17412.7929688 906.7929688,17411 909,17411 L914,17411" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2012)" />
<clipPath id="clip2013"><path d="M779,17384 L1380,17384 L1380,17468 L779,17468 Z M780,17415 L780,17438 L892,17438 L892,17415 Z M780,17415 Z M780,17415" /></clipPath>
<path d="M905,17439 C905,17438.4492188 906.7929688,17438 909,17438 L914,17438" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2013)" />
<clipPath id="clip2014"><path d="M779,17384 L1380,17384 L1380,17468 L779,17468 Z M780,17415 L780,17438 L892,17438 L892,17415 Z M780,17415 Z M780,17415" /></clipPath>
<path d="M905,17439 L905,17463 C905,17465.2070313 906.7929688,17467 909,17467 L914,17467" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2014)" />
<clipPath id="clip2015"><path d="M778,17383 L1381,17383 L1381,17469 L778,17469 L778,17383 Z" /></clipPath>
<path d="M892,17439 L905,17439" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2015)" />
<clipPath id="clip2016"><path d="M778,17413 L895,17413 L895,17441 L778,17441 L778,17413 Z" /></clipPath>
<path d="M780,17439 L892,17439 Z M780,17439" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2016)" />
<text x="790" y="17430" style="font:10px Open Sans">图片更新与删除</text>
<clipPath id="clip2017"><path d="M912,17383 L1349,17383 L1349,17413 L912,17413 L912,17383 Z" /></clipPath>
<path d="M914,17411 L1346,17411 Z M914,17411" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2017)" />
<text x="924" y="17400" style="font:10px Open Sans">更新是在TFS中写入新图片，并在应用系统的数据库中保存新图片的位置</text>
<clipPath id="clip2018"><path d="M912,17412 L1159,17412 L1159,17440 L912,17440 L912,17412 Z" /></clipPath>
<path d="M914,17438 L1156,17438 Z M914,17438" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2018)" />
<text x="924" y="17429" style="font:10px Open Sans">删除操作仅仅在应用系统中将图片删除</text>
<clipPath id="clip2019"><path d="M912,17439 L1381,17439 L1381,17469 L912,17469 L912,17439 Z" /></clipPath>
<path d="M914,17467 L1378,17467 Z M914,17467" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2019)" />
<text x="924" y="17456" style="font:10px Open Sans">只要Block还有一个有效的图片文件就无法回收，也无法对Block文件进行重整</text>
<clipPath id="clip2020"><path d="M646,17469 L1734,17469 L1734,18578 L646,18578 Z M647,17999 L647,18024 L723,18024 L723,17999 Z M647,17999 Z M647,17999" /></clipPath>
<path d="M736,18025 L736,17500 C736,17497.7929688 737.7929688,17496 740,17496 L745,17496" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2020)" />
<clipPath id="clip2021"><path d="M646,17469 L1734,17469 L1734,18578 L646,18578 Z M647,17999 L647,18024 L723,18024 L723,17999 Z M647,17999 Z M647,17999" /></clipPath>
<path d="M736,18025 L736,18146 C736,18148.2070313 737.7929688,18150 740,18150 L745,18150" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2021)" />
<clipPath id="clip2022"><path d="M646,17469 L1734,17469 L1734,18578 L646,18578 Z M647,17999 L647,18024 L723,18024 L723,17999 Z M647,17999 Z M647,17999" /></clipPath>
<path d="M736,18025 L736,18551 C736,18553.2070313 737.7929688,18555 740,18555 L745,18555" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2022)" />
<clipPath id="clip2023"><path d="M645,17468 L1735,17468 L1735,18579 L645,18579 L645,17468 Z" /></clipPath>
<path d="M723,18025 L736,18025" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2023)" />
<clipPath id="clip2024"><path d="M645,17997 L726,17997 L726,18027 L645,18027 L645,17997 Z" /></clipPath>
<path d="M647,18025 L723,18025 Z M647,18025" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2024)" />
<text x="657" y="18014" style="font:10px Open Sans">Haystack</text>
<clipPath id="clip2025"><path d="M744,17469 L1118,17469 L1118,17497 L744,17497 Z M745,17472 L745,17495 L792,17495 L792,17472 Z M745,17472 Z M745,17472" /></clipPath>
<path d="M805,17496 C805,17496 806.7929688,17496 809,17496 L814,17496" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2025)" />
<clipPath id="clip2026"><path d="M743,17468 L1119,17468 L1119,17498 L743,17498 L743,17468 Z" /></clipPath>
<path d="M792,17496 L805,17496" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2026)" />
<clipPath id="clip2027"><path d="M743,17470 L795,17470 L795,17498 L743,17498 L743,17470 Z" /></clipPath>
<path d="M745,17496 L792,17496 Z M745,17496" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2027)" />
<text x="755" y="17487" style="font:10px Open Sans">思路</text>
<clipPath id="clip2028"><path d="M812,17468 L1119,17468 L1119,17498 L812,17498 L812,17468 Z" /></clipPath>
<path d="M814,17496 L1116,17496 Z M814,17496" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2028)" />
<text x="824" y="17485" style="font:10px Open Sans">与TFS类似，多个逻辑图片文件共享一个物理文件</text>
<clipPath id="clip2029"><path d="M744,17498 L1734,17498 L1734,18491 L744,18491 Z M745,18126 L745,18149 L818,18149 L818,18126 Z M745,18126 Z M745,18126" /></clipPath>
<path d="M831,18150 L831,17841 C831,17838.7929688 832.7929688,17837 835,17837 L840,17837" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2029)" />
<clipPath id="clip2030"><path d="M744,17498 L1734,17498 L1734,18491 L744,18491 Z M745,18126 L745,18149 L818,18149 L818,18126 Z M745,18126 Z M745,18126" /></clipPath>
<path d="M831,18150 L831,18117 C831,18114.7929688 832.7929688,18113 835,18113 L840,18113" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2030)" />
<clipPath id="clip2031"><path d="M744,17498 L1734,17498 L1734,18491 L744,18491 Z M745,18126 L745,18149 L818,18149 L818,18126 Z M745,18126 Z M745,18126" /></clipPath>
<path d="M831,18150 L831,18301 C831,18303.2070313 832.7929688,18305 835,18305 L840,18305" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2031)" />
<clipPath id="clip2032"><path d="M744,17498 L1734,17498 L1734,18491 L744,18491 Z M745,18126 L745,18149 L818,18149 L818,18126 Z M745,18126 Z M745,18126" /></clipPath>
<path d="M831,18150 L831,18459 C831,18461.2070313 832.7929688,18463 835,18463 L840,18463" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2032)" />
<clipPath id="clip2033"><path d="M743,17497 L1735,17497 L1735,18492 L743,18492 L743,17497 Z" /></clipPath>
<path d="M818,18150 L831,18150" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2033)" />
<clipPath id="clip2034"><path d="M743,18124 L821,18124 L821,18152 L743,18152 L743,18124 Z" /></clipPath>
<path d="M745,18150 L818,18150 Z M745,18150" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2034)" />
<text x="755" y="18141" style="font:10px Open Sans">系统架构</text>
<clipPath id="clip2035"><path d="M839,17498 L1734,17498 L1734,17999 L839,17999 Z M840,17813 L840,17836 L913,17836 L913,17813 Z M840,17813 Z M840,17813" /></clipPath>
<path d="M926,17837 L926,17680 C926,17677.7929688 927.7929688,17676 930,17676 L935,17676" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2035)" />
<clipPath id="clip2036"><path d="M839,17498 L1734,17498 L1734,17999 L839,17999 Z M840,17813 L840,17836 L913,17836 L913,17813 Z M840,17813 Z M840,17813" /></clipPath>
<path d="M926,17837 L926,17923 C926,17925.2070313 927.7929688,17927 930,17927 L935,17927" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2036)" />
<clipPath id="clip2037"><path d="M839,17498 L1734,17498 L1734,17999 L839,17999 Z M840,17813 L840,17836 L913,17836 L913,17813 Z M840,17813 Z M840,17813" /></clipPath>
<path d="M926,17837 L926,17994 C926,17996.2070313 927.7929688,17998 930,17998 L935,17998" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2037)" />
<clipPath id="clip2038"><path d="M838,17497 L1735,17497 L1735,18000 L838,18000 L838,17497 Z" /></clipPath>
<path d="M913,17837 L926,17837" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2038)" />
<clipPath id="clip2039"><path d="M838,17811 L916,17811 L916,17839 L838,17839 L838,17811 Z" /></clipPath>
<path d="M840,17837 L913,17837 Z M840,17837" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2039)" />
<text x="850" y="17828" style="font:10px Open Sans">系统组成</text>
<clipPath id="clip2040"><path d="M934,17498 L1734,17498 L1734,17858 L934,17858 Z M935,17650 L935,17675 L1014,17675 L1014,17650 Z M935,17650 Z M935,17650" /></clipPath>
<path d="M1027,17676 L1027,17529 C1027,17526.7929688 1028.7929688,17525 1031,17525 L1036,17525" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2040)" />
<clipPath id="clip2041"><path d="M934,17498 L1734,17498 L1734,17858 L934,17858 Z M935,17650 L935,17675 L1014,17675 L1014,17650 Z M935,17650 Z M935,17650" /></clipPath>
<path d="M1027,17676 L1027,17558 C1027,17555.7929688 1028.7929688,17554 1031,17554 L1036,17554" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2041)" />
<clipPath id="clip2042"><path d="M934,17498 L1734,17498 L1734,17858 L934,17858 Z M935,17650 L935,17675 L1014,17675 L1014,17650 Z M935,17650 Z M935,17650" /></clipPath>
<path d="M1027,17676 L1027,17587 C1027,17584.7929688 1028.7929688,17583 1031,17583 L1036,17583" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2042)" />
<clipPath id="clip2043"><path d="M934,17498 L1734,17498 L1734,17858 L934,17858 Z M935,17650 L935,17675 L1014,17675 L1014,17650 Z M935,17650 Z M935,17650" /></clipPath>
<path d="M1027,17676 L1027,17614 C1027,17611.7929688 1028.7929688,17610 1031,17610 L1036,17610" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2043)" />
<clipPath id="clip2044"><path d="M934,17498 L1734,17498 L1734,17858 L934,17858 Z M935,17650 L935,17675 L1014,17675 L1014,17650 Z M935,17650 Z M935,17650" /></clipPath>
<path d="M1027,17676 L1027,17643 C1027,17640.7929688 1028.7929688,17639 1031,17639 L1036,17639" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2044)" />
<clipPath id="clip2045"><path d="M934,17498 L1734,17498 L1734,17858 L934,17858 Z M935,17650 L935,17675 L1014,17675 L1014,17650 Z M935,17650 Z M935,17650" /></clipPath>
<path d="M1027,17676 L1027,17715 C1027,17717.2070313 1028.7929688,17719 1031,17719 L1036,17719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2045)" />
<clipPath id="clip2046"><path d="M934,17498 L1734,17498 L1734,17858 L934,17858 Z M935,17650 L935,17675 L1014,17675 L1014,17650 Z M935,17650 Z M935,17650" /></clipPath>
<path d="M1027,17676 L1027,17824 C1027,17826.2070313 1028.7929688,17828 1031,17828 L1036,17828" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2046)" />
<clipPath id="clip2047"><path d="M933,17497 L1735,17497 L1735,17859 L933,17859 L933,17497 Z" /></clipPath>
<path d="M1014,17676 L1027,17676" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2047)" />
<clipPath id="clip2048"><path d="M933,17648 L1017,17648 L1017,17678 L933,17678 L933,17648 Z" /></clipPath>
<path d="M935,17676 L1014,17676 Z M935,17676" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2048)" />
<text x="945" y="17665" style="font:10px Open Sans">存储Store</text>
<clipPath id="clip2049"><path d="M1034,17497 L1232,17497 L1232,17527 L1034,17527 L1034,17497 Z" /></clipPath>
<path d="M1036,17525 L1229,17525 Z M1036,17525" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2049)" />
<text x="1046" y="17514" style="font:10px Open Sans">Haystack存储是物理存储节点</text>
<clipPath id="clip2050"><path d="M1034,17526 L1351,17526 L1351,17556 L1034,17556 L1034,17526 Z" /></clipPath>
<path d="M1036,17554 L1348,17554 Z M1036,17554" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2050)" />
<text x="1046" y="17543" style="font:10px Open Sans">以物理卷（physical volume）的形式组织存储空间</text>
<clipPath id="clip2051"><path d="M1034,17555 L1246,17555 L1246,17585 L1034,17585 L1034,17555 Z" /></clipPath>
<path d="M1036,17583 L1243,17583 Z M1036,17583" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2051)" />
<text x="1046" y="17572" style="font:10px Open Sans">每个物理卷一般很大，如100GB</text>
<clipPath id="clip2052"><path d="M1034,17584 L1476,17584 L1476,17612 L1034,17612 L1034,17584 Z" /></clipPath>
<path d="M1036,17610 L1473,17610 Z M1036,17610" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2052)" />
<text x="1046" y="17601" style="font:10px Open Sans">每个物理卷对应一个物理文件，故每个存储节点上的物理文件元数据很小</text>
<clipPath id="clip2053"><path d="M1034,17611 L1496,17611 L1496,17641 L1034,17641 L1034,17611 Z" /></clipPath>
<path d="M1036,17639 L1493,17639 Z M1036,17639" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2053)" />
<text x="1046" y="17628" style="font:10px Open Sans">多个物理存储节点上的物理卷组成一个逻辑卷（logical volume），用于备份</text>
<clipPath id="clip2054"><path d="M1035,17641 L1638,17641 L1638,17771 L1035,17771 Z M1036,17693 L1036,17718 L1099,17718 L1099,17693 Z M1036,17693 Z M1036,17693" /></clipPath>
<path d="M1112,17719 L1112,17672 C1112,17669.7929688 1113.7929688,17668 1116,17668 L1121,17668" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2054)" />
<clipPath id="clip2055"><path d="M1035,17641 L1638,17641 L1638,17771 L1035,17771 Z M1036,17693 L1036,17718 L1099,17718 L1099,17693 Z M1036,17693 Z M1036,17693" /></clipPath>
<path d="M1112,17719 L1112,17699 C1112,17696.7929688 1113.7929688,17695 1116,17695 L1121,17695" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2055)" />
<clipPath id="clip2056"><path d="M1035,17641 L1638,17641 L1638,17771 L1035,17771 Z M1036,17693 L1036,17718 L1099,17718 L1099,17693 Z M1036,17693 Z M1036,17693" /></clipPath>
<path d="M1112,17719 L1112,17720 C1112,17722.2070313 1113.7929688,17724 1116,17724 L1121,17724" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2056)" />
<clipPath id="clip2057"><path d="M1035,17641 L1638,17641 L1638,17771 L1035,17771 Z M1036,17693 L1036,17718 L1099,17718 L1099,17693 Z M1036,17693 Z M1036,17693" /></clipPath>
<path d="M1112,17719 L1112,17766 C1112,17768.2070313 1113.7929688,17770 1116,17770 L1121,17770" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2057)" />
<clipPath id="clip2058"><path d="M1034,17640 L1639,17640 L1639,17772 L1034,17772 L1034,17640 Z" /></clipPath>
<path d="M1099,17719 L1112,17719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2058)" />
<clipPath id="clip2059"><path d="M1034,17691 L1102,17691 L1102,17721 L1034,17721 L1034,17691 Z" /></clipPath>
<path d="M1036,17719 L1099,17719 Z M1036,17719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2059)" />
<text x="1046" y="17708" style="font:10px Open Sans">Needle</text>
<clipPath id="clip2060"><path d="M1119,17640 L1538,17640 L1538,17670 L1119,17670 L1119,17640 Z" /></clipPath>
<path d="M1121,17668 L1535,17668 Z M1121,17668" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2060)" />
<text x="1131" y="17657" style="font:10px Open Sans">每个照片文件是一个Needle，包含实际数据及逻辑照片文件的元数据</text>
<clipPath id="clip2061"><path d="M1119,17669 L1405,17669 L1405,17697 L1119,17697 L1119,17669 Z" /></clipPath>
<path d="M1121,17695 L1402,17695 Z M1121,17695" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2061)" />
<text x="1131" y="17686" style="font:10px Open Sans">照片的部分元数据加载在内存中用于照片查找</text>
<clipPath id="clip2062"><path d="M1119,17696 L1525,17696 L1525,17726 L1119,17726 L1119,17696 Z" /></clipPath>
<path d="M1121,17724 L1522,17724 Z M1121,17724" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2062)" />
<text x="1131" y="17713" style="font:10px Open Sans">每个物理卷维护一个索引文件，保存每个Needle查找相关的元数据</text>
<clipPath id="clip2063"><path d="M1119,17725 L1639,17725 L1639,17772 L1119,17772 L1119,17725 Z" /></clipPath>
<path d="M1121,17770 L1636,17770 Z M1121,17770" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2063)" />
<text x="1131" y="17742" style="font:10px Open Sans">异步可能导致索引文件与物理卷文件不一致，但是两者多是追加操作，只需扫描物理卷</text>
<text x="1131" y="17759" style="font:10px Open Sans">文件最后写入的几个Needle补全索引即可</text>
<clipPath id="clip2064"><path d="M1035,17772 L1734,17772 L1734,17858 L1035,17858 Z M1036,17804 L1036,17827 L1200,17827 L1200,17804 Z M1036,17804 Z M1036,17804" /></clipPath>
<path d="M1213,17828 L1213,17803 C1213,17800.7929688 1214.7929688,17799 1217,17799 L1222,17799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2064)" />
<clipPath id="clip2065"><path d="M1035,17772 L1734,17772 L1734,17858 L1035,17858 Z M1036,17804 L1036,17827 L1200,17827 L1200,17804 Z M1036,17804 Z M1036,17804" /></clipPath>
<path d="M1213,17828 C1213,17828 1214.7929688,17828 1217,17828 L1222,17828" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2065)" />
<clipPath id="clip2066"><path d="M1035,17772 L1734,17772 L1734,17858 L1035,17858 Z M1036,17804 L1036,17827 L1200,17827 L1200,17804 Z M1036,17804 Z M1036,17804" /></clipPath>
<path d="M1213,17828 L1213,17853 C1213,17855.2070313 1214.7929688,17857 1217,17857 L1222,17857" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2066)" />
<clipPath id="clip2067"><path d="M1034,17771 L1735,17771 L1735,17859 L1034,17859 L1034,17771 Z" /></clipPath>
<path d="M1200,17828 L1213,17828" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2067)" />
<clipPath id="clip2068"><path d="M1034,17802 L1203,17802 L1203,17830 L1034,17830 L1034,17802 Z" /></clipPath>
<path d="M1036,17828 L1200,17828 Z M1036,17828" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2068)" />
<text x="1046" y="17819" style="font:10px Open Sans">采用延迟删除的回收策略</text>
<clipPath id="clip2069"><path d="M1220,17771 L1535,17771 L1535,17801 L1220,17801 L1220,17771 Z" /></clipPath>
<path d="M1222,17799 L1532,17799 Z M1222,17799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2069)" />
<text x="1232" y="17788" style="font:10px Open Sans">删除照片只是向卷中追加一个带删除标记的Needle</text>
<clipPath id="clip2070"><path d="M1220,17800 L1475,17800 L1475,17830 L1220,17830 L1220,17800 Z" /></clipPath>
<path d="M1222,17828 L1472,17828 Z M1222,17828" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2070)" />
<text x="1232" y="17817" style="font:10px Open Sans">定时Compaction任务回收已删除的空间</text>
<clipPath id="clip2071"><path d="M1220,17829 L1735,17829 L1735,17859 L1220,17859 L1220,17829 Z" /></clipPath>
<path d="M1222,17857 L1732,17857 Z M1222,17857" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2071)" />
<text x="1232" y="17846" style="font:10px Open Sans">Compaction是将所有老数据文件文件扫描一遍，保留最新的一个照片生成新数据文件</text>
<clipPath id="clip2072"><path d="M934,17859 L1421,17859 L1421,17970 L934,17970 Z M935,17901 L935,17926 L1038,17926 L1038,17901 Z M935,17901 Z M935,17901" /></clipPath>
<path d="M1051,17927 L1051,17890 C1051,17887.7929688 1052.7929688,17886 1055,17886 L1060,17886" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2072)" />
<clipPath id="clip2073"><path d="M934,17859 L1421,17859 L1421,17970 L934,17970 Z M935,17901 L935,17926 L1038,17926 L1038,17901 Z M935,17901 Z M935,17901" /></clipPath>
<path d="M1051,17927 L1051,17917 C1051,17914.7929688 1052.7929688,17913 1055,17913 L1060,17913" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2073)" />
<clipPath id="clip2074"><path d="M934,17859 L1421,17859 L1421,17970 L934,17970 Z M935,17901 L935,17926 L1038,17926 L1038,17901 Z M935,17901 Z M935,17901" /></clipPath>
<path d="M1051,17927 L1051,17938 C1051,17940.2070313 1052.7929688,17942 1055,17942 L1060,17942" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2074)" />
<clipPath id="clip2075"><path d="M934,17859 L1421,17859 L1421,17970 L934,17970 Z M935,17901 L935,17926 L1038,17926 L1038,17901 Z M935,17901 Z M935,17901" /></clipPath>
<path d="M1051,17927 L1051,17965 C1051,17967.2070313 1052.7929688,17969 1055,17969 L1060,17969" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2075)" />
<clipPath id="clip2076"><path d="M933,17858 L1422,17858 L1422,17971 L933,17971 L933,17858 Z" /></clipPath>
<path d="M1038,17927 L1051,17927" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2076)" />
<clipPath id="clip2077"><path d="M933,17899 L1041,17899 L1041,17929 L933,17929 L933,17899 Z" /></clipPath>
<path d="M935,17927 L1038,17927 Z M935,17927" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2077)" />
<text x="945" y="17916" style="font:10px Open Sans">目录Directory</text>
<clipPath id="clip2078"><path d="M1058,17858 L1410,17858 L1410,17888 L1058,17888 L1058,17858 Z" /></clipPath>
<path d="M1060,17886 L1407,17886 Z M1060,17886" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2078)" />
<text x="1070" y="17875" style="font:10px Open Sans">提供逻辑卷与物理卷的映射，维护照片ID到逻辑卷的映射</text>
<clipPath id="clip2079"><path d="M1058,17887 L1422,17887 L1422,17915 L1058,17915 L1058,17887 Z" /></clipPath>
<path d="M1060,17913 L1419,17913 Z M1060,17913" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2079)" />
<text x="1070" y="17904" style="font:10px Open Sans">提供负载均衡，为写操作选择逻辑卷，为读操作选择物理卷</text>
<clipPath id="clip2080"><path d="M1058,17914 L1372,17914 L1372,17944 L1058,17944 L1058,17914 Z" /></clipPath>
<path d="M1060,17942 L1369,17942 Z M1060,17942" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2080)" />
<text x="1070" y="17931" style="font:10px Open Sans">屏蔽CDN服务，可以选择某些图片请求直接走缓存</text>
<clipPath id="clip2081"><path d="M1058,17943 L1214,17943 L1214,17971 L1058,17971 L1058,17943 Z" /></clipPath>
<path d="M1060,17969 L1211,17969 Z M1060,17969" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2081)" />
<text x="1070" y="17960" style="font:10px Open Sans">标记某些逻辑卷为只读</text>
<clipPath id="clip2082"><path d="M934,17971 L1455,17971 L1455,17999 L934,17999 Z M935,17972 L935,17997 L1018,17997 L1018,17972 Z M935,17972 Z M935,17972" /></clipPath>
<path d="M1031,17998 C1031,17998 1032.7929688,17998 1035,17998 L1040,17998" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2082)" />
<clipPath id="clip2083"><path d="M933,17970 L1456,17970 L1456,18000 L933,18000 L933,17970 Z" /></clipPath>
<path d="M1018,17998 L1031,17998" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2083)" />
<clipPath id="clip2084"><path d="M933,17970 L1021,17970 L1021,18000 L933,18000 L933,17970 Z" /></clipPath>
<path d="M935,17998 L1018,17998 Z M935,17998" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2084)" />
<text x="945" y="17987" style="font:10px Open Sans">缓存Cache</text>
<clipPath id="clip2085"><path d="M1038,17970 L1456,17970 L1456,18000 L1038,18000 L1038,17970 Z" /></clipPath>
<path d="M1040,17998 L1453,17998 Z M1040,17998" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2085)" />
<text x="1050" y="17987" style="font:10px Open Sans">解决对CDN提供商过于依赖的问题，提供最近增加的照片的缓存服务</text>
<clipPath id="clip2086"><path d="M839,18000 L1413,18000 L1413,18200 L839,18200 Z M840,18089 L840,18112 L939,18112 L939,18089 Z M840,18089 Z M840,18089" /></clipPath>
<path d="M952,18113 L952,18031 C952,18028.7929688 953.7929688,18027 956,18027 L961,18027" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2086)" />
<clipPath id="clip2087"><path d="M839,18000 L1413,18000 L1413,18200 L839,18200 Z M840,18089 L840,18112 L939,18112 L939,18089 Z M840,18089 Z M840,18089" /></clipPath>
<path d="M952,18113 L952,18060 C952,18057.7929688 953.7929688,18056 956,18056 L961,18056" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2087)" />
<clipPath id="clip2088"><path d="M839,18000 L1413,18000 L1413,18200 L839,18200 Z M840,18089 L840,18112 L939,18112 L939,18089 Z M840,18089 Z M840,18089" /></clipPath>
<path d="M952,18113 L952,18089 C952,18086.7929688 953.7929688,18085 956,18085 L961,18085" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2088)" />
<clipPath id="clip2089"><path d="M839,18000 L1413,18000 L1413,18200 L839,18200 Z M840,18089 L840,18112 L939,18112 L939,18089 Z M840,18089 Z M840,18089" /></clipPath>
<path d="M952,18113 C952,18113.5507813 953.7929688,18114 956,18114 L961,18114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2089)" />
<clipPath id="clip2090"><path d="M839,18000 L1413,18000 L1413,18200 L839,18200 Z M840,18089 L840,18112 L939,18112 L939,18089 Z M840,18089 Z M840,18089" /></clipPath>
<path d="M952,18113 L952,18139 C952,18141.2070313 953.7929688,18143 956,18143 L961,18143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2090)" />
<clipPath id="clip2091"><path d="M839,18000 L1413,18000 L1413,18200 L839,18200 Z M840,18089 L840,18112 L939,18112 L939,18089 Z M840,18089 Z M840,18089" /></clipPath>
<path d="M952,18113 L952,18168 C952,18170.2070313 953.7929688,18172 956,18172 L961,18172" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2091)" />
<clipPath id="clip2092"><path d="M839,18000 L1413,18000 L1413,18200 L839,18200 Z M840,18089 L840,18112 L939,18112 L939,18089 Z M840,18089 Z M840,18089" /></clipPath>
<path d="M952,18113 L952,18195 C952,18197.2070313 953.7929688,18199 956,18199 L961,18199" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2092)" />
<clipPath id="clip2093"><path d="M838,17999 L1414,17999 L1414,18201 L838,18201 L838,17999 Z" /></clipPath>
<path d="M939,18113 L952,18113" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2093)" />
<clipPath id="clip2094"><path d="M838,18087 L942,18087 L942,18115 L838,18115 L838,18087 Z" /></clipPath>
<path d="M840,18113 L939,18113 Z M840,18113" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2094)" />
<text x="850" y="18104" style="font:10px Open Sans">读取请求流程</text>
<clipPath id="clip2095"><path d="M959,17999 L1339,17999 L1339,18029 L959,18029 L959,17999 Z" /></clipPath>
<path d="M961,18027 L1336,18027 Z M961,18027" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2095)" />
<text x="971" y="18016" style="font:10px Open Sans">用户访问页面时，Web服务器请求Haystack目录构造一个URL</text>
<clipPath id="clip2096"><path d="M959,18028 L1365,18028 L1365,18058 L959,18058 L959,18028 Z" /></clipPath>
<path d="M961,18056 L1362,18056 Z M961,18056" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2096)" />
<text x="971" y="18045" style="font:10px Open Sans">http://&lt;CDN&gt;/&lt;Cache&gt;/&lt;Machine id&gt;/&lt;Logical volume, Photo&gt;</text>
<clipPath id="clip2097"><path d="M959,18057 L1208,18057 L1208,18087 L959,18087 L959,18057 Z" /></clipPath>
<path d="M961,18085 L1205,18085 Z M961,18085" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2097)" />
<text x="971" y="18074" style="font:10px Open Sans">依次访问CDN，缓存和后端的存储节点</text>
<clipPath id="clip2098"><path d="M959,18086 L1207,18086 L1207,18116 L959,18116 L959,18086 Z" /></clipPath>
<path d="M961,18114 L1204,18114 Z M961,18114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2098)" />
<text x="971" y="18103" style="font:10px Open Sans">URL中也可以省略CDN而直接访问缓存</text>
<clipPath id="clip2099"><path d="M959,18115 L1302,18115 L1302,18145 L959,18145 L959,18115 Z" /></clipPath>
<path d="M961,18143 L1299,18143 Z M961,18143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2099)" />
<text x="971" y="18132" style="font:10px Open Sans">Haystack缓存受到的请求分用户浏览器请求和CDN请求</text>
<clipPath id="clip2100"><path d="M959,18144 L1339,18144 L1339,18174 L959,18174 L959,18144 Z" /></clipPath>
<path d="M961,18172 L1336,18172 Z M961,18172" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2100)" />
<text x="971" y="18161" style="font:10px Open Sans">Haystack缓存只缓存用户浏览器请求且要求存储节点是可写的</text>
<clipPath id="clip2101"><path d="M959,18173 L1414,18173 L1414,18201 L959,18201 L959,18173 Z" /></clipPath>
<path d="M961,18199 L1411,18199 Z M961,18199" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2101)" />
<text x="971" y="18190" style="font:10px Open Sans">一般存储节点写一段时间后达到容量上限变为只读，因此可写的为热点数据</text>
<clipPath id="clip2102"><path d="M839,18201 L1439,18201 L1439,18383 L839,18383 Z M840,18281 L840,18304 L900,18304 L900,18281 Z M840,18281 Z M840,18281" /></clipPath>
<path d="M913,18305 L913,18232 C913,18229.7929688 914.7929688,18228 917,18228 L922,18228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2102)" />
<clipPath id="clip2103"><path d="M839,18201 L1439,18201 L1439,18383 L839,18383 Z M840,18281 L840,18304 L900,18304 L900,18281 Z M840,18281 Z M840,18281" /></clipPath>
<path d="M913,18305 L913,18261 C913,18258.7929688 914.7929688,18257 917,18257 L922,18257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2103)" />
<clipPath id="clip2104"><path d="M839,18201 L1439,18201 L1439,18383 L839,18383 Z M840,18281 L840,18304 L900,18304 L900,18281 Z M840,18281 Z M840,18281" /></clipPath>
<path d="M913,18305 L913,18288 C913,18285.7929688 914.7929688,18284 917,18284 L922,18284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2104)" />
<clipPath id="clip2105"><path d="M839,18201 L1439,18201 L1439,18383 L839,18383 Z M840,18281 L840,18304 L900,18304 L900,18281 Z M840,18281 Z M840,18281" /></clipPath>
<path d="M913,18305 L913,18307 C913,18309.2070313 914.7929688,18311 917,18311 L922,18311" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2105)" />
<clipPath id="clip2106"><path d="M839,18201 L1439,18201 L1439,18383 L839,18383 Z M840,18281 L840,18304 L900,18304 L900,18281 Z M840,18281 Z M840,18281" /></clipPath>
<path d="M913,18305 L913,18334 C913,18336.2070313 914.7929688,18338 917,18338 L922,18338" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2106)" />
<clipPath id="clip2107"><path d="M839,18201 L1439,18201 L1439,18383 L839,18383 Z M840,18281 L840,18304 L900,18304 L900,18281 Z M840,18281 Z M840,18281" /></clipPath>
<path d="M913,18305 L913,18378 C913,18380.2070313 914.7929688,18382 917,18382 L922,18382" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2107)" />
<clipPath id="clip2108"><path d="M838,18200 L1440,18200 L1440,18384 L838,18384 L838,18200 Z" /></clipPath>
<path d="M900,18305 L913,18305" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2108)" />
<clipPath id="clip2109"><path d="M838,18279 L903,18279 L903,18307 L838,18307 L838,18279 Z" /></clipPath>
<path d="M840,18305 L900,18305 Z M840,18305" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2109)" />
<text x="850" y="18296" style="font:10px Open Sans">写流程</text>
<clipPath id="clip2110"><path d="M920,18200 L1223,18200 L1223,18230 L920,18230 L920,18200 Z" /></clipPath>
<path d="M922,18228 L1220,18228 Z M922,18228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2110)" />
<text x="932" y="18217" style="font:10px Open Sans">Web服务器请求Haystack目录获取可写的逻辑卷</text>
<clipPath id="clip2111"><path d="M920,18229 L1342,18229 L1342,18259 L920,18259 L920,18229 Z" /></clipPath>
<path d="M922,18257 L1339,18257 Z M922,18257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2111)" />
<text x="932" y="18246" style="font:10px Open Sans">生成照片唯一id并将数据写入每一个对应的物理卷（副本数一般为3）</text>
<clipPath id="clip2112"><path d="M920,18258 L1154,18258 L1154,18286 L920,18286 L920,18258 Z" /></clipPath>
<path d="M922,18284 L1151,18284 Z M922,18284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2112)" />
<text x="932" y="18275" style="font:10px Open Sans">写操作成功要求所有的物理卷都成功</text>
<clipPath id="clip2113"><path d="M920,18285 L1115,18285 L1115,18313 L920,18313 L920,18285 Z" /></clipPath>
<path d="M922,18311 L1112,18311 Z M922,18311" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2113)" />
<text x="932" y="18302" style="font:10px Open Sans">如果中间出现故障，需要重试</text>
<clipPath id="clip2114"><path d="M920,18312 L1089,18312 L1089,18340 L920,18340 L920,18312 Z" /></clipPath>
<path d="M922,18338 L1086,18338 Z M922,18338" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2114)" />
<text x="932" y="18329" style="font:10px Open Sans">存储节点只支持追加操作</text>
<clipPath id="clip2115"><path d="M920,18339 L1440,18339 L1440,18384 L920,18384 L920,18339 Z" /></clipPath>
<path d="M922,18382 L1437,18382 Z M922,18382" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2115)" />
<text x="932" y="18356" style="font:10px Open Sans">更新照片可以新增一张编号相同的，如果新照片和原来的在不同的逻辑卷，目录中的元</text>
<text x="932" y="18373" style="font:10px Open Sans">数据会更新为最新的逻辑卷；如果在相同的逻辑卷，则存储会以更大的偏移为准</text>
<clipPath id="clip2116"><path d="M839,18384 L1456,18384 L1456,18491 L839,18491 Z M840,18439 L840,18462 L913,18462 L913,18439 Z M840,18439 Z M840,18439" /></clipPath>
<path d="M926,18463 L926,18440 C926,18437.7929688 927.7929688,18436 930,18436 L935,18436" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2116)" />
<clipPath id="clip2117"><path d="M839,18384 L1456,18384 L1456,18491 L839,18491 Z M840,18439 L840,18462 L913,18462 L913,18439 Z M840,18439 Z M840,18439" /></clipPath>
<path d="M926,18463 L926,18486 C926,18488.2070313 927.7929688,18490 930,18490 L935,18490" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2117)" />
<clipPath id="clip2118"><path d="M838,18383 L1457,18383 L1457,18492 L838,18492 L838,18383 Z" /></clipPath>
<path d="M913,18463 L926,18463" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2118)" />
<clipPath id="clip2119"><path d="M838,18437 L916,18437 L916,18465 L838,18465 L838,18437 Z" /></clipPath>
<path d="M840,18463 L913,18463 Z M840,18463" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2119)" />
<text x="850" y="18454" style="font:10px Open Sans">容错处理</text>
<clipPath id="clip2120"><path d="M934,18384 L1456,18384 L1456,18464 L934,18464 Z M935,18412 L935,18435 L1034,18435 L1034,18412 Z M935,18412 Z M935,18412" /></clipPath>
<path d="M1047,18436 L1047,18413 C1047,18410.7929688 1048.7929688,18409 1051,18409 L1056,18409" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2120)" />
<clipPath id="clip2121"><path d="M934,18384 L1456,18384 L1456,18464 L934,18464 Z M935,18412 L935,18435 L1034,18435 L1034,18412 Z M935,18412 Z M935,18412" /></clipPath>
<path d="M1047,18436 C1047,18436 1048.7929688,18436 1051,18436 L1056,18436" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2121)" />
<clipPath id="clip2122"><path d="M934,18384 L1456,18384 L1456,18464 L934,18464 Z M935,18412 L935,18435 L1034,18435 L1034,18412 Z M935,18412 Z M935,18412" /></clipPath>
<path d="M1047,18436 L1047,18459 C1047,18461.2070313 1048.7929688,18463 1051,18463 L1056,18463" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2122)" />
<clipPath id="clip2123"><path d="M933,18383 L1457,18383 L1457,18465 L933,18465 L933,18383 Z" /></clipPath>
<path d="M1034,18436 L1047,18436" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2123)" />
<clipPath id="clip2124"><path d="M933,18410 L1037,18410 L1037,18438 L933,18438 L933,18410 Z" /></clipPath>
<path d="M935,18436 L1034,18436 Z M935,18436" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2124)" />
<text x="945" y="18427" style="font:10px Open Sans">存储节点容错</text>
<clipPath id="clip2125"><path d="M1054,18383 L1457,18383 L1457,18411 L1054,18411 L1054,18383 Z" /></clipPath>
<path d="M1056,18409 L1454,18409 Z M1056,18409" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2125)" />
<text x="1066" y="18400" style="font:10px Open Sans">检测到存储节点故障时，所有物理卷对应的逻辑卷都被标记为只读</text>
<clipPath id="clip2126"><path d="M1054,18410 L1392,18410 L1392,18438 L1054,18438 L1054,18410 Z" /></clipPath>
<path d="M1056,18436 L1389,18436 Z M1056,18436" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2126)" />
<text x="1066" y="18427" style="font:10px Open Sans">存储节点上的未完成的写操作全部失败，写操作将重试</text>
<clipPath id="clip2127"><path d="M1054,18437 L1418,18437 L1418,18465 L1054,18465 L1054,18437 Z" /></clipPath>
<path d="M1056,18463 L1415,18463 Z M1056,18463" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2127)" />
<text x="1066" y="18454" style="font:10px Open Sans">如果发生故障的存储节点不可恢复，需要执行一个拷贝任务</text>
<clipPath id="clip2128"><path d="M934,18465 L1222,18465 L1222,18491 L934,18491 Z M935,18466 L935,18489 L1008,18489 L1008,18466 Z M935,18466 Z M935,18466" /></clipPath>
<path d="M1021,18490 C1021,18490 1022.7929688,18490 1025,18490 L1030,18490" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2128)" />
<clipPath id="clip2129"><path d="M933,18464 L1223,18464 L1223,18492 L933,18492 L933,18464 Z" /></clipPath>
<path d="M1008,18490 L1021,18490" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2129)" />
<clipPath id="clip2130"><path d="M933,18464 L1011,18464 L1011,18492 L933,18492 L933,18464 Z" /></clipPath>
<path d="M935,18490 L1008,18490 Z M935,18490" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2130)" />
<text x="945" y="18481" style="font:10px Open Sans">目录容错</text>
<clipPath id="clip2131"><path d="M1028,18464 L1223,18464 L1223,18492 L1028,18492 L1028,18464 Z" /></clipPath>
<path d="M1030,18490 L1220,18490 Z M1030,18490" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2131)" />
<text x="1040" y="18481" style="font:10px Open Sans">采用主备数据库做持久化存储</text>
<clipPath id="clip2132"><path d="M744,18492 L1536,18492 L1536,18578 L744,18578 Z M745,18531 L745,18554 L792,18554 L792,18531 Z M745,18531 Z M745,18531" /></clipPath>
<path d="M805,18555 L805,18537 C805,18534.7929688 806.7929688,18533 809,18533 L814,18533" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2132)" />
<clipPath id="clip2133"><path d="M744,18492 L1536,18492 L1536,18578 L744,18578 Z M745,18531 L745,18554 L792,18554 L792,18531 Z M745,18531 Z M745,18531" /></clipPath>
<path d="M805,18555 L805,18573 C805,18575.2070313 806.7929688,18577 809,18577 L814,18577" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2133)" />
<clipPath id="clip2134"><path d="M743,18491 L1537,18491 L1537,18579 L743,18579 L743,18491 Z" /></clipPath>
<path d="M792,18555 L805,18555" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2134)" />
<clipPath id="clip2135"><path d="M743,18529 L795,18529 L795,18557 L743,18557 L743,18529 Z" /></clipPath>
<path d="M745,18555 L792,18555 Z M745,18555" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2135)" />
<text x="755" y="18546" style="font:10px Open Sans">讨论</text>
<clipPath id="clip2136"><path d="M813,18492 L1536,18492 L1536,18549 L813,18549 Z M814,18507 L814,18532 L1106,18532 L1106,18507 Z M814,18507 Z M814,18507" /></clipPath>
<path d="M1119,18533 L1119,18523 C1119,18520.7929688 1120.7929688,18519 1123,18519 L1128,18519" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2136)" />
<clipPath id="clip2137"><path d="M813,18492 L1536,18492 L1536,18549 L813,18549 Z M814,18507 L814,18532 L1106,18532 L1106,18507 Z M814,18507 Z M814,18507" /></clipPath>
<path d="M1119,18533 L1119,18544 C1119,18546.2070313 1120.7929688,18548 1123,18548 L1128,18548" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2137)" />
<clipPath id="clip2138"><path d="M812,18491 L1537,18491 L1537,18550 L812,18550 L812,18491 Z" /></clipPath>
<path d="M1106,18533 L1119,18533" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2138)" />
<clipPath id="clip2139"><path d="M812,18505 L1109,18505 L1109,18535 L812,18535 L812,18505 Z" /></clipPath>
<path d="M814,18533 L1106,18533 Z M814,18533" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2139)" />
<text x="824" y="18522" style="font:10px Open Sans">相比TFS，Haystack的一个特点是磁盘空间回收</text>
<clipPath id="clip2140"><path d="M1126,18491 L1456,18491 L1456,18521 L1126,18521 L1126,18491 Z" /></clipPath>
<path d="M1128,18519 L1453,18519 Z M1128,18519" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2140)" />
<text x="1138" y="18508" style="font:10px Open Sans">Haystack中元信息只能定位到Blob文件所在的逻辑卷</text>
<clipPath id="clip2141"><path d="M1126,18520 L1537,18520 L1537,18550 L1126,18550 L1126,18520 Z" /></clipPath>
<path d="M1128,18548 L1534,18548 Z M1128,18548" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2141)" />
<text x="1138" y="18537" style="font:10px Open Sans">存储节点可以根据情况对物理卷进行Compaction操作进行磁盘回收</text>
<clipPath id="clip2142"><path d="M812,18549 L1180,18549 L1180,18579 L812,18579 L812,18549 Z" /></clipPath>
<path d="M814,18577 L1177,18577 Z M814,18577" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2142)" />
<text x="824" y="18566" style="font:10px Open Sans">逻辑卷大小为100GB，减少了元信息，但增加了迁移的时间</text>
<clipPath id="clip2143"><path d="M523,18579 L1192,18579 L1192,19065 L523,19065 Z M524,18822 L524,18847 L573,18847 L573,18822 Z M524,18822 Z M524,18822" /></clipPath>
<path d="M586,18848 L586,18637 C586,18634.7929688 587.7929688,18633 590,18633 L595,18633" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2143)" />
<clipPath id="clip2144"><path d="M523,18579 L1192,18579 L1192,19065 L523,19065 Z M524,18822 L524,18847 L573,18847 L573,18822 Z M524,18822 Z M524,18822" /></clipPath>
<path d="M586,18848 C586,18848 587.7929688,18848 590,18848 L595,18848" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2144)" />
<clipPath id="clip2145"><path d="M523,18579 L1192,18579 L1192,19065 L523,19065 Z M524,18822 L524,18847 L573,18847 L573,18822 Z M524,18822 Z M524,18822" /></clipPath>
<path d="M586,18848 L586,19060 C586,19062.2070313 587.7929688,19064 590,19064 L595,19064" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2145)" />
<clipPath id="clip2146"><path d="M522,18578 L1193,18578 L1193,19066 L522,19066 L522,18578 Z" /></clipPath>
<path d="M573,18848 L586,18848" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2146)" />
<clipPath id="clip2147"><path d="M522,18820 L576,18820 L576,18850 L522,18850 L522,18820 Z" /></clipPath>
<path d="M524,18848 L573,18848 Z M524,18848" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2147)" />
<text x="534" y="18837" style="font:10px Open Sans">CDN</text>
<clipPath id="clip2148"><path d="M594,18579 L1077,18579 L1077,18661 L594,18661 Z M595,18609 L595,18632 L668,18632 L668,18609 Z M595,18609 Z M595,18609" /></clipPath>
<path d="M681,18633 L681,18610 C681,18607.7929688 682.7929688,18606 685,18606 L690,18606" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2148)" />
<clipPath id="clip2149"><path d="M594,18579 L1077,18579 L1077,18661 L594,18661 Z M595,18609 L595,18632 L668,18632 L668,18609 Z M595,18609 Z M595,18609" /></clipPath>
<path d="M681,18633 C681,18633 682.7929688,18633 685,18633 L690,18633" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2149)" />
<clipPath id="clip2150"><path d="M594,18579 L1077,18579 L1077,18661 L594,18661 Z M595,18609 L595,18632 L668,18632 L668,18609 Z M595,18609 Z M595,18609" /></clipPath>
<path d="M681,18633 L681,18656 C681,18658.2070313 682.7929688,18660 685,18660 L690,18660" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2150)" />
<clipPath id="clip2151"><path d="M593,18578 L1078,18578 L1078,18662 L593,18662 L593,18578 Z" /></clipPath>
<path d="M668,18633 L681,18633" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2151)" />
<clipPath id="clip2152"><path d="M593,18607 L671,18607 L671,18635 L593,18635 L593,18607 Z" /></clipPath>
<path d="M595,18633 L668,18633 Z M595,18633" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2152)" />
<text x="605" y="18624" style="font:10px Open Sans">基本概念</text>
<clipPath id="clip2153"><path d="M688,18578 L963,18578 L963,18608 L688,18608 L688,18578 Z" /></clipPath>
<path d="M690,18606 L960,18606 Z M690,18606" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2153)" />
<text x="700" y="18595" style="font:10px Open Sans">CDN将网络内容发布到靠近用户的边缘节点</text>
<clipPath id="clip2154"><path d="M688,18607 L1000,18607 L1000,18635 L688,18635 L688,18607 Z" /></clipPath>
<path d="M690,18633 L997,18633 Z M690,18633" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2154)" />
<text x="700" y="18624" style="font:10px Open Sans">不同地域的用户在访问相同的网页时可以就进获取</text>
<clipPath id="clip2155"><path d="M688,18634 L1078,18634 L1078,18662 L688,18662 L688,18634 Z" /></clipPath>
<path d="M690,18660 L1075,18660 Z M690,18660" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2155)" />
<text x="700" y="18651" style="font:10px Open Sans">可减轻原服务器的负担，减少整个网络中的流量分布不均的情况</text>
<clipPath id="clip2156"><path d="M594,18662 L1192,18662 L1192,19038 L594,19038 Z M595,18822 L595,18847 L696,18847 L696,18822 Z M595,18822 Z M595,18822" /></clipPath>
<path d="M709,18848 L709,18693 C709,18690.7929688 710.7929688,18689 713,18689 L718,18689" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2156)" />
<clipPath id="clip2157"><path d="M594,18662 L1192,18662 L1192,19038 L594,19038 Z M595,18822 L595,18847 L696,18847 L696,18822 Z M595,18822 Z M595,18822" /></clipPath>
<path d="M709,18848 L709,18722 C709,18719.7929688 710.7929688,18718 713,18718 L718,18718" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2157)" />
<clipPath id="clip2158"><path d="M594,18662 L1192,18662 L1192,19038 L594,19038 Z M595,18822 L595,18847 L696,18847 L696,18822 Z M595,18822 Z M595,18822" /></clipPath>
<path d="M709,18848 L709,18751 C709,18748.7929688 710.7929688,18747 713,18747 L718,18747" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2158)" />
<clipPath id="clip2159"><path d="M594,18662 L1192,18662 L1192,19038 L594,19038 Z M595,18822 L595,18847 L696,18847 L696,18822 Z M595,18822 Z M595,18822" /></clipPath>
<path d="M709,18848 L709,18780 C709,18777.7929688 710.7929688,18776 713,18776 L718,18776" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2159)" />
<clipPath id="clip2160"><path d="M594,18662 L1192,18662 L1192,19038 L594,19038 Z M595,18822 L595,18847 L696,18847 L696,18822 Z M595,18822 Z M595,18822" /></clipPath>
<path d="M709,18848 L709,18809 C709,18806.7929688 710.7929688,18805 713,18805 L718,18805" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2160)" />
<clipPath id="clip2161"><path d="M594,18662 L1192,18662 L1192,19038 L594,19038 Z M595,18822 L595,18847 L696,18847 L696,18822 Z M595,18822 Z M595,18822" /></clipPath>
<path d="M709,18848 L709,18838 C709,18835.7929688 710.7929688,18834 713,18834 L718,18834" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2161)" />
<clipPath id="clip2162"><path d="M594,18662 L1192,18662 L1192,19038 L594,19038 Z M595,18822 L595,18847 L696,18847 L696,18822 Z M595,18822 Z M595,18822" /></clipPath>
<path d="M709,18848 L709,18859 C709,18861.2070313 710.7929688,18863 713,18863 L718,18863" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2162)" />
<clipPath id="clip2163"><path d="M594,18662 L1192,18662 L1192,19038 L594,19038 Z M595,18822 L595,18847 L696,18847 L696,18822 Z M595,18822 Z M595,18822" /></clipPath>
<path d="M709,18848 L709,18888 C709,18890.2070313 710.7929688,18892 713,18892 L718,18892" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2163)" />
<clipPath id="clip2164"><path d="M594,18662 L1192,18662 L1192,19038 L594,19038 Z M595,18822 L595,18847 L696,18847 L696,18822 Z M595,18822 Z M595,18822" /></clipPath>
<path d="M709,18848 L709,18917 C709,18919.2070313 710.7929688,18921 713,18921 L718,18921" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2164)" />
<clipPath id="clip2165"><path d="M594,18662 L1192,18662 L1192,19038 L594,19038 Z M595,18822 L595,18847 L696,18847 L696,18822 Z M595,18822 Z M595,18822" /></clipPath>
<path d="M709,18848 L709,19004 C709,19006.2070313 710.7929688,19008 713,19008 L718,19008" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2165)" />
<clipPath id="clip2166"><path d="M593,18661 L1193,18661 L1193,19039 L593,19039 L593,18661 Z" /></clipPath>
<path d="M696,18848 L709,18848" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2166)" />
<clipPath id="clip2167"><path d="M593,18820 L699,18820 L699,18850 L593,18850 L593,18820 Z" /></clipPath>
<path d="M595,18848 L696,18848 Z M595,18848" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2167)" />
<text x="605" y="18837" style="font:10px Open Sans">淘宝CDN架构</text>
<clipPath id="clip2168"><path d="M716,18661 L906,18661 L906,18691 L716,18691 L716,18661 Z" /></clipPath>
<path d="M718,18689 L903,18689 Z M718,18689" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2168)" />
<text x="728" y="18678" style="font:10px Open Sans">图片存储在后台的TFS集群中</text>
<clipPath id="clip2169"><path d="M716,18690 L994,18690 L994,18720 L716,18720 L716,18690 Z" /></clipPath>
<path d="M718,18718 L991,18718 Z M718,18718" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2169)" />
<text x="728" y="18707" style="font:10px Open Sans">CDN采用两极Cache：L1-Cache和L2-Cache</text>
<clipPath id="clip2170"><path d="M716,18719 L1096,18719 L1096,18749 L716,18749 L716,18719 Z" /></clipPath>
<path d="M718,18747 L1093,18747 Z M718,18747" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2170)" />
<text x="728" y="18736" style="font:10px Open Sans">用户访问图片时，通过全局调度系统调度到某个L1-Cache节点</text>
<clipPath id="clip2171"><path d="M716,18748 L1193,18748 L1193,18778 L716,18778 L716,18748 Z" /></clipPath>
<path d="M718,18776 L1190,18776 Z M718,18776" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2171)" />
<text x="728" y="18765" style="font:10px Open Sans">如果L1-Cache命中则直接返回，否则请求L2-Cache并将图片缓存到L1-Cache中</text>
<clipPath id="clip2172"><path d="M716,18777 L1070,18777 L1070,18807 L716,18807 L716,18777 Z" /></clipPath>
<path d="M718,18805 L1067,18805 Z M718,18805" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2172)" />
<text x="728" y="18794" style="font:10px Open Sans">如果L2-Cache命中则直接返回，否则请求源服务器的集群</text>
<clipPath id="clip2173"><path d="M716,18806 L1063,18806 L1063,18836 L716,18836 L716,18806 Z" /></clipPath>
<path d="M718,18834 L1060,18834 Z M718,18834" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2173)" />
<text x="728" y="18823" style="font:10px Open Sans">每个图片服务器是Nginx服务器，它还会在本地缓存图片</text>
<clipPath id="clip2174"><path d="M716,18835 L1023,18835 L1023,18865 L716,18865 L716,18835 Z" /></clipPath>
<path d="M718,18863 L1020,18863 Z M718,18863" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2174)" />
<text x="728" y="18852" style="font:10px Open Sans">如果本地缓存不命中，这时才请求后端的TFS集群</text>
<clipPath id="clip2175"><path d="M716,18864 L1010,18864 L1010,18894 L716,18894 L716,18864 Z" /></clipPath>
<path d="M718,18892 L1007,18892 Z M718,18892" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2175)" />
<text x="728" y="18881" style="font:10px Open Sans">图片服务器集群和TFS集群在同一个数据中心内</text>
<clipPath id="clip2176"><path d="M716,18893 L1034,18893 L1034,18923 L716,18923 L716,18893 Z" /></clipPath>
<path d="M718,18921 L1031,18921 Z M718,18921" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2176)" />
<text x="728" y="18910" style="font:10px Open Sans">每个CDN节点通过LVS+Haproxy方式进行负载均衡</text>
<clipPath id="clip2177"><path d="M717,18923 L1141,18923 L1141,19038 L717,19038 Z M718,18984 L718,19007 L765,19007 L765,18984 Z M718,18984 Z M718,18984" /></clipPath>
<path d="M778,19008 L778,18983 C778,18980.7929688 779.7929688,18979 782,18979 L787,18979" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2177)" />
<clipPath id="clip2178"><path d="M717,18923 L1141,18923 L1141,19038 L717,19038 Z M718,18984 L718,19007 L765,19007 L765,18984 Z M718,18984 Z M718,18984" /></clipPath>
<path d="M778,19008 L778,19033 C778,19035.2070313 779.7929688,19037 782,19037 L787,19037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2178)" />
<clipPath id="clip2179"><path d="M716,18922 L1142,18922 L1142,19039 L716,19039 L716,18922 Z" /></clipPath>
<path d="M765,19008 L778,19008" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2179)" />
<clipPath id="clip2180"><path d="M716,18982 L768,18982 L768,19010 L716,19010 L716,18982 Z" /></clipPath>
<path d="M718,19008 L765,19008 Z M718,19008" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2180)" />
<text x="728" y="18999" style="font:10px Open Sans">特点</text>
<clipPath id="clip2181"><path d="M786,18923 L935,18923 L935,19009 L786,19009 Z M787,18955 L787,18978 L860,18978 L860,18955 Z M787,18955 Z M787,18955" /></clipPath>
<path d="M873,18979 L873,18954 C873,18951.7929688 874.7929688,18950 877,18950 L882,18950" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2181)" />
<clipPath id="clip2182"><path d="M786,18923 L935,18923 L935,19009 L786,19009 Z M787,18955 L787,18978 L860,18978 L860,18955 Z M787,18955 Z M787,18955" /></clipPath>
<path d="M873,18979 C873,18979 874.7929688,18979 877,18979 L882,18979" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2182)" />
<clipPath id="clip2183"><path d="M786,18923 L935,18923 L935,19009 L786,19009 Z M787,18955 L787,18978 L860,18978 L860,18955 Z M787,18955 Z M787,18955" /></clipPath>
<path d="M873,18979 L873,19004 C873,19006.2070313 874.7929688,19008 877,19008 L882,19008" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2183)" />
<clipPath id="clip2184"><path d="M785,18922 L936,18922 L936,19010 L785,19010 L785,18922 Z" /></clipPath>
<path d="M860,18979 L873,18979" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2184)" />
<clipPath id="clip2185"><path d="M785,18953 L863,18953 L863,18981 L785,18981 L785,18953 Z" /></clipPath>
<path d="M787,18979 L860,18979 Z M787,18979" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2185)" />
<text x="797" y="18970" style="font:10px Open Sans">分级存储</text>
<clipPath id="clip2186"><path d="M880,18922 L930,18922 L930,18952 L880,18952 L880,18922 Z" /></clipPath>
<path d="M882,18950 L927,18950 Z M882,18950" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2186)" />
<text x="892" y="18939" style="font:10px Open Sans">SSD</text>
<clipPath id="clip2187"><path d="M880,18951 L928,18951 L928,18981 L880,18981 L880,18951 Z" /></clipPath>
<path d="M882,18979 L925,18979 Z M882,18979" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2187)" />
<text x="892" y="18968" style="font:10px Open Sans">SAS</text>
<clipPath id="clip2188"><path d="M880,18980 L936,18980 L936,19010 L880,19010 L880,18980 Z" /></clipPath>
<path d="M882,19008 L933,19008 Z M882,19008" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2188)" />
<text x="892" y="18997" style="font:10px Open Sans">SATA</text>
<clipPath id="clip2189"><path d="M786,19010 L1141,19010 L1141,19038 L786,19038 Z M787,19013 L787,19036 L912,19036 L912,19013 Z M787,19013 Z M787,19013" /></clipPath>
<path d="M925,19037 C925,19037 926.7929688,19037 929,19037 L934,19037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2189)" />
<clipPath id="clip2190"><path d="M785,19009 L1142,19009 L1142,19039 L785,19039 L785,19009 Z" /></clipPath>
<path d="M912,19037 L925,19037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2190)" />
<clipPath id="clip2191"><path d="M785,19011 L915,19011 L915,19039 L785,19039 L785,19011 Z" /></clipPath>
<path d="M787,19037 L912,19037 Z M787,19037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2191)" />
<text x="797" y="19028" style="font:10px Open Sans">定制低功耗服务器</text>
<clipPath id="clip2192"><path d="M932,19009 L1142,19009 L1142,19039 L932,19039 L932,19009 Z" /></clipPath>
<path d="M934,19037 L1139,19037 Z M934,19037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2192)" />
<text x="944" y="19026" style="font:10px Open Sans">IO密集型，选用Intel Atom CPU</text>
<clipPath id="clip2193"><path d="M593,19038 L645,19038 L645,19066 L593,19066 L593,19038 Z" /></clipPath>
<path d="M595,19064 L642,19064 Z M595,19064" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2193)" />
<text x="605" y="19055" style="font:10px Open Sans">讨论</text>
<clipPath id="clip2194"><path d="M389,19066 L1556,19066 L1556,22956 L389,22956 Z M390,21411 L390,21434 L502,21434 L502,21411 Z M390,21411 Z M390,21411" /></clipPath>
<path d="M515,21435 L515,20481 C515,20478.7929688 516.7929688,20477 519,20477 L524,20477" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2194)" />
<clipPath id="clip2195"><path d="M389,19066 L1556,19066 L1556,22956 L389,22956 Z M390,21411 L390,21434 L502,21434 L502,21411 Z M390,21411 Z M390,21411" /></clipPath>
<path d="M515,21435 L515,22390 C515,22392.2070313 516.7929688,22394 519,22394 L524,22394" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2195)" />
<clipPath id="clip2196"><path d="M388,19065 L1557,19065 L1557,22957 L388,22957 L388,19065 Z" /></clipPath>
<path d="M502,21435 L515,21435" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2196)" />
<clipPath id="clip2197"><path d="M388,21409 L505,21409 L505,21437 L388,21437 L388,21409 Z" /></clipPath>
<path d="M390,21435 L502,21435 Z M390,21435" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2197)" />
<text x="400" y="21425" style="font:10px Open Sans">分布式键值系统</text>
<clipPath id="clip2198"><path d="M523,19066 L1556,19066 L1556,21818 L523,21818 Z M524,20451 L524,20476 L597,20476 L597,20451 Z M524,20451 Z M524,20451" /></clipPath>
<path d="M610,20477 L610,19185 C610,19182.7929688 611.7929688,19181 614,19181 L619,19181" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2198)" />
<clipPath id="clip2199"><path d="M523,19066 L1556,19066 L1556,21818 L523,21818 Z M524,20451 L524,20476 L597,20476 L597,20451 Z M524,20451 Z M524,20451" /></clipPath>
<path d="M610,20477 L610,19532 C610,19529.7929688 611.7929688,19528 614,19528 L619,19528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2199)" />
<clipPath id="clip2200"><path d="M523,19066 L1556,19066 L1556,21818 L523,21818 Z M524,20451 L524,20476 L597,20476 L597,20451 Z M524,20451 Z M524,20451" /></clipPath>
<path d="M610,20477 L610,20147 C610,20144.7929688 611.7929688,20143 614,20143 L619,20143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2200)" />
<clipPath id="clip2201"><path d="M523,19066 L1556,19066 L1556,21818 L523,21818 Z M524,20451 L524,20476 L597,20476 L597,20451 Z M524,20451 Z M524,20451" /></clipPath>
<path d="M610,20477 L610,20689 C610,20691.2070313 611.7929688,20693 614,20693 L619,20693" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2201)" />
<clipPath id="clip2202"><path d="M523,19066 L1556,19066 L1556,21818 L523,21818 Z M524,20451 L524,20476 L597,20476 L597,20451 Z M524,20451 Z M524,20451" /></clipPath>
<path d="M610,20477 L610,21038 C610,21040.2070313 611.7929688,21042 614,21042 L619,21042" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2202)" />
<clipPath id="clip2203"><path d="M523,19066 L1556,19066 L1556,21818 L523,21818 Z M524,20451 L524,20476 L597,20476 L597,20451 Z M524,20451 Z M524,20451" /></clipPath>
<path d="M610,20477 L610,21379 C610,21381.2070313 611.7929688,21383 614,21383 L619,21383" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2203)" />
<clipPath id="clip2204"><path d="M523,19066 L1556,19066 L1556,21818 L523,21818 Z M524,20451 L524,20476 L597,20476 L597,20451 Z M524,20451 Z M524,20451" /></clipPath>
<path d="M610,20477 L610,21642 C610,21644.2070313 611.7929688,21646 614,21646 L619,21646" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2204)" />
<clipPath id="clip2205"><path d="M523,19066 L1556,19066 L1556,21818 L523,21818 Z M524,20451 L524,20476 L597,20476 L597,20451 Z M524,20451 Z M524,20451" /></clipPath>
<path d="M610,20477 L610,21770 C610,21772.2070313 611.7929688,21774 614,21774 L619,21774" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2205)" />
<clipPath id="clip2206"><path d="M522,19065 L1557,19065 L1557,21819 L522,21819 L522,19065 Z" /></clipPath>
<path d="M597,20477 L610,20477" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2206)" />
<clipPath id="clip2207"><path d="M522,20449 L600,20449 L600,20479 L522,20479 L522,20449 Z" /></clipPath>
<path d="M524,20477 L597,20477 Z M524,20477" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2207)" />
<text x="534" y="20466" style="font:10px Open Sans">Dynamo</text>
<clipPath id="clip2208"><path d="M618,19066 L1332,19066 L1332,19343 L618,19343 Z M619,19157 L619,19180 L692,19180 L692,19157 Z M619,19157 Z M619,19157" /></clipPath>
<path d="M705,19181 L705,19095 C705,19092.7929688 706.7929688,19091 709,19091 L714,19091" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2208)" />
<clipPath id="clip2209"><path d="M618,19066 L1332,19066 L1332,19343 L618,19343 Z M619,19157 L619,19180 L692,19180 L692,19157 Z M619,19157 Z M619,19157" /></clipPath>
<path d="M705,19181 L705,19122 C705,19119.7929688 706.7929688,19118 709,19118 L714,19118" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2209)" />
<clipPath id="clip2210"><path d="M618,19066 L1332,19066 L1332,19343 L618,19343 Z M619,19157 L619,19180 L692,19180 L692,19157 Z M619,19157 Z M619,19157" /></clipPath>
<path d="M705,19181 L705,19149 C705,19146.7929688 706.7929688,19145 709,19145 L714,19145" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2210)" />
<clipPath id="clip2211"><path d="M618,19066 L1332,19066 L1332,19343 L618,19343 Z M619,19157 L619,19180 L692,19180 L692,19157 Z M619,19157 Z M619,19157" /></clipPath>
<path d="M705,19181 L705,19178 C705,19175.7929688 706.7929688,19174 709,19174 L714,19174" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2211)" />
<clipPath id="clip2212"><path d="M618,19066 L1332,19066 L1332,19343 L618,19343 Z M619,19157 L619,19180 L692,19180 L692,19157 Z M619,19157 Z M619,19157" /></clipPath>
<path d="M705,19181 L705,19267 C705,19269.2070313 706.7929688,19271 709,19271 L714,19271" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2212)" />
<clipPath id="clip2213"><path d="M617,19065 L1333,19065 L1333,19344 L617,19344 L617,19065 Z" /></clipPath>
<path d="M692,19181 L705,19181" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2213)" />
<clipPath id="clip2214"><path d="M617,19155 L695,19155 L695,19183 L617,19183 L617,19155 Z" /></clipPath>
<path d="M619,19181 L692,19181 Z M619,19181" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2214)" />
<text x="629" y="19172" style="font:10px Open Sans">基本概念</text>
<clipPath id="clip2215"><path d="M712,19065 L907,19065 L907,19093 L712,19093 L712,19065 Z" /></clipPath>
<path d="M714,19091 L904,19091 Z M714,19091" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2215)" />
<text x="724" y="19082" style="font:10px Open Sans">以很简单的键值方式存储数据</text>
<clipPath id="clip2216"><path d="M712,19092 L842,19092 L842,19120 L712,19120 L712,19092 Z" /></clipPath>
<path d="M714,19118 L839,19118 Z M714,19118" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2216)" />
<text x="724" y="19109" style="font:10px Open Sans">不支持复杂的查询</text>
<clipPath id="clip2217"><path d="M712,19119 L1011,19119 L1011,19147 L712,19147 L712,19119 Z" /></clipPath>
<path d="M714,19145 L1008,19145 Z M714,19145" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2217)" />
<text x="724" y="19136" style="font:10px Open Sans">存储的是数据值的原始形式，不解析数据的内容</text>
<clipPath id="clip2218"><path d="M712,19146 L984,19146 L984,19176 L712,19176 L712,19146 Z" /></clipPath>
<path d="M714,19174 L981,19174 Z M714,19174" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2218)" />
<text x="724" y="19163" style="font:10px Open Sans">主要用于Amazon的购物车和S3云存储服务</text>
<clipPath id="clip2219"><path d="M713,19176 L1332,19176 L1332,19343 L713,19343 Z M714,19247 L714,19270 L904,19270 L904,19247 Z M714,19247 Z M714,19247" /></clipPath>
<path d="M917,19271 L917,19205 C917,19202.7929688 918.7929688,19201 921,19201 L926,19201" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2219)" />
<clipPath id="clip2220"><path d="M713,19176 L1332,19176 L1332,19343 L713,19343 Z M714,19247 L714,19270 L904,19270 L904,19247 Z M714,19247 Z M714,19247" /></clipPath>
<path d="M917,19271 L917,19234 C917,19231.7929688 918.7929688,19230 921,19230 L926,19230" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2220)" />
<clipPath id="clip2221"><path d="M713,19176 L1332,19176 L1332,19343 L713,19343 Z M714,19247 L714,19270 L904,19270 L904,19247 Z M714,19247 Z M714,19247" /></clipPath>
<path d="M917,19271 L917,19261 C917,19258.7929688 918.7929688,19257 921,19257 L926,19257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2221)" />
<clipPath id="clip2222"><path d="M713,19176 L1332,19176 L1332,19343 L713,19343 Z M714,19247 L714,19270 L904,19270 L904,19247 Z M714,19247 Z M714,19247" /></clipPath>
<path d="M917,19271 L917,19280 C917,19282.2070313 918.7929688,19284 921,19284 L926,19284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2222)" />
<clipPath id="clip2223"><path d="M713,19176 L1332,19176 L1332,19343 L713,19343 Z M714,19247 L714,19270 L904,19270 L904,19247 Z M714,19247 Z M714,19247" /></clipPath>
<path d="M917,19271 L917,19309 C917,19311.2070313 918.7929688,19313 921,19313 L926,19313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2223)" />
<clipPath id="clip2224"><path d="M713,19176 L1332,19176 L1332,19343 L713,19343 Z M714,19247 L714,19270 L904,19270 L904,19247 Z M714,19247 Z M714,19247" /></clipPath>
<path d="M917,19271 L917,19338 C917,19340.2070313 918.7929688,19342 921,19342 L926,19342" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2224)" />
<clipPath id="clip2225"><path d="M712,19175 L1333,19175 L1333,19344 L712,19344 L712,19175 Z" /></clipPath>
<path d="M904,19271 L917,19271" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2225)" />
<clipPath id="clip2226"><path d="M712,19245 L907,19245 L907,19273 L712,19273 L712,19245 Z" /></clipPath>
<path d="M714,19271 L904,19271 Z M714,19271" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2226)" />
<text x="724" y="19262" style="font:10px Open Sans">设计时面临的问题及解决方案</text>
<clipPath id="clip2227"><path d="M925,19176 L1226,19176 L1226,19202 L925,19202 Z M926,19177 L926,19200 L999,19200 L999,19177 Z M926,19177 Z M926,19177" /></clipPath>
<path d="M1012,19201 C1012,19201 1013.7929688,19201 1016,19201 L1021,19201" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2227)" />
<clipPath id="clip2228"><path d="M924,19175 L1227,19175 L1227,19203 L924,19203 L924,19175 Z" /></clipPath>
<path d="M999,19201 L1012,19201" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2228)" />
<clipPath id="clip2229"><path d="M924,19175 L1002,19175 L1002,19203 L924,19203 L924,19175 Z" /></clipPath>
<path d="M926,19201 L999,19201 Z M926,19201" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2229)" />
<text x="936" y="19192" style="font:10px Open Sans">数据分布</text>
<clipPath id="clip2230"><path d="M1019,19175 L1227,19175 L1227,19203 L1019,19203 L1019,19175 Z" /></clipPath>
<path d="M1021,19201 L1224,19201 Z M1021,19201" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2230)" />
<text x="1031" y="19192" style="font:10px Open Sans">改进的一致性哈希（虚拟节点）</text>
<clipPath id="clip2231"><path d="M925,19203 L1191,19203 L1191,19231 L925,19231 Z M926,19206 L926,19229 L999,19229 L999,19206 Z M926,19206 Z M926,19206" /></clipPath>
<path d="M1012,19230 C1012,19230 1013.7929688,19230 1016,19230 L1021,19230" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2231)" />
<clipPath id="clip2232"><path d="M924,19202 L1192,19202 L1192,19232 L924,19232 L924,19202 Z" /></clipPath>
<path d="M999,19230 L1012,19230" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2232)" />
<clipPath id="clip2233"><path d="M924,19204 L1002,19204 L1002,19232 L924,19232 L924,19204 Z" /></clipPath>
<path d="M926,19230 L999,19230 Z M926,19230" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2233)" />
<text x="936" y="19221" style="font:10px Open Sans">复制协议</text>
<clipPath id="clip2234"><path d="M1019,19202 L1192,19202 L1192,19232 L1019,19232 L1019,19202 Z" /></clipPath>
<path d="M1021,19230 L1189,19230 Z M1021,19230" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2234)" />
<text x="1031" y="19219" style="font:10px Open Sans">复制写协议（NWR可调）</text>
<clipPath id="clip2235"><path d="M925,19232 L1122,19232 L1122,19258 L925,19258 Z M926,19233 L926,19256 L1025,19256 L1025,19233 Z M926,19233 Z M926,19233" /></clipPath>
<path d="M1038,19257 C1038,19257 1039.7929688,19257 1042,19257 L1047,19257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2235)" />
<clipPath id="clip2236"><path d="M924,19231 L1123,19231 L1123,19259 L924,19259 L924,19231 Z" /></clipPath>
<path d="M1025,19257 L1038,19257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2236)" />
<clipPath id="clip2237"><path d="M924,19231 L1028,19231 L1028,19259 L924,19259 L924,19231 Z" /></clipPath>
<path d="M926,19257 L1025,19257 Z M926,19257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2237)" />
<text x="936" y="19248" style="font:10px Open Sans">数据冲突处理</text>
<clipPath id="clip2238"><path d="M1045,19231 L1123,19231 L1123,19259 L1045,19259 L1045,19231 Z" /></clipPath>
<path d="M1047,19257 L1120,19257 Z M1047,19257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2238)" />
<text x="1057" y="19248" style="font:10px Open Sans">向量时钟</text>
<clipPath id="clip2239"><path d="M925,19259 L1148,19259 L1148,19285 L925,19285 Z M926,19260 L926,19283 L1025,19283 L1025,19260 Z M926,19260 Z M926,19260" /></clipPath>
<path d="M1038,19284 C1038,19284 1039.7929688,19284 1042,19284 L1047,19284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2239)" />
<clipPath id="clip2240"><path d="M924,19258 L1149,19258 L1149,19286 L924,19286 L924,19258 Z" /></clipPath>
<path d="M1025,19284 L1038,19284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2240)" />
<clipPath id="clip2241"><path d="M924,19258 L1028,19258 L1028,19286 L924,19286 L924,19258 Z" /></clipPath>
<path d="M926,19284 L1025,19284 Z M926,19284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2241)" />
<text x="936" y="19275" style="font:10px Open Sans">临时故障处理</text>
<clipPath id="clip2242"><path d="M1045,19258 L1149,19258 L1149,19286 L1045,19286 L1045,19258 Z" /></clipPath>
<path d="M1047,19284 L1146,19284 Z M1047,19284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2242)" />
<text x="1057" y="19275" style="font:10px Open Sans">数据回传机制</text>
<clipPath id="clip2243"><path d="M925,19286 L1171,19286 L1171,19314 L925,19314 Z M926,19289 L926,19312 L1051,19312 L1051,19289 Z M926,19289 Z M926,19289" /></clipPath>
<path d="M1064,19313 C1064,19313 1065.7929688,19313 1068,19313 L1073,19313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2243)" />
<clipPath id="clip2244"><path d="M924,19285 L1172,19285 L1172,19315 L924,19315 L924,19285 Z" /></clipPath>
<path d="M1051,19313 L1064,19313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2244)" />
<clipPath id="clip2245"><path d="M924,19287 L1054,19287 L1054,19315 L924,19315 L924,19287 Z" /></clipPath>
<path d="M926,19313 L1051,19313 Z M926,19313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2245)" />
<text x="936" y="19304" style="font:10px Open Sans">永久故障后的恢复</text>
<clipPath id="clip2246"><path d="M1071,19285 L1172,19285 L1172,19315 L1071,19315 L1071,19285 Z" /></clipPath>
<path d="M1073,19313 L1169,19313 Z M1073,19313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2246)" />
<text x="1083" y="19302" style="font:10px Open Sans">Mekle哈希树</text>
<clipPath id="clip2247"><path d="M925,19315 L1332,19315 L1332,19343 L925,19343 Z M926,19318 L926,19341 L1064,19341 L1064,19318 Z M926,19318 Z M926,19318" /></clipPath>
<path d="M1077,19342 C1077,19342 1078.7929688,19342 1081,19342 L1086,19342" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2247)" />
<clipPath id="clip2248"><path d="M924,19314 L1333,19314 L1333,19344 L924,19344 L924,19314 Z" /></clipPath>
<path d="M1064,19342 L1077,19342" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2248)" />
<clipPath id="clip2249"><path d="M924,19316 L1067,19316 L1067,19344 L924,19344 L924,19316 Z" /></clipPath>
<path d="M926,19342 L1064,19342 Z M926,19342" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2249)" />
<text x="936" y="19333" style="font:10px Open Sans">成员资格及错误检测</text>
<clipPath id="clip2250"><path d="M1084,19314 L1333,19314 L1333,19344 L1084,19344 L1084,19314 Z" /></clipPath>
<path d="M1086,19342 L1330,19342 Z M1086,19342" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2250)" />
<text x="1096" y="19331" style="font:10px Open Sans">基于Gossip的成员资格和错误检测协议</text>
<clipPath id="clip2251"><path d="M618,19344 L1556,19344 L1556,19810 L618,19810 Z M619,19504 L619,19527 L692,19527 L692,19504 Z M619,19504 Z M619,19504" /></clipPath>
<path d="M705,19528 L705,19402 C705,19399.7929688 706.7929688,19398 709,19398 L714,19398" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2251)" />
<clipPath id="clip2252"><path d="M618,19344 L1556,19344 L1556,19810 L618,19810 Z M619,19504 L619,19527 L692,19527 L692,19504 Z M619,19504 Z M619,19504" /></clipPath>
<path d="M705,19528 L705,19483 C705,19480.7929688 706.7929688,19479 709,19479 L714,19479" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2252)" />
<clipPath id="clip2253"><path d="M618,19344 L1556,19344 L1556,19810 L618,19810 Z M619,19504 L619,19527 L692,19527 L692,19504 Z M619,19504 Z M619,19504" /></clipPath>
<path d="M705,19528 L705,19655 C705,19657.2070313 706.7929688,19659 709,19659 L714,19659" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2253)" />
<clipPath id="clip2254"><path d="M617,19343 L1557,19343 L1557,19811 L617,19811 L617,19343 Z" /></clipPath>
<path d="M692,19528 L705,19528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2254)" />
<clipPath id="clip2255"><path d="M617,19502 L695,19502 L695,19530 L617,19530 L617,19502 Z" /></clipPath>
<path d="M619,19528 L692,19528 Z M619,19528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2255)" />
<text x="629" y="19519" style="font:10px Open Sans">数据分布</text>
<clipPath id="clip2256"><path d="M713,19344 L1469,19344 L1469,19426 L713,19426 Z M714,19374 L714,19397 L865,19397 L865,19374 Z M714,19374 Z M714,19374" /></clipPath>
<path d="M878,19398 L878,19375 C878,19372.7929688 879.7929688,19371 882,19371 L887,19371" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2256)" />
<clipPath id="clip2257"><path d="M713,19344 L1469,19344 L1469,19426 L713,19426 Z M714,19374 L714,19397 L865,19397 L865,19374 Z M714,19374 Z M714,19374" /></clipPath>
<path d="M878,19398 C878,19398 879.7929688,19398 882,19398 L887,19398" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2257)" />
<clipPath id="clip2258"><path d="M713,19344 L1469,19344 L1469,19426 L713,19426 Z M714,19374 L714,19397 L865,19397 L865,19374 Z M714,19374 Z M714,19374" /></clipPath>
<path d="M878,19398 L878,19421 C878,19423.2070313 879.7929688,19425 882,19425 L887,19425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2258)" />
<clipPath id="clip2259"><path d="M712,19343 L1470,19343 L1470,19427 L712,19427 L712,19343 Z" /></clipPath>
<path d="M865,19398 L878,19398" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2259)" />
<clipPath id="clip2260"><path d="M712,19372 L868,19372 L868,19400 L712,19400 L712,19372 Z" /></clipPath>
<path d="M714,19398 L865,19398 Z M714,19398" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2260)" />
<text x="724" y="19389" style="font:10px Open Sans">改进的一致性哈希算法</text>
<clipPath id="clip2261"><path d="M885,19343 L1355,19343 L1355,19373 L885,19373 L885,19343 Z" /></clipPath>
<path d="M887,19371 L1352,19371 Z M887,19371" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2261)" />
<text x="897" y="19360" style="font:10px Open Sans">每个物理节点根据性能的差异分配多个token，每个token对应一个“虚拟节点”</text>
<clipPath id="clip2262"><path d="M885,19372 L1262,19372 L1262,19400 L885,19400 L885,19372 Z" /></clipPath>
<path d="M887,19398 L1259,19398 Z M887,19398" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2262)" />
<text x="897" y="19389" style="font:10px Open Sans">每个虚拟节点的处理能力基本相当，并随机分布在哈希空间中</text>
<clipPath id="clip2263"><path d="M885,19399 L1470,19399 L1470,19427 L885,19427 L885,19399 Z" /></clipPath>
<path d="M887,19425 L1467,19425 Z M887,19425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2263)" />
<text x="897" y="19416" style="font:10px Open Sans">存储时，数据按照哈希值落到某个虚拟节点负责的区域，然后存储在该虚拟节点对应的物理节点中</text>
<clipPath id="clip2264"><path d="M713,19427 L1235,19427 L1235,19507 L713,19507 Z M714,19455 L714,19478 L787,19478 L787,19455 Z M714,19455 Z M714,19455" /></clipPath>
<path d="M800,19479 L800,19456 C800,19453.7929688 801.7929688,19452 804,19452 L809,19452" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2264)" />
<clipPath id="clip2265"><path d="M713,19427 L1235,19427 L1235,19507 L713,19507 Z M714,19455 L714,19478 L787,19478 L787,19455 Z M714,19455 Z M714,19455" /></clipPath>
<path d="M800,19479 C800,19479 801.7929688,19479 804,19479 L809,19479" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2265)" />
<clipPath id="clip2266"><path d="M713,19427 L1235,19427 L1235,19507 L713,19507 Z M714,19455 L714,19478 L787,19478 L787,19455 Z M714,19455 Z M714,19455" /></clipPath>
<path d="M800,19479 L800,19502 C800,19504.2070313 801.7929688,19506 804,19506 L809,19506" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2266)" />
<clipPath id="clip2267"><path d="M712,19426 L1236,19426 L1236,19508 L712,19508 L712,19426 Z" /></clipPath>
<path d="M787,19479 L800,19479" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2267)" />
<clipPath id="clip2268"><path d="M712,19453 L790,19453 L790,19481 L712,19481 L712,19453 Z" /></clipPath>
<path d="M714,19479 L787,19479 Z M714,19479" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2268)" />
<text x="724" y="19470" style="font:10px Open Sans">数据定位</text>
<clipPath id="clip2269"><path d="M807,19426 L1236,19426 L1236,19454 L807,19454 L807,19426 Z" /></clipPath>
<path d="M809,19452 L1233,19452 Z M809,19452" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2269)" />
<text x="819" y="19443" style="font:10px Open Sans">为了找到数据所属的节点，要求每个节点维护一定的集群信息用于定位</text>
<clipPath id="clip2270"><path d="M807,19453 L1002,19453 L1002,19481 L807,19481 L807,19453 Z" /></clipPath>
<path d="M809,19479 L999,19479 Z M809,19479" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2270)" />
<text x="819" y="19470" style="font:10px Open Sans">客户端也缓存整个集群的信息</text>
<clipPath id="clip2271"><path d="M807,19480 L1067,19480 L1067,19508 L807,19508 L807,19480 Z" /></clipPath>
<path d="M809,19506 L1064,19506 Z M809,19506" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2271)" />
<text x="819" y="19497" style="font:10px Open Sans">绝大部分请求能够一次性定位到目标节点</text>
<clipPath id="clip2272"><path d="M713,19508 L1556,19508 L1556,19810 L713,19810 Z M714,19635 L714,19658 L852,19658 L852,19635 Z M714,19635 Z M714,19635" /></clipPath>
<path d="M865,19659 L865,19556 C865,19553.7929688 866.7929688,19552 869,19552 L874,19552" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2272)" />
<clipPath id="clip2273"><path d="M713,19508 L1556,19508 L1556,19810 L713,19810 Z M714,19635 L714,19658 L852,19658 L852,19635 Z M714,19635 Z M714,19635" /></clipPath>
<path d="M865,19659 L865,19621 C865,19618.7929688 866.7929688,19617 869,19617 L874,19617" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2273)" />
<clipPath id="clip2274"><path d="M713,19508 L1556,19508 L1556,19810 L713,19810 Z M714,19635 L714,19658 L852,19658 L852,19635 Z M714,19635 Z M714,19635" /></clipPath>
<path d="M865,19659 L865,19762 C865,19764.2070313 866.7929688,19766 869,19766 L874,19766" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2274)" />
<clipPath id="clip2275"><path d="M712,19507 L1557,19507 L1557,19811 L712,19811 L712,19507 Z" /></clipPath>
<path d="M852,19659 L865,19659" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2275)" />
<clipPath id="clip2276"><path d="M712,19633 L855,19633 L855,19661 L712,19661 L712,19633 Z" /></clipPath>
<path d="M714,19659 L852,19659 Z M714,19659" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2276)" />
<text x="724" y="19650" style="font:10px Open Sans">节点的集群信息同步</text>
<clipPath id="clip2277"><path d="M872,19507 L1395,19507 L1395,19554 L872,19554 L872,19507 Z" /></clipPath>
<path d="M874,19552 L1392,19552 Z M874,19552" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2277)" />
<text x="884" y="19524" style="font:10px Open Sans">所有节点每隔固定时间（比如1s）通过Gossip协议的方式从其他任何节点中选择一个与</text>
<text x="884" y="19543" style="font:10px Open Sans">之通信的节点，如果连接成功，双方交换各自保存的集群信息</text>
<clipPath id="clip2278"><path d="M873,19554 L1556,19554 L1556,19698 L873,19698 Z M874,19591 L874,19616 L962,19616 L962,19591 Z M874,19591 Z M874,19591" /></clipPath>
<path d="M975,19617 L975,19585 C975,19582.7929688 976.7929688,19581 979,19581 L984,19581" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2278)" />
<clipPath id="clip2279"><path d="M873,19554 L1556,19554 L1556,19698 L873,19698 Z M874,19591 L874,19616 L962,19616 L962,19591 Z M874,19591 Z M874,19591" /></clipPath>
<path d="M975,19617 L975,19649 C975,19651.2070313 976.7929688,19653 979,19653 L984,19653" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2279)" />
<clipPath id="clip2280"><path d="M872,19553 L1557,19553 L1557,19699 L872,19699 L872,19553 Z" /></clipPath>
<path d="M962,19617 L975,19617" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2280)" />
<clipPath id="clip2281"><path d="M872,19589 L965,19589 L965,19619 L872,19619 L872,19589 Z" /></clipPath>
<path d="M874,19617 L962,19617 Z M874,19617" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2281)" />
<text x="884" y="19606" style="font:10px Open Sans">Gosspi协议</text>
<clipPath id="clip2282"><path d="M982,19553 L1292,19553 L1292,19583 L982,19583 L982,19553 Z" /></clipPath>
<path d="M984,19581 L1289,19581 Z M984,19581" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2282)" />
<text x="994" y="19570" style="font:10px Open Sans">用于P2P系统中自治的节点协调对整个集群的认识</text>
<clipPath id="clip2283"><path d="M983,19583 L1556,19583 L1556,19698 L983,19698 Z M984,19629 L984,19652 L1057,19652 L1057,19629 Z M984,19629 Z M984,19629" /></clipPath>
<path d="M1070,19653 L1070,19614 C1070,19611.7929688 1071.7929688,19610 1074,19610 L1079,19610" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2283)" />
<clipPath id="clip2284"><path d="M983,19583 L1556,19583 L1556,19698 L983,19698 Z M984,19629 L984,19652 L1057,19652 L1057,19629 Z M984,19629 Z M984,19629" /></clipPath>
<path d="M1070,19653 L1070,19643 C1070,19640.7929688 1071.7929688,19639 1074,19639 L1079,19639" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2284)" />
<clipPath id="clip2285"><path d="M983,19583 L1556,19583 L1556,19698 L983,19698 Z M984,19629 L984,19652 L1057,19652 L1057,19629 Z M984,19629 Z M984,19629" /></clipPath>
<path d="M1070,19653 L1070,19664 C1070,19666.2070313 1071.7929688,19668 1074,19668 L1079,19668" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2285)" />
<clipPath id="clip2286"><path d="M983,19583 L1556,19583 L1556,19698 L983,19698 Z M984,19629 L984,19652 L1057,19652 L1057,19629 Z M984,19629 Z M984,19629" /></clipPath>
<path d="M1070,19653 L1070,19693 C1070,19695.2070313 1071.7929688,19697 1074,19697 L1079,19697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2286)" />
<clipPath id="clip2287"><path d="M982,19582 L1557,19582 L1557,19699 L982,19699 L982,19582 Z" /></clipPath>
<path d="M1057,19653 L1070,19653" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2287)" />
<clipPath id="clip2288"><path d="M982,19627 L1060,19627 L1060,19655 L982,19655 L982,19627 Z" /></clipPath>
<path d="M984,19653 L1057,19653 Z M984,19653" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2288)" />
<text x="994" y="19644" style="font:10px Open Sans">基本原理</text>
<clipPath id="clip2289"><path d="M1077,19582 L1499,19582 L1499,19612 L1077,19612 L1077,19582 Z" /></clipPath>
<path d="M1079,19610 L1496,19610 Z M1079,19610" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2289)" />
<text x="1089" y="19599" style="font:10px Open Sans">A告诉B其管理的所有节点的版本（包括Down状态和Up状态的节点）</text>
<clipPath id="clip2290"><path d="M1077,19611 L1557,19611 L1557,19641 L1077,19641 L1077,19611 Z" /></clipPath>
<path d="M1079,19639 L1554,19639 Z M1079,19639" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2290)" />
<text x="1089" y="19628" style="font:10px Open Sans">B告诉A哪些版本它比较旧，哪些版本它有最新的，然后把最新的那些节点发给A</text>
<clipPath id="clip2291"><path d="M1077,19640 L1502,19640 L1502,19670 L1077,19670 L1077,19640 Z" /></clipPath>
<path d="M1079,19668 L1499,19668 Z M1079,19668" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2291)" />
<text x="1089" y="19657" style="font:10px Open Sans">A将B中比较旧的版本发送给B，同时B发来最新的节点信息做本地更新</text>
<clipPath id="clip2292"><path d="M1077,19669 L1484,19669 L1484,19699 L1077,19699 L1077,19669 Z" /></clipPath>
<path d="M1079,19697 L1481,19697 Z M1079,19697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2292)" />
<text x="1089" y="19686" style="font:10px Open Sans">B收到A发来的最新节点信息后，对本地缓存的比较旧的节点做更新</text>
<clipPath id="clip2293"><path d="M873,19699 L1474,19699 L1474,19810 L873,19810 Z M874,19742 L874,19765 L947,19765 L947,19742 Z M874,19742 Z M874,19742" /></clipPath>
<path d="M960,19766 L960,19728 C960,19725.7929688 961.7929688,19724 964,19724 L969,19724" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2293)" />
<clipPath id="clip2294"><path d="M873,19699 L1474,19699 L1474,19810 L873,19810 Z M874,19742 L874,19765 L947,19765 L947,19742 Z M874,19742 Z M874,19742" /></clipPath>
<path d="M960,19766 L960,19757 C960,19754.7929688 961.7929688,19753 964,19753 L969,19753" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2294)" />
<clipPath id="clip2295"><path d="M873,19699 L1474,19699 L1474,19810 L873,19810 Z M874,19742 L874,19765 L947,19765 L947,19742 Z M874,19742 Z M874,19742" /></clipPath>
<path d="M960,19766 L960,19778 C960,19780.2070313 961.7929688,19782 964,19782 L969,19782" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2295)" />
<clipPath id="clip2296"><path d="M873,19699 L1474,19699 L1474,19810 L873,19810 Z M874,19742 L874,19765 L947,19765 L947,19742 Z M874,19742 Z M874,19742" /></clipPath>
<path d="M960,19766 L960,19805 C960,19807.2070313 961.7929688,19809 964,19809 L969,19809" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2296)" />
<clipPath id="clip2297"><path d="M872,19698 L1475,19698 L1475,19811 L872,19811 L872,19698 Z" /></clipPath>
<path d="M947,19766 L960,19766" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2297)" />
<clipPath id="clip2298"><path d="M872,19740 L950,19740 L950,19768 L872,19768 L872,19740 Z" /></clipPath>
<path d="M874,19766 L947,19766 Z M874,19766" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2298)" />
<text x="884" y="19757" style="font:10px Open Sans">集群更新</text>
<clipPath id="clip2299"><path d="M967,19698 L1383,19698 L1383,19726 L967,19726 L967,19698 Z" /></clipPath>
<path d="M969,19724 L1380,19724 Z M969,19724" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2299)" />
<text x="979" y="19715" style="font:10px Open Sans">由于有种子节点的存在，新节点加入时首先与种子节点交换集群信息</text>
<clipPath id="clip2300"><path d="M967,19725 L1475,19725 L1475,19755 L967,19755 L967,19725 Z" /></clipPath>
<path d="M969,19753 L1472,19753 Z M969,19753" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2300)" />
<text x="979" y="19742" style="font:10px Open Sans">DHT环中原有的其他节点也会定期和种子节点交换集群信息，从而发现新节点的加入</text>
<clipPath id="clip2301"><path d="M967,19754 L1437,19754 L1437,19784 L967,19784 L967,19754 Z" /></clipPath>
<path d="M969,19782 L1434,19782 Z M969,19782" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2301)" />
<text x="979" y="19771" style="font:10px Open Sans">集群不断变化，每个节点还需要定期通过Gossip协议同其他节点交换集群信息</text>
<clipPath id="clip2302"><path d="M967,19783 L1383,19783 L1383,19811 L967,19811 L967,19783 Z" /></clipPath>
<path d="M969,19809 L1380,19809 Z M969,19809" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2302)" />
<text x="979" y="19800" style="font:10px Open Sans">如果发现某个节点很长时间状态都没有更新，则认为该节点已经下线</text>
<clipPath id="clip2303"><path d="M618,19811 L1425,19811 L1425,20509 L618,20509 Z M619,20119 L619,20142 L718,20142 L718,20119 Z M619,20119 Z M619,20119" /></clipPath>
<path d="M731,20143 L731,19921 C731,19918.7929688 732.7929688,19917 735,19917 L740,19917" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2303)" />
<clipPath id="clip2304"><path d="M618,19811 L1425,19811 L1425,20509 L618,20509 Z M619,20119 L619,20142 L718,20142 L718,20119 Z M619,20119 Z M619,20119" /></clipPath>
<path d="M731,20143 L731,20118 C731,20115.7929688 732.7929688,20114 735,20114 L740,20114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2304)" />
<clipPath id="clip2305"><path d="M618,19811 L1425,19811 L1425,20509 L618,20509 Z M619,20119 L619,20142 L718,20142 L718,20119 Z M619,20119 Z M619,20119" /></clipPath>
<path d="M731,20143 L731,20365 C731,20367.2070313 732.7929688,20369 735,20369 L740,20369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2305)" />
<clipPath id="clip2306"><path d="M617,19810 L1426,19810 L1426,20510 L617,20510 L617,19810 Z" /></clipPath>
<path d="M718,20143 L731,20143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2306)" />
<clipPath id="clip2307"><path d="M617,20117 L721,20117 L721,20145 L617,20145 L617,20117 Z" /></clipPath>
<path d="M619,20143 L718,20143 Z M619,20143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2307)" />
<text x="629" y="20134" style="font:10px Open Sans">一致性与复制</text>
<clipPath id="clip2308"><path d="M739,19811 L1425,19811 L1425,19999 L739,19999 Z M740,19893 L740,19916 L813,19916 L813,19893 Z M740,19893 Z M740,19893" /></clipPath>
<path d="M826,19917 L826,19840 C826,19837.7929688 827.7929688,19836 830,19836 L835,19836" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2308)" />
<clipPath id="clip2309"><path d="M739,19811 L1425,19811 L1425,19999 L739,19999 Z M740,19893 L740,19916 L813,19916 L813,19893 Z M740,19893 Z M740,19893" /></clipPath>
<path d="M826,19917 L826,19869 C826,19866.7929688 827.7929688,19865 830,19865 L835,19865" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2309)" />
<clipPath id="clip2310"><path d="M739,19811 L1425,19811 L1425,19999 L739,19999 Z M740,19893 L740,19916 L813,19916 L813,19893 Z M740,19893 Z M740,19893" /></clipPath>
<path d="M826,19917 L826,19898 C826,19895.7929688 827.7929688,19894 830,19894 L835,19894" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2310)" />
<clipPath id="clip2311"><path d="M739,19811 L1425,19811 L1425,19999 L739,19999 Z M740,19893 L740,19916 L813,19916 L813,19893 Z M740,19893 Z M740,19893" /></clipPath>
<path d="M826,19917 L826,19919 C826,19921.2070313 827.7929688,19923 830,19923 L835,19923" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2311)" />
<clipPath id="clip2312"><path d="M739,19811 L1425,19811 L1425,19999 L739,19999 Z M740,19893 L740,19916 L813,19916 L813,19893 Z M740,19893 Z M740,19893" /></clipPath>
<path d="M826,19917 L826,19948 C826,19950.2070313 827.7929688,19952 830,19952 L835,19952" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2312)" />
<clipPath id="clip2313"><path d="M739,19811 L1425,19811 L1425,19999 L739,19999 Z M740,19893 L740,19916 L813,19916 L813,19893 Z M740,19893 Z M740,19893" /></clipPath>
<path d="M826,19917 L826,19994 C826,19996.2070313 827.7929688,19998 830,19998 L835,19998" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2313)" />
<clipPath id="clip2314"><path d="M738,19810 L1426,19810 L1426,20000 L738,20000 L738,19810 Z" /></clipPath>
<path d="M813,19917 L826,19917" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2314)" />
<clipPath id="clip2315"><path d="M738,19891 L816,19891 L816,19919 L738,19919 L738,19891 Z" /></clipPath>
<path d="M740,19917 L813,19917 Z M740,19917" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2315)" />
<text x="750" y="19908" style="font:10px Open Sans">数据复制</text>
<clipPath id="clip2316"><path d="M833,19810 L1080,19810 L1080,19838 L833,19838 L833,19810 Z" /></clipPath>
<path d="M835,19836 L1077,19836 Z M835,19836" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2316)" />
<text x="845" y="19827" style="font:10px Open Sans">节点失效时需要对节点的数据进行复制</text>
<clipPath id="clip2317"><path d="M833,19837 L1151,19837 L1151,19867 L833,19867 L833,19837 Z" /></clipPath>
<path d="M835,19865 L1148,19865 Z M835,19865" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2317)" />
<text x="845" y="19854" style="font:10px Open Sans">假设数据存储N份，DHT定位到的数据所属节点为K</text>
<clipPath id="clip2318"><path d="M833,19866 L1071,19866 L1071,19896 L833,19896 L833,19866 Z" /></clipPath>
<path d="M835,19894 L1068,19894 Z M835,19894" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2318)" />
<text x="845" y="19883" style="font:10px Open Sans">则数据存储在K，K+1，...，K+N-1上</text>
<clipPath id="clip2319"><path d="M833,19895 L1268,19895 L1268,19925 L833,19925 L833,19895 Z" /></clipPath>
<path d="M835,19923 L1265,19923 Z M835,19923" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2319)" />
<text x="845" y="19912" style="font:10px Open Sans">如果第K+i（0&lt;=i&lt;=N-1）台机器宕机，则往后找一台机器K+N临时替代</text>
<clipPath id="clip2320"><path d="M833,19924 L1419,19924 L1419,19954 L833,19954 L833,19924 Z" /></clipPath>
<path d="M835,19952 L1416,19952 Z M835,19952" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2320)" />
<text x="845" y="19941" style="font:10px Open Sans">如果第K+i台机器重启，第K+N台机器能够通过Gossip协议发现，会将数据归还K+i，这叫数据回传</text>
<clipPath id="clip2321"><path d="M833,19953 L1426,19953 L1426,20000 L833,20000 L833,19953 Z" /></clipPath>
<path d="M835,19998 L1423,19998 Z M835,19998" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2321)" />
<text x="845" y="19970" style="font:10px Open Sans">一般K+i从宕机到认定为永久失效的时间不会太长，积累的写操作不会太多，可利用Merkle树对机器</text>
<text x="845" y="19989" style="font:10px Open Sans">的数据文件进行快速同步</text>
<clipPath id="clip2322"><path d="M739,20000 L1337,20000 L1337,20202 L739,20202 Z M740,20088 L740,20113 L791,20113 L791,20088 Z M740,20088 Z M740,20088" /></clipPath>
<path d="M804,20114 L804,20031 C804,20028.7929688 805.7929688,20027 808,20027 L813,20027" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2322)" />
<clipPath id="clip2323"><path d="M739,20000 L1337,20000 L1337,20202 L739,20202 Z M740,20088 L740,20113 L791,20113 L791,20088 Z M740,20088 Z M740,20088" /></clipPath>
<path d="M804,20114 L804,20060 C804,20057.7929688 805.7929688,20056 808,20056 L813,20056" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2323)" />
<clipPath id="clip2324"><path d="M739,20000 L1337,20000 L1337,20202 L739,20202 Z M740,20088 L740,20113 L791,20113 L791,20088 Z M740,20088 Z M740,20088" /></clipPath>
<path d="M804,20114 L804,20089 C804,20086.7929688 805.7929688,20085 808,20085 L813,20085" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2324)" />
<clipPath id="clip2325"><path d="M739,20000 L1337,20000 L1337,20202 L739,20202 Z M740,20088 L740,20113 L791,20113 L791,20088 Z M740,20088 Z M740,20088" /></clipPath>
<path d="M804,20114 C804,20114 805.7929688,20114 808,20114 L813,20114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2325)" />
<clipPath id="clip2326"><path d="M739,20000 L1337,20000 L1337,20202 L739,20202 Z M740,20088 L740,20113 L791,20113 L791,20088 Z M740,20088 Z M740,20088" /></clipPath>
<path d="M804,20114 L804,20139 C804,20141.2070313 805.7929688,20143 808,20143 L813,20143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2326)" />
<clipPath id="clip2327"><path d="M739,20000 L1337,20000 L1337,20202 L739,20202 Z M740,20088 L740,20113 L791,20113 L791,20088 Z M740,20088 Z M740,20088" /></clipPath>
<path d="M804,20114 L804,20168 C804,20170.2070313 805.7929688,20172 808,20172 L813,20172" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2327)" />
<clipPath id="clip2328"><path d="M739,20000 L1337,20000 L1337,20202 L739,20202 Z M740,20088 L740,20113 L791,20113 L791,20088 Z M740,20088 Z M740,20088" /></clipPath>
<path d="M804,20114 L804,20197 C804,20199.2070313 805.7929688,20201 808,20201 L813,20201" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2328)" />
<clipPath id="clip2329"><path d="M738,19999 L1338,19999 L1338,20203 L738,20203 L738,19999 Z" /></clipPath>
<path d="M791,20114 L804,20114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2329)" />
<clipPath id="clip2330"><path d="M738,20086 L794,20086 L794,20116 L738,20116 L738,20086 Z" /></clipPath>
<path d="M740,20114 L791,20114 Z M740,20114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2330)" />
<text x="750" y="20103" style="font:10px Open Sans">NWR</text>
<clipPath id="clip2331"><path d="M811,19999 L951,19999 L951,20029 L811,20029 L811,19999 Z" /></clipPath>
<path d="M813,20027 L948,20027 Z M813,20027" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2331)" />
<text x="823" y="20016" style="font:10px Open Sans">N表示复制的备份数</text>
<clipPath id="clip2332"><path d="M811,20028 L1005,20028 L1005,20058 L811,20058 L811,20028 Z" /></clipPath>
<path d="M813,20056 L1002,20056 Z M813,20056" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2332)" />
<text x="823" y="20045" style="font:10px Open Sans">W指成功写操作的最少节点数</text>
<clipPath id="clip2333"><path d="M811,20057 L1001,20057 L1001,20087 L811,20087 L811,20057 Z" /></clipPath>
<path d="M813,20085 L998,20085 Z M813,20085" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2333)" />
<text x="823" y="20074" style="font:10px Open Sans">R指成功读操作的最少节点数</text>
<clipPath id="clip2334"><path d="M811,20086 L1338,20086 L1338,20116 L811,20116 L811,20086 Z" /></clipPath>
<path d="M813,20114 L1335,20114 Z M813,20114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2334)" />
<text x="823" y="20103" style="font:10px Open Sans">只要满足W+R&gt;N，就可以保证当存在不超过一台机器故障时至少能读到一份有效的数据</text>
<clipPath id="clip2335"><path d="M811,20115 L1073,20115 L1073,20145 L811,20145 L811,20115 Z" /></clipPath>
<path d="M813,20143 L1070,20143 Z M813,20143" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2335)" />
<text x="823" y="20132" style="font:10px Open Sans">如果应用重视读效率，可设置W=N，R=1</text>
<clipPath id="clip2336"><path d="M811,20144 L1175,20144 L1175,20174 L811,20174 L811,20144 Z" /></clipPath>
<path d="M813,20172 L1172,20172 Z M813,20172" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2336)" />
<text x="823" y="20161" style="font:10px Open Sans">如果应用需要在读写之间权衡，一般设置N=3，W=2，R=2</text>
<clipPath id="clip2337"><path d="M811,20173 L1175,20173 L1175,20203 L811,20203 L811,20173 Z" /></clipPath>
<path d="M813,20201 L1172,20201 Z M813,20201" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2337)" />
<text x="823" y="20190" style="font:10px Open Sans">如果允许一些更新丢失的话，也可以选择W=1，R=1，N=3</text>
<clipPath id="clip2338"><path d="M739,20203 L1339,20203 L1339,20509 L739,20509 Z M740,20345 L740,20368 L813,20368 L813,20345 Z M740,20345 Z M740,20345" /></clipPath>
<path d="M826,20369 L826,20234 C826,20231.7929688 827.7929688,20230 830,20230 L835,20230" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2338)" />
<clipPath id="clip2339"><path d="M739,20203 L1339,20203 L1339,20509 L739,20509 Z M740,20345 L740,20368 L813,20368 L813,20345 Z M740,20345 Z M740,20345" /></clipPath>
<path d="M826,20369 L826,20261 C826,20258.7929688 827.7929688,20257 830,20257 L835,20257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2339)" />
<clipPath id="clip2340"><path d="M739,20203 L1339,20203 L1339,20509 L739,20509 Z M740,20345 L740,20368 L813,20368 L813,20345 Z M740,20345 Z M740,20345" /></clipPath>
<path d="M826,20369 L826,20290 C826,20287.7929688 827.7929688,20286 830,20286 L835,20286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2340)" />
<clipPath id="clip2341"><path d="M739,20203 L1339,20203 L1339,20509 L739,20509 Z M740,20345 L740,20368 L813,20368 L813,20345 Z M740,20345 Z M740,20345" /></clipPath>
<path d="M826,20369 L826,20319 C826,20316.7929688 827.7929688,20315 830,20315 L835,20315" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2341)" />
<clipPath id="clip2342"><path d="M739,20203 L1339,20203 L1339,20509 L739,20509 Z M740,20345 L740,20368 L813,20368 L813,20345 Z M740,20345 Z M740,20345" /></clipPath>
<path d="M826,20369 L826,20359 C826,20356.7929688 827.7929688,20355 830,20355 L835,20355" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2342)" />
<clipPath id="clip2343"><path d="M739,20203 L1339,20203 L1339,20509 L739,20509 Z M740,20345 L740,20368 L813,20368 L813,20345 Z M740,20345 Z M740,20345" /></clipPath>
<path d="M826,20369 L826,20392 C826,20394.2070313 827.7929688,20396 830,20396 L835,20396" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2343)" />
<clipPath id="clip2344"><path d="M739,20203 L1339,20203 L1339,20509 L739,20509 Z M740,20345 L740,20368 L813,20368 L813,20345 Z M740,20345 Z M740,20345" /></clipPath>
<path d="M826,20369 L826,20421 C826,20423.2070313 827.7929688,20425 830,20425 L835,20425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2344)" />
<clipPath id="clip2345"><path d="M739,20203 L1339,20203 L1339,20509 L739,20509 Z M740,20345 L740,20368 L813,20368 L813,20345 Z M740,20345 Z M740,20345" /></clipPath>
<path d="M826,20369 L826,20448 C826,20450.2070313 827.7929688,20452 830,20452 L835,20452" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2345)" />
<clipPath id="clip2346"><path d="M739,20203 L1339,20203 L1339,20509 L739,20509 Z M740,20345 L740,20368 L813,20368 L813,20345 Z M740,20345 Z M740,20345" /></clipPath>
<path d="M826,20369 L826,20477 C826,20479.2070313 827.7929688,20481 830,20481 L835,20481" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2346)" />
<clipPath id="clip2347"><path d="M739,20203 L1339,20203 L1339,20509 L739,20509 Z M740,20345 L740,20368 L813,20368 L813,20345 Z M740,20345 Z M740,20345" /></clipPath>
<path d="M826,20369 L826,20504 C826,20506.2070313 827.7929688,20508 830,20508 L835,20508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2347)" />
<clipPath id="clip2348"><path d="M738,20202 L1340,20202 L1340,20510 L738,20510 L738,20202 Z" /></clipPath>
<path d="M813,20369 L826,20369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2348)" />
<clipPath id="clip2349"><path d="M738,20343 L816,20343 L816,20371 L738,20371 L738,20343 Z" /></clipPath>
<path d="M740,20369 L813,20369 Z M740,20369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2349)" />
<text x="750" y="20360" style="font:10px Open Sans">向量时钟</text>
<clipPath id="clip2350"><path d="M833,20202 L1195,20202 L1195,20232 L833,20232 L833,20202 Z" /></clipPath>
<path d="M835,20230 L1192,20230 Z M835,20230" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2350)" />
<text x="845" y="20219" style="font:10px Open Sans">Dynamo的P2P集群中，每个节点存储的集群信息有所不同</text>
<clipPath id="clip2351"><path d="M833,20231 L1340,20231 L1340,20259 L833,20259 L833,20231 Z" /></clipPath>
<path d="M835,20257 L1337,20257 Z M835,20257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2351)" />
<text x="845" y="20248" style="font:10px Open Sans">可能出现同一条记录被多个节点同时更新的情况，无法保证多个节点之间的更新顺序</text>
<clipPath id="clip2352"><path d="M833,20258 L1110,20258 L1110,20288 L833,20288 L833,20258 Z" /></clipPath>
<path d="M835,20286 L1107,20286 Z M835,20286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2352)" />
<text x="845" y="20275" style="font:10px Open Sans">Dynamo中向量时钟用[nodes,counter]表示</text>
<clipPath id="clip2353"><path d="M833,20287 L1248,20287 L1248,20317 L833,20317 L833,20287 Z" /></clipPath>
<path d="M835,20315 L1245,20315 Z M835,20315" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2353)" />
<text x="845" y="20304" style="font:10px Open Sans">nodes表示节点，counter是计数器，初始为0,节点每次更新操作加1</text>
<clipPath id="clip2354"><path d="M834,20317 L1330,20317 L1330,20370 L834,20370 Z M835,20331 L835,20354 L908,20354 L908,20331 Z M835,20331 Z M835,20331" /></clipPath>
<path d="M921,20355 L921,20346 C921,20343.7929688 922.7929688,20342 925,20342 L930,20342" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2354)" />
<clipPath id="clip2355"><path d="M834,20317 L1330,20317 L1330,20370 L834,20370 Z M835,20331 L835,20354 L908,20354 L908,20331 Z M835,20331 Z M835,20331" /></clipPath>
<path d="M921,20355 L921,20365 C921,20367.2070313 922.7929688,20369 925,20369 L930,20369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2355)" />
<clipPath id="clip2356"><path d="M833,20316 L1331,20316 L1331,20371 L833,20371 L833,20316 Z" /></clipPath>
<path d="M908,20355 L921,20355" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2356)" />
<clipPath id="clip2357"><path d="M833,20329 L911,20329 L911,20357 L833,20357 L833,20329 Z" /></clipPath>
<path d="M835,20355 L908,20355 Z M835,20355" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2357)" />
<text x="845" y="20346" style="font:10px Open Sans">版本冲突</text>
<clipPath id="clip2358"><path d="M928,20316 L1084,20316 L1084,20344 L928,20344 L928,20316 Z" /></clipPath>
<path d="M930,20342 L1081,20342 Z M930,20342" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2358)" />
<text x="940" y="20333" style="font:10px Open Sans">通过客户端逻辑来解决</text>
<clipPath id="clip2359"><path d="M928,20343 L1331,20343 L1331,20371 L928,20371 L928,20343 Z" /></clipPath>
<path d="M930,20369 L1328,20369 Z M930,20369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2359)" />
<text x="940" y="20360" style="font:10px Open Sans">选择时间戳最新的副本（依赖时钟同步算法，不完全保证准确性）</text>
<clipPath id="clip2360"><path d="M833,20370 L1015,20370 L1015,20398 L833,20398 L833,20370 Z" /></clipPath>
<path d="M835,20396 L1012,20396 Z M835,20396" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2360)" />
<text x="845" y="20387" style="font:10px Open Sans">向量时钟不能完美解决冲突</text>
<clipPath id="clip2361"><path d="M833,20397 L1204,20397 L1204,20427 L833,20427 L833,20397 Z" /></clipPath>
<path d="M835,20425 L1201,20425 Z M835,20425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2361)" />
<text x="845" y="20414" style="font:10px Open Sans">即使N+W&gt;R也只能保证每个读取操作能读到所有的更新版本</text>
<clipPath id="clip2362"><path d="M833,20426 L1080,20426 L1080,20454 L833,20454 L833,20426 Z" /></clipPath>
<path d="M835,20452 L1077,20452 Z M835,20452" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2362)" />
<text x="845" y="20443" style="font:10px Open Sans">这些版本可能冲突，需要进行版本合并</text>
<clipPath id="clip2363"><path d="M833,20453 L1015,20453 L1015,20483 L833,20483 L833,20453 Z" /></clipPath>
<path d="M835,20481 L1012,20481 Z M835,20481" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2363)" />
<text x="845" y="20470" style="font:10px Open Sans">Dynamo只保证最终一致性</text>
<clipPath id="clip2364"><path d="M833,20482 L1249,20482 L1249,20510 L833,20510 L833,20482 Z" /></clipPath>
<path d="M835,20508 L1246,20508 Z M835,20508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2364)" />
<text x="845" y="20499" style="font:10px Open Sans">如果多个节点之间的更新顺序不一致，客户端可能读不到期望的结果</text>
<clipPath id="clip2365"><path d="M618,20510 L1406,20510 L1406,20895 L618,20895 Z M619,20669 L619,20692 L666,20692 L666,20669 Z M619,20669 Z M619,20669" /></clipPath>
<path d="M679,20693 L679,20552 C679,20549.7929688 680.7929688,20548 683,20548 L688,20548" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2365)" />
<clipPath id="clip2366"><path d="M618,20510 L1406,20510 L1406,20895 L618,20895 Z M619,20669 L619,20692 L666,20692 L666,20669 Z M619,20669 Z M619,20669" /></clipPath>
<path d="M679,20693 L679,20593 C679,20590.7929688 680.7929688,20589 683,20589 L688,20589" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2366)" />
<clipPath id="clip2367"><path d="M618,20510 L1406,20510 L1406,20895 L618,20895 Z M619,20669 L619,20692 L666,20692 L666,20669 Z M619,20669 Z M619,20669" /></clipPath>
<path d="M679,20693 L679,20689 C679,20686.7929688 680.7929688,20685 683,20685 L688,20685" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2367)" />
<clipPath id="clip2368"><path d="M618,20510 L1406,20510 L1406,20895 L618,20895 Z M619,20669 L619,20692 L666,20692 L666,20669 Z M619,20669 Z M619,20669" /></clipPath>
<path d="M679,20693 L679,20835 C679,20837.2070313 680.7929688,20839 683,20839 L688,20839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2368)" />
<clipPath id="clip2369"><path d="M617,20509 L1407,20509 L1407,20896 L617,20896 L617,20509 Z" /></clipPath>
<path d="M666,20693 L679,20693" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2369)" />
<clipPath id="clip2370"><path d="M617,20667 L669,20667 L669,20695 L617,20695 L617,20667 Z" /></clipPath>
<path d="M619,20693 L666,20693 Z M619,20693" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2370)" />
<text x="629" y="20684" style="font:10px Open Sans">容错</text>
<clipPath id="clip2371"><path d="M687,20510 L871,20510 L871,20563 L687,20563 Z M688,20524 L688,20547 L761,20547 L761,20524 Z M688,20524 Z M688,20524" /></clipPath>
<path d="M774,20548 L774,20539 C774,20536.7929688 775.7929688,20535 778,20535 L783,20535" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2371)" />
<clipPath id="clip2372"><path d="M687,20510 L871,20510 L871,20563 L687,20563 Z M688,20524 L688,20547 L761,20547 L761,20524 Z M688,20524 Z M688,20524" /></clipPath>
<path d="M774,20548 L774,20558 C774,20560.2070313 775.7929688,20562 778,20562 L783,20562" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2372)" />
<clipPath id="clip2373"><path d="M686,20509 L872,20509 L872,20564 L686,20564 L686,20509 Z" /></clipPath>
<path d="M761,20548 L774,20548" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2373)" />
<clipPath id="clip2374"><path d="M686,20522 L764,20522 L764,20550 L686,20550 L686,20522 Z" /></clipPath>
<path d="M688,20548 L761,20548 Z M688,20548" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2374)" />
<text x="698" y="20539" style="font:10px Open Sans">异常类型</text>
<clipPath id="clip2375"><path d="M781,20509 L872,20509 L872,20537 L781,20537 L781,20509 Z" /></clipPath>
<path d="M783,20535 L869,20535 Z M783,20535" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2375)" />
<text x="793" y="20526" style="font:10px Open Sans">临时性异常</text>
<clipPath id="clip2376"><path d="M781,20536 L872,20536 L872,20564 L781,20564 L781,20536 Z" /></clipPath>
<path d="M783,20562 L869,20562 Z M783,20562" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2376)" />
<text x="793" y="20553" style="font:10px Open Sans">永久性异常</text>
<clipPath id="clip2377"><path d="M686,20563 L829,20563 L829,20591 L686,20591 L686,20563 Z" /></clipPath>
<path d="M688,20589 L826,20589 Z M688,20589" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2377)" />
<text x="698" y="20580" style="font:10px Open Sans">临时异常后数据回传</text>
<clipPath id="clip2378"><path d="M687,20591 L1406,20591 L1406,20756 L687,20756 Z M688,20659 L688,20684 L854,20684 L854,20659 Z M688,20659 Z M688,20659" /></clipPath>
<path d="M867,20685 L867,20620 C867,20617.7929688 868.7929688,20616 871,20616 L876,20616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2378)" />
<clipPath id="clip2379"><path d="M687,20591 L1406,20591 L1406,20756 L687,20756 Z M688,20659 L688,20684 L854,20684 L854,20659 Z M688,20659 Z M688,20659" /></clipPath>
<path d="M867,20685 L867,20647 C867,20644.7929688 868.7929688,20643 871,20643 L876,20643" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2379)" />
<clipPath id="clip2380"><path d="M687,20591 L1406,20591 L1406,20756 L687,20756 Z M688,20659 L688,20684 L854,20684 L854,20659 Z M688,20659 Z M688,20659" /></clipPath>
<path d="M867,20685 L867,20674 C867,20671.7929688 868.7929688,20670 871,20670 L876,20670" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2380)" />
<clipPath id="clip2381"><path d="M687,20591 L1406,20591 L1406,20756 L687,20756 Z M688,20659 L688,20684 L854,20684 L854,20659 Z M688,20659 Z M688,20659" /></clipPath>
<path d="M867,20685 L867,20695 C867,20697.2070313 868.7929688,20699 871,20699 L876,20699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2381)" />
<clipPath id="clip2382"><path d="M687,20591 L1406,20591 L1406,20756 L687,20756 Z M688,20659 L688,20684 L854,20684 L854,20659 Z M688,20659 Z M688,20659" /></clipPath>
<path d="M867,20685 L867,20724 C867,20726.2070313 868.7929688,20728 871,20728 L876,20728" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2382)" />
<clipPath id="clip2383"><path d="M687,20591 L1406,20591 L1406,20756 L687,20756 Z M688,20659 L688,20684 L854,20684 L854,20659 Z M688,20659 Z M688,20659" /></clipPath>
<path d="M867,20685 L867,20751 C867,20753.2070313 868.7929688,20755 871,20755 L876,20755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2383)" />
<clipPath id="clip2384"><path d="M686,20590 L1407,20590 L1407,20757 L686,20757 L686,20590 Z" /></clipPath>
<path d="M854,20685 L867,20685" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2384)" />
<clipPath id="clip2385"><path d="M686,20657 L857,20657 L857,20687 L686,20687 L686,20657 Z" /></clipPath>
<path d="M688,20685 L854,20685 Z M688,20685" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2385)" />
<text x="698" y="20674" style="font:10px Open Sans">永久异常时Merkle树同步</text>
<clipPath id="clip2386"><path d="M874,20590 L1290,20590 L1290,20618 L874,20618 L874,20590 Z" /></clipPath>
<path d="M876,20616 L1287,20616 Z M876,20616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2386)" />
<text x="886" y="20607" style="font:10px Open Sans">每个非叶子节点对应多个文件，为其所有子节点值组合以后的哈希值</text>
<clipPath id="clip2387"><path d="M874,20617 L1186,20617 L1186,20645 L874,20645 L874,20617 Z" /></clipPath>
<path d="M876,20643 L1183,20643 Z M876,20643" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2387)" />
<text x="886" y="20634" style="font:10px Open Sans">叶子节点对应单个数据文件，为文件内容的哈希值</text>
<clipPath id="clip2388"><path d="M874,20644 L1407,20644 L1407,20672 L874,20672 L874,20644 Z" /></clipPath>
<path d="M876,20670 L1404,20670 Z M876,20670" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2388)" />
<text x="886" y="20661" style="font:10px Open Sans">这样任何一个数据文件不匹配将导致从该文件对应的叶子节点到根节点的所有节点值不同</text>
<clipPath id="clip2389"><path d="M874,20671 L1175,20671 L1175,20701 L874,20701 L874,20671 Z" /></clipPath>
<path d="M876,20699 L1172,20699 Z M876,20699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2389)" />
<text x="886" y="20688" style="font:10px Open Sans">每个机器对每一段范围的数据维护一颗Merkle树</text>
<clipPath id="clip2390"><path d="M874,20700 L1084,20700 L1084,20730 L874,20730 L874,20700 Z" /></clipPath>
<path d="M876,20728 L1081,20728 Z M876,20728" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2390)" />
<text x="886" y="20717" style="font:10px Open Sans">机器同步时先传输Merkle树信息</text>
<clipPath id="clip2391"><path d="M874,20729 L1212,20729 L1212,20757 L874,20757 L874,20729 Z" /></clipPath>
<path d="M876,20755 L1209,20755 Z M876,20755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2391)" />
<text x="886" y="20746" style="font:10px Open Sans">然后只需要同步从根到叶子的所有节点值均不同的文件</text>
<clipPath id="clip2392"><path d="M687,20757 L1235,20757 L1235,20895 L687,20895 Z M688,20815 L688,20838 L761,20838 L761,20815 Z M688,20815 Z M688,20815" /></clipPath>
<path d="M774,20839 L774,20788 C774,20785.7929688 775.7929688,20784 778,20784 L783,20784" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2392)" />
<clipPath id="clip2393"><path d="M687,20757 L1235,20757 L1235,20895 L687,20895 Z M688,20815 L688,20838 L761,20838 L761,20815 Z M688,20815 Z M688,20815" /></clipPath>
<path d="M774,20839 L774,20815 C774,20812.7929688 775.7929688,20811 778,20811 L783,20811" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2393)" />
<clipPath id="clip2394"><path d="M687,20757 L1235,20757 L1235,20895 L687,20895 Z M688,20815 L688,20838 L761,20838 L761,20815 Z M688,20815 Z M688,20815" /></clipPath>
<path d="M774,20839 C774,20839.5507813 775.7929688,20840 778,20840 L783,20840" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2394)" />
<clipPath id="clip2395"><path d="M687,20757 L1235,20757 L1235,20895 L687,20895 Z M688,20815 L688,20838 L761,20838 L761,20815 Z M688,20815 Z M688,20815" /></clipPath>
<path d="M774,20839 L774,20863 C774,20865.2070313 775.7929688,20867 778,20867 L783,20867" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2395)" />
<clipPath id="clip2396"><path d="M687,20757 L1235,20757 L1235,20895 L687,20895 Z M688,20815 L688,20838 L761,20838 L761,20815 Z M688,20815 Z M688,20815" /></clipPath>
<path d="M774,20839 L774,20890 C774,20892.2070313 775.7929688,20894 778,20894 L783,20894" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2396)" />
<clipPath id="clip2397"><path d="M686,20756 L1236,20756 L1236,20896 L686,20896 L686,20756 Z" /></clipPath>
<path d="M761,20839 L774,20839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2397)" />
<clipPath id="clip2398"><path d="M686,20813 L764,20813 L764,20841 L686,20841 L686,20813 Z" /></clipPath>
<path d="M688,20839 L761,20839 Z M688,20839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2398)" />
<text x="698" y="20830" style="font:10px Open Sans">读取修复</text>
<clipPath id="clip2399"><path d="M781,20756 L1010,20756 L1010,20786 L781,20786 L781,20756 Z" /></clipPath>
<path d="M783,20784 L1007,20784 Z M783,20784" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2399)" />
<text x="793" y="20773" style="font:10px Open Sans">假设N=3，W=2，R=2，机器K宕机</text>
<clipPath id="clip2400"><path d="M781,20785 L1197,20785 L1197,20813 L781,20813 L781,20785 Z" /></clipPath>
<path d="M783,20811 L1194,20811 Z M783,20811" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2400)" />
<text x="793" y="20802" style="font:10px Open Sans">可能有部分写操作已经返回客户端成功但是没有完全同步到所有副本</text>
<clipPath id="clip2401"><path d="M781,20812 L1114,20812 L1114,20842 L781,20842 L781,20812 Z" /></clipPath>
<path d="M783,20840 L1111,20840 Z M783,20840" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2401)" />
<text x="793" y="20829" style="font:10px Open Sans">假如K永久异常，则三个副本之间的数据一直都不一致</text>
<clipPath id="clip2402"><path d="M781,20841 L1236,20841 L1236,20869 L781,20869 L781,20841 Z" /></clipPath>
<path d="M783,20867 L1233,20867 Z M783,20867" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2402)" />
<text x="793" y="20858" style="font:10px Open Sans">客户端的读取操作如果发现某些副本版本太老，则启动异步的读取修复任务</text>
<clipPath id="clip2403"><path d="M781,20868 L1197,20868 L1197,20896 L781,20896 L781,20868 Z" /></clipPath>
<path d="M783,20894 L1194,20894 Z M783,20894" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2403)" />
<text x="793" y="20885" style="font:10px Open Sans">该任务会合并多个副本的数据，并使用合并后的结果更新过期的版本</text>
<clipPath id="clip2404"><path d="M618,20896 L1465,20896 L1465,21179 L618,21179 Z M619,21018 L619,21041 L692,21041 L692,21018 Z M619,21018 Z M619,21018" /></clipPath>
<path d="M705,21042 L705,20967 C705,20964.7929688 706.7929688,20963 709,20963 L714,20963" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2404)" />
<clipPath id="clip2405"><path d="M618,20896 L1465,20896 L1465,21179 L618,21179 Z M619,21018 L619,21041 L692,21041 L692,21018 Z M619,21018 Z M619,21018" /></clipPath>
<path d="M705,21042 L705,21117 C705,21119.2070313 706.7929688,21121 709,21121 L714,21121" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2405)" />
<clipPath id="clip2406"><path d="M617,20895 L1466,20895 L1466,21180 L617,21180 L617,20895 Z" /></clipPath>
<path d="M692,21042 L705,21042" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2406)" />
<clipPath id="clip2407"><path d="M617,21016 L695,21016 L695,21044 L617,21044 L617,21016 Z" /></clipPath>
<path d="M619,21042 L692,21042 Z M619,21042" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2407)" />
<text x="629" y="21033" style="font:10px Open Sans">负载均衡</text>
<clipPath id="clip2408"><path d="M713,20896 L1465,20896 L1465,21036 L713,21036 Z M714,20939 L714,20962 L787,20962 L787,20939 Z M714,20939 Z M714,20939" /></clipPath>
<path d="M800,20963 L800,20925 C800,20922.7929688 801.7929688,20921 804,20921 L809,20921" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2408)" />
<clipPath id="clip2409"><path d="M713,20896 L1465,20896 L1465,21036 L713,21036 Z M714,20939 L714,20962 L787,20962 L787,20939 Z M714,20939 Z M714,20939" /></clipPath>
<path d="M800,20963 L800,20952 C800,20949.7929688 801.7929688,20948 804,20948 L809,20948" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2409)" />
<clipPath id="clip2410"><path d="M713,20896 L1465,20896 L1465,21036 L713,21036 Z M714,20939 L714,20962 L787,20962 L787,20939 Z M714,20939 Z M714,20939" /></clipPath>
<path d="M800,20963 L800,21002 C800,21004.2070313 801.7929688,21006 804,21006 L809,21006" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2410)" />
<clipPath id="clip2411"><path d="M712,20895 L1466,20895 L1466,21037 L712,21037 L712,20895 Z" /></clipPath>
<path d="M787,20963 L800,20963" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2411)" />
<clipPath id="clip2412"><path d="M712,20937 L790,20937 L790,20965 L712,20965 L712,20937 Z" /></clipPath>
<path d="M714,20963 L787,20963 Z M714,20963" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2412)" />
<text x="724" y="20954" style="font:10px Open Sans">随机分配</text>
<clipPath id="clip2413"><path d="M807,20895 L1093,20895 L1093,20923 L807,20923 L807,20895 Z" /></clipPath>
<path d="M809,20921 L1090,20921 Z M809,20921" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2413)" />
<text x="819" y="20912" style="font:10px Open Sans">自然界数据大致是比较随机的，故效果还不错</text>
<clipPath id="clip2414"><path d="M807,20922 L1210,20922 L1210,20950 L807,20950 L807,20922 Z" /></clipPath>
<path d="M809,20948 L1207,20948 Z M809,20948" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2414)" />
<text x="819" y="20939" style="font:10px Open Sans">某段范围的数据可能特别多，只要切分足够细，也还是比较平均的</text>
<clipPath id="clip2415"><path d="M808,20950 L1465,20950 L1465,21036 L808,21036 Z M809,20982 L809,21005 L895,21005 L895,20982 Z M809,20982 Z M809,20982" /></clipPath>
<path d="M908,21006 L908,20981 C908,20978.7929688 909.7929688,20977 912,20977 L917,20977" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2415)" />
<clipPath id="clip2416"><path d="M808,20950 L1465,20950 L1465,21036 L808,21036 Z M809,20982 L809,21005 L895,21005 L895,20982 Z M809,20982 Z M809,20982" /></clipPath>
<path d="M908,21006 C908,21006 909.7929688,21006 912,21006 L917,21006" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2416)" />
<clipPath id="clip2417"><path d="M808,20950 L1465,20950 L1465,21036 L808,21036 Z M809,20982 L809,21005 L895,21005 L895,20982 Z M809,20982 Z M809,20982" /></clipPath>
<path d="M908,21006 L908,21031 C908,21033.2070313 909.7929688,21035 912,21035 L917,21035" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2417)" />
<clipPath id="clip2418"><path d="M807,20949 L1466,20949 L1466,21037 L807,21037 L807,20949 Z" /></clipPath>
<path d="M895,21006 L908,21006" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2418)" />
<clipPath id="clip2419"><path d="M807,20980 L898,20980 L898,21008 L807,21008 L807,20980 Z" /></clipPath>
<path d="M809,21006 L895,21006 Z M809,21006" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2419)" />
<text x="819" y="20997" style="font:10px Open Sans">可控性较差</text>
<clipPath id="clip2420"><path d="M915,20949 L1466,20949 L1466,20979 L915,20979 L915,20949 Z" /></clipPath>
<path d="M917,20977 L1463,20977 Z M917,20977" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2420)" />
<text x="927" y="20966" style="font:10px Open Sans">新节点加入/离开系统时，集群中的原有节点都需要扫描所有数据从而找出属于新节点的数据</text>
<clipPath id="clip2421"><path d="M915,20978 L1086,20978 L1086,21008 L915,21008 L915,20978 Z" /></clipPath>
<path d="M917,21006 L1083,21006 Z M917,21006" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2421)" />
<text x="927" y="20995" style="font:10px Open Sans">Merkle树也需要全部更新</text>
<clipPath id="clip2422"><path d="M915,21007 L1089,21007 L1089,21037 L915,21037 L915,21007 Z" /></clipPath>
<path d="M917,21035 L1086,21035 Z M917,21035" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2422)" />
<text x="927" y="21024" style="font:10px Open Sans">增量归档/备份几乎不可能</text>
<clipPath id="clip2423"><path d="M713,21037 L1393,21037 L1393,21179 L713,21179 Z M714,21095 L714,21120 L873,21120 L873,21095 Z M714,21095 Z M714,21095" /></clipPath>
<path d="M886,21121 L886,21068 C886,21065.7929688 887.7929688,21064 890,21064 L895,21064" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2423)" />
<clipPath id="clip2424"><path d="M713,21037 L1393,21037 L1393,21179 L713,21179 Z M714,21095 L714,21120 L873,21120 L873,21095 Z M714,21095 Z M714,21095" /></clipPath>
<path d="M886,21121 L886,21097 C886,21094.7929688 887.7929688,21093 890,21093 L895,21093" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2424)" />
<clipPath id="clip2425"><path d="M713,21037 L1393,21037 L1393,21179 L713,21179 Z M714,21095 L714,21120 L873,21120 L873,21095 Z M714,21095 Z M714,21095" /></clipPath>
<path d="M886,21121 C886,21121.5507813 887.7929688,21122 890,21122 L895,21122" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2425)" />
<clipPath id="clip2426"><path d="M713,21037 L1393,21037 L1393,21179 L713,21179 Z M714,21095 L714,21120 L873,21120 L873,21095 Z M714,21095 Z M714,21095" /></clipPath>
<path d="M886,21121 L886,21147 C886,21149.2070313 887.7929688,21151 890,21151 L895,21151" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2426)" />
<clipPath id="clip2427"><path d="M713,21037 L1393,21037 L1393,21179 L713,21179 Z M714,21095 L714,21120 L873,21120 L873,21095 Z M714,21095 Z M714,21095" /></clipPath>
<path d="M886,21121 L886,21174 C886,21176.2070313 887.7929688,21178 890,21178 L895,21178" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2427)" />
<clipPath id="clip2428"><path d="M712,21036 L1394,21036 L1394,21180 L712,21180 L712,21036 Z" /></clipPath>
<path d="M873,21121 L886,21121" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2428)" />
<clipPath id="clip2429"><path d="M712,21093 L876,21093 L876,21123 L712,21123 L712,21093 Z" /></clipPath>
<path d="M714,21121 L873,21121 Z M714,21121" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2429)" />
<text x="724" y="21110" style="font:10px Open Sans">数据范围等分+随机分配</text>
<clipPath id="clip2430"><path d="M893,21036 L1298,21036 L1298,21066 L893,21066 L893,21036 Z" /></clipPath>
<path d="M895,21064 L1295,21064 Z M895,21064" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2430)" />
<text x="905" y="21053" style="font:10px Open Sans">将哈希空间等分为NxS份（N机器个数，S每个机器的虚拟节点数）</text>
<clipPath id="clip2431"><path d="M893,21065 L1145,21065 L1145,21095 L893,21095 L893,21065 Z" /></clipPath>
<path d="M895,21093 L1142,21093 Z M895,21093" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2431)" />
<text x="905" y="21082" style="font:10px Open Sans">每个机器随机选择S个分割点作为Token</text>
<clipPath id="clip2432"><path d="M893,21094 L1298,21094 L1298,21124 L893,21124 L893,21094 Z" /></clipPath>
<path d="M895,21122 L1295,21122 Z M895,21122" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2432)" />
<text x="905" y="21111" style="font:10px Open Sans">这样每台机器可对属于每个范围的数据维护一颗逻辑上的Merkle树</text>
<clipPath id="clip2433"><path d="M893,21123 L1394,21123 L1394,21153 L893,21153 L893,21123 Z" /></clipPath>
<path d="M895,21151 L1391,21151 Z M895,21151" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2433)" />
<text x="905" y="21140" style="font:10px Open Sans">新节点加入/离开时只需扫描部分数据进行同步，并更新这部分数据对应的Merkle树</text>
<clipPath id="clip2434"><path d="M893,21152 L1023,21152 L1023,21180 L893,21180 L893,21152 Z" /></clipPath>
<path d="M895,21178 L1020,21178 Z M895,21178" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2434)" />
<text x="905" y="21169" style="font:10px Open Sans">增量归档变得简单</text>
<clipPath id="clip2435"><path d="M618,21180 L1261,21180 L1261,21565 L618,21565 Z M619,21359 L619,21382 L692,21382 L692,21359 Z M619,21359 Z M619,21359" /></clipPath>
<path d="M705,21383 L705,21291 C705,21288.7929688 706.7929688,21287 709,21287 L714,21287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2435)" />
<clipPath id="clip2436"><path d="M618,21180 L1261,21180 L1261,21565 L618,21565 Z M619,21359 L619,21382 L692,21382 L692,21359 Z M619,21359 Z M619,21359" /></clipPath>
<path d="M705,21383 L705,21476 C705,21478.2070313 706.7929688,21480 709,21480 L714,21480" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2436)" />
<clipPath id="clip2437"><path d="M617,21179 L1262,21179 L1262,21566 L617,21566 L617,21179 Z" /></clipPath>
<path d="M692,21383 L705,21383" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2437)" />
<clipPath id="clip2438"><path d="M617,21357 L695,21357 L695,21385 L617,21385 L617,21357 Z" /></clipPath>
<path d="M619,21383 L692,21383 Z M619,21383" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2438)" />
<text x="629" y="21373" style="font:10px Open Sans">读写流程</text>
<clipPath id="clip2439"><path d="M713,21180 L1222,21180 L1222,21370 L713,21370 Z M714,21263 L714,21286 L774,21286 L774,21263 Z M714,21263 Z M714,21263" /></clipPath>
<path d="M787,21287 L787,21209 C787,21206.7929688 788.7929688,21205 791,21205 L796,21205" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2439)" />
<clipPath id="clip2440"><path d="M713,21180 L1222,21180 L1222,21370 L713,21370 Z M714,21263 L714,21286 L774,21286 L774,21263 Z M714,21263 Z M714,21263" /></clipPath>
<path d="M787,21287 L787,21236 C787,21233.7929688 788.7929688,21232 791,21232 L796,21232" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2440)" />
<clipPath id="clip2441"><path d="M713,21180 L1222,21180 L1222,21370 L713,21370 Z M714,21263 L714,21286 L774,21286 L774,21263 Z M714,21263 Z M714,21263" /></clipPath>
<path d="M787,21287 L787,21263 C787,21260.7929688 788.7929688,21259 791,21259 L796,21259" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2441)" />
<clipPath id="clip2442"><path d="M713,21180 L1222,21180 L1222,21370 L713,21370 Z M714,21263 L714,21286 L774,21286 L774,21263 Z M714,21263 Z M714,21263" /></clipPath>
<path d="M787,21287 C787,21286.4492188 788.7929688,21286 791,21286 L796,21286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2442)" />
<clipPath id="clip2443"><path d="M713,21180 L1222,21180 L1222,21370 L713,21370 Z M714,21263 L714,21286 L774,21286 L774,21263 Z M714,21263 Z M714,21263" /></clipPath>
<path d="M787,21287 L787,21309 C787,21311.2070313 788.7929688,21313 791,21313 L796,21313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2443)" />
<clipPath id="clip2444"><path d="M713,21180 L1222,21180 L1222,21370 L713,21370 Z M714,21263 L714,21286 L774,21286 L774,21263 Z M714,21263 Z M714,21263" /></clipPath>
<path d="M787,21287 L787,21338 C787,21340.2070313 788.7929688,21342 791,21342 L796,21342" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2444)" />
<clipPath id="clip2445"><path d="M713,21180 L1222,21180 L1222,21370 L713,21370 Z M714,21263 L714,21286 L774,21286 L774,21263 Z M714,21263 Z M714,21263" /></clipPath>
<path d="M787,21287 L787,21365 C787,21367.2070313 788.7929688,21369 791,21369 L796,21369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2445)" />
<clipPath id="clip2446"><path d="M712,21179 L1223,21179 L1223,21371 L712,21371 L712,21179 Z" /></clipPath>
<path d="M774,21287 L787,21287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2446)" />
<clipPath id="clip2447"><path d="M712,21261 L777,21261 L777,21289 L712,21289 L712,21261 Z" /></clipPath>
<path d="M714,21287 L774,21287 Z M714,21287" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2447)" />
<text x="724" y="21277" style="font:10px Open Sans">写流程</text>
<clipPath id="clip2448"><path d="M794,21179 L989,21179 L989,21207 L794,21207 L794,21179 Z" /></clipPath>
<path d="M796,21205 L986,21205 Z M796,21205" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2448)" />
<text x="806" y="21196" style="font:10px Open Sans">根据主键获取副本所在的节点</text>
<clipPath id="clip2449"><path d="M794,21206 L1054,21206 L1054,21234 L794,21234 L794,21206 Z" /></clipPath>
<path d="M796,21232 L1051,21232 Z M796,21232" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2449)" />
<text x="806" y="21223" style="font:10px Open Sans">选择其中一个副本作为本次操作的协调者</text>
<clipPath id="clip2450"><path d="M794,21233 L989,21233 L989,21261 L794,21261 L794,21233 Z" /></clipPath>
<path d="M796,21259 L986,21259 Z M796,21259" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2450)" />
<text x="806" y="21249" style="font:10px Open Sans">协调者往所有副本发送写请求</text>
<clipPath id="clip2451"><path d="M794,21260 L1067,21260 L1067,21288 L794,21288 L794,21260 Z" /></clipPath>
<path d="M796,21286 L1064,21286 Z M796,21286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2451)" />
<text x="806" y="21276" style="font:10px Open Sans">每个副本将数据写入本地，并回复写入成功</text>
<clipPath id="clip2452"><path d="M794,21287 L1171,21287 L1171,21315 L794,21315 L794,21287 Z" /></clipPath>
<path d="M796,21313 L1168,21313 Z M796,21313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2452)" />
<text x="806" y="21303" style="font:10px Open Sans">如果某个副本写失败，则协调者会把它加入重试列表不断重试</text>
<clipPath id="clip2453"><path d="M794,21314 L1157,21314 L1157,21344 L794,21344 L794,21314 Z" /></clipPath>
<path d="M796,21342 L1154,21342 Z M796,21342" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2453)" />
<text x="806" y="21330" style="font:10px Open Sans">W个副本（包括协调者）都写入成功后回复客户端写入成功</text>
<clipPath id="clip2454"><path d="M794,21343 L1223,21343 L1223,21371 L794,21371 L794,21343 Z" /></clipPath>
<path d="M796,21369 L1220,21369 Z M796,21369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2454)" />
<text x="806" y="21359" style="font:10px Open Sans">协调者回复客户端后，还会继续等待或者重试，直到所有副本写入成功</text>
<clipPath id="clip2455"><path d="M713,21371 L1261,21371 L1261,21565 L713,21565 Z M714,21456 L714,21479 L774,21479 L774,21456 Z M714,21456 Z M714,21456" /></clipPath>
<path d="M787,21480 L787,21400 C787,21397.7929688 788.7929688,21396 791,21396 L796,21396" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2455)" />
<clipPath id="clip2456"><path d="M713,21371 L1261,21371 L1261,21565 L713,21565 Z M714,21456 L714,21479 L774,21479 L774,21456 Z M714,21456 Z M714,21456" /></clipPath>
<path d="M787,21480 L787,21427 C787,21424.7929688 788.7929688,21423 791,21423 L796,21423" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2456)" />
<clipPath id="clip2457"><path d="M713,21371 L1261,21371 L1261,21565 L713,21565 Z M714,21456 L714,21479 L774,21479 L774,21456 Z M714,21456 Z M714,21456" /></clipPath>
<path d="M787,21480 L787,21456 C787,21453.7929688 788.7929688,21452 791,21452 L796,21452" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2457)" />
<clipPath id="clip2458"><path d="M713,21371 L1261,21371 L1261,21565 L713,21565 Z M714,21456 L714,21479 L774,21479 L774,21456 Z M714,21456 Z M714,21456" /></clipPath>
<path d="M787,21480 C787,21480.5507813 788.7929688,21481 791,21481 L796,21481" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2458)" />
<clipPath id="clip2459"><path d="M713,21371 L1261,21371 L1261,21565 L713,21565 Z M714,21456 L714,21479 L774,21479 L774,21456 Z M714,21456 Z M714,21456" /></clipPath>
<path d="M787,21480 L787,21506 C787,21508.2070313 788.7929688,21510 791,21510 L796,21510" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2459)" />
<clipPath id="clip2460"><path d="M713,21371 L1261,21371 L1261,21565 L713,21565 Z M714,21456 L714,21479 L774,21479 L774,21456 Z M714,21456 Z M714,21456" /></clipPath>
<path d="M787,21480 L787,21533 C787,21535.2070313 788.7929688,21537 791,21537 L796,21537" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2460)" />
<clipPath id="clip2461"><path d="M713,21371 L1261,21371 L1261,21565 L713,21565 Z M714,21456 L714,21479 L774,21479 L774,21456 Z M714,21456 Z M714,21456" /></clipPath>
<path d="M787,21480 L787,21560 C787,21562.2070313 788.7929688,21564 791,21564 L796,21564" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2461)" />
<clipPath id="clip2462"><path d="M712,21370 L1262,21370 L1262,21566 L712,21566 L712,21370 Z" /></clipPath>
<path d="M774,21480 L787,21480" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2462)" />
<clipPath id="clip2463"><path d="M712,21454 L777,21454 L777,21482 L712,21482 L712,21454 Z" /></clipPath>
<path d="M714,21480 L774,21480 Z M714,21480" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2463)" />
<text x="724" y="21470" style="font:10px Open Sans">读流程</text>
<clipPath id="clip2464"><path d="M794,21370 L989,21370 L989,21398 L794,21398 L794,21370 Z" /></clipPath>
<path d="M796,21396 L986,21396 Z M796,21396" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2464)" />
<text x="806" y="21386" style="font:10px Open Sans">根据主键获取副本所在的节点</text>
<clipPath id="clip2465"><path d="M794,21397 L1028,21397 L1028,21425 L794,21425 L794,21397 Z" /></clipPath>
<path d="M796,21423 L1025,21423 Z M796,21423" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2465)" />
<text x="806" y="21413" style="font:10px Open Sans">选择一个副本作为本次操作的协调者</text>
<clipPath id="clip2466"><path d="M794,21424 L1127,21424 L1127,21454 L794,21454 L794,21424 Z" /></clipPath>
<path d="M796,21452 L1124,21452 Z M796,21452" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2466)" />
<text x="806" y="21440" style="font:10px Open Sans">协调者根据负载策略选择R和副本，向它们发送读请求</text>
<clipPath id="clip2467"><path d="M794,21453 L1101,21453 L1101,21483 L794,21483 L794,21453 Z" /></clipPath>
<path d="M796,21481 L1098,21481 Z M796,21481" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2467)" />
<text x="806" y="21469" style="font:10px Open Sans">R个副本和协调者读取本地数据，并回复读取结果</text>
<clipPath id="clip2468"><path d="M794,21482 L1140,21482 L1140,21512 L794,21512 L794,21482 Z" /></clipPath>
<path d="M796,21510 L1137,21510 Z M796,21510" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2468)" />
<text x="806" y="21498" style="font:10px Open Sans">R个副本（包括协调者）读取成功时，判断数据是否一致</text>
<clipPath id="clip2469"><path d="M794,21511 L1015,21511 L1015,21539 L794,21539 L794,21511 Z" /></clipPath>
<path d="M796,21537 L1012,21537 Z M796,21537" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2469)" />
<text x="806" y="21527" style="font:10px Open Sans">若一致，将获取的结果回复客户端</text>
<clipPath id="clip2470"><path d="M794,21538 L1262,21538 L1262,21566 L794,21566 L794,21538 Z" /></clipPath>
<path d="M796,21564 L1259,21564 Z M796,21564" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2470)" />
<text x="806" y="21554" style="font:10px Open Sans">若不一致，根据冲突处理规则合并多个副本的返回结果，并更新不一致的副本</text>
<clipPath id="clip2471"><path d="M618,21566 L1148,21566 L1148,21704 L618,21704 Z M619,21622 L619,21645 L692,21645 L692,21622 Z M619,21622 Z M619,21622" /></clipPath>
<path d="M705,21646 C705,21646 706.7929688,21646 709,21646 L714,21646" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2471)" />
<clipPath id="clip2472"><path d="M617,21565 L1149,21565 L1149,21705 L617,21705 L617,21565 Z" /></clipPath>
<path d="M692,21646 L705,21646" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2472)" />
<clipPath id="clip2473"><path d="M617,21620 L695,21620 L695,21648 L617,21648 L617,21620 Z" /></clipPath>
<path d="M619,21646 L692,21646 Z M619,21646" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2473)" />
<text x="629" y="21636" style="font:10px Open Sans">单机实现</text>
<clipPath id="clip2474"><path d="M713,21566 L1148,21566 L1148,21704 L713,21704 Z M714,21622 L714,21645 L787,21645 L787,21622 Z M714,21622 Z M714,21622" /></clipPath>
<path d="M800,21646 L800,21608 C800,21605.7929688 801.7929688,21604 804,21604 L809,21604" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2474)" />
<clipPath id="clip2475"><path d="M713,21566 L1148,21566 L1148,21704 L713,21704 Z M714,21622 L714,21645 L787,21645 L787,21622 Z M714,21622 Z M714,21622" /></clipPath>
<path d="M800,21646 C800,21645.4492188 801.7929688,21645 804,21645 L809,21645" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2475)" />
<clipPath id="clip2476"><path d="M713,21566 L1148,21566 L1148,21704 L713,21704 Z M714,21622 L714,21645 L787,21645 L787,21622 Z M714,21622 Z M714,21622" /></clipPath>
<path d="M800,21646 L800,21684 C800,21686.2070313 801.7929688,21688 804,21688 L809,21688" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2476)" />
<clipPath id="clip2477"><path d="M712,21565 L1149,21565 L1149,21705 L712,21705 L712,21565 Z" /></clipPath>
<path d="M787,21646 L800,21646" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2477)" />
<clipPath id="clip2478"><path d="M712,21620 L790,21620 L790,21648 L712,21648 L712,21620 Z" /></clipPath>
<path d="M714,21646 L787,21646 Z M714,21646" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2478)" />
<text x="724" y="21636" style="font:10px Open Sans">存储节点</text>
<clipPath id="clip2479"><path d="M808,21566 L1148,21566 L1148,21619 L808,21619 Z M809,21580 L809,21603 L882,21603 L882,21580 Z M809,21580 Z M809,21580" /></clipPath>
<path d="M895,21604 L895,21595 C895,21592.7929688 896.7929688,21591 899,21591 L904,21591" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2479)" />
<clipPath id="clip2480"><path d="M808,21566 L1148,21566 L1148,21619 L808,21619 Z M809,21580 L809,21603 L882,21603 L882,21580 Z M809,21580 Z M809,21580" /></clipPath>
<path d="M895,21604 L895,21614 C895,21616.2070313 896.7929688,21618 899,21618 L904,21618" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2480)" />
<clipPath id="clip2481"><path d="M807,21565 L1149,21565 L1149,21620 L807,21620 L807,21565 Z" /></clipPath>
<path d="M882,21604 L895,21604" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2481)" />
<clipPath id="clip2482"><path d="M807,21578 L885,21578 L885,21606 L807,21606 L807,21578 Z" /></clipPath>
<path d="M809,21604 L882,21604 Z M809,21604" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2482)" />
<text x="819" y="21594" style="font:10px Open Sans">请求协调</text>
<clipPath id="clip2483"><path d="M902,21565 L1045,21565 L1045,21593 L902,21593 L902,21565 Z" /></clipPath>
<path d="M904,21591 L1042,21591 Z M904,21591" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2483)" />
<text x="914" y="21581" style="font:10px Open Sans">基于事件驱动的设计</text>
<clipPath id="clip2484"><path d="M902,21592 L1149,21592 L1149,21620 L902,21620 L902,21592 Z" /></clipPath>
<path d="M904,21618 L1146,21618 Z M904,21618" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2484)" />
<text x="914" y="21608" style="font:10px Open Sans">每个客户端的读写请求对应一个状态机</text>
<clipPath id="clip2485"><path d="M807,21619 L924,21619 L924,21647 L807,21647 L807,21619 Z" /></clipPath>
<path d="M809,21645 L921,21645 Z M809,21645" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2485)" />
<text x="819" y="21635" style="font:10px Open Sans">成员和故障检测</text>
<clipPath id="clip2486"><path d="M808,21647 L1020,21647 L1020,21704 L808,21704 Z M809,21664 L809,21687 L882,21687 L882,21664 Z M809,21664 Z M809,21664" /></clipPath>
<path d="M895,21688 L895,21678 C895,21675.7929688 896.7929688,21674 899,21674 L904,21674" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2486)" />
<clipPath id="clip2487"><path d="M808,21647 L1020,21647 L1020,21704 L808,21704 Z M809,21664 L809,21687 L882,21687 L882,21664 Z M809,21664 Z M809,21664" /></clipPath>
<path d="M895,21688 L895,21699 C895,21701.2070313 896.7929688,21703 899,21703 L904,21703" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2487)" />
<clipPath id="clip2488"><path d="M807,21646 L1021,21646 L1021,21705 L807,21705 L807,21646 Z" /></clipPath>
<path d="M882,21688 L895,21688" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2488)" />
<clipPath id="clip2489"><path d="M807,21662 L885,21662 L885,21690 L807,21690 L807,21662 Z" /></clipPath>
<path d="M809,21688 L882,21688 Z M809,21688" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2489)" />
<text x="819" y="21678" style="font:10px Open Sans">存储引擎</text>
<clipPath id="clip2490"><path d="M902,21646 L1000,21646 L1000,21676 L902,21676 L902,21646 Z" /></clipPath>
<path d="M904,21674 L997,21674 Z M904,21674" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2490)" />
<text x="914" y="21662" style="font:10px Open Sans">Berkerly DB</text>
<clipPath id="clip2491"><path d="M902,21675 L1021,21675 L1021,21705 L902,21705 L902,21675 Z" /></clipPath>
<path d="M904,21703 L1018,21703 Z M904,21703" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2491)" />
<text x="914" y="21691" style="font:10px Open Sans">MySQL InnoDB</text>
<clipPath id="clip2492"><path d="M618,21705 L1176,21705 L1176,21818 L618,21818 Z M619,21750 L619,21773 L666,21773 L666,21750 Z M619,21750 Z M619,21750" /></clipPath>
<path d="M679,21774 L679,21736 C679,21733.7929688 680.7929688,21732 683,21732 L688,21732" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2492)" />
<clipPath id="clip2493"><path d="M618,21705 L1176,21705 L1176,21818 L618,21818 Z M619,21750 L619,21773 L666,21773 L666,21750 Z M619,21750 Z M619,21750" /></clipPath>
<path d="M679,21774 L679,21763 C679,21760.7929688 680.7929688,21759 683,21759 L688,21759" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2493)" />
<clipPath id="clip2494"><path d="M618,21705 L1176,21705 L1176,21818 L618,21818 Z M619,21750 L619,21773 L666,21773 L666,21750 Z M619,21750 Z M619,21750" /></clipPath>
<path d="M679,21774 L679,21784 C679,21786.2070313 680.7929688,21788 683,21788 L688,21788" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2494)" />
<clipPath id="clip2495"><path d="M618,21705 L1176,21705 L1176,21818 L618,21818 Z M619,21750 L619,21773 L666,21773 L666,21750 Z M619,21750 Z M619,21750" /></clipPath>
<path d="M679,21774 L679,21813 C679,21815.2070313 680.7929688,21817 683,21817 L688,21817" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2495)" />
<clipPath id="clip2496"><path d="M617,21704 L1177,21704 L1177,21819 L617,21819 L617,21704 Z" /></clipPath>
<path d="M666,21774 L679,21774" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2496)" />
<clipPath id="clip2497"><path d="M617,21748 L669,21748 L669,21776 L617,21776 L617,21748 Z" /></clipPath>
<path d="M619,21774 L666,21774 Z M619,21774" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2497)" />
<text x="629" y="21764" style="font:10px Open Sans">讨论</text>
<clipPath id="clip2498"><path d="M686,21704 L1126,21704 L1126,21734 L686,21734 L686,21704 Z" /></clipPath>
<path d="M688,21732 L1123,21732 Z M688,21732" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2498)" />
<text x="698" y="21720" style="font:10px Open Sans">采用无中心节点的P2P设计，增加了系统可扩展性，但带来了一致性问题</text>
<clipPath id="clip2499"><path d="M686,21733 L868,21733 L868,21761 L686,21761 L686,21733 Z" /></clipPath>
<path d="M688,21759 L865,21759 Z M688,21759" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2499)" />
<text x="698" y="21749" style="font:10px Open Sans">只保证最基本的最终一致性</text>
<clipPath id="clip2500"><path d="M686,21760 L865,21760 L865,21790 L686,21790 L686,21760 Z" /></clipPath>
<path d="M688,21788 L862,21788 Z M688,21788" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2500)" />
<text x="698" y="21776" style="font:10px Open Sans">在Amazon的使用场景有限</text>
<clipPath id="clip2501"><path d="M686,21789 L1177,21789 L1177,21819 L686,21819 L686,21789 Z" /></clipPath>
<path d="M688,21817 L1174,21817 Z M688,21817" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2501)" />
<text x="698" y="21805" style="font:10px Open Sans">从Dynamo及其开源实现Cassandra看出无中心节点的设计短期之内难以成为主流</text>
<clipPath id="clip2502"><path d="M523,21819 L1456,21819 L1456,22956 L523,22956 Z M524,22368 L524,22393 L567,22393 L567,22368 Z M524,22368 Z M524,22368" /></clipPath>
<path d="M580,22394 L580,21879 C580,21876.7929688 581.7929688,21875 584,21875 L589,21875" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2502)" />
<clipPath id="clip2503"><path d="M523,21819 L1456,21819 L1456,22956 L523,22956 Z M524,22368 L524,22393 L567,22393 L567,22368 Z M524,22368 Z M524,22368" /></clipPath>
<path d="M580,22394 L580,21977 C580,21974.7929688 581.7929688,21973 584,21973 L589,21973" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2503)" />
<clipPath id="clip2504"><path d="M523,21819 L1456,21819 L1456,22956 L523,22956 Z M524,22368 L524,22393 L567,22393 L567,22368 Z M524,22368 Z M524,22368" /></clipPath>
<path d="M580,22394 L580,22417 C580,22419.2070313 581.7929688,22421 584,22421 L589,22421" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2504)" />
<clipPath id="clip2505"><path d="M523,21819 L1456,21819 L1456,22956 L523,22956 Z M524,22368 L524,22393 L567,22393 L567,22368 Z M524,22368 Z M524,22368" /></clipPath>
<path d="M580,22394 L580,22910 C580,22912.2070313 581.7929688,22914 584,22914 L589,22914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2505)" />
<clipPath id="clip2506"><path d="M522,21818 L1457,21818 L1457,22957 L522,22957 L522,21818 Z" /></clipPath>
<path d="M567,22394 L580,22394" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2506)" />
<clipPath id="clip2507"><path d="M522,22366 L570,22366 L570,22396 L522,22396 L522,22366 Z" /></clipPath>
<path d="M524,22394 L567,22394 Z M524,22394" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2507)" />
<text x="534" y="22382" style="font:10px Open Sans">Tair</text>
<clipPath id="clip2508"><path d="M588,21819 L911,21819 L911,21905 L588,21905 Z M589,21851 L589,21874 L662,21874 L662,21851 Z M589,21851 Z M589,21851" /></clipPath>
<path d="M675,21875 L675,21850 C675,21847.7929688 676.7929688,21846 679,21846 L684,21846" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2508)" />
<clipPath id="clip2509"><path d="M588,21819 L911,21819 L911,21905 L588,21905 Z M589,21851 L589,21874 L662,21874 L662,21851 Z M589,21851 Z M589,21851" /></clipPath>
<path d="M675,21875 C675,21875 676.7929688,21875 679,21875 L684,21875" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2509)" />
<clipPath id="clip2510"><path d="M588,21819 L911,21819 L911,21905 L588,21905 Z M589,21851 L589,21874 L662,21874 L662,21851 Z M589,21851 Z M589,21851" /></clipPath>
<path d="M675,21875 L675,21900 C675,21902.2070313 676.7929688,21904 679,21904 L684,21904" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2510)" />
<clipPath id="clip2511"><path d="M587,21818 L912,21818 L912,21906 L587,21906 L587,21818 Z" /></clipPath>
<path d="M662,21875 L675,21875" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2511)" />
<clipPath id="clip2512"><path d="M587,21849 L665,21849 L665,21877 L587,21877 L587,21849 Z" /></clipPath>
<path d="M589,21875 L662,21875 Z M589,21875" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2512)" />
<text x="599" y="21865" style="font:10px Open Sans">基本概念</text>
<clipPath id="clip2513"><path d="M682,21818 L830,21818 L830,21848 L682,21848 L682,21818 Z" /></clipPath>
<path d="M684,21846 L827,21846 Z M684,21846" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2513)" />
<text x="694" y="21834" style="font:10px Open Sans">分布式键/值存储引擎</text>
<clipPath id="clip2514"><path d="M682,21847 L912,21847 L912,21877 L682,21877 L682,21847 Z" /></clipPath>
<path d="M684,21875 L909,21875 Z M684,21875" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2514)" />
<text x="694" y="21863" style="font:10px Open Sans">非持久化Tair可堪称一个分布式缓存</text>
<clipPath id="clip2515"><path d="M682,21876 L886,21876 L886,21906 L682,21906 L682,21876 Z" /></clipPath>
<path d="M684,21904 L883,21904 Z M684,21904" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2515)" />
<text x="694" y="21892" style="font:10px Open Sans">持久化Tair将数据存放在磁盘中</text>
<clipPath id="clip2516"><path d="M588,21906 L1167,21906 L1167,22017 L588,22017 Z M589,21949 L589,21972 L662,21972 L662,21949 Z M589,21949 Z M589,21949" /></clipPath>
<path d="M675,21973 L675,21950 C675,21947.7929688 676.7929688,21946 679,21946 L684,21946" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2516)" />
<clipPath id="clip2517"><path d="M588,21906 L1167,21906 L1167,22017 L588,22017 Z M589,21949 L589,21972 L662,21972 L662,21949 Z M589,21949 Z M589,21949" /></clipPath>
<path d="M675,21973 L675,21997 C675,21999.2070313 676.7929688,22001 679,22001 L684,22001" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2517)" />
<clipPath id="clip2518"><path d="M587,21905 L1168,21905 L1168,22018 L587,22018 L587,21905 Z" /></clipPath>
<path d="M662,21973 L675,21973" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2518)" />
<clipPath id="clip2519"><path d="M587,21947 L665,21947 L665,21975 L587,21975 L587,21947 Z" /></clipPath>
<path d="M589,21973 L662,21973 Z M589,21973" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2519)" />
<text x="599" y="21963" style="font:10px Open Sans">系统架构</text>
<clipPath id="clip2520"><path d="M683,21906 L1167,21906 L1167,21961 L683,21961 Z M684,21920 L684,21945 L860,21945 L860,21920 Z M684,21920 Z M684,21920" /></clipPath>
<path d="M873,21946 L873,21937 C873,21934.7929688 874.7929688,21933 877,21933 L882,21933" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2520)" />
<clipPath id="clip2521"><path d="M683,21906 L1167,21906 L1167,21961 L683,21961 Z M684,21920 L684,21945 L860,21945 L860,21920 Z M684,21920 Z M684,21920" /></clipPath>
<path d="M873,21946 L873,21956 C873,21958.2070313 874.7929688,21960 877,21960 L882,21960" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2521)" />
<clipPath id="clip2522"><path d="M682,21905 L1168,21905 L1168,21962 L682,21962 L682,21905 Z" /></clipPath>
<path d="M860,21946 L873,21946" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2522)" />
<clipPath id="clip2523"><path d="M682,21918 L863,21918 L863,21948 L682,21948 L682,21918 Z" /></clipPath>
<path d="M684,21946 L860,21946 Z M684,21946" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2523)" />
<text x="694" y="21934" style="font:10px Open Sans">中心控制节点ConfigServer</text>
<clipPath id="clip2524"><path d="M880,21905 L1168,21905 L1168,21935 L880,21935 L880,21905 Z" /></clipPath>
<path d="M882,21933 L1165,21933 Z M882,21933" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2524)" />
<text x="892" y="21921" style="font:10px Open Sans">负责管理所有的DataServer，维护其状态信息</text>
<clipPath id="clip2525"><path d="M880,21934 L1101,21934 L1101,21962 L880,21962 L880,21934 Z" /></clipPath>
<path d="M882,21960 L1098,21960 Z M882,21960" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2525)" />
<text x="892" y="21950" style="font:10px Open Sans">采用一主一备的形式来保证可靠性</text>
<clipPath id="clip2526"><path d="M683,21962 L1128,21962 L1128,22017 L683,22017 Z M684,21975 L684,22000 L824,22000 L824,21975 Z M684,21975 Z M684,21975" /></clipPath>
<path d="M837,22001 L837,21991 C837,21988.7929688 838.7929688,21987 841,21987 L846,21987" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2526)" />
<clipPath id="clip2527"><path d="M683,21962 L1128,21962 L1128,22017 L683,22017 Z M684,21975 L684,22000 L824,22000 L824,21975 Z M684,21975 Z M684,21975" /></clipPath>
<path d="M837,22001 L837,22012 C837,22014.2070313 838.7929688,22016 841,22016 L846,22016" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2527)" />
<clipPath id="clip2528"><path d="M682,21961 L1129,21961 L1129,22018 L682,22018 L682,21961 Z" /></clipPath>
<path d="M824,22001 L837,22001" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2528)" />
<clipPath id="clip2529"><path d="M682,21973 L827,21973 L827,22003 L682,22003 L682,21973 Z" /></clipPath>
<path d="M684,22001 L824,22001 Z M684,22001" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2529)" />
<text x="694" y="21989" style="font:10px Open Sans">服务节点DataServer</text>
<clipPath id="clip2530"><path d="M844,21961 L1000,21961 L1000,21989 L844,21989 L844,21961 Z" /></clipPath>
<path d="M846,21987 L997,21987 Z M846,21987" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2530)" />
<text x="856" y="21977" style="font:10px Open Sans">对外提供各种数据服务</text>
<clipPath id="clip2531"><path d="M844,21988 L1129,21988 L1129,22018 L844,22018 L844,21988 Z" /></clipPath>
<path d="M846,22016 L1126,22016 Z M846,22016" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2531)" />
<text x="856" y="22004" style="font:10px Open Sans">以心跳的形式将自身状况汇报给ConfigServer</text>
<clipPath id="clip2532"><path d="M588,22018 L1456,22018 L1456,22846 L588,22846 Z M589,22397 L589,22420 L662,22420 L662,22397 Z M589,22397 Z M589,22397" /></clipPath>
<path d="M675,22421 L675,22118 C675,22115.7929688 676.7929688,22114 679,22114 L684,22114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2532)" />
<clipPath id="clip2533"><path d="M588,22018 L1456,22018 L1456,22846 L588,22846 Z M589,22397 L589,22420 L662,22420 L662,22397 Z M589,22397 Z M589,22397" /></clipPath>
<path d="M675,22421 L675,22260 C675,22257.7929688 676.7929688,22256 679,22256 L684,22256" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2533)" />
<clipPath id="clip2534"><path d="M588,22018 L1456,22018 L1456,22846 L588,22846 Z M589,22397 L589,22420 L662,22420 L662,22397 Z M589,22397 Z M589,22397" /></clipPath>
<path d="M675,22421 L675,22388 C675,22385.7929688 676.7929688,22384 679,22384 L684,22384" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2534)" />
<clipPath id="clip2535"><path d="M588,22018 L1456,22018 L1456,22846 L588,22846 Z M589,22397 L589,22420 L662,22420 L662,22397 Z M589,22397 Z M589,22397" /></clipPath>
<path d="M675,22421 L675,22524 C675,22526.2070313 676.7929688,22528 679,22528 L684,22528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2535)" />
<clipPath id="clip2536"><path d="M588,22018 L1456,22018 L1456,22846 L588,22846 Z M589,22397 L589,22420 L662,22420 L662,22397 Z M589,22397 Z M589,22397" /></clipPath>
<path d="M675,22421 L675,22725 C675,22727.2070313 676.7929688,22729 679,22729 L684,22729" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2536)" />
<clipPath id="clip2537"><path d="M587,22017 L1457,22017 L1457,22847 L587,22847 L587,22017 Z" /></clipPath>
<path d="M662,22421 L675,22421" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2537)" />
<clipPath id="clip2538"><path d="M587,22395 L665,22395 L665,22423 L587,22423 L587,22395 Z" /></clipPath>
<path d="M589,22421 L662,22421 Z M589,22421" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2538)" />
<text x="599" y="22411" style="font:10px Open Sans">关键问题</text>
<clipPath id="clip2539"><path d="M683,22018 L1180,22018 L1180,22185 L683,22185 Z M684,22090 L684,22113 L757,22113 L757,22090 Z M684,22090 Z M684,22090" /></clipPath>
<path d="M770,22114 L770,22049 C770,22046.7929688 771.7929688,22045 774,22045 L779,22045" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2539)" />
<clipPath id="clip2540"><path d="M683,22018 L1180,22018 L1180,22185 L683,22185 Z M684,22090 L684,22113 L757,22113 L757,22090 Z M684,22090 Z M684,22090" /></clipPath>
<path d="M770,22114 L770,22076 C770,22073.7929688 771.7929688,22072 774,22072 L779,22072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2540)" />
<clipPath id="clip2541"><path d="M683,22018 L1180,22018 L1180,22185 L683,22185 Z M684,22090 L684,22113 L757,22113 L757,22090 Z M684,22090 Z M684,22090" /></clipPath>
<path d="M770,22114 L770,22105 C770,22102.7929688 771.7929688,22101 774,22101 L779,22101" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2541)" />
<clipPath id="clip2542"><path d="M683,22018 L1180,22018 L1180,22185 L683,22185 Z M684,22090 L684,22113 L757,22113 L757,22090 Z M684,22090 Z M684,22090" /></clipPath>
<path d="M770,22114 L770,22124 C770,22126.2070313 771.7929688,22128 774,22128 L779,22128" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2542)" />
<clipPath id="clip2543"><path d="M683,22018 L1180,22018 L1180,22185 L683,22185 Z M684,22090 L684,22113 L757,22113 L757,22090 Z M684,22090 Z M684,22090" /></clipPath>
<path d="M770,22114 L770,22151 C770,22153.2070313 771.7929688,22155 774,22155 L779,22155" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2543)" />
<clipPath id="clip2544"><path d="M683,22018 L1180,22018 L1180,22185 L683,22185 Z M684,22090 L684,22113 L757,22113 L757,22090 Z M684,22090 Z M684,22090" /></clipPath>
<path d="M770,22114 L770,22180 C770,22182.2070313 771.7929688,22184 774,22184 L779,22184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2544)" />
<clipPath id="clip2545"><path d="M682,22017 L1181,22017 L1181,22186 L682,22186 L682,22017 Z" /></clipPath>
<path d="M757,22114 L770,22114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2545)" />
<clipPath id="clip2546"><path d="M682,22088 L760,22088 L760,22116 L682,22116 L682,22088 Z" /></clipPath>
<path d="M684,22114 L757,22114 Z M684,22114" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2546)" />
<text x="694" y="22104" style="font:10px Open Sans">数据分布</text>
<clipPath id="clip2547"><path d="M777,22017 L1073,22017 L1073,22047 L777,22047 L777,22017 Z" /></clipPath>
<path d="M779,22045 L1070,22045 Z M779,22045" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2547)" />
<text x="789" y="22033" style="font:10px Open Sans">根据数据的主键计算哈希值后，分布到Q个桶中</text>
<clipPath id="clip2548"><path d="M777,22046 L1011,22046 L1011,22074 L777,22074 L777,22046 Z" /></clipPath>
<path d="M779,22072 L1008,22072 Z M779,22072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2548)" />
<text x="789" y="22062" style="font:10px Open Sans">桶是负载均衡和数据迁移的基本单位</text>
<clipPath id="clip2549"><path d="M777,22073 L1181,22073 L1181,22103 L777,22103 L777,22073 Z" /></clipPath>
<path d="M779,22101 L1178,22101 Z M779,22101" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2549)" />
<text x="789" y="22089" style="font:10px Open Sans">ConfigServer按照一定的策略把每个桶指派到不同的DataServer上</text>
<clipPath id="clip2550"><path d="M777,22102 L1128,22102 L1128,22130 L777,22130 L777,22102 Z" /></clipPath>
<path d="M779,22128 L1125,22128 Z M779,22128" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2550)" />
<text x="789" y="22118" style="font:10px Open Sans">数据按照主键计算哈希值，可基本保证桶中数据的均衡性</text>
<clipPath id="clip2551"><path d="M777,22129 L1102,22129 L1102,22157 L777,22157 L777,22129 Z" /></clipPath>
<path d="M779,22155 L1099,22155 Z M779,22155" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2551)" />
<text x="789" y="22145" style="font:10px Open Sans">只要保证桶分布的均衡性就能保证数据分布的均衡性</text>
<clipPath id="clip2552"><path d="M777,22156 L1177,22156 L1177,22186 L777,22186 L777,22156 Z" /></clipPath>
<path d="M779,22184 L1174,22184 Z M779,22184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2552)" />
<text x="789" y="22172" style="font:10px Open Sans">根据Dynamo论文的实验结论，Q值需要远大于集群的物理机器数</text>
<clipPath id="clip2553"><path d="M683,22186 L1375,22186 L1375,22301 L683,22301 Z M684,22232 L684,22255 L731,22255 L731,22232 Z M684,22232 Z M684,22232" /></clipPath>
<path d="M744,22256 L744,22217 C744,22214.7929688 745.7929688,22213 748,22213 L753,22213" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2553)" />
<clipPath id="clip2554"><path d="M683,22186 L1375,22186 L1375,22301 L683,22301 Z M684,22232 L684,22255 L731,22255 L731,22232 Z M684,22232 Z M684,22232" /></clipPath>
<path d="M744,22256 L744,22246 C744,22243.7929688 745.7929688,22242 748,22242 L753,22242" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2554)" />
<clipPath id="clip2555"><path d="M683,22186 L1375,22186 L1375,22301 L683,22301 Z M684,22232 L684,22255 L731,22255 L731,22232 Z M684,22232 Z M684,22232" /></clipPath>
<path d="M744,22256 L744,22267 C744,22269.2070313 745.7929688,22271 748,22271 L753,22271" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2555)" />
<clipPath id="clip2556"><path d="M683,22186 L1375,22186 L1375,22301 L683,22301 Z M684,22232 L684,22255 L731,22255 L731,22232 Z M684,22232 Z M684,22232" /></clipPath>
<path d="M744,22256 L744,22296 C744,22298.2070313 745.7929688,22300 748,22300 L753,22300" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2556)" />
<clipPath id="clip2557"><path d="M682,22185 L1376,22185 L1376,22302 L682,22302 L682,22185 Z" /></clipPath>
<path d="M731,22256 L744,22256" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2557)" />
<clipPath id="clip2558"><path d="M682,22230 L734,22230 L734,22258 L682,22258 L682,22230 Z" /></clipPath>
<path d="M684,22256 L731,22256 Z M684,22256" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2558)" />
<text x="694" y="22246" style="font:10px Open Sans">容错</text>
<clipPath id="clip2559"><path d="M751,22185 L1051,22185 L1051,22215 L751,22215 L751,22185 Z" /></clipPath>
<path d="M753,22213 L1048,22213 Z M753,22213" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2559)" />
<text x="763" y="22201" style="font:10px Open Sans">某个DataServer故障时，ConfigServer能检测到</text>
<clipPath id="clip2560"><path d="M751,22214 L968,22214 L968,22244 L751,22244 L751,22214 Z" /></clipPath>
<path d="M753,22242 L965,22242 Z M753,22242" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2560)" />
<text x="763" y="22230" style="font:10px Open Sans">每个哈希桶在Tair中存放多个副本</text>
<clipPath id="clip2561"><path d="M751,22243 L1246,22243 L1246,22273 L751,22273 L751,22243 Z" /></clipPath>
<path d="M753,22271 L1243,22271 Z M753,22271" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2561)" />
<text x="763" y="22259" style="font:10px Open Sans">如果是备副本故障，ConfigServer会重新指定一台DataServer，并将数据复制过去</text>
<clipPath id="clip2562"><path d="M751,22272 L1376,22272 L1376,22302 L751,22302 L751,22272 Z" /></clipPath>
<path d="M753,22300 L1373,22300 Z M753,22300" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2562)" />
<text x="763" y="22288" style="font:10px Open Sans">如果是主副本故障，ConfigServer先将某个正常的备副本提升为主副本，在选一台DataServer增加备副本</text>
<clipPath id="clip2563"><path d="M683,22302 L1456,22302 L1456,22442 L683,22442 Z M684,22360 L684,22383 L757,22383 L757,22360 Z M684,22360 Z M684,22360" /></clipPath>
<path d="M770,22384 L770,22331 C770,22328.7929688 771.7929688,22327 774,22327 L779,22327" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2563)" />
<clipPath id="clip2564"><path d="M683,22302 L1456,22302 L1456,22442 L683,22442 Z M684,22360 L684,22383 L757,22383 L757,22360 Z M684,22360 Z M684,22360" /></clipPath>
<path d="M770,22384 L770,22358 C770,22355.7929688 771.7929688,22354 774,22354 L779,22354" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2564)" />
<clipPath id="clip2565"><path d="M683,22302 L1456,22302 L1456,22442 L683,22442 Z M684,22360 L684,22383 L757,22383 L757,22360 Z M684,22360 Z M684,22360" /></clipPath>
<path d="M770,22384 C770,22383.4492188 771.7929688,22383 774,22383 L779,22383" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2565)" />
<clipPath id="clip2566"><path d="M683,22302 L1456,22302 L1456,22442 L683,22442 Z M684,22360 L684,22383 L757,22383 L757,22360 Z M684,22360 Z M684,22360" /></clipPath>
<path d="M770,22384 L770,22408 C770,22410.2070313 771.7929688,22412 774,22412 L779,22412" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2566)" />
<clipPath id="clip2567"><path d="M683,22302 L1456,22302 L1456,22442 L683,22442 Z M684,22360 L684,22383 L757,22383 L757,22360 Z M684,22360 Z M684,22360" /></clipPath>
<path d="M770,22384 L770,22437 C770,22439.2070313 771.7929688,22441 774,22441 L779,22441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2567)" />
<clipPath id="clip2568"><path d="M682,22301 L1457,22301 L1457,22443 L682,22443 L682,22301 Z" /></clipPath>
<path d="M757,22384 L770,22384" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2568)" />
<clipPath id="clip2569"><path d="M682,22358 L760,22358 L760,22386 L682,22386 L682,22358 Z" /></clipPath>
<path d="M684,22384 L757,22384 Z M684,22384" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2569)" />
<text x="694" y="22374" style="font:10px Open Sans">数据迁移</text>
<clipPath id="clip2570"><path d="M777,22301 L1037,22301 L1037,22329 L777,22329 L777,22301 Z" /></clipPath>
<path d="M779,22327 L1034,22327 Z M779,22327" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2570)" />
<text x="789" y="22317" style="font:10px Open Sans">机器加入或者负载不均衡可能导致桶迁移</text>
<clipPath id="clip2571"><path d="M777,22328 L1024,22328 L1024,22356 L777,22356 L777,22328 Z" /></clipPath>
<path d="M779,22354 L1021,22354 Z M779,22354" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2571)" />
<text x="789" y="22344" style="font:10px Open Sans">迁移完成前，客户端的路由表没有变化</text>
<clipPath id="clip2572"><path d="M777,22355 L1026,22355 L1026,22385 L777,22385 L777,22355 Z" /></clipPath>
<path d="M779,22383 L1023,22383 Z M779,22383" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2572)" />
<text x="789" y="22371" style="font:10px Open Sans">未迁移的桶仍有原DataServer提供服务</text>
<clipPath id="clip2573"><path d="M777,22384 L1106,22384 L1106,22414 L777,22414 L777,22384 Z" /></clipPath>
<path d="M779,22412 L1103,22412 Z M779,22412" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2573)" />
<text x="789" y="22400" style="font:10px Open Sans">已迁移的由原DataServer将请求转发给新DataServer</text>
<clipPath id="clip2574"><path d="M777,22413 L1457,22413 L1457,22443 L777,22443 L777,22413 Z" /></clipPath>
<path d="M779,22441 L1454,22441 Z M779,22441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2574)" />
<text x="789" y="22429" style="font:10px Open Sans">正在迁移的由原DataServer提供服务，但记录修改日志，等该桶迁移完成时，将日志发送给新DataServer进行回放</text>
<clipPath id="clip2575"><path d="M683,22443 L1335,22443 L1335,22587 L683,22587 Z M684,22502 L684,22527 L782,22527 L782,22502 Z M684,22502 Z M684,22502" /></clipPath>
<path d="M795,22528 L795,22474 C795,22471.7929688 796.7929688,22470 799,22470 L804,22470" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2575)" />
<clipPath id="clip2576"><path d="M683,22443 L1335,22443 L1335,22587 L683,22587 Z M684,22502 L684,22527 L782,22527 L782,22502 Z M684,22502 Z M684,22502" /></clipPath>
<path d="M795,22528 L795,22503 C795,22500.7929688 796.7929688,22499 799,22499 L804,22499" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2576)" />
<clipPath id="clip2577"><path d="M683,22443 L1335,22443 L1335,22587 L683,22587 Z M684,22502 L684,22527 L782,22527 L782,22502 Z M684,22502 Z M684,22502" /></clipPath>
<path d="M795,22528 C795,22528 796.7929688,22528 799,22528 L804,22528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2577)" />
<clipPath id="clip2578"><path d="M683,22443 L1335,22443 L1335,22587 L683,22587 Z M684,22502 L684,22527 L782,22527 L782,22502 Z M684,22502 Z M684,22502" /></clipPath>
<path d="M795,22528 L795,22553 C795,22555.2070313 796.7929688,22557 799,22557 L804,22557" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2578)" />
<clipPath id="clip2579"><path d="M683,22443 L1335,22443 L1335,22587 L683,22587 Z M684,22502 L684,22527 L782,22527 L782,22502 Z M684,22502 Z M684,22502" /></clipPath>
<path d="M795,22528 L795,22582 C795,22584.2070313 796.7929688,22586 799,22586 L804,22586" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2579)" />
<clipPath id="clip2580"><path d="M682,22442 L1336,22442 L1336,22588 L682,22588 L682,22442 Z" /></clipPath>
<path d="M782,22528 L795,22528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2580)" />
<clipPath id="clip2581"><path d="M682,22500 L785,22500 L785,22530 L682,22530 L682,22500 Z" /></clipPath>
<path d="M684,22528 L782,22528 Z M684,22528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2581)" />
<text x="694" y="22516" style="font:10px Open Sans">ConfigServer</text>
<clipPath id="clip2582"><path d="M802,22442 L1204,22442 L1204,22472 L802,22472 L802,22442 Z" /></clipPath>
<path d="M804,22470 L1201,22470 Z M804,22470" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2582)" />
<text x="814" y="22458" style="font:10px Open Sans">客户端缓存路由表，大部分情况下客户端不需要访问ConfigServer</text>
<clipPath id="clip2583"><path d="M802,22471 L1180,22471 L1180,22501 L802,22501 L802,22471 Z" /></clipPath>
<path d="M804,22499 L1177,22499 Z M804,22499" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2583)" />
<text x="814" y="22487" style="font:10px Open Sans">每次路由变更，ConfigServer会将新的配置推送给DataServer</text>
<clipPath id="clip2584"><path d="M802,22500 L1142,22500 L1142,22530 L802,22530 L802,22500 Z" /></clipPath>
<path d="M804,22528 L1139,22528 Z M804,22528" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2584)" />
<text x="814" y="22516" style="font:10px Open Sans">客户端访问DataServer时会发送缓存的路由表的版本号</text>
<clipPath id="clip2585"><path d="M802,22529 L1336,22529 L1336,22559 L802,22559 L802,22529 Z" /></clipPath>
<path d="M804,22557 L1333,22557 Z M804,22557" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2585)" />
<text x="814" y="22545" style="font:10px Open Sans">如果DataServer发现客户端的版本号过旧，则通知客户端去ConfigServer获取新的路由表</text>
<clipPath id="clip2586"><path d="M802,22558 L1271,22558 L1271,22588 L802,22588 L802,22558 Z" /></clipPath>
<path d="M804,22586 L1268,22586 Z M804,22586" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2586)" />
<text x="814" y="22574" style="font:10px Open Sans">如果客户端访问某台DataServer不可达，会主动去ConfigServer获取新路由表</text>
<clipPath id="clip2587"><path d="M683,22588 L1115,22588 L1115,22846 L683,22846 Z M684,22703 L684,22728 L772,22728 L772,22703 Z M684,22703 Z M684,22703" /></clipPath>
<path d="M785,22729 L785,22617 C785,22614.7929688 786.7929688,22613 789,22613 L794,22613" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2587)" />
<clipPath id="clip2588"><path d="M683,22588 L1115,22588 L1115,22846 L683,22846 Z M684,22703 L684,22728 L772,22728 L772,22703 Z M684,22703 Z M684,22703" /></clipPath>
<path d="M785,22729 L785,22646 C785,22643.7929688 786.7929688,22642 789,22642 L794,22642" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2588)" />
<clipPath id="clip2589"><path d="M683,22588 L1115,22588 L1115,22846 L683,22846 Z M684,22703 L684,22728 L772,22728 L772,22703 Z M684,22703 Z M684,22703" /></clipPath>
<path d="M785,22729 L785,22739 C785,22741.2070313 786.7929688,22743 789,22743 L794,22743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2589)" />
<clipPath id="clip2590"><path d="M683,22588 L1115,22588 L1115,22846 L683,22846 Z M684,22703 L684,22728 L772,22728 L772,22703 Z M684,22703 Z M684,22703" /></clipPath>
<path d="M785,22729 L785,22841 C785,22843.2070313 786.7929688,22845 789,22845 L794,22845" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2590)" />
<clipPath id="clip2591"><path d="M682,22587 L1116,22587 L1116,22847 L682,22847 L682,22587 Z" /></clipPath>
<path d="M772,22729 L785,22729" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2591)" />
<clipPath id="clip2592"><path d="M682,22701 L775,22701 L775,22731 L682,22731 L682,22701 Z" /></clipPath>
<path d="M684,22729 L772,22729 Z M684,22729" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2592)" />
<text x="694" y="22717" style="font:10px Open Sans">DataServer</text>
<clipPath id="clip2593"><path d="M792,22587 L896,22587 L896,22615 L792,22615 L792,22587 Z" /></clipPath>
<path d="M794,22613 L893,22613 Z M794,22613" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2593)" />
<text x="804" y="22603" style="font:10px Open Sans">负责存储数据</text>
<clipPath id="clip2594"><path d="M792,22614 L1116,22614 L1116,22644 L792,22644 L792,22614 Z" /></clipPath>
<path d="M794,22642 L1113,22642 Z M794,22642" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2594)" />
<text x="804" y="22630" style="font:10px Open Sans">根据ConfigServer的要求完成数据的复制和迁移工作</text>
<clipPath id="clip2595"><path d="M793,22644 L1076,22644 L1076,22817 L793,22817 Z M794,22719 L794,22742 L945,22742 L945,22719 Z M794,22719 Z M794,22719" /></clipPath>
<path d="M958,22743 L958,22675 C958,22672.7929688 959.7929688,22671 962,22671 L967,22671" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2595)" />
<clipPath id="clip2596"><path d="M793,22644 L1076,22644 L1076,22817 L793,22817 Z M794,22719 L794,22742 L945,22742 L945,22719 Z M794,22719 Z M794,22719" /></clipPath>
<path d="M958,22743 L958,22704 C958,22701.7929688 959.7929688,22700 962,22700 L967,22700" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2596)" />
<clipPath id="clip2597"><path d="M793,22644 L1076,22644 L1076,22817 L793,22817 Z M794,22719 L794,22742 L945,22742 L945,22719 Z M794,22719 Z M794,22719" /></clipPath>
<path d="M958,22743 L958,22733 C958,22730.7929688 959.7929688,22729 962,22729 L967,22729" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2597)" />
<clipPath id="clip2598"><path d="M793,22644 L1076,22644 L1076,22817 L793,22817 Z M794,22719 L794,22742 L945,22742 L945,22719 Z M794,22719 Z M794,22719" /></clipPath>
<path d="M958,22743 L958,22754 C958,22756.2070313 959.7929688,22758 962,22758 L967,22758" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2598)" />
<clipPath id="clip2599"><path d="M793,22644 L1076,22644 L1076,22817 L793,22817 Z M794,22719 L794,22742 L945,22742 L945,22719 Z M794,22719 Z M794,22719" /></clipPath>
<path d="M958,22743 L958,22783 C958,22785.2070313 959.7929688,22787 962,22787 L967,22787" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2599)" />
<clipPath id="clip2600"><path d="M793,22644 L1076,22644 L1076,22817 L793,22817 Z M794,22719 L794,22742 L945,22742 L945,22719 Z M794,22719 Z M794,22719" /></clipPath>
<path d="M958,22743 L958,22812 C958,22814.2070313 959.7929688,22816 962,22816 L967,22816" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2600)" />
<clipPath id="clip2601"><path d="M792,22643 L1077,22643 L1077,22818 L792,22818 L792,22643 Z" /></clipPath>
<path d="M945,22743 L958,22743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2601)" />
<clipPath id="clip2602"><path d="M792,22717 L948,22717 L948,22745 L792,22745 L792,22717 Z" /></clipPath>
<path d="M794,22743 L945,22743 Z M794,22743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2602)" />
<text x="804" y="22733" style="font:10px Open Sans">具有抽象的存储引擎层</text>
<clipPath id="clip2603"><path d="M965,22643 L1019,22643 L1019,22673 L965,22673 L965,22643 Z" /></clipPath>
<path d="M967,22671 L1016,22671 Z M967,22671" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2603)" />
<text x="977" y="22659" style="font:10px Open Sans">Mdb</text>
<clipPath id="clip2604"><path d="M965,22672 L1014,22672 L1014,22702 L965,22702 L965,22672 Z" /></clipPath>
<path d="M967,22700 L1011,22700 Z M967,22700" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2604)" />
<text x="977" y="22688" style="font:10px Open Sans">Fdb</text>
<clipPath id="clip2605"><path d="M965,22701 L1063,22701 L1063,22731 L965,22731 L965,22701 Z" /></clipPath>
<path d="M967,22729 L1060,22729 Z M967,22729" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2605)" />
<text x="977" y="22717" style="font:10px Open Sans">Berkerly DB</text>
<clipPath id="clip2606"><path d="M965,22730 L1077,22730 L1077,22760 L965,22760 L965,22730 Z" /></clipPath>
<path d="M967,22758 L1074,22758 Z M967,22758" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2606)" />
<text x="977" y="22746" style="font:10px Open Sans">Tokyo Cabinet</text>
<clipPath id="clip2607"><path d="M965,22759 L1038,22759 L1038,22789 L965,22789 L965,22759 Z" /></clipPath>
<path d="M967,22787 L1035,22787 Z M967,22787" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2607)" />
<text x="977" y="22775" style="font:10px Open Sans">InnoDB</text>
<clipPath id="clip2608"><path d="M965,22788 L1041,22788 L1041,22818 L965,22818 L965,22788 Z" /></clipPath>
<path d="M967,22816 L1038,22816 Z M967,22816" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2608)" />
<text x="977" y="22804" style="font:10px Open Sans">LevelDB</text>
<clipPath id="clip2609"><path d="M792,22817 L1018,22817 L1018,22847 L792,22847 L792,22817 Z" /></clipPath>
<path d="M794,22845 L1015,22845 Z M794,22845" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2609)" />
<text x="804" y="22833" style="font:10px Open Sans">有插件容器，可动态加载/卸载插件</text>
<clipPath id="clip2610"><path d="M588,22847 L979,22847 L979,22956 L588,22956 Z M589,22890 L589,22913 L636,22913 L636,22890 Z M589,22890 Z M589,22890" /></clipPath>
<path d="M649,22914 L649,22878 C649,22875.7929688 650.7929688,22874 653,22874 L658,22874" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2610)" />
<clipPath id="clip2611"><path d="M588,22847 L979,22847 L979,22956 L588,22956 Z M589,22890 L589,22913 L636,22913 L636,22890 Z M589,22890 Z M589,22890" /></clipPath>
<path d="M649,22914 L649,22905 C649,22902.7929688 650.7929688,22901 653,22901 L658,22901" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2611)" />
<clipPath id="clip2612"><path d="M588,22847 L979,22847 L979,22956 L588,22956 Z M589,22890 L589,22913 L636,22913 L636,22890 Z M589,22890 Z M589,22890" /></clipPath>
<path d="M649,22914 L649,22924 C649,22926.2070313 650.7929688,22928 653,22928 L658,22928" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2612)" />
<clipPath id="clip2613"><path d="M588,22847 L979,22847 L979,22956 L588,22956 Z M589,22890 L589,22913 L636,22913 L636,22890 Z M589,22890 Z M589,22890" /></clipPath>
<path d="M649,22914 L649,22951 C649,22953.2070313 650.7929688,22955 653,22955 L658,22955" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2613)" />
<clipPath id="clip2614"><path d="M587,22846 L980,22846 L980,22957 L587,22957 L587,22846 Z" /></clipPath>
<path d="M636,22914 L649,22914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2614)" />
<clipPath id="clip2615"><path d="M587,22888 L639,22888 L639,22916 L587,22916 L587,22888 Z" /></clipPath>
<path d="M589,22914 L636,22914 Z M589,22914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2615)" />
<text x="599" y="22904" style="font:10px Open Sans">讨论</text>
<clipPath id="clip2616"><path d="M656,22846 L980,22846 L980,22876 L656,22876 L656,22846 Z" /></clipPath>
<path d="M658,22874 L977,22874 Z M658,22874" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2616)" />
<text x="668" y="22862" style="font:10px Open Sans">引入中心节点ConfigServer，容易处理数据的一致性</text>
<clipPath id="clip2617"><path d="M656,22875 L799,22875 L799,22903 L656,22903 L656,22875 Z" /></clipPath>
<path d="M658,22901 L796,22901 Z M658,22901" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2617)" />
<text x="668" y="22891" style="font:10px Open Sans">中心节点的负载很低</text>
<clipPath id="clip2618"><path d="M656,22902 L929,22902 L929,22930 L656,22930 L656,22902 Z" /></clipPath>
<path d="M658,22928 L926,22928 Z M658,22928" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2618)" />
<text x="668" y="22918" style="font:10px Open Sans">主要用于分布式缓存，持久化存储起步较晚</text>
<clipPath id="clip2619"><path d="M656,22929 L838,22929 L838,22957 L656,22957 L656,22929 Z" /></clipPath>
<path d="M658,22955 L835,22955 Z M658,22955" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2619)" />
<text x="668" y="22945" style="font:10px Open Sans">异步复制，可能会数据丢失</text>
<clipPath id="clip2620"><path d="M389,22957 L1865,22957 L1865,34726 L389,34726 Z M390,28659 L390,28682 L502,28682 L502,28659 Z M390,28659 Z M390,28659" /></clipPath>
<path d="M515,28683 L515,25041 C515,25038.7929688 516.7929688,25037 519,25037 L524,25037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2620)" />
<clipPath id="clip2621"><path d="M389,22957 L1865,22957 L1865,34726 L389,34726 Z M390,28659 L390,28682 L502,28682 L502,28659 Z M390,28659 Z M390,28659" /></clipPath>
<path d="M515,28683 L515,28441 C515,28438.7929688 516.7929688,28437 519,28437 L524,28437" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2621)" />
<clipPath id="clip2622"><path d="M389,22957 L1865,22957 L1865,34726 L389,34726 Z M390,28659 L390,28682 L502,28682 L502,28659 Z M390,28659 Z M390,28659" /></clipPath>
<path d="M515,28683 L515,32325 C515,32327.2070313 516.7929688,32329 519,32329 L524,32329" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2622)" />
<clipPath id="clip2623"><path d="M388,22956 L1866,22956 L1866,34727 L388,34727 L388,22956 Z" /></clipPath>
<path d="M502,28683 L515,28683" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2623)" />
<clipPath id="clip2624"><path d="M388,28657 L505,28657 L505,28685 L388,28685 L388,28657 Z" /></clipPath>
<path d="M390,28683 L502,28683 Z M390,28683" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2624)" />
<text x="400" y="28673" style="font:10px Open Sans">分布式表格系统</text>
<clipPath id="clip2625"><path d="M523,22957 L1811,22957 L1811,26968 L523,26968 Z M524,25011 L524,25036 L594,25036 L594,25011 Z M524,25011 Z M524,25011" /></clipPath>
<path d="M607,25037 L607,23250 C607,23247.7929688 608.7929688,23246 611,23246 L616,23246" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2625)" />
<clipPath id="clip2626"><path d="M523,22957 L1811,22957 L1811,26968 L523,26968 Z M524,25011 L524,25036 L594,25036 L594,25011 Z M524,25011 Z M524,25011" /></clipPath>
<path d="M607,25037 L607,23951 C607,23948.7929688 608.7929688,23947 611,23947 L616,23947" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2626)" />
<clipPath id="clip2627"><path d="M523,22957 L1811,22957 L1811,26968 L523,26968 Z M524,25011 L524,25036 L594,25036 L594,25011 Z M524,25011 Z M524,25011" /></clipPath>
<path d="M607,25037 L607,24392 C607,24389.7929688 608.7929688,24388 611,24388 L616,24388" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2627)" />
<clipPath id="clip2628"><path d="M523,22957 L1811,22957 L1811,26968 L523,26968 Z M524,25011 L524,25036 L594,25036 L594,25011 Z M524,25011 Z M524,25011" /></clipPath>
<path d="M607,25037 L607,24810 C607,24807.7929688 608.7929688,24806 611,24806 L616,24806" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2628)" />
<clipPath id="clip2629"><path d="M523,22957 L1811,22957 L1811,26968 L523,26968 Z M524,25011 L524,25036 L594,25036 L594,25011 Z M524,25011 Z M524,25011" /></clipPath>
<path d="M607,25037 L607,25133 C607,25135.2070313 608.7929688,25137 611,25137 L616,25137" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2629)" />
<clipPath id="clip2630"><path d="M523,22957 L1811,22957 L1811,26968 L523,26968 Z M524,25011 L524,25036 L594,25036 L594,25011 Z M524,25011 Z M524,25011" /></clipPath>
<path d="M607,25037 L607,25344 C607,25346.2070313 608.7929688,25348 611,25348 L616,25348" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2630)" />
<clipPath id="clip2631"><path d="M523,22957 L1811,22957 L1811,26968 L523,26968 Z M524,25011 L524,25036 L594,25036 L594,25011 Z M524,25011 Z M524,25011" /></clipPath>
<path d="M607,25037 L607,25768 C607,25770.2070313 608.7929688,25772 611,25772 L616,25772" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2631)" />
<clipPath id="clip2632"><path d="M523,22957 L1811,22957 L1811,26968 L523,26968 Z M524,25011 L524,25036 L594,25036 L594,25011 Z M524,25011 Z M524,25011" /></clipPath>
<path d="M607,25037 L607,26271 C607,26273.2070313 608.7929688,26275 611,26275 L616,26275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2632)" />
<clipPath id="clip2633"><path d="M523,22957 L1811,22957 L1811,26968 L523,26968 Z M524,25011 L524,25036 L594,25036 L594,25011 Z M524,25011 Z M524,25011" /></clipPath>
<path d="M607,25037 L607,26599 C607,26601.2070313 608.7929688,26603 611,26603 L616,26603" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2633)" />
<clipPath id="clip2634"><path d="M523,22957 L1811,22957 L1811,26968 L523,26968 Z M524,25011 L524,25036 L594,25036 L594,25011 Z M524,25011 Z M524,25011" /></clipPath>
<path d="M607,25037 L607,26825 C607,26827.2070313 608.7929688,26829 611,26829 L616,26829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2634)" />
<clipPath id="clip2635"><path d="M522,22956 L1812,22956 L1812,26969 L522,26969 L522,22956 Z" /></clipPath>
<path d="M594,25037 L607,25037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2635)" />
<clipPath id="clip2636"><path d="M522,25009 L597,25009 L597,25039 L522,25039 L522,25009 Z" /></clipPath>
<path d="M524,25037 L594,25037 Z M524,25037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2636)" />
<text x="534" y="25025" style="font:10px Open Sans">Bigtable</text>
<clipPath id="clip2637"><path d="M615,22957 L1357,22957 L1357,23524 L615,23524 Z M616,23222 L616,23245 L689,23245 L689,23222 Z M616,23222 Z M616,23222" /></clipPath>
<path d="M702,23246 L702,22988 C702,22985.7929688 703.7929688,22984 706,22984 L711,22984" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2637)" />
<clipPath id="clip2638"><path d="M615,22957 L1357,22957 L1357,23524 L615,23524 Z M616,23222 L616,23245 L689,23245 L689,23222 Z M616,23222 Z M616,23222" /></clipPath>
<path d="M702,23246 L702,23015 C702,23012.7929688 703.7929688,23011 706,23011 L711,23011" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2638)" />
<clipPath id="clip2639"><path d="M615,22957 L1357,22957 L1357,23524 L615,23524 Z M616,23222 L616,23245 L689,23245 L689,23222 Z M616,23222 Z M616,23222" /></clipPath>
<path d="M702,23246 L702,23220 C702,23217.7929688 703.7929688,23216 706,23216 L711,23216" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2639)" />
<clipPath id="clip2640"><path d="M615,22957 L1357,22957 L1357,23524 L615,23524 Z M616,23222 L616,23245 L689,23245 L689,23222 Z M616,23222 Z M616,23222" /></clipPath>
<path d="M702,23246 L702,23504 C702,23506.2070313 703.7929688,23508 706,23508 L711,23508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2640)" />
<clipPath id="clip2641"><path d="M614,22956 L1358,22956 L1358,23525 L614,23525 L614,22956 Z" /></clipPath>
<path d="M689,23246 L702,23246" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2641)" />
<clipPath id="clip2642"><path d="M614,23220 L692,23220 L692,23248 L614,23248 L614,23220 Z" /></clipPath>
<path d="M616,23246 L689,23246 Z M616,23246" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2642)" />
<text x="626" y="23236" style="font:10px Open Sans">基本概念</text>
<clipPath id="clip2643"><path d="M709,22956 L1031,22956 L1031,22986 L709,22986 L709,22956 Z" /></clipPath>
<path d="M711,22984 L1028,22984 Z M711,22984" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2643)" />
<text x="721" y="22972" style="font:10px Open Sans">Google开发的基于GFS和Chubby的分布式表格系统</text>
<clipPath id="clip2644"><path d="M709,22985 L1216,22985 L1216,23013 L709,23013 L709,22985 Z" /></clipPath>
<path d="M711,23011 L1213,23011 Z M711,23011" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2644)" />
<text x="721" y="23001" style="font:10px Open Sans">设计理念：构建在廉价的硬件之上，通过软件层面提供自动化容错和线性和扩展能力</text>
<clipPath id="clip2645"><path d="M710,23013 L1357,23013 L1357,23466 L710,23466 Z M711,23192 L711,23215 L784,23215 L784,23192 Z M711,23192 Z M711,23192" /></clipPath>
<path d="M797,23216 L797,23044 C797,23041.7929688 798.7929688,23040 801,23040 L806,23040" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2645)" />
<clipPath id="clip2646"><path d="M710,23013 L1357,23013 L1357,23466 L710,23466 Z M711,23192 L711,23215 L784,23215 L784,23192 Z M711,23192 Z M711,23192" /></clipPath>
<path d="M797,23216 L797,23073 C797,23070.7929688 798.7929688,23069 801,23069 L806,23069" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2646)" />
<clipPath id="clip2647"><path d="M710,23013 L1357,23013 L1357,23466 L710,23466 Z M711,23192 L711,23215 L784,23215 L784,23192 Z M711,23192 Z M711,23192" /></clipPath>
<path d="M797,23216 L797,23115 C797,23112.7929688 798.7929688,23111 801,23111 L806,23111" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2647)" />
<clipPath id="clip2648"><path d="M710,23013 L1357,23013 L1357,23466 L710,23466 Z M711,23192 L711,23215 L784,23215 L784,23192 Z M711,23192 Z M711,23192" /></clipPath>
<path d="M797,23216 L797,23158 C797,23155.7929688 798.7929688,23154 801,23154 L806,23154" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2648)" />
<clipPath id="clip2649"><path d="M710,23013 L1357,23013 L1357,23466 L710,23466 Z M711,23192 L711,23215 L784,23215 L784,23192 Z M711,23192 Z M711,23192" /></clipPath>
<path d="M797,23216 L797,23187 C797,23184.7929688 798.7929688,23183 801,23183 L806,23183" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2649)" />
<clipPath id="clip2650"><path d="M710,23013 L1357,23013 L1357,23466 L710,23466 Z M711,23192 L711,23215 L784,23215 L784,23192 Z M711,23192 Z M711,23192" /></clipPath>
<path d="M797,23216 L797,23247 C797,23249.2070313 798.7929688,23251 801,23251 L806,23251" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2650)" />
<clipPath id="clip2651"><path d="M710,23013 L1357,23013 L1357,23466 L710,23466 Z M711,23192 L711,23215 L784,23215 L784,23192 Z M711,23192 Z M711,23192" /></clipPath>
<path d="M797,23216 L797,23389 C797,23391.2070313 798.7929688,23393 801,23393 L806,23393" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2651)" />
<clipPath id="clip2652"><path d="M709,23012 L1358,23012 L1358,23467 L709,23467 L709,23012 Z" /></clipPath>
<path d="M784,23216 L797,23216" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2652)" />
<clipPath id="clip2653"><path d="M709,23190 L787,23190 L787,23218 L709,23218 L709,23190 Z" /></clipPath>
<path d="M711,23216 L784,23216 Z M711,23216" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2653)" />
<text x="721" y="23206" style="font:10px Open Sans">基本结构</text>
<clipPath id="clip2654"><path d="M804,23012 L996,23012 L996,23042 L804,23042 L804,23012 Z" /></clipPath>
<path d="M806,23040 L993,23040 Z M806,23040" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2654)" />
<text x="816" y="23028" style="font:10px Open Sans">Bigtable系统由很多表格组成</text>
<clipPath id="clip2655"><path d="M804,23041 L999,23041 L999,23071 L804,23071 L804,23041 Z" /></clipPath>
<path d="M806,23069 L996,23069 Z M806,23069" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2655)" />
<text x="816" y="23057" style="font:10px Open Sans">每个表格包含很多行（Row）</text>
<clipPath id="clip2656"><path d="M805,23071 L1349,23071 L1349,23126 L805,23126 Z M806,23085 L806,23110 L1031,23110 L1031,23085 Z M806,23085 Z M806,23085" /></clipPath>
<path d="M1044,23111 L1044,23102 C1044,23099.7929688 1045.7929688,23098 1048,23098 L1053,23098" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2656)" />
<clipPath id="clip2657"><path d="M805,23071 L1349,23071 L1349,23126 L805,23126 Z M806,23085 L806,23110 L1031,23110 L1031,23085 Z M806,23085 Z M806,23085" /></clipPath>
<path d="M1044,23111 L1044,23121 C1044,23123.2070313 1045.7929688,23125 1048,23125 L1053,23125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2657)" />
<clipPath id="clip2658"><path d="M804,23070 L1350,23070 L1350,23127 L804,23127 L804,23070 Z" /></clipPath>
<path d="M1031,23111 L1044,23111" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2658)" />
<clipPath id="clip2659"><path d="M804,23083 L1034,23083 L1034,23113 L804,23113 L804,23083 Z" /></clipPath>
<path d="M806,23111 L1031,23111 Z M806,23111" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2659)" />
<text x="816" y="23099" style="font:10px Open Sans">每行通过一个主键RowKey唯一标识</text>
<clipPath id="clip2660"><path d="M1051,23070 L1331,23070 L1331,23100 L1051,23100 L1051,23070 Z" /></clipPath>
<path d="M1053,23098 L1328,23098 Z M1053,23098" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2660)" />
<text x="1063" y="23086" style="font:10px Open Sans">行主键可以是任意字符串，大小不超过64KB</text>
<clipPath id="clip2661"><path d="M1051,23099 L1350,23099 L1350,23127 L1051,23127 L1051,23099 Z" /></clipPath>
<path d="M1053,23125 L1347,23125 Z M1053,23125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2661)" />
<text x="1063" y="23115" style="font:10px Open Sans">表中数据按照行主键进行排序，排序使用字典序</text>
<clipPath id="clip2662"><path d="M804,23126 L994,23126 L994,23156 L804,23156 L804,23126 Z" /></clipPath>
<path d="M806,23154 L991,23154 Z M806,23154" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2662)" />
<text x="816" y="23142" style="font:10px Open Sans">每行包含很多列（Column）</text>
<clipPath id="clip2663"><path d="M804,23155 L1046,23155 L1046,23185 L804,23185 L804,23155 Z" /></clipPath>
<path d="M806,23183 L1043,23183 Z M806,23183" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2663)" />
<text x="816" y="23171" style="font:10px Open Sans">每一行的某一列构成一个单元（Cell）</text>
<clipPath id="clip2664"><path d="M805,23185 L1357,23185 L1357,23294 L805,23294 Z M806,23227 L806,23250 L1009,23250 L1009,23227 Z M806,23227 Z M806,23227" /></clipPath>
<path d="M1022,23251 L1022,23214 C1022,23211.7929688 1023.7929688,23210 1026,23210 L1031,23210" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2664)" />
<clipPath id="clip2665"><path d="M805,23185 L1357,23185 L1357,23294 L805,23294 Z M806,23227 L806,23250 L1009,23250 L1009,23227 Z M806,23227 Z M806,23227" /></clipPath>
<path d="M1022,23251 C1022,23251.5507813 1023.7929688,23252 1026,23252 L1031,23252" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2665)" />
<clipPath id="clip2666"><path d="M805,23185 L1357,23185 L1357,23294 L805,23294 Z M806,23227 L806,23250 L1009,23250 L1009,23227 Z M806,23227 Z M806,23227" /></clipPath>
<path d="M1022,23251 L1022,23289 C1022,23291.2070313 1023.7929688,23293 1026,23293 L1031,23293" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2666)" />
<clipPath id="clip2667"><path d="M804,23184 L1358,23184 L1358,23295 L804,23295 L804,23184 Z" /></clipPath>
<path d="M1009,23251 L1022,23251" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2667)" />
<clipPath id="clip2668"><path d="M804,23225 L1012,23225 L1012,23253 L804,23253 L804,23225 Z" /></clipPath>
<path d="M806,23251 L1009,23251 Z M806,23251" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2668)" />
<text x="816" y="23241" style="font:10px Open Sans">每个单元格包含多个版本的数据</text>
<clipPath id="clip2669"><path d="M1029,23184 L1250,23184 L1250,23212 L1029,23212 L1029,23184 Z" /></clipPath>
<path d="M1031,23210 L1247,23210 Z M1031,23210" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2669)" />
<text x="1041" y="23200" style="font:10px Open Sans">不同的数据版本通过时间戳来区分</text>
<clipPath id="clip2670"><path d="M1030,23212 L1357,23212 L1357,23267 L1030,23267 Z M1031,23228 L1031,23251 L1130,23251 L1130,23228 Z M1031,23228 Z M1031,23228" /></clipPath>
<path d="M1143,23252 L1143,23243 C1143,23240.7929688 1144.7929688,23239 1147,23239 L1152,23239" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2670)" />
<clipPath id="clip2671"><path d="M1030,23212 L1357,23212 L1357,23267 L1030,23267 Z M1031,23228 L1031,23251 L1130,23251 L1130,23228 Z M1031,23228 Z M1031,23228" /></clipPath>
<path d="M1143,23252 L1143,23262 C1143,23264.2070313 1144.7929688,23266 1147,23266 L1152,23266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2671)" />
<clipPath id="clip2672"><path d="M1029,23211 L1358,23211 L1358,23268 L1029,23268 L1029,23211 Z" /></clipPath>
<path d="M1130,23252 L1143,23252" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2672)" />
<clipPath id="clip2673"><path d="M1029,23226 L1133,23226 L1133,23254 L1029,23254 L1029,23226 Z" /></clipPath>
<path d="M1031,23252 L1130,23252 Z M1031,23252" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2673)" />
<text x="1041" y="23242" style="font:10px Open Sans">版本管理机制</text>
<clipPath id="clip2674"><path d="M1150,23211 L1303,23211 L1303,23241 L1150,23241 L1150,23211 Z" /></clipPath>
<path d="M1152,23239 L1300,23239 Z M1152,23239" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2674)" />
<text x="1162" y="23227" style="font:10px Open Sans">保留最近N个不同版本</text>
<clipPath id="clip2675"><path d="M1150,23240 L1358,23240 L1358,23268 L1150,23268 L1150,23240 Z" /></clipPath>
<path d="M1152,23266 L1355,23266 Z M1152,23266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2675)" />
<text x="1162" y="23256" style="font:10px Open Sans">保留限定时间内的所有不同版本</text>
<clipPath id="clip2676"><path d="M1029,23267 L1276,23267 L1276,23295 L1029,23295 L1029,23267 Z" /></clipPath>
<path d="M1031,23293 L1273,23293 Z M1031,23293" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2676)" />
<text x="1041" y="23283" style="font:10px Open Sans">失效的版本会由垃圾回收机制自动删除</text>
<clipPath id="clip2677"><path d="M805,23295 L1308,23295 L1308,23466 L805,23466 Z M806,23367 L806,23392 L964,23392 L964,23367 Z M806,23367 Z M806,23367" /></clipPath>
<path d="M977,23393 L977,23326 C977,23323.7929688 978.7929688,23322 981,23322 L986,23322" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2677)" />
<clipPath id="clip2678"><path d="M805,23295 L1308,23295 L1308,23466 L805,23466 Z M806,23367 L806,23392 L964,23392 L964,23367 Z M806,23367 Z M806,23367" /></clipPath>
<path d="M977,23393 L977,23355 C977,23352.7929688 978.7929688,23351 981,23351 L986,23351" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2678)" />
<clipPath id="clip2679"><path d="M805,23295 L1308,23295 L1308,23466 L805,23466 Z M806,23367 L806,23392 L964,23392 L964,23367 Z M806,23367 Z M806,23367" /></clipPath>
<path d="M977,23393 L977,23384 C977,23381.7929688 978.7929688,23380 981,23380 L986,23380" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2679)" />
<clipPath id="clip2680"><path d="M805,23295 L1308,23295 L1308,23466 L805,23466 Z M806,23367 L806,23392 L964,23392 L964,23367 Z M806,23367 Z M806,23367" /></clipPath>
<path d="M977,23393 L977,23403 C977,23405.2070313 978.7929688,23407 981,23407 L986,23407" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2680)" />
<clipPath id="clip2681"><path d="M805,23295 L1308,23295 L1308,23466 L805,23466 Z M806,23367 L806,23392 L964,23392 L964,23367 Z M806,23367 Z M806,23367" /></clipPath>
<path d="M977,23393 L977,23432 C977,23434.2070313 978.7929688,23436 981,23436 L986,23436" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2681)" />
<clipPath id="clip2682"><path d="M805,23295 L1308,23295 L1308,23466 L805,23466 Z M806,23367 L806,23392 L964,23392 L964,23367 Z M806,23367 Z M806,23367" /></clipPath>
<path d="M977,23393 L977,23461 C977,23463.2070313 978.7929688,23465 981,23465 L986,23465" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2682)" />
<clipPath id="clip2683"><path d="M804,23294 L1309,23294 L1309,23467 L804,23467 L804,23294 Z" /></clipPath>
<path d="M964,23393 L977,23393" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2683)" />
<clipPath id="clip2684"><path d="M804,23365 L967,23365 L967,23395 L804,23395 L804,23365 Z" /></clipPath>
<path d="M806,23393 L964,23393 Z M806,23393" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2684)" />
<text x="816" y="23381" style="font:10px Open Sans">列族（column family）</text>
<clipPath id="clip2685"><path d="M984,23294 L1176,23294 L1176,23324 L984,23324 L984,23294 Z" /></clipPath>
<path d="M986,23322 L1173,23322 Z M986,23322" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2685)" />
<text x="996" y="23310" style="font:10px Open Sans">Bigtable将多个列组织成列族</text>
<clipPath id="clip2686"><path d="M984,23323 L1275,23323 L1275,23353 L984,23353 L984,23323 Z" /></clipPath>
<path d="M986,23351 L1272,23351 Z M986,23351" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2686)" />
<text x="996" y="23339" style="font:10px Open Sans">列名由两部分组成：(column family, qualifier)</text>
<clipPath id="clip2687"><path d="M984,23352 L1228,23352 L1228,23382 L984,23382 L984,23352 Z" /></clipPath>
<path d="M986,23380 L1225,23380 Z M986,23380" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2687)" />
<text x="996" y="23368" style="font:10px Open Sans">列族是Bigtable中访问控制的基本单元</text>
<clipPath id="clip2688"><path d="M984,23381 L1309,23381 L1309,23409 L984,23409 L984,23381 Z" /></clipPath>
<path d="M986,23407 L1306,23407 Z M986,23407" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2688)" />
<text x="996" y="23397" style="font:10px Open Sans">列族在创建表格时需要预先定义好，个数不允许过多</text>
<clipPath id="clip2689"><path d="M984,23408 L1280,23408 L1280,23438 L984,23438 L984,23408 Z" /></clipPath>
<path d="M986,23436 L1277,23436 Z M986,23436" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2689)" />
<text x="996" y="23424" style="font:10px Open Sans">每个列族包含哪些qualifier是不需要预先定义的</text>
<clipPath id="clip2690"><path d="M984,23437 L1280,23437 L1280,23467 L984,23467 L984,23437 Z" /></clipPath>
<path d="M986,23465 L1277,23465 Z M986,23465" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2690)" />
<text x="996" y="23453" style="font:10px Open Sans">qualifier可以任意多个，适合表示半结构化数据</text>
<clipPath id="clip2691"><path d="M710,23467 L1149,23467 L1149,23524 L710,23524 Z M711,23484 L711,23507 L784,23507 L784,23484 Z M711,23484 Z M711,23484" /></clipPath>
<path d="M797,23508 L797,23498 C797,23495.7929688 798.7929688,23494 801,23494 L806,23494" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2691)" />
<clipPath id="clip2692"><path d="M710,23467 L1149,23467 L1149,23524 L710,23524 Z M711,23484 L711,23507 L784,23507 L784,23484 Z M711,23484 Z M711,23484" /></clipPath>
<path d="M797,23508 L797,23519 C797,23521.2070313 798.7929688,23523 801,23523 L806,23523" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2692)" />
<clipPath id="clip2693"><path d="M709,23466 L1150,23466 L1150,23525 L709,23525 L709,23466 Z" /></clipPath>
<path d="M784,23508 L797,23508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2693)" />
<clipPath id="clip2694"><path d="M709,23482 L787,23482 L787,23510 L709,23510 L709,23482 Z" /></clipPath>
<path d="M711,23508 L784,23508 Z M711,23508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2694)" />
<text x="721" y="23498" style="font:10px Open Sans">整体结构</text>
<clipPath id="clip2695"><path d="M804,23466 L1022,23466 L1022,23496 L804,23496 L804,23466 Z" /></clipPath>
<path d="M806,23494 L1019,23494 Z M806,23494" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2695)" />
<text x="816" y="23482" style="font:10px Open Sans">Bigtable是一个分布式多维映射表</text>
<clipPath id="clip2696"><path d="M804,23495 L1150,23495 L1150,23525 L804,23525 L804,23495 Z" /></clipPath>
<path d="M806,23523 L1147,23523 Z M806,23523" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2696)" />
<text x="816" y="23511" style="font:10px Open Sans">（row:string, column:string, timestamp:int64)-&gt;string</text>
<clipPath id="clip2697"><path d="M615,23525 L1468,23525 L1468,24217 L615,24217 Z M616,23923 L616,23946 L663,23946 L663,23923 Z M616,23923 Z M616,23923" /></clipPath>
<path d="M676,23947 L676,23759 C676,23756.7929688 677.7929688,23755 680,23755 L685,23755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2697)" />
<clipPath id="clip2698"><path d="M615,23525 L1468,23525 L1468,24217 L615,24217 Z M616,23923 L616,23946 L663,23946 L663,23923 Z M616,23923 Z M616,23923" /></clipPath>
<path d="M676,23947 L676,24135 C676,24137.2070313 677.7929688,24139 680,24139 L685,24139" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2698)" />
<clipPath id="clip2699"><path d="M614,23524 L1469,23524 L1469,24218 L614,24218 L614,23524 Z" /></clipPath>
<path d="M663,23947 L676,23947" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2699)" />
<clipPath id="clip2700"><path d="M614,23921 L666,23921 L666,23949 L614,23949 L614,23921 Z" /></clipPath>
<path d="M616,23947 L663,23947 Z M616,23947" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2700)" />
<text x="626" y="23937" style="font:10px Open Sans">架构</text>
<clipPath id="clip2701"><path d="M684,23525 L1468,23525 L1468,24049 L684,24049 Z M685,23731 L685,23754 L732,23754 L732,23731 Z M685,23731 Z M685,23731" /></clipPath>
<path d="M745,23755 L745,23584 C745,23581.7929688 746.7929688,23580 749,23580 L754,23580" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2701)" />
<clipPath id="clip2702"><path d="M684,23525 L1468,23525 L1468,24049 L684,24049 Z M685,23731 L685,23754 L732,23754 L732,23731 Z M685,23731 Z M685,23731" /></clipPath>
<path d="M745,23755 L745,23706 C745,23703.7929688 746.7929688,23702 749,23702 L754,23702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2702)" />
<clipPath id="clip2703"><path d="M684,23525 L1468,23525 L1468,24049 L684,24049 Z M685,23731 L685,23754 L732,23754 L732,23731 Z M685,23731 Z M685,23731" /></clipPath>
<path d="M745,23755 L745,23809 C745,23811.2070313 746.7929688,23813 749,23813 L754,23813" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2703)" />
<clipPath id="clip2704"><path d="M684,23525 L1468,23525 L1468,24049 L684,24049 Z M685,23731 L685,23754 L732,23754 L732,23731 Z M685,23731 Z M685,23731" /></clipPath>
<path d="M745,23755 L745,23927 C745,23929.2070313 746.7929688,23931 749,23931 L754,23931" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2704)" />
<clipPath id="clip2705"><path d="M683,23524 L1469,23524 L1469,24050 L683,24050 L683,23524 Z" /></clipPath>
<path d="M732,23755 L745,23755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2705)" />
<clipPath id="clip2706"><path d="M683,23729 L735,23729 L735,23757 L683,23757 L683,23729 Z" /></clipPath>
<path d="M685,23755 L732,23755 Z M685,23755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2706)" />
<text x="695" y="23745" style="font:10px Open Sans">组成</text>
<clipPath id="clip2707"><path d="M753,23525 L1231,23525 L1231,23609 L753,23609 Z M754,23554 L754,23579 L913,23579 L913,23554 Z M754,23554 Z M754,23554" /></clipPath>
<path d="M926,23580 L926,23556 C926,23553.7929688 927.7929688,23552 930,23552 L935,23552" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2707)" />
<clipPath id="clip2708"><path d="M753,23525 L1231,23525 L1231,23609 L753,23609 Z M754,23554 L754,23579 L913,23579 L913,23554 Z M754,23554 Z M754,23554" /></clipPath>
<path d="M926,23580 C926,23580.5507813 927.7929688,23581 930,23581 L935,23581" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2708)" />
<clipPath id="clip2709"><path d="M753,23525 L1231,23525 L1231,23609 L753,23609 Z M754,23554 L754,23579 L913,23579 L913,23554 Z M754,23554 Z M754,23554" /></clipPath>
<path d="M926,23580 L926,23604 C926,23606.2070313 927.7929688,23608 930,23608 L935,23608" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2709)" />
<clipPath id="clip2710"><path d="M752,23524 L1232,23524 L1232,23610 L752,23610 L752,23524 Z" /></clipPath>
<path d="M913,23580 L926,23580" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2710)" />
<clipPath id="clip2711"><path d="M752,23552 L916,23552 L916,23582 L752,23582 L752,23552 Z" /></clipPath>
<path d="M754,23580 L913,23580 Z M754,23580" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2711)" />
<text x="764" y="23568" style="font:10px Open Sans">客户端程序库（Client）</text>
<clipPath id="clip2712"><path d="M933,23524 L1138,23524 L1138,23554 L933,23554 L933,23524 Z" /></clipPath>
<path d="M935,23552 L1135,23552 Z M935,23552" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2712)" />
<text x="945" y="23540" style="font:10px Open Sans">提供Bigtable到应用程序的接口</text>
<clipPath id="clip2713"><path d="M933,23553 L1214,23553 L1214,23583 L933,23583 L933,23553 Z" /></clipPath>
<path d="M935,23581 L1211,23581 Z M935,23581" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2713)" />
<text x="945" y="23569" style="font:10px Open Sans">客户端通过Chubby锁服务获取一些控制信息</text>
<clipPath id="clip2714"><path d="M933,23582 L1232,23582 L1232,23610 L933,23610 L933,23582 Z" /></clipPath>
<path d="M935,23608 L1229,23608 Z M935,23608" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2714)" />
<text x="945" y="23598" style="font:10px Open Sans">表格的数据在客户端与子表服务器之间直接传送</text>
<clipPath id="clip2715"><path d="M753,23610 L1360,23610 L1360,23771 L753,23771 Z M754,23676 L754,23701 L934,23701 L934,23676 Z M754,23676 Z M754,23676" /></clipPath>
<path d="M947,23702 C947,23702 948.7929688,23702 951,23702 L956,23702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2715)" />
<clipPath id="clip2716"><path d="M752,23609 L1361,23609 L1361,23772 L752,23772 L752,23609 Z" /></clipPath>
<path d="M934,23702 L947,23702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2716)" />
<clipPath id="clip2717"><path d="M752,23674 L937,23674 L937,23704 L752,23704 L752,23674 Z" /></clipPath>
<path d="M754,23702 L934,23702 Z M754,23702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2717)" />
<text x="764" y="23690" style="font:10px Open Sans">一个主控服务器（Master）</text>
<clipPath id="clip2718"><path d="M955,23610 L1360,23610 L1360,23771 L955,23771 Z M956,23678 L956,23701 L1107,23701 L1107,23678 Z M956,23678 Z M956,23678" /></clipPath>
<path d="M1120,23702 L1120,23639 C1120,23636.7929688 1121.7929688,23635 1124,23635 L1129,23635" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2718)" />
<clipPath id="clip2719"><path d="M955,23610 L1360,23610 L1360,23771 L955,23771 Z M956,23678 L956,23701 L1107,23701 L1107,23678 Z M956,23678 Z M956,23678" /></clipPath>
<path d="M1120,23702 L1120,23666 C1120,23663.7929688 1121.7929688,23662 1124,23662 L1129,23662" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2719)" />
<clipPath id="clip2720"><path d="M955,23610 L1360,23610 L1360,23771 L955,23771 Z M956,23678 L956,23701 L1107,23701 L1107,23678 Z M956,23678 Z M956,23678" /></clipPath>
<path d="M1120,23702 L1120,23693 C1120,23690.7929688 1121.7929688,23689 1124,23689 L1129,23689" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2720)" />
<clipPath id="clip2721"><path d="M955,23610 L1360,23610 L1360,23771 L955,23771 Z M956,23678 L956,23701 L1107,23701 L1107,23678 Z M956,23678 Z M956,23678" /></clipPath>
<path d="M1120,23702 L1120,23712 C1120,23714.2070313 1121.7929688,23716 1124,23716 L1129,23716" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2721)" />
<clipPath id="clip2722"><path d="M955,23610 L1360,23610 L1360,23771 L955,23771 Z M956,23678 L956,23701 L1107,23701 L1107,23678 Z M956,23678 Z M956,23678" /></clipPath>
<path d="M1120,23702 L1120,23739 C1120,23741.2070313 1121.7929688,23743 1124,23743 L1129,23743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2722)" />
<clipPath id="clip2723"><path d="M955,23610 L1360,23610 L1360,23771 L955,23771 Z M956,23678 L956,23701 L1107,23701 L1107,23678 Z M956,23678 Z M956,23678" /></clipPath>
<path d="M1120,23702 L1120,23766 C1120,23768.2070313 1121.7929688,23770 1124,23770 L1129,23770" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2723)" />
<clipPath id="clip2724"><path d="M954,23609 L1361,23609 L1361,23772 L954,23772 L954,23609 Z" /></clipPath>
<path d="M1107,23702 L1120,23702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2724)" />
<clipPath id="clip2725"><path d="M954,23676 L1110,23676 L1110,23704 L954,23704 L954,23676 Z" /></clipPath>
<path d="M956,23702 L1107,23702 Z M956,23702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2725)" />
<text x="966" y="23692" style="font:10px Open Sans">管理所有的子表服务器</text>
<clipPath id="clip2726"><path d="M1127,23609 L1283,23609 L1283,23637 L1127,23637 L1127,23609 Z" /></clipPath>
<path d="M1129,23635 L1280,23635 Z M1129,23635" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2726)" />
<text x="1139" y="23625" style="font:10px Open Sans">分配子表给子表服务器</text>
<clipPath id="clip2727"><path d="M1127,23636 L1335,23636 L1335,23664 L1127,23664 L1127,23636 Z" /></clipPath>
<path d="M1129,23662 L1332,23662 Z M1129,23662" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2727)" />
<text x="1139" y="23652" style="font:10px Open Sans">指导子表服务器实现子表的合并</text>
<clipPath id="clip2728"><path d="M1127,23663 L1361,23663 L1361,23691 L1127,23691 L1127,23663 Z" /></clipPath>
<path d="M1129,23689 L1358,23689 Z M1129,23689" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2728)" />
<text x="1139" y="23679" style="font:10px Open Sans">接受来自子表服务器的子表分裂消息</text>
<clipPath id="clip2729"><path d="M1127,23690 L1244,23690 L1244,23718 L1127,23718 L1127,23690 Z" /></clipPath>
<path d="M1129,23716 L1241,23716 Z M1129,23716" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2729)" />
<text x="1139" y="23706" style="font:10px Open Sans">监控子表服务器</text>
<clipPath id="clip2730"><path d="M1127,23717 L1335,23717 L1335,23745 L1127,23745 L1127,23717 Z" /></clipPath>
<path d="M1129,23743 L1332,23743 Z M1129,23743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2730)" />
<text x="1139" y="23733" style="font:10px Open Sans">在子表服务器之间进行负载均衡</text>
<clipPath id="clip2731"><path d="M1127,23744 L1309,23744 L1309,23772 L1127,23772 L1127,23744 Z" /></clipPath>
<path d="M1129,23770 L1306,23770 Z M1129,23770" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2731)" />
<text x="1139" y="23760" style="font:10px Open Sans">实现子表服务器的故障恢复</text>
<clipPath id="clip2732"><path d="M753,23772 L1468,23772 L1468,23829 L753,23829 Z M754,23787 L754,23812 L970,23812 L970,23787 Z M754,23787 Z M754,23787" /></clipPath>
<path d="M983,23813 L983,23803 C983,23800.7929688 984.7929688,23799 987,23799 L992,23799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2732)" />
<clipPath id="clip2733"><path d="M753,23772 L1468,23772 L1468,23829 L753,23829 Z M754,23787 L754,23812 L970,23812 L970,23787 Z M754,23787 Z M754,23787" /></clipPath>
<path d="M983,23813 L983,23824 C983,23826.2070313 984.7929688,23828 987,23828 L992,23828" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2733)" />
<clipPath id="clip2734"><path d="M752,23771 L1469,23771 L1469,23830 L752,23830 L752,23771 Z" /></clipPath>
<path d="M970,23813 L983,23813" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2734)" />
<clipPath id="clip2735"><path d="M752,23785 L973,23785 L973,23815 L752,23815 L752,23785 Z" /></clipPath>
<path d="M754,23813 L970,23813 Z M754,23813" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2735)" />
<text x="764" y="23801" style="font:10px Open Sans">多个子表服务器（Tablet Server）</text>
<clipPath id="clip2736"><path d="M990,23771 L1372,23771 L1372,23801 L990,23801 L990,23771 Z" /></clipPath>
<path d="M992,23799 L1369,23799 Z M992,23799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2736)" />
<text x="1002" y="23787" style="font:10px Open Sans">实现子表的装载/卸出、表格内容的读和写，子表的合并和分裂</text>
<clipPath id="clip2737"><path d="M990,23800 L1469,23800 L1469,23830 L990,23830 L990,23800 Z" /></clipPath>
<path d="M992,23828 L1466,23828 Z M992,23828" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2737)" />
<text x="1002" y="23816" style="font:10px Open Sans">TabletServer服务的数据包括操作日志以及子表上的sstable数据，存储在GFS中</text>
<clipPath id="clip2738"><path d="M753,23830 L1308,23830 L1308,24049 L753,24049 Z M754,23905 L754,23930 L861,23930 L861,23905 Z M754,23905 Z M754,23905" /></clipPath>
<path d="M874,23931 L874,23859 C874,23856.7929688 875.7929688,23855 878,23855 L883,23855" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2738)" />
<clipPath id="clip2739"><path d="M753,23830 L1308,23830 L1308,24049 L753,24049 Z M754,23905 L754,23930 L861,23930 L861,23905 Z M754,23905 Z M754,23905" /></clipPath>
<path d="M874,23931 L874,23888 C874,23885.7929688 875.7929688,23884 878,23884 L883,23884" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2739)" />
<clipPath id="clip2740"><path d="M753,23830 L1308,23830 L1308,24049 L753,24049 Z M754,23905 L754,23930 L861,23930 L861,23905 Z M754,23905 Z M754,23905" /></clipPath>
<path d="M874,23931 L874,23915 C874,23912.7929688 875.7929688,23911 878,23911 L883,23911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2740)" />
<clipPath id="clip2741"><path d="M753,23830 L1308,23830 L1308,24049 L753,24049 Z M754,23905 L754,23930 L861,23930 L861,23905 Z M754,23905 Z M754,23905" /></clipPath>
<path d="M874,23931 L874,23936 C874,23938.2070313 875.7929688,23940 878,23940 L883,23940" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2741)" />
<clipPath id="clip2742"><path d="M753,23830 L1308,23830 L1308,24049 L753,24049 Z M754,23905 L754,23930 L861,23930 L861,23905 Z M754,23905 Z M754,23905" /></clipPath>
<path d="M874,23931 L874,24003 C874,24005.2070313 875.7929688,24007 878,24007 L883,24007" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2742)" />
<clipPath id="clip2743"><path d="M752,23829 L1309,23829 L1309,24050 L752,24050 L752,23829 Z" /></clipPath>
<path d="M861,23931 L874,23931" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2743)" />
<clipPath id="clip2744"><path d="M752,23903 L864,23903 L864,23933 L752,23933 L752,23903 Z" /></clipPath>
<path d="M754,23931 L861,23931 Z M754,23931" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2744)" />
<text x="764" y="23919" style="font:10px Open Sans">Chubby锁服务</text>
<clipPath id="clip2745"><path d="M881,23829 L1154,23829 L1154,23857 L881,23857 L881,23829 Z" /></clipPath>
<path d="M883,23855 L1151,23855 Z M883,23855" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2745)" />
<text x="893" y="23845" style="font:10px Open Sans">选取并保证同一时间内只有一个主控服务器</text>
<clipPath id="clip2746"><path d="M881,23856 L1060,23856 L1060,23886 L881,23886 L881,23856 Z" /></clipPath>
<path d="M883,23884 L1057,23884 Z M883,23884" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2746)" />
<text x="893" y="23872" style="font:10px Open Sans">存储Bigtable系统引导信息</text>
<clipPath id="clip2747"><path d="M881,23885 L1193,23885 L1193,23913 L881,23913 L881,23885 Z" /></clipPath>
<path d="M883,23911 L1190,23911 Z M883,23911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2747)" />
<text x="893" y="23901" style="font:10px Open Sans">用于配合主控服务器发现子表服务器的加入和下线</text>
<clipPath id="clip2748"><path d="M881,23912 L1184,23912 L1184,23942 L881,23942 L881,23912 Z" /></clipPath>
<path d="M883,23940 L1181,23940 Z M883,23940" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2748)" />
<text x="893" y="23928" style="font:10px Open Sans">获取Bigtable表格的schema信息及访问控制信息</text>
<clipPath id="clip2749"><path d="M882,23942 L1308,23942 L1308,24049 L882,24049 Z M883,23981 L883,24006 L1003,24006 L1003,23981 Z M883,23981 Z M883,23981" /></clipPath>
<path d="M1016,24007 L1016,23971 C1016,23968.7929688 1017.7929688,23967 1020,23967 L1025,23967" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2749)" />
<clipPath id="clip2750"><path d="M882,23942 L1308,23942 L1308,24049 L882,24049 Z M883,23981 L883,24006 L1003,24006 L1003,23981 Z M883,23981 Z M883,23981" /></clipPath>
<path d="M1016,24007 L1016,23998 C1016,23995.7929688 1017.7929688,23994 1020,23994 L1025,23994" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2750)" />
<clipPath id="clip2751"><path d="M882,23942 L1308,23942 L1308,24049 L882,24049 Z M883,23981 L883,24006 L1003,24006 L1003,23981 Z M883,23981 Z M883,23981" /></clipPath>
<path d="M1016,24007 L1016,24017 C1016,24019.2070313 1017.7929688,24021 1020,24021 L1025,24021" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2751)" />
<clipPath id="clip2752"><path d="M882,23942 L1308,23942 L1308,24049 L882,24049 Z M883,23981 L883,24006 L1003,24006 L1003,23981 Z M883,23981 Z M883,23981" /></clipPath>
<path d="M1016,24007 L1016,24044 C1016,24046.2070313 1017.7929688,24048 1020,24048 L1025,24048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2752)" />
<clipPath id="clip2753"><path d="M881,23941 L1309,23941 L1309,24050 L881,24050 L881,23941 Z" /></clipPath>
<path d="M1003,24007 L1016,24007" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2753)" />
<clipPath id="clip2754"><path d="M881,23979 L1006,23979 L1006,24009 L881,24009 L881,23979 Z" /></clipPath>
<path d="M883,24007 L1003,24007 Z M883,24007" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2754)" />
<text x="893" y="23995" style="font:10px Open Sans">Chubby服务部署</text>
<clipPath id="clip2755"><path d="M1023,23941 L1179,23941 L1179,23969 L1023,23969 L1023,23941 Z" /></clipPath>
<path d="M1025,23967 L1176,23967 Z M1025,23967" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2755)" />
<text x="1035" y="23957" style="font:10px Open Sans">两地三数据中心五副本</text>
<clipPath id="clip2756"><path d="M1023,23968 L1270,23968 L1270,23996 L1023,23996 L1023,23968 Z" /></clipPath>
<path d="M1025,23994 L1267,23994 Z M1025,23994" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2756)" />
<text x="1035" y="23984" style="font:10px Open Sans">同城的两个数据中心分别部署两个副本</text>
<clipPath id="clip2757"><path d="M1023,23995 L1218,23995 L1218,24023 L1023,24023 L1023,23995 Z" /></clipPath>
<path d="M1025,24021 L1215,24021 Z M1025,24021" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2757)" />
<text x="1035" y="24011" style="font:10px Open Sans">异地的数据中心部署一个副本</text>
<clipPath id="clip2758"><path d="M1023,24022 L1309,24022 L1309,24050 L1023,24050 L1023,24022 Z" /></clipPath>
<path d="M1025,24048 L1306,24048 Z M1025,24048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2758)" />
<text x="1035" y="24038" style="font:10px Open Sans">任何一个数据中心整体故障都不影响正常服务</text>
<clipPath id="clip2759"><path d="M684,24050 L1370,24050 L1370,24217 L684,24217 Z M685,24115 L685,24138 L732,24138 L732,24115 Z M685,24115 Z M685,24115" /></clipPath>
<path d="M745,24139 L745,24081 C745,24078.7929688 746.7929688,24077 749,24077 L754,24077" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2759)" />
<clipPath id="clip2760"><path d="M684,24050 L1370,24050 L1370,24217 L684,24217 Z M685,24115 L685,24138 L732,24138 L732,24115 Z M685,24115 Z M685,24115" /></clipPath>
<path d="M745,24139 L745,24136 C745,24133.7929688 746.7929688,24132 749,24132 L754,24132" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2760)" />
<clipPath id="clip2761"><path d="M684,24050 L1370,24050 L1370,24217 L684,24217 Z M685,24115 L685,24138 L732,24138 L732,24115 Z M685,24115 Z M685,24115" /></clipPath>
<path d="M745,24139 L745,24197 C745,24199.2070313 746.7929688,24201 749,24201 L754,24201" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2761)" />
<clipPath id="clip2762"><path d="M683,24049 L1371,24049 L1371,24218 L683,24218 L683,24049 Z" /></clipPath>
<path d="M732,24139 L745,24139" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2762)" />
<clipPath id="clip2763"><path d="M683,24113 L735,24113 L735,24141 L683,24141 L683,24113 Z" /></clipPath>
<path d="M685,24139 L732,24139 Z M685,24139" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2763)" />
<text x="695" y="24129" style="font:10px Open Sans">表格</text>
<clipPath id="clip2764"><path d="M753,24050 L1052,24050 L1052,24078 L753,24078 Z M754,24051 L754,24076 L903,24076 L903,24051 Z M754,24051 Z M754,24051" /></clipPath>
<path d="M916,24077 C916,24077 917.7929688,24077 920,24077 L925,24077" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2764)" />
<clipPath id="clip2765"><path d="M752,24049 L1053,24049 L1053,24079 L752,24079 L752,24049 Z" /></clipPath>
<path d="M903,24077 L916,24077" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2765)" />
<clipPath id="clip2766"><path d="M752,24049 L906,24049 L906,24079 L752,24079 L752,24049 Z" /></clipPath>
<path d="M754,24077 L903,24077 Z M754,24077" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2766)" />
<text x="764" y="24065" style="font:10px Open Sans">用户表（User Table）</text>
<clipPath id="clip2767"><path d="M923,24051 L1053,24051 L1053,24079 L923,24079 L923,24051 Z" /></clipPath>
<path d="M925,24077 L1050,24077 Z M925,24077" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2767)" />
<text x="935" y="24067" style="font:10px Open Sans">存储用户实际数据</text>
<clipPath id="clip2768"><path d="M753,24079 L1287,24079 L1287,24161 L753,24161 Z M754,24106 L754,24131 L919,24131 L919,24106 Z M754,24106 Z M754,24106" /></clipPath>
<path d="M932,24132 C932,24132 933.7929688,24132 936,24132 L941,24132" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2768)" />
<clipPath id="clip2769"><path d="M752,24078 L1288,24078 L1288,24162 L752,24162 L752,24078 Z" /></clipPath>
<path d="M919,24132 L932,24132" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2769)" />
<clipPath id="clip2770"><path d="M752,24104 L922,24104 L922,24134 L752,24134 L752,24104 Z" /></clipPath>
<path d="M754,24132 L919,24132 Z M754,24132" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2770)" />
<text x="764" y="24120" style="font:10px Open Sans">元数据表（Meta Table）</text>
<clipPath id="clip2771"><path d="M940,24079 L1287,24079 L1287,24161 L940,24161 Z M941,24108 L941,24131 L1079,24131 L1079,24108 Z M941,24108 Z M941,24108" /></clipPath>
<path d="M1092,24132 L1092,24108 C1092,24105.7929688 1093.7929688,24104 1096,24104 L1101,24104" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2771)" />
<clipPath id="clip2772"><path d="M940,24079 L1287,24079 L1287,24161 L940,24161 Z M941,24108 L941,24131 L1079,24131 L1079,24108 Z M941,24108 Z M941,24108" /></clipPath>
<path d="M1092,24132 C1092,24132.5507813 1093.7929688,24133 1096,24133 L1101,24133" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2772)" />
<clipPath id="clip2773"><path d="M940,24079 L1287,24079 L1287,24161 L940,24161 Z M941,24108 L941,24131 L1079,24131 L1079,24108 Z M941,24108 Z M941,24108" /></clipPath>
<path d="M1092,24132 L1092,24156 C1092,24158.2070313 1093.7929688,24160 1096,24160 L1101,24160" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2773)" />
<clipPath id="clip2774"><path d="M939,24078 L1288,24078 L1288,24162 L939,24162 L939,24078 Z" /></clipPath>
<path d="M1079,24132 L1092,24132" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2774)" />
<clipPath id="clip2775"><path d="M939,24106 L1082,24106 L1082,24134 L939,24134 L939,24106 Z" /></clipPath>
<path d="M941,24132 L1079,24132 Z M941,24132" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2775)" />
<text x="951" y="24122" style="font:10px Open Sans">存储用户表的元数据</text>
<clipPath id="clip2776"><path d="M1099,24078 L1203,24078 L1203,24106 L1099,24106 L1099,24078 Z" /></clipPath>
<path d="M1101,24104 L1200,24104 Z M1101,24104" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2776)" />
<text x="1111" y="24094" style="font:10px Open Sans">子表位置信息</text>
<clipPath id="clip2777"><path d="M1099,24105 L1288,24105 L1288,24135 L1099,24135 L1099,24105 Z" /></clipPath>
<path d="M1101,24133 L1285,24133 Z M1101,24133" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2777)" />
<text x="1111" y="24121" style="font:10px Open Sans">SSTable及操作日志文件编号</text>
<clipPath id="clip2778"><path d="M1099,24134 L1190,24134 L1190,24162 L1099,24162 L1099,24134 Z" /></clipPath>
<path d="M1101,24160 L1187,24160 Z M1101,24160" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2778)" />
<text x="1111" y="24150" style="font:10px Open Sans">日志回放点</text>
<clipPath id="clip2779"><path d="M753,24162 L1370,24162 L1370,24217 L753,24217 Z M754,24175 L754,24200 L891,24200 L891,24175 Z M754,24175 Z M754,24175" /></clipPath>
<path d="M904,24201 L904,24191 C904,24188.7929688 905.7929688,24187 908,24187 L913,24187" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2779)" />
<clipPath id="clip2780"><path d="M753,24162 L1370,24162 L1370,24217 L753,24217 Z M754,24175 L754,24200 L891,24200 L891,24175 Z M754,24175 Z M754,24175" /></clipPath>
<path d="M904,24201 L904,24212 C904,24214.2070313 905.7929688,24216 908,24216 L913,24216" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2780)" />
<clipPath id="clip2781"><path d="M752,24161 L1371,24161 L1371,24218 L752,24218 L752,24161 Z" /></clipPath>
<path d="M891,24201 L904,24201" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2781)" />
<clipPath id="clip2782"><path d="M752,24173 L894,24173 L894,24203 L752,24203 L752,24173 Z" /></clipPath>
<path d="M754,24201 L891,24201 Z M754,24201" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2782)" />
<text x="764" y="24189" style="font:10px Open Sans">根表（Root Table）</text>
<clipPath id="clip2783"><path d="M911,24161 L1067,24161 L1067,24189 L911,24189 L911,24161 Z" /></clipPath>
<path d="M913,24187 L1064,24187 Z M913,24187" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2783)" />
<text x="923" y="24177" style="font:10px Open Sans">存储元数据表的元数据</text>
<clipPath id="clip2784"><path d="M911,24188 L1371,24188 L1371,24218 L911,24218 L911,24188 Z" /></clipPath>
<path d="M913,24216 L1368,24216 Z M913,24216" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2784)" />
<text x="923" y="24204" style="font:10px Open Sans">根表的元数据即根表的位置信息，也称Bigtable引导信息，存放在Chubby中</text>
<clipPath id="clip2785"><path d="M615,24218 L1495,24218 L1495,24628 L615,24628 Z M616,24364 L616,24387 L689,24387 L689,24364 Z M616,24364 Z M616,24364" /></clipPath>
<path d="M702,24388 L702,24276 C702,24273.7929688 703.7929688,24272 706,24272 L711,24272" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2785)" />
<clipPath id="clip2786"><path d="M615,24218 L1495,24218 L1495,24628 L615,24628 Z M616,24364 L616,24387 L689,24387 L689,24364 Z M616,24364 Z M616,24364" /></clipPath>
<path d="M702,24388 L702,24343 C702,24340.7929688 703.7929688,24339 706,24339 L711,24339" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2786)" />
<clipPath id="clip2787"><path d="M615,24218 L1495,24218 L1495,24628 L615,24628 Z M616,24364 L616,24387 L689,24387 L689,24364 Z M616,24364 Z M616,24364" /></clipPath>
<path d="M702,24388 L702,24500 C702,24502.2070313 703.7929688,24504 706,24504 L711,24504" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2787)" />
<clipPath id="clip2788"><path d="M614,24217 L1496,24217 L1496,24629 L614,24629 L614,24217 Z" /></clipPath>
<path d="M689,24388 L702,24388" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2788)" />
<clipPath id="clip2789"><path d="M614,24362 L692,24362 L692,24390 L614,24390 L614,24362 Z" /></clipPath>
<path d="M616,24388 L689,24388 Z M616,24388" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2789)" />
<text x="626" y="24378" style="font:10px Open Sans">数据分布</text>
<clipPath id="clip2790"><path d="M710,24218 L1151,24218 L1151,24300 L710,24300 Z M711,24248 L711,24271 L758,24271 L758,24248 Z M711,24248 Z M711,24248" /></clipPath>
<path d="M771,24272 L771,24249 C771,24246.7929688 772.7929688,24245 775,24245 L780,24245" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2790)" />
<clipPath id="clip2791"><path d="M710,24218 L1151,24218 L1151,24300 L710,24300 Z M711,24248 L711,24271 L758,24271 L758,24248 Z M711,24248 Z M711,24248" /></clipPath>
<path d="M771,24272 C771,24272 772.7929688,24272 775,24272 L780,24272" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2791)" />
<clipPath id="clip2792"><path d="M710,24218 L1151,24218 L1151,24300 L710,24300 Z M711,24248 L711,24271 L758,24271 L758,24248 Z M711,24248 Z M711,24248" /></clipPath>
<path d="M771,24272 L771,24295 C771,24297.2070313 772.7929688,24299 775,24299 L780,24299" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2792)" />
<clipPath id="clip2793"><path d="M709,24217 L1152,24217 L1152,24301 L709,24301 L709,24217 Z" /></clipPath>
<path d="M758,24272 L771,24272" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2793)" />
<clipPath id="clip2794"><path d="M709,24246 L761,24246 L761,24274 L709,24274 L709,24246 Z" /></clipPath>
<path d="M711,24272 L758,24272 Z M711,24272" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2794)" />
<text x="721" y="24262" style="font:10px Open Sans">子表</text>
<clipPath id="clip2795"><path d="M778,24217 L1152,24217 L1152,24247 L778,24247 L778,24217 Z" /></clipPath>
<path d="M780,24245 L1149,24245 Z M780,24245" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2795)" />
<text x="790" y="24233" style="font:10px Open Sans">Bigtable将大表划分为大小在100～200MB的子表（tablet）</text>
<clipPath id="clip2796"><path d="M778,24246 L999,24246 L999,24274 L778,24274 L778,24246 Z" /></clipPath>
<path d="M780,24272 L996,24272 Z M780,24272" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2796)" />
<text x="790" y="24262" style="font:10px Open Sans">每个子表对应一个连续的数据范围</text>
<clipPath id="clip2797"><path d="M778,24273 L986,24273 L986,24301 L778,24301 L778,24273 Z" /></clipPath>
<path d="M780,24299 L983,24299 Z M780,24299" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2797)" />
<text x="790" y="24289" style="font:10px Open Sans">所有的数据按照行主键全局排序</text>
<clipPath id="clip2798"><path d="M710,24301 L998,24301 L998,24354 L710,24354 Z M711,24315 L711,24338 L797,24338 L797,24315 Z M711,24315 Z M711,24315" /></clipPath>
<path d="M810,24339 L810,24330 C810,24327.7929688 811.7929688,24326 814,24326 L819,24326" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2798)" />
<clipPath id="clip2799"><path d="M710,24301 L998,24301 L998,24354 L710,24354 Z M711,24315 L711,24338 L797,24338 L797,24315 Z M711,24315 Z M711,24315" /></clipPath>
<path d="M810,24339 L810,24349 C810,24351.2070313 811.7929688,24353 814,24353 L819,24353" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2799)" />
<clipPath id="clip2800"><path d="M709,24300 L999,24300 L999,24355 L709,24355 L709,24300 Z" /></clipPath>
<path d="M797,24339 L810,24339" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2800)" />
<clipPath id="clip2801"><path d="M709,24313 L800,24313 L800,24341 L709,24341 L709,24313 Z" /></clipPath>
<path d="M711,24339 L797,24339 Z M711,24339" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2801)" />
<text x="721" y="24329" style="font:10px Open Sans">两级元数据</text>
<clipPath id="clip2802"><path d="M817,24300 L934,24300 L934,24328 L817,24328 L817,24300 Z" /></clipPath>
<path d="M819,24326 L931,24326 Z M819,24326" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2802)" />
<text x="829" y="24316" style="font:10px Open Sans">元数据表及根表</text>
<clipPath id="clip2803"><path d="M817,24327 L999,24327 L999,24355 L817,24355 L817,24327 Z" /></clipPath>
<path d="M819,24353 L996,24353 Z M819,24353" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2803)" />
<text x="829" y="24343" style="font:10px Open Sans">能够提高系统支持的数据量</text>
<clipPath id="clip2804"><path d="M710,24355 L1495,24355 L1495,24628 L710,24628 Z M711,24480 L711,24503 L810,24503 L810,24480 Z M711,24480 Z M711,24480" /></clipPath>
<path d="M823,24504 L823,24386 C823,24383.7929688 824.7929688,24382 827,24382 L832,24382" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2804)" />
<clipPath id="clip2805"><path d="M710,24355 L1495,24355 L1495,24628 L710,24628 Z M711,24480 L711,24503 L810,24503 L810,24480 Z M711,24480 Z M711,24480" /></clipPath>
<path d="M823,24504 L823,24413 C823,24410.7929688 824.7929688,24409 827,24409 L832,24409" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2805)" />
<clipPath id="clip2806"><path d="M710,24355 L1495,24355 L1495,24628 L710,24628 Z M711,24480 L711,24503 L810,24503 L810,24480 Z M711,24480 Z M711,24480" /></clipPath>
<path d="M823,24504 L823,24440 C823,24437.7929688 824.7929688,24436 827,24436 L832,24436" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2806)" />
<clipPath id="clip2807"><path d="M710,24355 L1495,24355 L1495,24628 L710,24628 Z M711,24480 L711,24503 L810,24503 L810,24480 Z M711,24480 Z M711,24480" /></clipPath>
<path d="M823,24504 L823,24519 C823,24521.2070313 824.7929688,24523 827,24523 L832,24523" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2807)" />
<clipPath id="clip2808"><path d="M710,24355 L1495,24355 L1495,24628 L710,24628 Z M711,24480 L711,24503 L810,24503 L810,24480 Z M711,24480 Z M711,24480" /></clipPath>
<path d="M823,24504 L823,24623 C823,24625.2070313 824.7929688,24627 827,24627 L832,24627" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2808)" />
<clipPath id="clip2809"><path d="M709,24354 L1496,24354 L1496,24629 L709,24629 L709,24354 Z" /></clipPath>
<path d="M810,24504 L823,24504" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2809)" />
<clipPath id="clip2810"><path d="M709,24478 L813,24478 L813,24506 L709,24506 L709,24478 Z" /></clipPath>
<path d="M711,24504 L810,24504 Z M711,24504" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2810)" />
<text x="721" y="24494" style="font:10px Open Sans">数据查询过程</text>
<clipPath id="clip2811"><path d="M830,24354 L1046,24354 L1046,24384 L830,24384 L830,24354 Z" /></clipPath>
<path d="M832,24382 L1043,24382 Z M832,24382" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2811)" />
<text x="842" y="24370" style="font:10px Open Sans">客户端从Chubby读取根表的位置</text>
<clipPath id="clip2812"><path d="M830,24383 L1064,24383 L1064,24411 L830,24411 L830,24383 Z" /></clipPath>
<path d="M832,24409 L1061,24409 Z M832,24409" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2812)" />
<text x="842" y="24399" style="font:10px Open Sans">从根表读取所需的元数据子表的位置</text>
<clipPath id="clip2813"><path d="M830,24410 L1116,24410 L1116,24438 L830,24438 L830,24410 Z" /></clipPath>
<path d="M832,24436 L1113,24436 Z M832,24436" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2813)" />
<text x="842" y="24426" style="font:10px Open Sans">从元数据子表中找到待查询的用户子表的位置</text>
<clipPath id="clip2814"><path d="M831,24438 L1374,24438 L1374,24599 L831,24599 Z M832,24497 L832,24522 L939,24522 L939,24497 Z M832,24497 Z M832,24497" /></clipPath>
<path d="M952,24523 L952,24467 C952,24464.7929688 953.7929688,24463 956,24463 L961,24463" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2814)" />
<clipPath id="clip2815"><path d="M831,24438 L1374,24438 L1374,24599 L831,24599 Z M832,24497 L832,24522 L939,24522 L939,24497 Z M832,24497 Z M832,24497" /></clipPath>
<path d="M952,24523 L952,24494 C952,24491.7929688 953.7929688,24490 956,24490 L961,24490" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2815)" />
<clipPath id="clip2816"><path d="M831,24438 L1374,24438 L1374,24599 L831,24599 Z M832,24497 L832,24522 L939,24522 L939,24497 Z M832,24497 Z M832,24497" /></clipPath>
<path d="M952,24523 L952,24521 C952,24518.7929688 953.7929688,24517 956,24517 L961,24517" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2816)" />
<clipPath id="clip2817"><path d="M831,24438 L1374,24438 L1374,24599 L831,24599 Z M832,24497 L832,24522 L939,24522 L939,24497 Z M832,24497 Z M832,24497" /></clipPath>
<path d="M952,24523 L952,24540 C952,24542.2070313 953.7929688,24544 956,24544 L961,24544" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2817)" />
<clipPath id="clip2818"><path d="M831,24438 L1374,24438 L1374,24599 L831,24599 Z M832,24497 L832,24522 L939,24522 L939,24497 Z M832,24497 Z M832,24497" /></clipPath>
<path d="M952,24523 L952,24580 C952,24582.2070313 953.7929688,24584 956,24584 L961,24584" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2818)" />
<clipPath id="clip2819"><path d="M830,24437 L1375,24437 L1375,24600 L830,24600 L830,24437 Z" /></clipPath>
<path d="M939,24523 L952,24523" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2819)" />
<clipPath id="clip2820"><path d="M830,24495 L942,24495 L942,24525 L830,24525 L830,24495 Z" /></clipPath>
<path d="M832,24523 L939,24523 Z M832,24523" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2820)" />
<text x="842" y="24511" style="font:10px Open Sans">缓存（cache）</text>
<clipPath id="clip2821"><path d="M959,24437 L1167,24437 L1167,24465 L959,24465 L959,24437 Z" /></clipPath>
<path d="M961,24463 L1164,24463 Z M961,24463" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2821)" />
<text x="971" y="24453" style="font:10px Open Sans">子表的位置信息被缓存在客户端</text>
<clipPath id="clip2822"><path d="M959,24464 L1128,24464 L1128,24492 L959,24492 L959,24464 Z" /></clipPath>
<path d="M961,24490 L1125,24490 Z M961,24490" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2822)" />
<text x="971" y="24480" style="font:10px Open Sans">客户端寻址时先查找缓存</text>
<clipPath id="clip2823"><path d="M959,24491 L1375,24491 L1375,24519 L959,24519 L959,24491 Z" /></clipPath>
<path d="M961,24517 L1372,24517 Z M961,24517" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2823)" />
<text x="971" y="24507" style="font:10px Open Sans">缓存为空或者缓存过期，客户端需要请求上一级数据表获取位置信息</text>
<clipPath id="clip2824"><path d="M959,24518 L1154,24518 L1154,24546 L959,24546 L959,24518 Z" /></clipPath>
<path d="M961,24544 L1151,24544 Z M961,24544" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2824)" />
<text x="971" y="24534" style="font:10px Open Sans">如果缓存为空，最多三次请求</text>
<clipPath id="clip2825"><path d="M960,24546 L1352,24546 L1352,24599 L960,24599 Z M961,24560 L961,24583 L1151,24583 L1151,24560 Z M961,24560 Z M961,24560" /></clipPath>
<path d="M1164,24584 L1164,24575 C1164,24572.7929688 1165.7929688,24571 1168,24571 L1173,24571" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2825)" />
<clipPath id="clip2826"><path d="M960,24546 L1352,24546 L1352,24599 L960,24599 Z M961,24560 L961,24583 L1151,24583 L1151,24560 Z M961,24560 Z M961,24560" /></clipPath>
<path d="M1164,24584 L1164,24594 C1164,24596.2070313 1165.7929688,24598 1168,24598 L1173,24598" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2826)" />
<clipPath id="clip2827"><path d="M959,24545 L1353,24545 L1353,24600 L959,24600 L959,24545 Z" /></clipPath>
<path d="M1151,24584 L1164,24584" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2827)" />
<clipPath id="clip2828"><path d="M959,24558 L1154,24558 L1154,24586 L959,24586 L959,24558 Z" /></clipPath>
<path d="M961,24584 L1151,24584 Z M961,24584" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2828)" />
<text x="971" y="24574" style="font:10px Open Sans">如果缓存失效，最多六次请求</text>
<clipPath id="clip2829"><path d="M1171,24545 L1353,24545 L1353,24573 L1171,24573 L1171,24545 Z" /></clipPath>
<path d="M1173,24571 L1350,24571 Z M1173,24571" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2829)" />
<text x="1183" y="24561" style="font:10px Open Sans">三次用来确定信息是过期的</text>
<clipPath id="clip2830"><path d="M1171,24572 L1327,24572 L1327,24600 L1171,24600 L1171,24572 Z" /></clipPath>
<path d="M1173,24598 L1324,24598 Z M1173,24598" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2830)" />
<text x="1183" y="24588" style="font:10px Open Sans">三次用来获取新的地址</text>
<clipPath id="clip2831"><path d="M831,24600 L1495,24600 L1495,24628 L831,24628 Z M832,24601 L832,24626 L956,24626 L956,24601 Z M832,24601 Z M832,24601" /></clipPath>
<path d="M969,24627 C969,24627 970.7929688,24627 973,24627 L978,24627" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2831)" />
<clipPath id="clip2832"><path d="M830,24599 L1496,24599 L1496,24629 L830,24629 L830,24599 Z" /></clipPath>
<path d="M956,24627 L969,24627" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2832)" />
<clipPath id="clip2833"><path d="M830,24599 L959,24599 L959,24629 L830,24629 L830,24599 Z" /></clipPath>
<path d="M832,24627 L956,24627 Z M832,24627" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2833)" />
<text x="842" y="24615" style="font:10px Open Sans">预取（prefetch）</text>
<clipPath id="clip2834"><path d="M976,24601 L1496,24601 L1496,24629 L976,24629 L976,24601 Z" /></clipPath>
<path d="M978,24627 L1493,24627 Z M978,24627" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2834)" />
<text x="988" y="24617" style="font:10px Open Sans">在每次访问元数据表时不仅仅读取所需的子表元数据，而是读取连续的多个子表元数据</text>
<clipPath id="clip2835"><path d="M615,24629 L1622,24629 L1622,24914 L615,24914 Z M616,24782 L616,24805 L715,24805 L715,24782 Z M616,24782 Z M616,24782" /></clipPath>
<path d="M728,24806 L728,24703 C728,24700.7929688 729.7929688,24699 732,24699 L737,24699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2835)" />
<clipPath id="clip2836"><path d="M615,24629 L1622,24629 L1622,24914 L615,24914 Z M616,24782 L616,24805 L715,24805 L715,24782 Z M616,24782 Z M616,24782" /></clipPath>
<path d="M728,24806 L728,24830 C728,24832.2070313 729.7929688,24834 732,24834 L737,24834" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2836)" />
<clipPath id="clip2837"><path d="M615,24629 L1622,24629 L1622,24914 L615,24914 Z M616,24782 L616,24805 L715,24805 L715,24782 Z M616,24782 Z M616,24782" /></clipPath>
<path d="M728,24806 L728,24909 C728,24911.2070313 729.7929688,24913 732,24913 L737,24913" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2837)" />
<clipPath id="clip2838"><path d="M614,24628 L1623,24628 L1623,24915 L614,24915 L614,24628 Z" /></clipPath>
<path d="M715,24806 L728,24806" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2838)" />
<clipPath id="clip2839"><path d="M614,24780 L718,24780 L718,24808 L614,24808 L614,24780 Z" /></clipPath>
<path d="M616,24806 L715,24806 Z M616,24806" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2839)" />
<text x="626" y="24796" style="font:10px Open Sans">复制与一致性</text>
<clipPath id="clip2840"><path d="M736,24629 L1622,24629 L1622,24744 L736,24744 Z M737,24673 L737,24698 L911,24698 L911,24673 Z M737,24673 Z M737,24673" /></clipPath>
<path d="M924,24699 L924,24660 C924,24657.7929688 925.7929688,24656 928,24656 L933,24656" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2840)" />
<clipPath id="clip2841"><path d="M736,24629 L1622,24629 L1622,24744 L736,24744 Z M737,24673 L737,24698 L911,24698 L911,24673 Z M737,24673 Z M737,24673" /></clipPath>
<path d="M924,24699 L924,24689 C924,24686.7929688 925.7929688,24685 928,24685 L933,24685" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2841)" />
<clipPath id="clip2842"><path d="M736,24629 L1622,24629 L1622,24744 L736,24744 Z M737,24673 L737,24698 L911,24698 L911,24673 Z M737,24673 Z M737,24673" /></clipPath>
<path d="M924,24699 L924,24710 C924,24712.2070313 925.7929688,24714 928,24714 L933,24714" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2842)" />
<clipPath id="clip2843"><path d="M736,24629 L1622,24629 L1622,24744 L736,24744 Z M737,24673 L737,24698 L911,24698 L911,24673 Z M737,24673 Z M737,24673" /></clipPath>
<path d="M924,24699 L924,24739 C924,24741.2070313 925.7929688,24743 928,24743 L933,24743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2843)" />
<clipPath id="clip2844"><path d="M735,24628 L1623,24628 L1623,24745 L735,24745 L735,24628 Z" /></clipPath>
<path d="M911,24699 L924,24699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2844)" />
<clipPath id="clip2845"><path d="M735,24671 L914,24671 L914,24701 L735,24701 L735,24671 Z" /></clipPath>
<path d="M737,24699 L911,24699 Z M737,24699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2845)" />
<text x="747" y="24687" style="font:10px Open Sans">Bigtable系统保证强一致性</text>
<clipPath id="clip2846"><path d="M931,24628 L1243,24628 L1243,24658 L931,24658 L931,24628 Z" /></clipPath>
<path d="M933,24656 L1240,24656 Z M933,24656" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2846)" />
<text x="943" y="24644" style="font:10px Open Sans">同一时刻同一个子表只能被一台Tablet Server服务</text>
<clipPath id="clip2847"><path d="M931,24657 L1134,24657 L1134,24687 L931,24687 L931,24657 Z" /></clipPath>
<path d="M933,24685 L1131,24685 Z M933,24685" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2847)" />
<text x="943" y="24673" style="font:10px Open Sans">通过Chubby的互斥锁机制保证</text>
<clipPath id="clip2848"><path d="M931,24686 L1212,24686 L1212,24716 L931,24716 L931,24686 Z" /></clipPath>
<path d="M933,24714 L1209,24714 Z M933,24714" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2848)" />
<text x="943" y="24702" style="font:10px Open Sans">Tablet Server启动时需要获取Chubby互斥锁</text>
<clipPath id="clip2849"><path d="M931,24715 L1623,24715 L1623,24745 L931,24745 L931,24715 Z" /></clipPath>
<path d="M933,24743 L1620,24743 Z M933,24743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2849)" />
<text x="943" y="24731" style="font:10px Open Sans">当Tablet Server出现故障，Master需要等到Tablet Server的互斥锁失效才能把它上面的子表迁移到其他Tablet Server</text>
<clipPath id="clip2850"><path d="M736,24745 L1569,24745 L1569,24885 L736,24885 Z M737,24808 L737,24833 L935,24833 L935,24808 Z M737,24808 Z M737,24808" /></clipPath>
<path d="M948,24834 L948,24803 C948,24800.7929688 949.7929688,24799 952,24799 L957,24799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2850)" />
<clipPath id="clip2851"><path d="M736,24745 L1569,24745 L1569,24885 L736,24885 Z M737,24808 L737,24833 L935,24833 L935,24808 Z M737,24808 Z M737,24808" /></clipPath>
<path d="M948,24834 L948,24865 C948,24867.2070313 949.7929688,24869 952,24869 L957,24869" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2851)" />
<clipPath id="clip2852"><path d="M735,24744 L1570,24744 L1570,24886 L735,24886 L735,24744 Z" /></clipPath>
<path d="M935,24834 L948,24834" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2852)" />
<clipPath id="clip2853"><path d="M735,24806 L938,24806 L938,24836 L735,24836 L735,24806 Z" /></clipPath>
<path d="M737,24834 L935,24834 Z M737,24834" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2853)" />
<text x="747" y="24822" style="font:10px Open Sans">Bigtable写入GFS的数据分两种</text>
<clipPath id="clip2854"><path d="M956,24745 L1569,24745 L1569,24827 L956,24827 Z M957,24775 L957,24798 L1030,24798 L1030,24775 Z M957,24775 Z M957,24775" /></clipPath>
<path d="M1043,24799 L1043,24776 C1043,24773.7929688 1044.7929688,24772 1047,24772 L1052,24772" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2854)" />
<clipPath id="clip2855"><path d="M956,24745 L1569,24745 L1569,24827 L956,24827 Z M957,24775 L957,24798 L1030,24798 L1030,24775 Z M957,24775 Z M957,24775" /></clipPath>
<path d="M1043,24799 C1043,24799 1044.7929688,24799 1047,24799 L1052,24799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2855)" />
<clipPath id="clip2856"><path d="M956,24745 L1569,24745 L1569,24827 L956,24827 Z M957,24775 L957,24798 L1030,24798 L1030,24775 Z M957,24775 Z M957,24775" /></clipPath>
<path d="M1043,24799 L1043,24822 C1043,24824.2070313 1044.7929688,24826 1047,24826 L1052,24826" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2856)" />
<clipPath id="clip2857"><path d="M955,24744 L1570,24744 L1570,24828 L955,24828 L955,24744 Z" /></clipPath>
<path d="M1030,24799 L1043,24799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2857)" />
<clipPath id="clip2858"><path d="M955,24773 L1033,24773 L1033,24801 L955,24801 L955,24773 Z" /></clipPath>
<path d="M957,24799 L1030,24799 Z M957,24799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2858)" />
<text x="967" y="24789" style="font:10px Open Sans">操作日志</text>
<clipPath id="clip2859"><path d="M1050,24744 L1570,24744 L1570,24774 L1050,24774 L1050,24744 Z" /></clipPath>
<path d="M1052,24772 L1567,24772 Z M1052,24772" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2859)" />
<text x="1062" y="24760" style="font:10px Open Sans">Tablet Server故障时，它上面的子表会被集群中的其他Tablet Server加载继续提供服务</text>
<clipPath id="clip2860"><path d="M1050,24773 L1258,24773 L1258,24801 L1050,24801 L1050,24773 Z" /></clipPath>
<path d="M1052,24799 L1255,24799 Z M1052,24799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2860)" />
<text x="1062" y="24789" style="font:10px Open Sans">加载子表可能需要回放操作日志</text>
<clipPath id="clip2861"><path d="M1050,24800 L1427,24800 L1427,24828 L1050,24828 L1050,24800 Z" /></clipPath>
<path d="M1052,24826 L1424,24826 Z M1052,24826" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2861)" />
<text x="1062" y="24816" style="font:10px Open Sans">每条操作日志都有唯一序号，通过它可以去除重复的操作日志</text>
<clipPath id="clip2862"><path d="M956,24828 L1457,24828 L1457,24885 L956,24885 Z M957,24843 L957,24868 L1141,24868 L1141,24843 Z M957,24843 Z M957,24843" /></clipPath>
<path d="M1154,24869 L1154,24859 C1154,24856.7929688 1155.7929688,24855 1158,24855 L1163,24855" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2862)" />
<clipPath id="clip2863"><path d="M956,24828 L1457,24828 L1457,24885 L956,24885 Z M957,24843 L957,24868 L1141,24868 L1141,24843 Z M957,24843 Z M957,24843" /></clipPath>
<path d="M1154,24869 L1154,24880 C1154,24882.2070313 1155.7929688,24884 1158,24884 L1163,24884" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2863)" />
<clipPath id="clip2864"><path d="M955,24827 L1458,24827 L1458,24886 L955,24886 L955,24827 Z" /></clipPath>
<path d="M1141,24869 L1154,24869" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2864)" />
<clipPath id="clip2865"><path d="M955,24841 L1144,24841 L1144,24871 L955,24871 L955,24841 Z" /></clipPath>
<path d="M957,24869 L1141,24869 Z M957,24869" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2865)" />
<text x="967" y="24857" style="font:10px Open Sans">每个子表包含的SSTable数据</text>
<clipPath id="clip2866"><path d="M1161,24827 L1458,24827 L1458,24857 L1161,24857 L1161,24827 Z" /></clipPath>
<path d="M1163,24855 L1455,24855 Z M1163,24855" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2866)" />
<text x="1173" y="24843" style="font:10px Open Sans">如果写入GFS失败可以重试并产生多条重复记录</text>
<clipPath id="clip2867"><path d="M1161,24856 L1444,24856 L1444,24886 L1161,24886 L1161,24856 Z" /></clipPath>
<path d="M1163,24884 L1441,24884 Z M1163,24884" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2867)" />
<text x="1173" y="24872" style="font:10px Open Sans">但Bigtable只会索引最后一条写入成功的记录</text>
<clipPath id="clip2868"><path d="M735,24885 L1376,24885 L1376,24915 L735,24915 L735,24885 Z" /></clipPath>
<path d="M737,24913 L1373,24913 Z M737,24913" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2868)" />
<text x="747" y="24901" style="font:10px Open Sans">Bittable本质上是构建在GFS之上的一层分布式索引，通过它解决了GFS遗留的一致性问题，简化了用户使用</text>
<clipPath id="clip2869"><path d="M615,24915 L1336,24915 L1336,25233 L615,25233 Z M616,25113 L616,25136 L663,25136 L663,25113 Z M616,25113 Z M616,25113" /></clipPath>
<path d="M676,25137 L676,25062 C676,25059.7929688 677.7929688,25058 680,25058 L685,25058" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2869)" />
<clipPath id="clip2870"><path d="M615,24915 L1336,24915 L1336,25233 L615,25233 Z M616,25113 L616,25136 L663,25136 L663,25113 Z M616,25113 Z M616,25113" /></clipPath>
<path d="M676,25137 L676,25213 C676,25215.2070313 677.7929688,25217 680,25217 L685,25217" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2870)" />
<clipPath id="clip2871"><path d="M614,24914 L1337,24914 L1337,25234 L614,25234 L614,24914 Z" /></clipPath>
<path d="M663,25137 L676,25137" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2871)" />
<clipPath id="clip2872"><path d="M614,25111 L666,25111 L666,25139 L614,25139 L614,25111 Z" /></clipPath>
<path d="M616,25137 L663,25137 Z M616,25137" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2872)" />
<text x="626" y="25127" style="font:10px Open Sans">容错</text>
<clipPath id="clip2873"><path d="M684,24915 L1336,24915 L1336,25175 L684,25175 Z M685,25032 L685,25057 L810,25057 L810,25032 Z M685,25032 Z M685,25032" /></clipPath>
<path d="M823,25058 L823,24946 C823,24943.7929688 824.7929688,24942 827,24942 L832,24942" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2873)" />
<clipPath id="clip2874"><path d="M684,24915 L1336,24915 L1336,25175 L684,25175 Z M685,25032 L685,25057 L810,25057 L810,25032 Z M685,25032 Z M685,25032" /></clipPath>
<path d="M823,25058 L823,24975 C823,24972.7929688 824.7929688,24971 827,24971 L832,24971" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2874)" />
<clipPath id="clip2875"><path d="M684,24915 L1336,24915 L1336,25175 L684,25175 Z M685,25032 L685,25057 L810,25057 L810,25032 Z M685,25032 Z M685,25032" /></clipPath>
<path d="M823,25058 L823,25004 C823,25001.7929688 824.7929688,25000 827,25000 L832,25000" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2875)" />
<clipPath id="clip2876"><path d="M684,24915 L1336,24915 L1336,25175 L684,25175 Z M685,25032 L685,25057 L810,25057 L810,25032 Z M685,25032 Z M685,25032" /></clipPath>
<path d="M823,25058 L823,25033 C823,25030.7929688 824.7929688,25029 827,25029 L832,25029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2876)" />
<clipPath id="clip2877"><path d="M684,24915 L1336,24915 L1336,25175 L684,25175 Z M685,25032 L685,25057 L810,25057 L810,25032 Z M685,25032 Z M685,25032" /></clipPath>
<path d="M823,25058 C823,25058 824.7929688,25058 827,25058 L832,25058" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2877)" />
<clipPath id="clip2878"><path d="M684,24915 L1336,24915 L1336,25175 L684,25175 Z M685,25032 L685,25057 L810,25057 L810,25032 Z M685,25032 Z M685,25032" /></clipPath>
<path d="M823,25058 L823,25083 C823,25085.2070313 824.7929688,25087 827,25087 L832,25087" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2878)" />
<clipPath id="clip2879"><path d="M684,24915 L1336,24915 L1336,25175 L684,25175 Z M685,25032 L685,25057 L810,25057 L810,25032 Z M685,25032 Z M685,25032" /></clipPath>
<path d="M823,25058 L823,25112 C823,25114.2070313 824.7929688,25116 827,25116 L832,25116" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2879)" />
<clipPath id="clip2880"><path d="M684,24915 L1336,24915 L1336,25175 L684,25175 Z M685,25032 L685,25057 L810,25057 L810,25032 Z M685,25032 Z M685,25032" /></clipPath>
<path d="M823,25058 L823,25141 C823,25143.2070313 824.7929688,25145 827,25145 L832,25145" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2880)" />
<clipPath id="clip2881"><path d="M684,24915 L1336,24915 L1336,25175 L684,25175 Z M685,25032 L685,25057 L810,25057 L810,25032 Z M685,25032 Z M685,25032" /></clipPath>
<path d="M823,25058 L823,25170 C823,25172.2070313 824.7929688,25174 827,25174 L832,25174" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2881)" />
<clipPath id="clip2882"><path d="M683,24914 L1337,24914 L1337,25176 L683,25176 L683,24914 Z" /></clipPath>
<path d="M810,25058 L823,25058" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2882)" />
<clipPath id="clip2883"><path d="M683,25030 L813,25030 L813,25060 L683,25060 L683,25030 Z" /></clipPath>
<path d="M685,25058 L810,25058 Z M685,25058" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2883)" />
<text x="695" y="25046" style="font:10px Open Sans">Tablet Server容错</text>
<clipPath id="clip2884"><path d="M830,24914 L1215,24914 L1215,24944 L830,24944 L830,24914 Z" /></clipPath>
<path d="M832,24942 L1212,24942 Z M832,24942" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2884)" />
<text x="842" y="24930" style="font:10px Open Sans">Bigtable中Master对Tablet Server的监控是通过Chubby完成的</text>
<clipPath id="clip2885"><path d="M830,24943 L1163,24943 L1163,24973 L830,24973 L830,24943 Z" /></clipPath>
<path d="M832,24971 L1160,24971 Z M832,24971" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2885)" />
<text x="842" y="24959" style="font:10px Open Sans">Tablet Server初始化时会从Chubby中获取一个独占锁</text>
<clipPath id="clip2886"><path d="M830,24972 L1215,24972 L1215,25002 L830,25002 L830,24972 Z" /></clipPath>
<path d="M832,25000 L1212,25000 Z M832,25000" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2886)" />
<text x="842" y="24988" style="font:10px Open Sans">所有Tablet Server基本信息被保存在Chubby中的服务器目录中</text>
<clipPath id="clip2887"><path d="M830,25001 L1210,25001 L1210,25031 L830,25031 L830,25001 Z" /></clipPath>
<path d="M832,25029 L1207,25029 Z M832,25029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2887)" />
<text x="842" y="25017" style="font:10px Open Sans">Master通过检测这个目录以随时获取最新的Tablet Server信息</text>
<clipPath id="clip2888"><path d="M830,25030 L1197,25030 L1197,25060 L830,25060 L830,25030 Z" /></clipPath>
<path d="M832,25058 L1194,25058 Z M832,25058" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2888)" />
<text x="842" y="25046" style="font:10px Open Sans">对于每个Tablet Server，Master会定期询问其独占锁的状态</text>
<clipPath id="clip2889"><path d="M830,25059 L1288,25059 L1288,25089 L830,25089 L830,25059 Z" /></clipPath>
<path d="M832,25087 L1285,25087 Z M832,25087" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2889)" />
<text x="842" y="25075" style="font:10px Open Sans">如果Tablet Server的锁丢失或者没有回应，Master尝试自己获取这个独占锁</text>
<clipPath id="clip2890"><path d="M830,25088 L1267,25088 L1267,25118 L830,25118 L830,25088 Z" /></clipPath>
<path d="M832,25116 L1264,25116 Z M832,25116" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2890)" />
<text x="842" y="25104" style="font:10px Open Sans">如果失败说明Chubby服务出现问题，否则说明是Tablet Server出现问题</text>
<clipPath id="clip2891"><path d="M830,25117 L1301,25117 L1301,25147 L830,25147 L830,25117 Z" /></clipPath>
<path d="M832,25145 L1298,25145 Z M832,25145" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2891)" />
<text x="842" y="25133" style="font:10px Open Sans">Master将终止这个Tablet Server并将其上的子表全部迁移到其他Tablet Server</text>
<clipPath id="clip2892"><path d="M830,25146 L1337,25146 L1337,25176 L830,25176 L830,25146 Z" /></clipPath>
<path d="M832,25174 L1334,25174 Z M832,25174" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2892)" />
<text x="842" y="25162" style="font:10px Open Sans">Tablet Server故障时某些子表的更新操作还在内存中，需要通过回放操作日志来恢复</text>
<clipPath id="clip2893"><path d="M684,25176 L1280,25176 L1280,25233 L684,25233 Z M685,25191 L685,25216 L774,25216 L774,25191 Z M685,25191 Z M685,25191" /></clipPath>
<path d="M787,25217 L787,25207 C787,25204.7929688 788.7929688,25203 791,25203 L796,25203" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2893)" />
<clipPath id="clip2894"><path d="M684,25176 L1280,25176 L1280,25233 L684,25233 Z M685,25191 L685,25216 L774,25216 L774,25191 Z M685,25191 Z M685,25191" /></clipPath>
<path d="M787,25217 L787,25228 C787,25230.2070313 788.7929688,25232 791,25232 L796,25232" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2894)" />
<clipPath id="clip2895"><path d="M683,25175 L1281,25175 L1281,25234 L683,25234 L683,25175 Z" /></clipPath>
<path d="M774,25217 L787,25217" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2895)" />
<clipPath id="clip2896"><path d="M683,25189 L777,25189 L777,25219 L683,25219 L683,25189 Z" /></clipPath>
<path d="M685,25217 L774,25217 Z M685,25217" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2896)" />
<text x="695" y="25205" style="font:10px Open Sans">Master容错</text>
<clipPath id="clip2897"><path d="M794,25175 L1086,25175 L1086,25205 L794,25205 L794,25175 Z" /></clipPath>
<path d="M796,25203 L1083,25203 Z M796,25203" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2897)" />
<text x="806" y="25191" style="font:10px Open Sans">Maste启动时需要从Chubby中获取一个独占锁</text>
<clipPath id="clip2898"><path d="M794,25204 L1281,25204 L1281,25234 L794,25234 L794,25204 Z" /></clipPath>
<path d="M796,25232 L1278,25232 Z M796,25232" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2898)" />
<text x="806" y="25220" style="font:10px Open Sans">如果Master故障，其独占锁将过期，管理程序会自动指定一个新的Master服务器</text>
<clipPath id="clip2899"><path d="M615,25234 L1811,25234 L1811,25523 L615,25523 Z M616,25324 L616,25347 L689,25347 L689,25324 Z M616,25324 Z M616,25324" /></clipPath>
<path d="M702,25348 L702,25265 C702,25262.7929688 703.7929688,25261 706,25261 L711,25261" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2899)" />
<clipPath id="clip2900"><path d="M615,25234 L1811,25234 L1811,25523 L615,25523 Z M616,25324 L616,25347 L689,25347 L689,25324 Z M616,25324 Z M616,25324" /></clipPath>
<path d="M702,25348 L702,25294 C702,25291.7929688 703.7929688,25290 706,25290 L711,25290" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2900)" />
<clipPath id="clip2901"><path d="M615,25234 L1811,25234 L1811,25523 L615,25523 Z M616,25324 L616,25347 L689,25347 L689,25324 Z M616,25324 Z M616,25324" /></clipPath>
<path d="M702,25348 L702,25323 C702,25320.7929688 703.7929688,25319 706,25319 L711,25319" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2901)" />
<clipPath id="clip2902"><path d="M615,25234 L1811,25234 L1811,25523 L615,25523 Z M616,25324 L616,25347 L689,25347 L689,25324 Z M616,25324 Z M616,25324" /></clipPath>
<path d="M702,25348 L702,25431 C702,25433.2070313 703.7929688,25435 706,25435 L711,25435" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2902)" />
<clipPath id="clip2903"><path d="M614,25233 L1812,25233 L1812,25524 L614,25524 L614,25233 Z" /></clipPath>
<path d="M689,25348 L702,25348" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2903)" />
<clipPath id="clip2904"><path d="M614,25322 L692,25322 L692,25350 L614,25350 L614,25322 Z" /></clipPath>
<path d="M616,25348 L689,25348 Z M616,25348" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2904)" />
<text x="626" y="25338" style="font:10px Open Sans">负载均衡</text>
<clipPath id="clip2905"><path d="M709,25233 L940,25233 L940,25263 L709,25263 L709,25233 Z" /></clipPath>
<path d="M711,25261 L937,25261 Z M711,25261" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2905)" />
<text x="721" y="25249" style="font:10px Open Sans">子表是Bigtable负载均衡的基本单位</text>
<clipPath id="clip2906"><path d="M709,25262 L946,25262 L946,25292 L709,25292 L709,25262 Z" /></clipPath>
<path d="M711,25290 L943,25290 Z M711,25290" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2906)" />
<text x="721" y="25278" style="font:10px Open Sans">Tablet Server定期想Master汇报状态</text>
<clipPath id="clip2907"><path d="M709,25291 L1232,25291 L1232,25321 L709,25321 L709,25291 Z" /></clipPath>
<path d="M711,25319 L1229,25319 Z M711,25319" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2907)" />
<text x="721" y="25307" style="font:10px Open Sans">当状态检测时发现某个Tablet Server上的负载过重时，Master会自动对其进行负载均衡</text>
<clipPath id="clip2908"><path d="M710,25321 L1811,25321 L1811,25523 L710,25523 Z M711,25411 L711,25434 L784,25434 L784,25411 Z M711,25411 Z M711,25411" /></clipPath>
<path d="M797,25435 L797,25352 C797,25349.7929688 798.7929688,25348 801,25348 L806,25348" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2908)" />
<clipPath id="clip2909"><path d="M710,25321 L1811,25321 L1811,25523 L710,25523 Z M711,25411 L711,25434 L784,25434 L784,25411 Z M711,25411 Z M711,25411" /></clipPath>
<path d="M797,25435 L797,25381 C797,25378.7929688 798.7929688,25377 801,25377 L806,25377" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2909)" />
<clipPath id="clip2910"><path d="M710,25321 L1811,25321 L1811,25523 L710,25523 Z M711,25411 L711,25434 L784,25434 L784,25411 Z M711,25411 Z M711,25411" /></clipPath>
<path d="M797,25435 L797,25410 C797,25407.7929688 798.7929688,25406 801,25406 L806,25406" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2910)" />
<clipPath id="clip2911"><path d="M710,25321 L1811,25321 L1811,25523 L710,25523 Z M711,25411 L711,25434 L784,25434 L784,25411 Z M711,25411 Z M711,25411" /></clipPath>
<path d="M797,25435 L797,25445 C797,25447.2070313 798.7929688,25449 801,25449 L806,25449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2911)" />
<clipPath id="clip2912"><path d="M710,25321 L1811,25321 L1811,25523 L710,25523 Z M711,25411 L711,25434 L784,25434 L784,25411 Z M711,25411 Z M711,25411" /></clipPath>
<path d="M797,25435 L797,25489 C797,25491.2070313 798.7929688,25493 801,25493 L806,25493" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2912)" />
<clipPath id="clip2913"><path d="M710,25321 L1811,25321 L1811,25523 L710,25523 Z M711,25411 L711,25434 L784,25434 L784,25411 Z M711,25411 Z M711,25411" /></clipPath>
<path d="M797,25435 L797,25518 C797,25520.2070313 798.7929688,25522 801,25522 L806,25522" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2913)" />
<clipPath id="clip2914"><path d="M709,25320 L1812,25320 L1812,25524 L709,25524 L709,25320 Z" /></clipPath>
<path d="M784,25435 L797,25435" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2914)" />
<clipPath id="clip2915"><path d="M709,25409 L787,25409 L787,25437 L709,25437 L709,25409 Z" /></clipPath>
<path d="M711,25435 L784,25435 Z M711,25435" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2915)" />
<text x="721" y="25425" style="font:10px Open Sans">子表迁移</text>
<clipPath id="clip2916"><path d="M804,25320 L1119,25320 L1119,25350 L804,25350 L804,25320 Z" /></clipPath>
<path d="M806,25348 L1116,25348 Z M806,25348" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2916)" />
<text x="816" y="25336" style="font:10px Open Sans">Master发送命令请求原有的Tablet Server卸载子表</text>
<clipPath id="clip2917"><path d="M804,25349 L1077,25349 L1077,25379 L804,25379 L804,25349 Z" /></clipPath>
<path d="M806,25377 L1074,25377 Z M806,25377" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2917)" />
<text x="816" y="25365" style="font:10px Open Sans">原有Tablet Server解除加在子表上的互斥锁</text>
<clipPath id="clip2918"><path d="M804,25378 L1352,25378 L1352,25408 L804,25408 L804,25378 Z" /></clipPath>
<path d="M806,25406 L1349,25406 Z M806,25406" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2918)" />
<text x="816" y="25394" style="font:10px Open Sans">迁移前原Tablet Server会对其执行Minor Compaction，将内存中的更新写到SSTable文件中</text>
<clipPath id="clip2919"><path d="M805,25408 L1811,25408 L1811,25465 L805,25465 Z M806,25423 L806,25448 L1134,25448 L1134,25423 Z M806,25423 Z M806,25423" /></clipPath>
<path d="M1147,25449 L1147,25439 C1147,25436.7929688 1148.7929688,25435 1151,25435 L1156,25435" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2919)" />
<clipPath id="clip2920"><path d="M805,25408 L1811,25408 L1811,25465 L805,25465 Z M806,25423 L806,25448 L1134,25448 L1134,25423 Z M806,25423 Z M806,25423" /></clipPath>
<path d="M1147,25449 L1147,25460 C1147,25462.2070313 1148.7929688,25464 1151,25464 L1156,25464" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2920)" />
<clipPath id="clip2921"><path d="M804,25407 L1812,25407 L1812,25466 L804,25466 L804,25407 Z" /></clipPath>
<path d="M1134,25449 L1147,25449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2921)" />
<clipPath id="clip2922"><path d="M804,25421 L1137,25421 L1137,25451 L804,25451 L804,25421 Z" /></clipPath>
<path d="M806,25449 L1134,25449 Z M806,25449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2922)" />
<text x="816" y="25437" style="font:10px Open Sans">为减少停服之间，采用两次Minor Compaction的策略</text>
<clipPath id="clip2923"><path d="M1154,25407 L1669,25407 L1669,25437 L1154,25437 L1154,25407 Z" /></clipPath>
<path d="M1156,25435 L1666,25435 Z M1156,25435" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2923)" />
<text x="1166" y="25423" style="font:10px Open Sans">原Tablet Server对子表执行一次Minor Compaction操作，操作过程中仍然允许写操作</text>
<clipPath id="clip2924"><path d="M1154,25436 L1812,25436 L1812,25466 L1154,25466 L1154,25436 Z" /></clipPath>
<path d="M1156,25464 L1809,25464 Z M1156,25464" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2924)" />
<text x="1166" y="25452" style="font:10px Open Sans">停止子表的写服务，再执行一次Minor Compaction，第一次压缩过程中写入的数据一般较少，故二次压缩很快</text>
<clipPath id="clip2925"><path d="M804,25465 L1077,25465 L1077,25495 L804,25495 L804,25465 Z" /></clipPath>
<path d="M806,25493 L1074,25493 Z M806,25493" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2925)" />
<text x="816" y="25481" style="font:10px Open Sans">选择一台负载较低的Tablet Server加载子表</text>
<clipPath id="clip2926"><path d="M804,25494 L1207,25494 L1207,25524 L804,25524 L804,25494 Z" /></clipPath>
<path d="M806,25522 L1204,25522 Z M806,25522" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2926)" />
<text x="816" y="25510" style="font:10px Open Sans">负载均衡带来的子表迁移在新Tablet Server上不需要回放操作日志</text>
<clipPath id="clip2927"><path d="M615,25524 L1324,25524 L1324,25915 L615,25915 Z M616,25748 L616,25771 L702,25771 L702,25748 Z M616,25748 Z M616,25748" /></clipPath>
<path d="M715,25772 L715,25678 C715,25675.7929688 716.7929688,25674 719,25674 L724,25674" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2927)" />
<clipPath id="clip2928"><path d="M615,25524 L1324,25524 L1324,25915 L615,25915 Z M616,25748 L616,25771 L702,25771 L702,25748 Z M616,25748 Z M616,25748" /></clipPath>
<path d="M715,25772 L715,25867 C715,25869.2070313 716.7929688,25871 719,25871 L724,25871" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2928)" />
<clipPath id="clip2929"><path d="M614,25523 L1325,25523 L1325,25916 L614,25916 L614,25523 Z" /></clipPath>
<path d="M702,25772 L715,25772" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2929)" />
<clipPath id="clip2930"><path d="M614,25746 L705,25746 L705,25774 L614,25774 L614,25746 Z" /></clipPath>
<path d="M616,25772 L702,25772 Z M616,25772" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2930)" />
<text x="626" y="25762" style="font:10px Open Sans">分裂与合并</text>
<clipPath id="clip2931"><path d="M723,25524 L1324,25524 L1324,25801 L723,25801 Z M724,25650 L724,25673 L771,25673 L771,25650 Z M724,25650 Z M724,25650" /></clipPath>
<path d="M784,25674 L784,25553 C784,25550.7929688 785.7929688,25549 788,25549 L793,25549" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2931)" />
<clipPath id="clip2932"><path d="M723,25524 L1324,25524 L1324,25801 L723,25801 Z M724,25650 L724,25673 L771,25673 L771,25650 Z M724,25650 Z M724,25650" /></clipPath>
<path d="M784,25674 L784,25580 C784,25577.7929688 785.7929688,25576 788,25576 L793,25576" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2932)" />
<clipPath id="clip2933"><path d="M723,25524 L1324,25524 L1324,25801 L723,25801 Z M724,25650 L724,25673 L771,25673 L771,25650 Z M724,25650 Z M724,25650" /></clipPath>
<path d="M784,25674 L784,25609 C784,25606.7929688 785.7929688,25605 788,25605 L793,25605" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2933)" />
<clipPath id="clip2934"><path d="M723,25524 L1324,25524 L1324,25801 L723,25801 Z M724,25650 L724,25673 L771,25673 L771,25650 Z M724,25650 Z M724,25650" /></clipPath>
<path d="M784,25674 L784,25638 C784,25635.7929688 785.7929688,25634 788,25634 L793,25634" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2934)" />
<clipPath id="clip2935"><path d="M723,25524 L1324,25524 L1324,25801 L723,25801 Z M724,25650 L724,25673 L771,25673 L771,25650 Z M724,25650 Z M724,25650" /></clipPath>
<path d="M784,25674 L784,25667 C784,25664.7929688 785.7929688,25663 788,25663 L793,25663" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2935)" />
<clipPath id="clip2936"><path d="M723,25524 L1324,25524 L1324,25801 L723,25801 Z M724,25650 L724,25673 L771,25673 L771,25650 Z M724,25650 Z M724,25650" /></clipPath>
<path d="M784,25674 L784,25686 C784,25688.2070313 785.7929688,25690 788,25690 L793,25690" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2936)" />
<clipPath id="clip2937"><path d="M723,25524 L1324,25524 L1324,25801 L723,25801 Z M724,25650 L724,25673 L771,25673 L771,25650 Z M724,25650 Z M724,25650" /></clipPath>
<path d="M784,25674 L784,25713 C784,25715.2070313 785.7929688,25717 788,25717 L793,25717" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2937)" />
<clipPath id="clip2938"><path d="M723,25524 L1324,25524 L1324,25801 L723,25801 Z M724,25650 L724,25673 L771,25673 L771,25650 Z M724,25650 Z M724,25650" /></clipPath>
<path d="M784,25674 L784,25740 C784,25742.2070313 785.7929688,25744 788,25744 L793,25744" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2938)" />
<clipPath id="clip2939"><path d="M723,25524 L1324,25524 L1324,25801 L723,25801 Z M724,25650 L724,25673 L771,25673 L771,25650 Z M724,25650 Z M724,25650" /></clipPath>
<path d="M784,25674 L784,25767 C784,25769.2070313 785.7929688,25771 788,25771 L793,25771" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2939)" />
<clipPath id="clip2940"><path d="M723,25524 L1324,25524 L1324,25801 L723,25801 Z M724,25650 L724,25673 L771,25673 L771,25650 Z M724,25650 Z M724,25650" /></clipPath>
<path d="M784,25674 L784,25796 C784,25798.2070313 785.7929688,25800 788,25800 L793,25800" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2940)" />
<clipPath id="clip2941"><path d="M722,25523 L1325,25523 L1325,25802 L722,25802 L722,25523 Z" /></clipPath>
<path d="M771,25674 L784,25674" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2941)" />
<clipPath id="clip2942"><path d="M722,25648 L774,25648 L774,25676 L722,25676 L722,25648 Z" /></clipPath>
<path d="M724,25674 L771,25674 Z M724,25674" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2942)" />
<text x="734" y="25664" style="font:10px Open Sans">分裂</text>
<clipPath id="clip2943"><path d="M791,25523 L1077,25523 L1077,25551 L791,25551 L791,25523 Z" /></clipPath>
<path d="M793,25549 L1074,25549 Z M793,25549" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2943)" />
<text x="803" y="25539" style="font:10px Open Sans">执行分裂操作不需要进行实际的数据拷贝操作</text>
<clipPath id="clip2944"><path d="M791,25550 L986,25550 L986,25578 L791,25578 L791,25550 Z" /></clipPath>
<path d="M793,25576 L983,25576 Z M793,25576" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2944)" />
<text x="803" y="25566" style="font:10px Open Sans">将内存中的索引信息分成两份</text>
<clipPath id="clip2945"><path d="M791,25577 L1049,25577 L1049,25607 L791,25607 L791,25577 Z" /></clipPath>
<path d="M793,25605 L1046,25605 Z M793,25605" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2945)" />
<text x="803" y="25593" style="font:10px Open Sans">分裂后两个子表各自写不同的memTable</text>
<clipPath id="clip2946"><path d="M791,25606 L1222,25606 L1222,25636 L791,25636 L791,25606 Z" /></clipPath>
<path d="M793,25634 L1219,25634 Z M793,25634" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2946)" />
<text x="803" y="25622" style="font:10px Open Sans">等到执行Compaction操作时根据分裂后的子表范围生成不同的SSTable</text>
<clipPath id="clip2947"><path d="M791,25635 L1090,25635 L1090,25665 L791,25665 L791,25635 Z" /></clipPath>
<path d="M793,25663 L1087,25663 Z M793,25663" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2947)" />
<text x="803" y="25651" style="font:10px Open Sans">分裂操作由Tablet Server发起，需要修改元数据</text>
<clipPath id="clip2948"><path d="M791,25664 L999,25664 L999,25692 L791,25692 L791,25664 Z" /></clipPath>
<path d="M793,25690 L996,25690 Z M793,25690" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2948)" />
<text x="803" y="25680" style="font:10px Open Sans">用户表的分裂需要修改元数据表</text>
<clipPath id="clip2949"><path d="M791,25691 L986,25691 L986,25719 L791,25719 L791,25691 Z" /></clipPath>
<path d="M793,25717 L983,25717 Z M793,25717" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2949)" />
<text x="803" y="25707" style="font:10px Open Sans">元数据表的分裂需要修改根表</text>
<clipPath id="clip2950"><path d="M791,25718 L1155,25718 L1155,25746 L791,25746 L791,25718 Z" /></clipPath>
<path d="M793,25744 L1152,25744 Z M793,25744" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2950)" />
<text x="803" y="25734" style="font:10px Open Sans">分裂操作需要增加一个子表，相当于在元数据表中增加一行</text>
<clipPath id="clip2951"><path d="M791,25745 L1194,25745 L1194,25773 L791,25773 L791,25745 Z" /></clipPath>
<path d="M793,25771 L1191,25771 Z M793,25771" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2951)" />
<text x="803" y="25761" style="font:10px Open Sans">通过行事务保证原子性，只要修改元数据表成功分裂操作就算成功</text>
<clipPath id="clip2952"><path d="M791,25772 L1325,25772 L1325,25802 L791,25802 L791,25772 Z" /></clipPath>
<path d="M793,25800 L1322,25800 Z M793,25800" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2952)" />
<text x="803" y="25788" style="font:10px Open Sans">Tablet Server故障Master可能丢失分裂消息，新Table Server加载时会发现并通知Master</text>
<clipPath id="clip2953"><path d="M723,25802 L1219,25802 L1219,25915 L723,25915 Z M724,25847 L724,25870 L771,25870 L771,25847 Z M724,25847 Z M724,25847" /></clipPath>
<path d="M784,25871 L784,25833 C784,25830.7929688 785.7929688,25829 788,25829 L793,25829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2953)" />
<clipPath id="clip2954"><path d="M723,25802 L1219,25802 L1219,25915 L723,25915 Z M724,25847 L724,25870 L771,25870 L771,25847 Z M724,25847 Z M724,25847" /></clipPath>
<path d="M784,25871 L784,25862 C784,25859.7929688 785.7929688,25858 788,25858 L793,25858" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2954)" />
<clipPath id="clip2955"><path d="M723,25802 L1219,25802 L1219,25915 L723,25915 Z M724,25847 L724,25870 L771,25870 L771,25847 Z M724,25847 Z M724,25847" /></clipPath>
<path d="M784,25871 L784,25883 C784,25885.2070313 785.7929688,25887 788,25887 L793,25887" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2955)" />
<clipPath id="clip2956"><path d="M723,25802 L1219,25802 L1219,25915 L723,25915 Z M724,25847 L724,25870 L771,25870 L771,25847 Z M724,25847 Z M724,25847" /></clipPath>
<path d="M784,25871 L784,25910 C784,25912.2070313 785.7929688,25914 788,25914 L793,25914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2956)" />
<clipPath id="clip2957"><path d="M722,25801 L1220,25801 L1220,25916 L722,25916 L722,25801 Z" /></clipPath>
<path d="M771,25871 L784,25871" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2957)" />
<clipPath id="clip2958"><path d="M722,25845 L774,25845 L774,25873 L722,25873 L722,25845 Z" /></clipPath>
<path d="M724,25871 L771,25871 Z M724,25871" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2958)" />
<text x="734" y="25861" style="font:10px Open Sans">合并</text>
<clipPath id="clip2959"><path d="M791,25801 L950,25801 L950,25831 L791,25831 L791,25801 Z" /></clipPath>
<path d="M793,25829 L947,25829 Z M793,25829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2959)" />
<text x="803" y="25817" style="font:10px Open Sans">合并操作由Master发起</text>
<clipPath id="clip2960"><path d="M791,25830 L1220,25830 L1220,25860 L791,25860 L791,25830 Z" /></clipPath>
<path d="M793,25858 L1217,25858 Z M793,25858" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2960)" />
<text x="803" y="25846" style="font:10px Open Sans">合并的两个子表可能被不同的Tablet Server加载，需要先迁移其中一个</text>
<clipPath id="clip2961"><path d="M791,25859 L1025,25859 L1025,25889 L791,25889 L791,25859 Z" /></clipPath>
<path d="M793,25887 L1022,25887 Z M793,25887" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2961)" />
<text x="803" y="25875" style="font:10px Open Sans">接着通知Tablet Server执行子表合并</text>
<clipPath id="clip2962"><path d="M791,25888 L1012,25888 L1012,25916 L791,25916 L791,25888 Z" /></clipPath>
<path d="M793,25914 L1009,25914 Z M793,25914" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2962)" />
<text x="803" y="25904" style="font:10px Open Sans">合并操作具体实现十分麻烦，不表</text>
<clipPath id="clip2963"><path d="M615,25916 L1386,25916 L1386,26510 L615,26510 Z M616,26251 L616,26274 L689,26274 L689,26251 Z M616,26251 Z M616,26251" /></clipPath>
<path d="M702,26275 L702,26046 C702,26043.7929688 703.7929688,26042 706,26042 L711,26042" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2963)" />
<clipPath id="clip2964"><path d="M615,25916 L1386,25916 L1386,26510 L615,26510 Z M616,26251 L616,26274 L689,26274 L689,26251 Z M616,26251 Z M616,26251" /></clipPath>
<path d="M702,26275 L702,26239 C702,26236.7929688 703.7929688,26235 706,26235 L711,26235" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2964)" />
<clipPath id="clip2965"><path d="M615,25916 L1386,25916 L1386,26510 L615,26510 Z M616,26251 L616,26274 L689,26274 L689,26251 Z M616,26251 Z M616,26251" /></clipPath>
<path d="M702,26275 L702,26394 C702,26396.2070313 703.7929688,26398 706,26398 L711,26398" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2965)" />
<clipPath id="clip2966"><path d="M615,25916 L1386,25916 L1386,26510 L615,26510 Z M616,26251 L616,26274 L689,26274 L689,26251 Z M616,26251 Z M616,26251" /></clipPath>
<path d="M702,26275 L702,26462 C702,26464.2070313 703.7929688,26466 706,26466 L711,26466" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2966)" />
<clipPath id="clip2967"><path d="M615,25916 L1386,25916 L1386,26510 L615,26510 Z M616,26251 L616,26274 L689,26274 L689,26251 Z M616,26251 Z M616,26251" /></clipPath>
<path d="M702,26275 L702,26505 C702,26507.2070313 703.7929688,26509 706,26509 L711,26509" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2967)" />
<clipPath id="clip2968"><path d="M614,25915 L1387,25915 L1387,26511 L614,26511 L614,25915 Z" /></clipPath>
<path d="M689,26275 L702,26275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2968)" />
<clipPath id="clip2969"><path d="M614,26249 L692,26249 L692,26277 L614,26277 L614,26249 Z" /></clipPath>
<path d="M616,26275 L689,26275 Z M616,26275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2969)" />
<text x="626" y="26265" style="font:10px Open Sans">单机存储</text>
<clipPath id="clip2970"><path d="M710,25916 L1371,25916 L1371,26116 L710,26116 Z M711,26016 L711,26041 L862,26041 L862,26016 Z M711,26016 Z M711,26016" /></clipPath>
<path d="M875,26042 L875,25974 C875,25971.7929688 876.7929688,25970 879,25970 L884,25970" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2970)" />
<clipPath id="clip2971"><path d="M710,25916 L1371,25916 L1371,26116 L710,26116 Z M711,26016 L711,26041 L862,26041 L862,26016 Z M711,26016 Z M711,26016" /></clipPath>
<path d="M875,26042 C875,26042 876.7929688,26042 879,26042 L884,26042" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2971)" />
<clipPath id="clip2972"><path d="M710,25916 L1371,25916 L1371,26116 L710,26116 Z M711,26016 L711,26041 L862,26041 L862,26016 Z M711,26016 Z M711,26016" /></clipPath>
<path d="M875,26042 L875,26082 C875,26084.2070313 876.7929688,26086 879,26086 L884,26086" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2972)" />
<clipPath id="clip2973"><path d="M710,25916 L1371,25916 L1371,26116 L710,26116 Z M711,26016 L711,26041 L862,26041 L862,26016 Z M711,26016 Z M711,26016" /></clipPath>
<path d="M875,26042 L875,26111 C875,26113.2070313 876.7929688,26115 879,26115 L884,26115" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2973)" />
<clipPath id="clip2974"><path d="M709,25915 L1372,25915 L1372,26117 L709,26117 L709,25915 Z" /></clipPath>
<path d="M862,26042 L875,26042" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2974)" />
<clipPath id="clip2975"><path d="M709,26014 L865,26014 L865,26044 L709,26044 L709,26014 Z" /></clipPath>
<path d="M711,26042 L862,26042 Z M711,26042" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2975)" />
<text x="721" y="26030" style="font:10px Open Sans">Merge-dump存储引擎</text>
<clipPath id="clip2976"><path d="M883,25916 L1371,25916 L1371,26000 L883,26000 Z M884,25946 L884,25969 L944,25969 L944,25946 Z M884,25946 Z M884,25946" /></clipPath>
<path d="M957,25970 L957,25945 C957,25942.7929688 958.7929688,25941 961,25941 L966,25941" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2976)" />
<clipPath id="clip2977"><path d="M883,25916 L1371,25916 L1371,26000 L883,26000 Z M884,25946 L884,25969 L944,25969 L944,25946 Z M884,25946 Z M884,25946" /></clipPath>
<path d="M957,25970 C957,25970 958.7929688,25970 961,25970 L966,25970" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2977)" />
<clipPath id="clip2978"><path d="M883,25916 L1371,25916 L1371,26000 L883,26000 Z M884,25946 L884,25969 L944,25969 L944,25946 Z M884,25946 Z M884,25946" /></clipPath>
<path d="M957,25970 L957,25995 C957,25997.2070313 958.7929688,25999 961,25999 L966,25999" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2978)" />
<clipPath id="clip2979"><path d="M882,25915 L1372,25915 L1372,26001 L882,26001 L882,25915 Z" /></clipPath>
<path d="M944,25970 L957,25970" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2979)" />
<clipPath id="clip2980"><path d="M882,25944 L947,25944 L947,25972 L882,25972 L882,25944 Z" /></clipPath>
<path d="M884,25970 L944,25970 Z M884,25970" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2980)" />
<text x="894" y="25960" style="font:10px Open Sans">写数据</text>
<clipPath id="clip2981"><path d="M964,25915 L1328,25915 L1328,25943 L964,25943 L964,25915 Z" /></clipPath>
<path d="M966,25941 L1325,25941 Z M966,25941" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2981)" />
<text x="976" y="25931" style="font:10px Open Sans">数据写入时先写操作日志（往磁盘的日志文件中追加数据）</text>
<clipPath id="clip2982"><path d="M964,25942 L1196,25942 L1196,25972 L964,25972 L964,25942 Z" /></clipPath>
<path d="M966,25970 L1193,25970 Z M966,25970" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2982)" />
<text x="976" y="25958" style="font:10px Open Sans">成功后应用到内存中的MemTable中</text>
<clipPath id="clip2983"><path d="M964,25971 L1372,25971 L1372,26001 L964,26001 L964,25971 Z" /></clipPath>
<path d="M966,25999 L1369,25999 Z M966,25999" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2983)" />
<text x="976" y="25987" style="font:10px Open Sans">内存中的MemTable达到一定大小时转储到磁盘中生成SSTable文件</text>
<clipPath id="clip2984"><path d="M883,26001 L1345,26001 L1345,26058 L883,26058 Z M884,26018 L884,26041 L944,26041 L944,26018 Z M884,26018 Z M884,26018" /></clipPath>
<path d="M957,26042 L957,26032 C957,26029.7929688 958.7929688,26028 961,26028 L966,26028" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2984)" />
<clipPath id="clip2985"><path d="M883,26001 L1345,26001 L1345,26058 L883,26058 Z M884,26018 L884,26041 L944,26041 L944,26018 Z M884,26018 Z M884,26018" /></clipPath>
<path d="M957,26042 L957,26053 C957,26055.2070313 958.7929688,26057 961,26057 L966,26057" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2985)" />
<clipPath id="clip2986"><path d="M882,26000 L1346,26000 L1346,26059 L882,26059 L882,26000 Z" /></clipPath>
<path d="M944,26042 L957,26042" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2986)" />
<clipPath id="clip2987"><path d="M882,26016 L947,26016 L947,26044 L882,26044 L882,26016 Z" /></clipPath>
<path d="M884,26042 L944,26042 Z M884,26042" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2987)" />
<text x="894" y="26032" style="font:10px Open Sans">读数据</text>
<clipPath id="clip2988"><path d="M964,26000 L1255,26000 L1255,26030 L964,26030 L964,26000 Z" /></clipPath>
<path d="M966,26028 L1252,26028 Z M966,26028" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2988)" />
<text x="976" y="26016" style="font:10px Open Sans">数据同时存在MemTable和可能多个SSTable中</text>
<clipPath id="clip2989"><path d="M964,26029 L1346,26029 L1346,26059 L964,26059 L964,26029 Z" /></clipPath>
<path d="M966,26057 L1343,26057 Z M966,26057" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2989)" />
<text x="976" y="26045" style="font:10px Open Sans">按从旧到新的时间顺序合并SSTable和内存中的MemTable数据</text>
<clipPath id="clip2990"><path d="M882,26058 L1253,26058 L1253,26088 L882,26088 L882,26058 Z" /></clipPath>
<path d="M884,26086 L1250,26086 Z M884,26086" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2990)" />
<text x="894" y="26074" style="font:10px Open Sans">定时将多个SSTable通过compaction操作合并成一个SSTable</text>
<clipPath id="clip2991"><path d="M882,26087 L1253,26087 L1253,26117 L882,26117 L882,26087 Z" /></clipPath>
<path d="M884,26115 L1250,26115 Z M884,26115" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2991)" />
<text x="894" y="26103" style="font:10px Open Sans">数据在SSTable中连续存放，满足随机读取和顺序读取的需求</text>
<clipPath id="clip2992"><path d="M710,26117 L1386,26117 L1386,26342 L710,26342 Z M711,26209 L711,26234 L831,26234 L831,26209 Z M711,26209 Z M711,26209" /></clipPath>
<path d="M844,26235 L844,26161 C844,26158.7929688 845.7929688,26157 848,26157 L853,26157" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2992)" />
<clipPath id="clip2993"><path d="M710,26117 L1386,26117 L1386,26342 L710,26342 Z M711,26209 L711,26234 L831,26234 L831,26209 Z M711,26209 Z M711,26209" /></clipPath>
<path d="M844,26235 L844,26232 C844,26229.7929688 845.7929688,26228 848,26228 L853,26228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2993)" />
<clipPath id="clip2994"><path d="M710,26117 L1386,26117 L1386,26342 L710,26342 Z M711,26209 L711,26234 L831,26234 L831,26209 Z M711,26209 Z M711,26209" /></clipPath>
<path d="M844,26235 L844,26309 C844,26311.2070313 845.7929688,26313 848,26313 L853,26313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2994)" />
<clipPath id="clip2995"><path d="M709,26116 L1387,26116 L1387,26343 L709,26343 L709,26116 Z" /></clipPath>
<path d="M831,26235 L844,26235" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2995)" />
<clipPath id="clip2996"><path d="M709,26207 L834,26207 L834,26237 L709,26237 L709,26207 Z" /></clipPath>
<path d="M711,26235 L831,26235 Z M711,26235" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2996)" />
<text x="721" y="26223" style="font:10px Open Sans">Compaction策略</text>
<clipPath id="clip2997"><path d="M852,26117 L1235,26117 L1235,26172 L852,26172 Z M853,26131 L853,26156 L986,26156 L986,26131 Z M853,26131 Z M853,26131" /></clipPath>
<path d="M999,26157 L999,26148 C999,26145.7929688 1000.7929688,26144 1003,26144 L1008,26144" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2997)" />
<clipPath id="clip2998"><path d="M852,26117 L1235,26117 L1235,26172 L852,26172 Z M853,26131 L853,26156 L986,26156 L986,26131 Z M853,26131 Z M853,26131" /></clipPath>
<path d="M999,26157 L999,26167 C999,26169.2070313 1000.7929688,26171 1003,26171 L1008,26171" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2998)" />
<clipPath id="clip2999"><path d="M851,26116 L1236,26116 L1236,26173 L851,26173 L851,26116 Z" /></clipPath>
<path d="M986,26157 L999,26157" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip2999)" />
<clipPath id="clip3000"><path d="M851,26129 L989,26129 L989,26159 L851,26159 L851,26129 Z" /></clipPath>
<path d="M853,26157 L986,26157 Z M853,26157" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3000)" />
<text x="863" y="26145" style="font:10px Open Sans">Minor Compaction</text>
<clipPath id="clip3001"><path d="M1006,26116 L1236,26116 L1236,26146 L1006,26146 L1006,26116 Z" /></clipPath>
<path d="M1008,26144 L1233,26144 Z M1008,26144" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3001)" />
<text x="1018" y="26132" style="font:10px Open Sans">把内存中的MemTable转储到GFS中</text>
<clipPath id="clip3002"><path d="M1006,26145 L1175,26145 L1175,26173 L1006,26173 L1006,26145 Z" /></clipPath>
<path d="M1008,26171 L1172,26171 Z M1008,26171" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3002)" />
<text x="1018" y="26161" style="font:10px Open Sans">是为了防止内存占用过多</text>
<clipPath id="clip3003"><path d="M852,26173 L1363,26173 L1363,26257 L852,26257 Z M853,26202 L853,26227 L999,26227 L999,26202 Z M853,26202 Z M853,26202" /></clipPath>
<path d="M1012,26228 L1012,26204 C1012,26201.7929688 1013.7929688,26200 1016,26200 L1021,26200" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3003)" />
<clipPath id="clip3004"><path d="M852,26173 L1363,26173 L1363,26257 L852,26257 Z M853,26202 L853,26227 L999,26227 L999,26202 Z M853,26202 Z M853,26202" /></clipPath>
<path d="M1012,26228 C1012,26227.4492188 1013.7929688,26227 1016,26227 L1021,26227" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3004)" />
<clipPath id="clip3005"><path d="M852,26173 L1363,26173 L1363,26257 L852,26257 Z M853,26202 L853,26227 L999,26227 L999,26202 Z M853,26202 Z M853,26202" /></clipPath>
<path d="M1012,26228 L1012,26252 C1012,26254.2070313 1013.7929688,26256 1016,26256 L1021,26256" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3005)" />
<clipPath id="clip3006"><path d="M851,26172 L1364,26172 L1364,26258 L851,26258 L851,26172 Z" /></clipPath>
<path d="M999,26228 L1012,26228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3006)" />
<clipPath id="clip3007"><path d="M851,26200 L1002,26200 L1002,26230 L851,26230 L851,26200 Z" /></clipPath>
<path d="M853,26228 L999,26228 Z M853,26228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3007)" />
<text x="863" y="26216" style="font:10px Open Sans">Merging Compaction</text>
<clipPath id="clip3008"><path d="M1019,26172 L1356,26172 L1356,26202 L1019,26202 L1019,26172 Z" /></clipPath>
<path d="M1021,26200 L1353,26200 Z M1021,26200" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3008)" />
<text x="1031" y="26188" style="font:10px Open Sans">合并GFS中的多个SSTable文件生成一个更大的SSTable</text>
<clipPath id="clip3009"><path d="M1019,26201 L1175,26201 L1175,26229 L1019,26229 L1019,26201 Z" /></clipPath>
<path d="M1021,26227 L1172,26227 Z M1021,26227" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3009)" />
<text x="1031" y="26217" style="font:10px Open Sans">防止读取文件个数过多</text>
<clipPath id="clip3010"><path d="M1019,26228 L1364,26228 L1364,26258 L1019,26258 L1019,26228 Z" /></clipPath>
<path d="M1021,26256 L1361,26256 Z M1021,26256" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3010)" />
<text x="1031" y="26244" style="font:10px Open Sans">生成的SSTable文件可能包含一些操作，如删除、增加等</text>
<clipPath id="clip3011"><path d="M852,26258 L1386,26258 L1386,26342 L852,26342 Z M853,26287 L853,26312 L985,26312 L985,26287 Z M853,26287 Z M853,26287" /></clipPath>
<path d="M998,26313 L998,26289 C998,26286.7929688 999.7929688,26285 1002,26285 L1007,26285" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3011)" />
<clipPath id="clip3012"><path d="M852,26258 L1386,26258 L1386,26342 L852,26342 Z M853,26287 L853,26312 L985,26312 L985,26287 Z M853,26287 Z M853,26287" /></clipPath>
<path d="M998,26313 C998,26312.4492188 999.7929688,26312 1002,26312 L1007,26312" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3012)" />
<clipPath id="clip3013"><path d="M852,26258 L1386,26258 L1386,26342 L852,26342 Z M853,26287 L853,26312 L985,26312 L985,26287 Z M853,26287 Z M853,26287" /></clipPath>
<path d="M998,26313 L998,26337 C998,26339.2070313 999.7929688,26341 1002,26341 L1007,26341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3013)" />
<clipPath id="clip3014"><path d="M851,26257 L1387,26257 L1387,26343 L851,26343 L851,26257 Z" /></clipPath>
<path d="M985,26313 L998,26313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3014)" />
<clipPath id="clip3015"><path d="M851,26285 L988,26285 L988,26315 L851,26315 L851,26285 Z" /></clipPath>
<path d="M853,26313 L985,26313 Z M853,26313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3015)" />
<text x="863" y="26301" style="font:10px Open Sans">Major Compaction</text>
<clipPath id="clip3016"><path d="M1005,26257 L1342,26257 L1342,26287 L1005,26287 L1005,26257 Z" /></clipPath>
<path d="M1007,26285 L1339,26285 Z M1007,26285" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3016)" />
<text x="1017" y="26273" style="font:10px Open Sans">合并GFS中的多个SSTable文件生成一个更大的SSTable</text>
<clipPath id="clip3017"><path d="M1005,26286 L1161,26286 L1161,26314 L1005,26314 L1005,26286 Z" /></clipPath>
<path d="M1007,26312 L1158,26312 Z M1007,26312" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3017)" />
<text x="1017" y="26302" style="font:10px Open Sans">防止读取文件个数过多</text>
<clipPath id="clip3018"><path d="M1005,26313 L1387,26313 L1387,26343 L1005,26343 L1005,26313 Z" /></clipPath>
<path d="M1007,26341 L1384,26341 Z M1007,26341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3018)" />
<text x="1017" y="26329" style="font:10px Open Sans">合并所有的SSTable文件和内存中的MemTable，生成最终结果</text>
<clipPath id="clip3019"><path d="M710,26343 L1116,26343 L1116,26427 L710,26427 Z M711,26374 L711,26397 L784,26397 L784,26374 Z M711,26374 Z M711,26374" /></clipPath>
<path d="M797,26398 L797,26374 C797,26371.7929688 798.7929688,26370 801,26370 L806,26370" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3019)" />
<clipPath id="clip3020"><path d="M710,26343 L1116,26343 L1116,26427 L710,26427 Z M711,26374 L711,26397 L784,26397 L784,26374 Z M711,26374 Z M711,26374" /></clipPath>
<path d="M797,26398 C797,26398.5507813 798.7929688,26399 801,26399 L806,26399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3020)" />
<clipPath id="clip3021"><path d="M710,26343 L1116,26343 L1116,26427 L710,26427 Z M711,26374 L711,26397 L784,26397 L784,26374 Z M711,26374 Z M711,26374" /></clipPath>
<path d="M797,26398 L797,26422 C797,26424.2070313 798.7929688,26426 801,26426 L806,26426" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3021)" />
<clipPath id="clip3022"><path d="M709,26342 L1117,26342 L1117,26428 L709,26428 L709,26342 Z" /></clipPath>
<path d="M784,26398 L797,26398" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3022)" />
<clipPath id="clip3023"><path d="M709,26372 L787,26372 L787,26400 L709,26400 L709,26372 Z" /></clipPath>
<path d="M711,26398 L784,26398 Z M711,26398" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3023)" />
<text x="721" y="26388" style="font:10px Open Sans">数据存储</text>
<clipPath id="clip3024"><path d="M804,26342 L1019,26342 L1019,26372 L804,26372 L804,26342 Z" /></clipPath>
<path d="M806,26370 L1016,26370 Z M806,26370" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3024)" />
<text x="816" y="26358" style="font:10px Open Sans">数据在SSTable中按主键有序存储</text>
<clipPath id="clip3025"><path d="M804,26371 L1117,26371 L1117,26401 L804,26401 L804,26371 Z" /></clipPath>
<path d="M806,26399 L1114,26399 Z M806,26399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3025)" />
<text x="816" y="26387" style="font:10px Open Sans">每个SSTable由若干个大小相近的数据块Block组成</text>
<clipPath id="clip3026"><path d="M804,26400 L960,26400 L960,26428 L804,26428 L804,26400 Z" /></clipPath>
<path d="M806,26426 L957,26426 Z M806,26426" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3026)" />
<text x="816" y="26416" style="font:10px Open Sans">每个数据块包含若干行</text>
<clipPath id="clip3027"><path d="M710,26428 L920,26428 L920,26481 L710,26481 Z M711,26440 L711,26465 L836,26465 L836,26440 Z M711,26440 Z M711,26440" /></clipPath>
<path d="M849,26466 L849,26457 C849,26454.7929688 850.7929688,26453 853,26453 L858,26453" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3027)" />
<clipPath id="clip3028"><path d="M710,26428 L920,26428 L920,26481 L710,26481 Z M711,26440 L711,26465 L836,26465 L836,26440 Z M711,26440 Z M711,26440" /></clipPath>
<path d="M849,26466 L849,26476 C849,26478.2070313 850.7929688,26480 853,26480 L858,26480" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3028)" />
<clipPath id="clip3029"><path d="M709,26427 L921,26427 L921,26482 L709,26482 L709,26427 Z" /></clipPath>
<path d="M836,26466 L849,26466" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3029)" />
<clipPath id="clip3030"><path d="M709,26438 L839,26438 L839,26468 L709,26468 L709,26438 Z" /></clipPath>
<path d="M711,26466 L836,26466 Z M711,26466" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3030)" />
<text x="721" y="26454" style="font:10px Open Sans">Tablet Server缓存</text>
<clipPath id="clip3031"><path d="M856,26427 L921,26427 L921,26455 L856,26455 L856,26427 Z" /></clipPath>
<path d="M858,26453 L918,26453 Z M858,26453" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3031)" />
<text x="868" y="26443" style="font:10px Open Sans">块缓存</text>
<clipPath id="clip3032"><path d="M856,26454 L921,26454 L921,26482 L856,26482 L856,26454 Z" /></clipPath>
<path d="M858,26480 L918,26480 Z M858,26480" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3032)" />
<text x="868" y="26470" style="font:10px Open Sans">行缓存</text>
<clipPath id="clip3033"><path d="M709,26481 L899,26481 L899,26511 L709,26511 L709,26481 Z" /></clipPath>
<path d="M711,26509 L896,26509 Z M711,26509" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3033)" />
<text x="721" y="26497" style="font:10px Open Sans">布隆过滤器（Bloom Filter）</text>
<clipPath id="clip3034"><path d="M615,26511 L1363,26511 L1363,26713 L615,26713 Z M616,26579 L616,26602 L689,26602 L689,26579 Z M616,26579 Z M616,26579" /></clipPath>
<path d="M702,26603 L702,26542 C702,26539.7929688 703.7929688,26538 706,26538 L711,26538" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3034)" />
<clipPath id="clip3035"><path d="M615,26511 L1363,26511 L1363,26713 L615,26713 Z M616,26579 L616,26602 L689,26602 L689,26579 Z M616,26579 Z M616,26579" /></clipPath>
<path d="M702,26603 L702,26571 C702,26568.7929688 703.7929688,26567 706,26567 L711,26567" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3035)" />
<clipPath id="clip3036"><path d="M615,26511 L1363,26511 L1363,26713 L615,26713 Z M616,26579 L616,26602 L689,26602 L689,26579 Z M616,26579 Z M616,26579" /></clipPath>
<path d="M702,26603 L702,26600 C702,26597.7929688 703.7929688,26596 706,26596 L711,26596" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3036)" />
<clipPath id="clip3037"><path d="M615,26511 L1363,26511 L1363,26713 L615,26713 Z M616,26579 L616,26602 L689,26602 L689,26579 Z M616,26579 Z M616,26579" /></clipPath>
<path d="M702,26603 L702,26664 C702,26666.2070313 703.7929688,26668 706,26668 L711,26668" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3037)" />
<clipPath id="clip3038"><path d="M614,26510 L1364,26510 L1364,26714 L614,26714 L614,26510 Z" /></clipPath>
<path d="M689,26603 L702,26603" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3038)" />
<clipPath id="clip3039"><path d="M614,26577 L692,26577 L692,26605 L614,26605 L614,26577 Z" /></clipPath>
<path d="M616,26603 L689,26603 Z M616,26603" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3039)" />
<text x="626" y="26593" style="font:10px Open Sans">垃圾回收</text>
<clipPath id="clip3040"><path d="M709,26510 L1121,26510 L1121,26540 L709,26540 L709,26510 Z" /></clipPath>
<path d="M711,26538 L1118,26538 Z M711,26538" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3040)" />
<text x="721" y="26526" style="font:10px Open Sans">Compaction后生成新的SSTable，原有的SSTable成为垃圾需要回收</text>
<clipPath id="clip3041"><path d="M709,26539 L1015,26539 L1015,26569 L709,26569 L709,26539 Z" /></clipPath>
<path d="M711,26567 L1012,26567 Z M711,26567" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3041)" />
<text x="721" y="26555" style="font:10px Open Sans">每个子表正在引用的SSTable文件保存在元数据中</text>
<clipPath id="clip3042"><path d="M709,26568 L907,26568 L907,26598 L709,26598 L709,26568 Z" /></clipPath>
<path d="M711,26596 L904,26596 Z M711,26596" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3042)" />
<text x="721" y="26584" style="font:10px Open Sans">Master定期执行垃圾回收任务</text>
<clipPath id="clip3043"><path d="M710,26598 L1363,26598 L1363,26713 L710,26713 Z M711,26644 L711,26667 L810,26667 L810,26644 Z M711,26644 Z M711,26644" /></clipPath>
<path d="M823,26668 L823,26629 C823,26626.7929688 824.7929688,26625 827,26625 L832,26625" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3043)" />
<clipPath id="clip3044"><path d="M710,26598 L1363,26598 L1363,26713 L710,26713 Z M711,26644 L711,26667 L810,26667 L810,26644 Z M711,26644 Z M711,26644" /></clipPath>
<path d="M823,26668 L823,26658 C823,26655.7929688 824.7929688,26654 827,26654 L832,26654" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3044)" />
<clipPath id="clip3045"><path d="M710,26598 L1363,26598 L1363,26713 L710,26713 Z M711,26644 L711,26667 L810,26667 L810,26644 Z M711,26644 Z M711,26644" /></clipPath>
<path d="M823,26668 L823,26679 C823,26681.2070313 824.7929688,26683 827,26683 L832,26683" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3045)" />
<clipPath id="clip3046"><path d="M710,26598 L1363,26598 L1363,26713 L710,26713 Z M711,26644 L711,26667 L810,26667 L810,26644 Z M711,26644 Z M711,26644" /></clipPath>
<path d="M823,26668 L823,26708 C823,26710.2070313 824.7929688,26712 827,26712 L832,26712" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3046)" />
<clipPath id="clip3047"><path d="M709,26597 L1364,26597 L1364,26714 L709,26714 L709,26597 Z" /></clipPath>
<path d="M810,26668 L823,26668" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3047)" />
<clipPath id="clip3048"><path d="M709,26642 L813,26642 L813,26670 L709,26670 L709,26642 Z" /></clipPath>
<path d="M711,26668 L810,26668 Z M711,26668" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3048)" />
<text x="721" y="26658" style="font:10px Open Sans">标记清除过程</text>
<clipPath id="clip3049"><path d="M830,26597 L1043,26597 L1043,26627 L830,26627 L830,26597 Z" /></clipPath>
<path d="M832,26625 L1040,26625 Z M832,26625" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3049)" />
<text x="842" y="26613" style="font:10px Open Sans">扫描GFS获取所有的SSTable文件</text>
<clipPath id="clip3050"><path d="M830,26626 L1162,26626 L1162,26656 L830,26656 L830,26626 Z" /></clipPath>
<path d="M832,26654 L1159,26654 Z M832,26654" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3050)" />
<text x="842" y="26642" style="font:10px Open Sans">扫描根表和元数据表获取所有正在使用的SSTable文件</text>
<clipPath id="clip3051"><path d="M830,26655 L1134,26655 L1134,26685 L830,26685 L830,26655 Z" /></clipPath>
<path d="M832,26683 L1131,26683 Z M832,26683" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3051)" />
<text x="842" y="26671" style="font:10px Open Sans">GFS中没有被子表使用的SSTable说明可被回收掉</text>
<clipPath id="clip3052"><path d="M830,26684 L1364,26684 L1364,26714 L830,26714 L830,26684 Z" /></clipPath>
<path d="M832,26712 L1361,26712 Z M832,26712" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3052)" />
<text x="842" y="26700" style="font:10px Open Sans">为避免删除刚生成但还未记录到元数据中的SSTable文件，可删除至少一段时间的SSTable</text>
<clipPath id="clip3053"><path d="M615,26714 L1171,26714 L1171,26968 L615,26968 Z M616,26805 L616,26828 L663,26828 L663,26805 Z M616,26805 Z M616,26805" /></clipPath>
<path d="M676,26829 L676,26745 C676,26742.7929688 677.7929688,26741 680,26741 L685,26741" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3053)" />
<clipPath id="clip3054"><path d="M615,26714 L1171,26714 L1171,26968 L615,26968 Z M616,26805 L616,26828 L663,26828 L663,26805 Z M616,26805 Z M616,26805" /></clipPath>
<path d="M676,26829 L676,26774 C676,26771.7929688 677.7929688,26770 680,26770 L685,26770" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3054)" />
<clipPath id="clip3055"><path d="M615,26714 L1171,26714 L1171,26968 L615,26968 Z M616,26805 L616,26828 L663,26828 L663,26805 Z M616,26805 Z M616,26805" /></clipPath>
<path d="M676,26829 L676,26803 C676,26800.7929688 677.7929688,26799 680,26799 L685,26799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3055)" />
<clipPath id="clip3056"><path d="M615,26714 L1171,26714 L1171,26968 L615,26968 Z M616,26805 L616,26828 L663,26828 L663,26805 Z M616,26805 Z M616,26805" /></clipPath>
<path d="M676,26829 C676,26827.34375 677.7929688,26826 680,26826 L685,26826" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3056)" />
<clipPath id="clip3057"><path d="M615,26714 L1171,26714 L1171,26968 L615,26968 Z M616,26805 L616,26828 L663,26828 L663,26805 Z M616,26805 Z M616,26805" /></clipPath>
<path d="M676,26829 L676,26913 C676,26915.2070313 677.7929688,26917 680,26917 L685,26917" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3057)" />
<clipPath id="clip3058"><path d="M614,26713 L1172,26713 L1172,26969 L614,26969 L614,26713 Z" /></clipPath>
<path d="M663,26829 L676,26829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3058)" />
<clipPath id="clip3059"><path d="M614,26803 L666,26803 L666,26831 L614,26831 L614,26803 Z" /></clipPath>
<path d="M616,26829 L663,26829 Z M616,26829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3059)" />
<text x="626" y="26819" style="font:10px Open Sans">讨论</text>
<clipPath id="clip3060"><path d="M683,26713 L1024,26713 L1024,26743 L683,26743 L683,26713 Z" /></clipPath>
<path d="M685,26741 L1021,26741 Z M685,26741" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3060)" />
<text x="695" y="26729" style="font:10px Open Sans">GFS+Bigtable两层架构兼顾了系统的强一致性和可用性</text>
<clipPath id="clip3061"><path d="M683,26742 L1071,26742 L1071,26772 L683,26772 L683,26742 Z" /></clipPath>
<path d="M685,26770 L1068,26770 Z M685,26770" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3061)" />
<text x="695" y="26758" style="font:10px Open Sans">GFS弱一致性，可用性和性能很好，但可能出现数据不一致问题</text>
<clipPath id="clip3062"><path d="M683,26771 L1096,26771 L1096,26801 L683,26801 L683,26771 Z" /></clipPath>
<path d="M685,26799 L1093,26799 Z M685,26799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3062)" />
<text x="695" y="26787" style="font:10px Open Sans">Bigtable通过多级分布式索引的方式使系统对外整体表现为强一致性</text>
<clipPath id="clip3063"><path d="M683,26800 L1138,26800 L1138,26828 L683,26828 L683,26800 Z" /></clipPath>
<path d="M685,26826 L1135,26826 Z M685,26826" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3063)" />
<text x="695" y="26816" style="font:10px Open Sans">线性可扩展，最多支持几千台的集群，通过自动化容错技术降低了存储成本</text>
<clipPath id="clip3064"><path d="M684,26828 L1171,26828 L1171,26968 L684,26968 Z M685,26893 L685,26916 L732,26916 L732,26893 Z M685,26893 Z M685,26893" /></clipPath>
<path d="M745,26917 L745,26871 C745,26868.7929688 746.7929688,26867 749,26867 L754,26867" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3064)" />
<clipPath id="clip3065"><path d="M684,26828 L1171,26828 L1171,26968 L684,26968 Z M685,26893 L685,26916 L732,26916 L732,26893 Z M685,26893 Z M685,26893" /></clipPath>
<path d="M745,26917 L745,26920 C745,26922.2070313 746.7929688,26924 749,26924 L754,26924" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3065)" />
<clipPath id="clip3066"><path d="M684,26828 L1171,26828 L1171,26968 L684,26968 Z M685,26893 L685,26916 L732,26916 L732,26893 Z M685,26893 Z M685,26893" /></clipPath>
<path d="M745,26917 L745,26963 C745,26965.2070313 746.7929688,26967 749,26967 L754,26967" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3066)" />
<clipPath id="clip3067"><path d="M683,26827 L1172,26827 L1172,26969 L683,26969 L683,26827 Z" /></clipPath>
<path d="M732,26917 L745,26917" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3067)" />
<clipPath id="clip3068"><path d="M683,26891 L735,26891 L735,26919 L683,26919 L683,26891 Z" /></clipPath>
<path d="M685,26917 L732,26917 Z M685,26917" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3068)" />
<text x="695" y="26907" style="font:10px Open Sans">问题</text>
<clipPath id="clip3069"><path d="M753,26828 L1171,26828 L1171,26883 L753,26883 Z M754,26843 L754,26866 L840,26866 L840,26843 Z M754,26843 Z M754,26843" /></clipPath>
<path d="M853,26867 L853,26857 C853,26854.7929688 854.7929688,26853 857,26853 L862,26853" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3069)" />
<clipPath id="clip3070"><path d="M753,26828 L1171,26828 L1171,26883 L753,26883 Z M754,26843 L754,26866 L840,26866 L840,26843 Z M754,26843 Z M754,26843" /></clipPath>
<path d="M853,26867 L853,26878 C853,26880.2070313 854.7929688,26882 857,26882 L862,26882" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3070)" />
<clipPath id="clip3071"><path d="M752,26827 L1172,26827 L1172,26884 L752,26884 L752,26827 Z" /></clipPath>
<path d="M840,26867 L853,26867" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3071)" />
<clipPath id="clip3072"><path d="M752,26841 L843,26841 L843,26869 L752,26869 L752,26841 Z" /></clipPath>
<path d="M754,26867 L840,26867 Z M754,26867" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3072)" />
<text x="764" y="26857" style="font:10px Open Sans">单副本服务</text>
<clipPath id="clip3073"><path d="M860,26827 L1016,26827 L1016,26855 L860,26855 L860,26827 Z" /></clipPath>
<path d="M862,26853 L1013,26853 Z M862,26853" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3073)" />
<text x="872" y="26843" style="font:10px Open Sans">适合离线或半上线应用</text>
<clipPath id="clip3074"><path d="M860,26854 L1172,26854 L1172,26884 L860,26884 L860,26854 Z" /></clipPath>
<path d="M862,26882 L1169,26882 Z M862,26882" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3074)" />
<text x="872" y="26870" style="font:10px Open Sans">Tablet Server节点故障时部分数据短时间不可读写</text>
<clipPath id="clip3075"><path d="M753,26884 L1065,26884 L1065,26939 L753,26939 Z M754,26898 L754,26923 L825,26923 L825,26898 Z M754,26898 Z M754,26898" /></clipPath>
<path d="M838,26924 L838,26915 C838,26912.7929688 839.7929688,26911 842,26911 L847,26911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3075)" />
<clipPath id="clip3076"><path d="M753,26884 L1065,26884 L1065,26939 L753,26939 Z M754,26898 L754,26923 L825,26923 L825,26898 Z M754,26898 Z M754,26898" /></clipPath>
<path d="M838,26924 L838,26934 C838,26936.2070313 839.7929688,26938 842,26938 L847,26938" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3076)" />
<clipPath id="clip3077"><path d="M752,26883 L1066,26883 L1066,26940 L752,26940 L752,26883 Z" /></clipPath>
<path d="M825,26924 L838,26924" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3077)" />
<clipPath id="clip3078"><path d="M752,26896 L828,26896 L828,26926 L752,26926 L752,26896 Z" /></clipPath>
<path d="M754,26924 L825,26924 Z M754,26924" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3078)" />
<text x="764" y="26912" style="font:10px Open Sans">SSD使用</text>
<clipPath id="clip3079"><path d="M845,26883 L1047,26883 L1047,26913 L845,26913 L845,26883 Z" /></clipPath>
<path d="M847,26911 L1044,26911 Z M847,26911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3079)" />
<text x="857" y="26899" style="font:10px Open Sans">SSD和SAS混合存储越来越常见</text>
<clipPath id="clip3080"><path d="M845,26912 L1066,26912 L1066,26940 L845,26940 L845,26912 Z" /></clipPath>
<path d="M847,26938 L1063,26938 Z M847,26938" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3080)" />
<text x="857" y="26928" style="font:10px Open Sans">存储和服务分离的架构有些不适应</text>
<clipPath id="clip3081"><path d="M752,26939 L958,26939 L958,26969 L752,26969 L752,26939 Z" /></clipPath>
<path d="M754,26967 L955,26967 Z M754,26967" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3081)" />
<text x="764" y="26955" style="font:10px Open Sans">架构的复杂性导致Bug定位很难</text>
<clipPath id="clip3082"><path d="M523,26969 L1555,26969 L1555,29944 L523,29944 Z M524,28411 L524,28436 L609,28436 L609,28411 Z M524,28411 Z M524,28411" /></clipPath>
<path d="M622,28437 L622,27071 C622,27068.7929688 623.7929688,27067 626,27067 L631,27067" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3082)" />
<clipPath id="clip3083"><path d="M523,26969 L1555,26969 L1555,29944 L523,29944 Z M524,28411 L524,28436 L609,28436 L609,28411 Z M524,28411 Z M524,28411" /></clipPath>
<path d="M622,28437 L622,27304 C622,27301.7929688 623.7929688,27300 626,27300 L631,27300" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3083)" />
<clipPath id="clip3084"><path d="M523,26969 L1555,26969 L1555,29944 L523,29944 Z M524,28411 L524,28436 L609,28436 L609,28411 Z M524,28411 Z M524,28411" /></clipPath>
<path d="M622,28437 L622,27450 C622,27447.7929688 623.7929688,27446 626,27446 L631,27446" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3084)" />
<clipPath id="clip3085"><path d="M523,26969 L1555,26969 L1555,29944 L523,29944 Z M524,28411 L524,28436 L609,28436 L609,28411 Z M524,28411 Z M524,28411" /></clipPath>
<path d="M622,28437 L622,27602 C622,27599.7929688 623.7929688,27598 626,27598 L631,27598" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3085)" />
<clipPath id="clip3086"><path d="M523,26969 L1555,26969 L1555,29944 L523,29944 Z M524,28411 L524,28436 L609,28436 L609,28411 Z M524,28411 Z M524,28411" /></clipPath>
<path d="M622,28437 L622,27925 C622,27922.7929688 623.7929688,27921 626,27921 L631,27921" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3086)" />
<clipPath id="clip3087"><path d="M523,26969 L1555,26969 L1555,29944 L523,29944 Z M524,28411 L524,28436 L609,28436 L609,28411 Z M524,28411 Z M524,28411" /></clipPath>
<path d="M622,28437 L622,28202 C622,28199.7929688 623.7929688,28198 626,28198 L631,28198" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3087)" />
<clipPath id="clip3088"><path d="M523,26969 L1555,26969 L1555,29944 L523,29944 Z M524,28411 L524,28436 L609,28436 L609,28411 Z M524,28411 Z M524,28411" /></clipPath>
<path d="M622,28437 L622,28381 C622,28378.7929688 623.7929688,28377 626,28377 L631,28377" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3088)" />
<clipPath id="clip3089"><path d="M523,26969 L1555,26969 L1555,29944 L523,29944 Z M524,28411 L524,28436 L609,28436 L609,28411 Z M524,28411 Z M524,28411" /></clipPath>
<path d="M622,28437 L622,28715 C622,28717.2070313 623.7929688,28719 626,28719 L631,28719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3089)" />
<clipPath id="clip3090"><path d="M523,26969 L1555,26969 L1555,29944 L523,29944 Z M524,28411 L524,28436 L609,28436 L609,28411 Z M524,28411 Z M524,28411" /></clipPath>
<path d="M622,28437 L622,29086 C622,29088.2070313 623.7929688,29090 626,29090 L631,29090" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3090)" />
<clipPath id="clip3091"><path d="M523,26969 L1555,26969 L1555,29944 L523,29944 Z M524,28411 L524,28436 L609,28436 L609,28411 Z M524,28411 Z M524,28411" /></clipPath>
<path d="M622,28437 L622,29505 C622,29507.2070313 623.7929688,29509 626,29509 L631,29509" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3091)" />
<clipPath id="clip3092"><path d="M523,26969 L1555,26969 L1555,29944 L523,29944 Z M524,28411 L524,28436 L609,28436 L609,28411 Z M524,28411 Z M524,28411" /></clipPath>
<path d="M622,28437 L622,29804 C622,29806.2070313 623.7929688,29808 626,29808 L631,29808" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3092)" />
<clipPath id="clip3093"><path d="M522,26968 L1556,26968 L1556,29945 L522,29945 L522,26968 Z" /></clipPath>
<path d="M609,28437 L622,28437" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3093)" />
<clipPath id="clip3094"><path d="M522,28409 L612,28409 L612,28439 L522,28439 L522,28409 Z" /></clipPath>
<path d="M524,28437 L609,28437 Z M524,28437" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3094)" />
<text x="534" y="28425" style="font:10px Open Sans">Megastore</text>
<clipPath id="clip3095"><path d="M630,26969 L1242,26969 L1242,27140 L630,27140 Z M631,27043 L631,27066 L704,27066 L704,27043 Z M631,27043 Z M631,27043" /></clipPath>
<path d="M717,27067 L717,27000 C717,26997.7929688 718.7929688,26996 721,26996 L726,26996" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3095)" />
<clipPath id="clip3096"><path d="M630,26969 L1242,26969 L1242,27140 L630,27140 Z M631,27043 L631,27066 L704,27066 L704,27043 Z M631,27043 Z M631,27043" /></clipPath>
<path d="M717,27067 L717,27029 C717,27026.7929688 718.7929688,27025 721,27025 L726,27025" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3096)" />
<clipPath id="clip3097"><path d="M630,26969 L1242,26969 L1242,27140 L630,27140 Z M631,27043 L631,27066 L704,27066 L704,27043 Z M631,27043 Z M631,27043" /></clipPath>
<path d="M717,27067 L717,27056 C717,27053.7929688 718.7929688,27052 721,27052 L726,27052" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3097)" />
<clipPath id="clip3098"><path d="M630,26969 L1242,26969 L1242,27140 L630,27140 Z M631,27043 L631,27066 L704,27066 L704,27043 Z M631,27043 Z M631,27043" /></clipPath>
<path d="M717,27067 L717,27077 C717,27079.2070313 718.7929688,27081 721,27081 L726,27081" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3098)" />
<clipPath id="clip3099"><path d="M630,26969 L1242,26969 L1242,27140 L630,27140 Z M631,27043 L631,27066 L704,27066 L704,27043 Z M631,27043 Z M631,27043" /></clipPath>
<path d="M717,27067 L717,27106 C717,27108.2070313 718.7929688,27110 721,27110 L726,27110" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3099)" />
<clipPath id="clip3100"><path d="M630,26969 L1242,26969 L1242,27140 L630,27140 Z M631,27043 L631,27066 L704,27066 L704,27043 Z M631,27043 Z M631,27043" /></clipPath>
<path d="M717,27067 L717,27135 C717,27137.2070313 718.7929688,27139 721,27139 L726,27139" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3100)" />
<clipPath id="clip3101"><path d="M629,26968 L1243,26968 L1243,27141 L629,27141 L629,26968 Z" /></clipPath>
<path d="M704,27067 L717,27067" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3101)" />
<clipPath id="clip3102"><path d="M629,27041 L707,27041 L707,27069 L629,27069 L629,27041 Z" /></clipPath>
<path d="M631,27067 L704,27067 Z M631,27067" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3102)" />
<text x="641" y="27057" style="font:10px Open Sans">基本概念</text>
<clipPath id="clip3103"><path d="M724,26968 L1084,26968 L1084,26998 L724,26998 L724,26968 Z" /></clipPath>
<path d="M726,26996 L1081,26996 Z M726,26996" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3103)" />
<text x="736" y="26984" style="font:10px Open Sans">Megastore在Bigtable系统之上提供友好的数据库功能支持</text>
<clipPath id="clip3104"><path d="M724,26997 L987,26997 L987,27027 L724,27027 L724,26997 Z" /></clipPath>
<path d="M726,27025 L984,27025 Z M726,27025" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3104)" />
<text x="736" y="27013" style="font:10px Open Sans">介于关系数据库和NoSQL之间的存储技术</text>
<clipPath id="clip3105"><path d="M724,27026 L1218,27026 L1218,27054 L724,27054 L724,27026 Z" /></clipPath>
<path d="M726,27052 L1215,27052 Z M726,27052" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3105)" />
<text x="736" y="27042" style="font:10px Open Sans">从互联网应用特性中抽取实体组概念，实现可扩展性和数据库语义之间的一种权衡</text>
<clipPath id="clip3106"><path d="M724,27053 L1124,27053 L1124,27083 L724,27083 L724,27053 Z" /></clipPath>
<path d="M726,27081 L1121,27081 Z M726,27081" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3106)" />
<text x="736" y="27069" style="font:10px Open Sans">实体组根表中的一行称为根实体，对应Bigtable存储系统中的一行</text>
<clipPath id="clip3107"><path d="M724,27082 L1243,27082 L1243,27112 L724,27112 L724,27082 Z" /></clipPath>
<path d="M726,27110 L1240,27110 Z M726,27110" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3107)" />
<text x="736" y="27098" style="font:10px Open Sans">根实体除了存放数据，还存放Megastore事务及复制操作所需的元数据，包括操作日志</text>
<clipPath id="clip3108"><path d="M724,27111 L1020,27111 L1020,27141 L724,27141 L724,27111 Z" /></clipPath>
<path d="M726,27139 L1017,27139 Z M726,27139" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3108)" />
<text x="736" y="27127" style="font:10px Open Sans">Bigtable通过单行事务保证根实体操作的原子性</text>
<clipPath id="clip3109"><path d="M630,27141 L1298,27141 L1298,27391 L630,27391 Z M631,27276 L631,27299 L704,27299 L704,27276 Z M631,27276 Z M631,27276" /></clipPath>
<path d="M717,27300 L717,27214 C717,27211.7929688 718.7929688,27210 721,27210 L726,27210" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3109)" />
<clipPath id="clip3110"><path d="M630,27141 L1298,27141 L1298,27391 L630,27391 Z M631,27276 L631,27299 L704,27299 L704,27276 Z M631,27276 Z M631,27276" /></clipPath>
<path d="M717,27300 L717,27345 C717,27347.2070313 718.7929688,27349 721,27349 L726,27349" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3110)" />
<clipPath id="clip3111"><path d="M630,27141 L1298,27141 L1298,27391 L630,27391 Z M631,27276 L631,27299 L704,27299 L704,27276 Z M631,27276 Z M631,27276" /></clipPath>
<path d="M717,27300 L717,27386 C717,27388.2070313 718.7929688,27390 721,27390 L726,27390" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3111)" />
<clipPath id="clip3112"><path d="M629,27140 L1299,27140 L1299,27392 L629,27392 L629,27140 Z" /></clipPath>
<path d="M704,27300 L717,27300" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3112)" />
<clipPath id="clip3113"><path d="M629,27274 L707,27274 L707,27302 L629,27302 L629,27274 Z" /></clipPath>
<path d="M631,27300 L704,27300 Z M631,27300" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3113)" />
<text x="641" y="27290" style="font:10px Open Sans">系统架构</text>
<clipPath id="clip3114"><path d="M725,27141 L1298,27141 L1298,27308 L725,27308 Z M726,27186 L726,27209 L799,27209 L799,27186 Z M726,27186 Z M726,27186" /></clipPath>
<path d="M812,27210 L812,27172 C812,27169.7929688 813.7929688,27168 816,27168 L821,27168" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3114)" />
<clipPath id="clip3115"><path d="M725,27141 L1298,27141 L1298,27308 L725,27308 Z M726,27186 L726,27209 L799,27209 L799,27186 Z M726,27186 Z M726,27186" /></clipPath>
<path d="M812,27210 L812,27248 C812,27250.2070313 813.7929688,27252 816,27252 L821,27252" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3115)" />
<clipPath id="clip3116"><path d="M724,27140 L1299,27140 L1299,27309 L724,27309 L724,27140 Z" /></clipPath>
<path d="M799,27210 L812,27210" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3116)" />
<clipPath id="clip3117"><path d="M724,27184 L802,27184 L802,27212 L724,27212 L724,27184 Z" /></clipPath>
<path d="M726,27210 L799,27210 Z M726,27210" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3117)" />
<text x="736" y="27200" style="font:10px Open Sans">客户端库</text>
<clipPath id="clip3118"><path d="M819,27140 L1039,27140 L1039,27170 L819,27170 L819,27140 Z" /></clipPath>
<path d="M821,27168 L1036,27168 Z M821,27168" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3118)" />
<text x="831" y="27156" style="font:10px Open Sans">提供Megastore到应用程序的接口</text>
<clipPath id="clip3119"><path d="M820,27170 L1298,27170 L1298,27308 L820,27308 Z M821,27226 L821,27251 L1075,27251 L1075,27226 Z M821,27226 Z M821,27226" /></clipPath>
<path d="M1088,27252 L1088,27201 C1088,27198.7929688 1089.7929688,27197 1092,27197 L1097,27197" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3119)" />
<clipPath id="clip3120"><path d="M820,27170 L1298,27170 L1298,27308 L820,27308 Z M821,27226 L821,27251 L1075,27251 L1075,27226 Z M821,27226 Z M821,27226" /></clipPath>
<path d="M1088,27252 L1088,27228 C1088,27225.7929688 1089.7929688,27224 1092,27224 L1097,27224" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3120)" />
<clipPath id="clip3121"><path d="M820,27170 L1298,27170 L1298,27308 L820,27308 Z M821,27226 L821,27251 L1075,27251 L1075,27226 Z M821,27226 Z M821,27226" /></clipPath>
<path d="M1088,27252 C1088,27252.5507813 1089.7929688,27253 1092,27253 L1097,27253" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3121)" />
<clipPath id="clip3122"><path d="M820,27170 L1298,27170 L1298,27308 L820,27308 Z M821,27226 L821,27251 L1075,27251 L1075,27226 Z M821,27226 Z M821,27226" /></clipPath>
<path d="M1088,27252 L1088,27276 C1088,27278.2070313 1089.7929688,27280 1092,27280 L1097,27280" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3122)" />
<clipPath id="clip3123"><path d="M820,27170 L1298,27170 L1298,27308 L820,27308 Z M821,27226 L821,27251 L1075,27251 L1075,27226 Z M821,27226 Z M821,27226" /></clipPath>
<path d="M1088,27252 L1088,27303 C1088,27305.2070313 1089.7929688,27307 1092,27307 L1097,27307" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3123)" />
<clipPath id="clip3124"><path d="M819,27169 L1299,27169 L1299,27309 L819,27309 L819,27169 Z" /></clipPath>
<path d="M1075,27252 L1088,27252" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3124)" />
<clipPath id="clip3125"><path d="M819,27224 L1078,27224 L1078,27254 L819,27254 L819,27224 Z" /></clipPath>
<path d="M821,27252 L1075,27252 Z M821,27252" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3125)" />
<text x="831" y="27240" style="font:10px Open Sans">Megastore系统大部分功能集中在客户端</text>
<clipPath id="clip3126"><path d="M1095,27169 L1299,27169 L1299,27199 L1095,27199 L1095,27169 Z" /></clipPath>
<path d="M1097,27197 L1296,27197 Z M1097,27197" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3126)" />
<text x="1107" y="27185" style="font:10px Open Sans">映射Megastore操作到Bigtable</text>
<clipPath id="clip3127"><path d="M1095,27198 L1212,27198 L1212,27226 L1095,27226 L1095,27198 Z" /></clipPath>
<path d="M1097,27224 L1209,27224 Z M1097,27224" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3127)" />
<text x="1107" y="27214" style="font:10px Open Sans">事务及并发控制</text>
<clipPath id="clip3128"><path d="M1095,27225 L1222,27225 L1222,27255 L1095,27255 L1095,27225 Z" /></clipPath>
<path d="M1097,27253 L1219,27253 Z M1097,27253" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3128)" />
<text x="1107" y="27241" style="font:10px Open Sans">基于Paxos的复制</text>
<clipPath id="clip3129"><path d="M1095,27254 L1264,27254 L1264,27282 L1095,27282 L1095,27254 Z" /></clipPath>
<path d="M1097,27280 L1261,27280 Z M1097,27280" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3129)" />
<text x="1107" y="27270" style="font:10px Open Sans">将请求分送给复制服务器</text>
<clipPath id="clip3130"><path d="M1095,27281 L1264,27281 L1264,27309 L1095,27309 L1095,27281 Z" /></clipPath>
<path d="M1097,27307 L1261,27307 Z M1097,27307" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3130)" />
<text x="1107" y="27297" style="font:10px Open Sans">通过过协调者实现快速读</text>
<clipPath id="clip3131"><path d="M725,27309 L1179,27309 L1179,27364 L725,27364 Z M726,27325 L726,27348 L812,27348 L812,27325 Z M726,27325 Z M726,27325" /></clipPath>
<path d="M825,27349 L825,27340 C825,27337.7929688 826.7929688,27336 829,27336 L834,27336" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3131)" />
<clipPath id="clip3132"><path d="M725,27309 L1179,27309 L1179,27364 L725,27364 Z M726,27325 L726,27348 L812,27348 L812,27325 Z M726,27325 Z M726,27325" /></clipPath>
<path d="M825,27349 L825,27359 C825,27361.2070313 826.7929688,27363 829,27363 L834,27363" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3132)" />
<clipPath id="clip3133"><path d="M724,27308 L1180,27308 L1180,27365 L724,27365 L724,27308 Z" /></clipPath>
<path d="M812,27349 L825,27349" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3133)" />
<clipPath id="clip3134"><path d="M724,27323 L815,27323 L815,27351 L724,27351 L724,27323 Z" /></clipPath>
<path d="M726,27349 L812,27349 Z M726,27349" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3134)" />
<text x="736" y="27339" style="font:10px Open Sans">复制服务器</text>
<clipPath id="clip3135"><path d="M832,27308 L1180,27308 L1180,27338 L832,27338 L832,27308 Z" /></clipPath>
<path d="M834,27336 L1177,27336 Z M834,27336" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3135)" />
<text x="844" y="27324" style="font:10px Open Sans">接受客户端的用户请求并转发到所在机房的Bigtable实例</text>
<clipPath id="clip3136"><path d="M832,27337 L1053,27337 L1053,27365 L832,27365 L832,27337 Z" /></clipPath>
<path d="M834,27363 L1050,27363 Z M834,27363" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3136)" />
<text x="844" y="27353" style="font:10px Open Sans">用于解决跨机房连接数过多的问题</text>
<clipPath id="clip3137"><path d="M725,27365 L1234,27365 L1234,27391 L725,27391 Z M726,27366 L726,27389 L786,27389 L786,27366 Z M726,27366 Z M726,27366" /></clipPath>
<path d="M799,27390 C799,27390 800.7929688,27390 803,27390 L808,27390" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3137)" />
<clipPath id="clip3138"><path d="M724,27364 L1235,27364 L1235,27392 L724,27392 L724,27364 Z" /></clipPath>
<path d="M786,27390 L799,27390" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3138)" />
<clipPath id="clip3139"><path d="M724,27364 L789,27364 L789,27392 L724,27392 L724,27364 Z" /></clipPath>
<path d="M726,27390 L786,27390 Z M726,27390" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3139)" />
<text x="736" y="27380" style="font:10px Open Sans">协调者</text>
<clipPath id="clip3140"><path d="M806,27364 L1235,27364 L1235,27392 L806,27392 L806,27364 Z" /></clipPath>
<path d="M808,27390 L1232,27390 Z M808,27390" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3140)" />
<text x="818" y="27380" style="font:10px Open Sans">存储每个机房本地的实体组是否处于最新状态的信息，用于实现快速读</text>
<clipPath id="clip3141"><path d="M630,27392 L953,27392 L953,27474 L630,27474 Z M631,27422 L631,27445 L704,27445 L704,27422 Z M631,27422 Z M631,27422" /></clipPath>
<path d="M717,27446 L717,27423 C717,27420.7929688 718.7929688,27419 721,27419 L726,27419" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3141)" />
<clipPath id="clip3142"><path d="M630,27392 L953,27392 L953,27474 L630,27474 Z M631,27422 L631,27445 L704,27445 L704,27422 Z M631,27422 Z M631,27422" /></clipPath>
<path d="M717,27446 C717,27446 718.7929688,27446 721,27446 L726,27446" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3142)" />
<clipPath id="clip3143"><path d="M630,27392 L953,27392 L953,27474 L630,27474 Z M631,27422 L631,27445 L704,27445 L704,27422 Z M631,27422 Z M631,27422" /></clipPath>
<path d="M717,27446 L717,27469 C717,27471.2070313 718.7929688,27473 721,27473 L726,27473" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3143)" />
<clipPath id="clip3144"><path d="M629,27391 L954,27391 L954,27475 L629,27475 L629,27391 Z" /></clipPath>
<path d="M704,27446 L717,27446" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3144)" />
<clipPath id="clip3145"><path d="M629,27420 L707,27420 L707,27448 L629,27448 L629,27420 Z" /></clipPath>
<path d="M631,27446 L704,27446 Z M631,27446" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3145)" />
<text x="641" y="27436" style="font:10px Open Sans">主要功能</text>
<clipPath id="clip3146"><path d="M724,27391 L954,27391 L954,27421 L724,27421 L724,27391 Z" /></clipPath>
<path d="M726,27419 L951,27419 Z M726,27419" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3146)" />
<text x="736" y="27407" style="font:10px Open Sans">映射Megastore数据模型到Bigtable</text>
<clipPath id="clip3147"><path d="M724,27420 L841,27420 L841,27448 L724,27448 L724,27420 Z" /></clipPath>
<path d="M726,27446 L838,27446 Z M726,27446" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3147)" />
<text x="736" y="27436" style="font:10px Open Sans">事务及并发控制</text>
<clipPath id="clip3148"><path d="M724,27447 L906,27447 L906,27475 L724,27475 L724,27447 Z" /></clipPath>
<path d="M726,27473 L903,27473 Z M726,27473" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3148)" />
<text x="736" y="27463" style="font:10px Open Sans">跨机房数据复制及读写优化</text>
<clipPath id="clip3149"><path d="M630,27475 L1351,27475 L1351,27725 L630,27725 Z M631,27574 L631,27597 L691,27597 L691,27574 Z M631,27574 Z M631,27574" /></clipPath>
<path d="M704,27598 L704,27504 C704,27501.7929688 705.7929688,27500 708,27500 L713,27500" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3149)" />
<clipPath id="clip3150"><path d="M630,27475 L1351,27475 L1351,27725 L630,27725 Z M631,27574 L631,27597 L691,27597 L691,27574 Z M631,27574 Z M631,27574" /></clipPath>
<path d="M704,27598 L704,27533 C704,27530.7929688 705.7929688,27529 708,27529 L713,27529" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3150)" />
<clipPath id="clip3151"><path d="M630,27475 L1351,27475 L1351,27725 L630,27725 Z M631,27574 L631,27597 L691,27597 L691,27574 Z M631,27574 Z M631,27574" /></clipPath>
<path d="M704,27598 L704,27560 C704,27557.7929688 705.7929688,27556 708,27556 L713,27556" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3151)" />
<clipPath id="clip3152"><path d="M630,27475 L1351,27475 L1351,27725 L630,27725 Z M631,27574 L631,27597 L691,27597 L691,27574 Z M631,27574 Z M631,27574" /></clipPath>
<path d="M704,27598 L704,27610 C704,27612.2070313 705.7929688,27614 708,27614 L713,27614" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3152)" />
<clipPath id="clip3153"><path d="M630,27475 L1351,27475 L1351,27725 L630,27725 Z M631,27574 L631,27597 L691,27597 L691,27574 Z M631,27574 Z M631,27574" /></clipPath>
<path d="M704,27598 L704,27693 C704,27695.2070313 705.7929688,27697 708,27697 L713,27697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3153)" />
<clipPath id="clip3154"><path d="M629,27474 L1352,27474 L1352,27726 L629,27726 L629,27474 Z" /></clipPath>
<path d="M691,27598 L704,27598" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3154)" />
<clipPath id="clip3155"><path d="M629,27572 L694,27572 L694,27600 L629,27600 L629,27572 Z" /></clipPath>
<path d="M631,27598 L691,27598 Z M631,27598" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3155)" />
<text x="641" y="27588" style="font:10px Open Sans">实体组</text>
<clipPath id="clip3156"><path d="M711,27474 L880,27474 L880,27502 L711,27502 L711,27474 Z" /></clipPath>
<path d="M713,27500 L877,27500 Z M713,27500" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3156)" />
<text x="723" y="27490" style="font:10px Open Sans">数据拆分成不同的数据组</text>
<clipPath id="clip3157"><path d="M711,27501 L1189,27501 L1189,27531 L711,27531 L711,27501 Z" /></clipPath>
<path d="M713,27529 L1186,27529 Z M713,27529" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3157)" />
<text x="723" y="27517" style="font:10px Open Sans">每个实体组内的操作日志采用基于Paxos的方式同步到多个机房，保证强一致性</text>
<clipPath id="clip3158"><path d="M711,27530 L1179,27530 L1179,27558 L711,27558 L711,27530 Z" /></clipPath>
<path d="M713,27556 L1176,27556 Z M713,27556" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3158)" />
<text x="723" y="27546" style="font:10px Open Sans">实体组之间通过分布式队列保证最终一致性或两阶段提交协议实现分布式事务</text>
<clipPath id="clip3159"><path d="M712,27558 L1252,27558 L1252,27644 L712,27644 Z M713,27590 L713,27613 L838,27613 L838,27590 Z M713,27590 Z M713,27590" /></clipPath>
<path d="M851,27614 L851,27589 C851,27586.7929688 852.7929688,27585 855,27585 L860,27585" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3159)" />
<clipPath id="clip3160"><path d="M712,27558 L1252,27558 L1252,27644 L712,27644 Z M713,27590 L713,27613 L838,27613 L838,27590 Z M713,27590 Z M713,27590" /></clipPath>
<path d="M851,27614 C851,27614 852.7929688,27614 855,27614 L860,27614" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3160)" />
<clipPath id="clip3161"><path d="M712,27558 L1252,27558 L1252,27644 L712,27644 Z M713,27590 L713,27613 L838,27613 L838,27590 Z M713,27590 Z M713,27590" /></clipPath>
<path d="M851,27614 L851,27639 C851,27641.2070313 852.7929688,27643 855,27643 L860,27643" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3161)" />
<clipPath id="clip3162"><path d="M711,27557 L1253,27557 L1253,27645 L711,27645 L711,27557 Z" /></clipPath>
<path d="M838,27614 L851,27614" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3162)" />
<clipPath id="clip3163"><path d="M711,27588 L841,27588 L841,27616 L711,27616 L711,27588 Z" /></clipPath>
<path d="M713,27614 L838,27614 Z M713,27614" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3163)" />
<text x="723" y="27604" style="font:10px Open Sans">单集群实体组内部</text>
<clipPath id="clip3164"><path d="M858,27557 L1135,27557 L1135,27587 L858,27587 L858,27557 Z" /></clipPath>
<path d="M860,27585 L1132,27585 Z M860,27585" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3164)" />
<text x="870" y="27573" style="font:10px Open Sans">同一个实体组内部支持满足ACID特性的事务</text>
<clipPath id="clip3165"><path d="M858,27586 L1062,27586 L1062,27616 L858,27616 L858,27586 Z" /></clipPath>
<path d="M860,27614 L1059,27614 Z M860,27614" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3165)" />
<text x="870" y="27602" style="font:10px Open Sans">通过REDO日志的方式实现事务</text>
<clipPath id="clip3166"><path d="M858,27615 L1253,27615 L1253,27645 L858,27645 L858,27615 Z" /></clipPath>
<path d="M860,27643 L1250,27643 Z M860,27643" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3166)" />
<text x="870" y="27631" style="font:10px Open Sans">REDO日志写到实体组的根实体中，保证REDO日志操作的原子性</text>
<clipPath id="clip3167"><path d="M712,27645 L1351,27645 L1351,27725 L712,27725 Z M713,27673 L713,27696 L838,27696 L838,27673 Z M713,27673 Z M713,27673" /></clipPath>
<path d="M851,27697 L851,27674 C851,27671.7929688 852.7929688,27670 855,27670 L860,27670" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3167)" />
<clipPath id="clip3168"><path d="M712,27645 L1351,27645 L1351,27725 L712,27725 Z M713,27673 L713,27696 L838,27696 L838,27673 Z M713,27673 Z M713,27673" /></clipPath>
<path d="M851,27697 C851,27697 852.7929688,27697 855,27697 L860,27697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3168)" />
<clipPath id="clip3169"><path d="M712,27645 L1351,27645 L1351,27725 L712,27725 Z M713,27673 L713,27696 L838,27696 L838,27673 Z M713,27673 Z M713,27673" /></clipPath>
<path d="M851,27697 L851,27720 C851,27722.2070313 852.7929688,27724 855,27724 L860,27724" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3169)" />
<clipPath id="clip3170"><path d="M711,27644 L1352,27644 L1352,27726 L711,27726 L711,27644 Z" /></clipPath>
<path d="M838,27697 L851,27697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3170)" />
<clipPath id="clip3171"><path d="M711,27671 L841,27671 L841,27699 L711,27699 L711,27671 Z" /></clipPath>
<path d="M713,27697 L838,27697 Z M713,27697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3171)" />
<text x="723" y="27687" style="font:10px Open Sans">单集群实体组之间</text>
<clipPath id="clip3172"><path d="M858,27644 L1196,27644 L1196,27672 L858,27672 L858,27644 Z" /></clipPath>
<path d="M860,27670 L1193,27670 Z M860,27670" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3172)" />
<text x="870" y="27660" style="font:10px Open Sans">实体组之间一般采用分布式队列的方式提供最终一致性</text>
<clipPath id="clip3173"><path d="M858,27671 L1261,27671 L1261,27699 L858,27699 L858,27671 Z" /></clipPath>
<path d="M860,27697 L1258,27697 Z M860,27697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3173)" />
<text x="870" y="27687" style="font:10px Open Sans">子表服务器上有定时扫描线程，发送跨实体组的操作到目的实体组</text>
<clipPath id="clip3174"><path d="M858,27698 L1352,27698 L1352,27726 L858,27726 L858,27698 Z" /></clipPath>
<path d="M860,27724 L1349,27724 Z M860,27724" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3174)" />
<text x="870" y="27714" style="font:10px Open Sans">如果需要保证多个实体组之间的强一致性，即分布式事务，只能用两阶段提交协议</text>
<clipPath id="clip3175"><path d="M630,27726 L1529,27726 L1529,28130 L630,28130 Z M631,27897 L631,27920 L704,27920 L704,27897 Z M631,27897 Z M631,27897" /></clipPath>
<path d="M717,27921 L717,27828 C717,27825.7929688 718.7929688,27824 721,27824 L726,27824" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3175)" />
<clipPath id="clip3176"><path d="M630,27726 L1529,27726 L1529,28130 L630,28130 Z M631,27897 L631,27920 L704,27920 L704,27897 Z M631,27897 Z M631,27897" /></clipPath>
<path d="M717,27921 L717,28015 C717,28017.2070313 718.7929688,28019 721,28019 L726,28019" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3176)" />
<clipPath id="clip3177"><path d="M629,27725 L1530,27725 L1530,28131 L629,28131 L629,27725 Z" /></clipPath>
<path d="M704,27921 L717,27921" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3177)" />
<clipPath id="clip3178"><path d="M629,27895 L707,27895 L707,27923 L629,27923 L629,27895 Z" /></clipPath>
<path d="M631,27921 L704,27921 Z M631,27921" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3178)" />
<text x="641" y="27911" style="font:10px Open Sans">并发控制</text>
<clipPath id="clip3179"><path d="M725,27726 L1529,27726 L1529,27881 L725,27881 Z M726,27800 L726,27823 L786,27823 L786,27800 Z M726,27800 Z M726,27800" /></clipPath>
<path d="M799,27824 L799,27772 C799,27769.7929688 800.7929688,27768 803,27768 L808,27768" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3179)" />
<clipPath id="clip3180"><path d="M725,27726 L1529,27726 L1529,27881 L725,27881 Z M726,27800 L726,27823 L786,27823 L786,27800 Z M726,27800 Z M726,27800" /></clipPath>
<path d="M799,27824 C799,27823.4492188 800.7929688,27823 803,27823 L808,27823" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3180)" />
<clipPath id="clip3181"><path d="M725,27726 L1529,27726 L1529,27881 L725,27881 Z M726,27800 L726,27823 L786,27823 L786,27800 Z M726,27800 Z M726,27800" /></clipPath>
<path d="M799,27824 L799,27876 C799,27878.2070313 800.7929688,27880 803,27880 L808,27880" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3181)" />
<clipPath id="clip3182"><path d="M724,27725 L1530,27725 L1530,27882 L724,27882 L724,27725 Z" /></clipPath>
<path d="M786,27824 L799,27824" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3182)" />
<clipPath id="clip3183"><path d="M724,27798 L789,27798 L789,27826 L724,27826 L724,27798 Z" /></clipPath>
<path d="M726,27824 L786,27824 Z M726,27824" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3183)" />
<text x="736" y="27814" style="font:10px Open Sans">读事务</text>
<clipPath id="clip3184"><path d="M807,27726 L1520,27726 L1520,27769 L807,27769 Z M808,27742 L808,27767 L981,27767 L981,27742 Z M808,27742 Z M808,27742" /></clipPath>
<path d="M994,27768 C994,27768 995.7929688,27768 998,27768 L1003,27768" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3184)" />
<clipPath id="clip3185"><path d="M806,27725 L1521,27725 L1521,27770 L806,27770 L806,27725 Z" /></clipPath>
<path d="M981,27768 L994,27768" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3185)" />
<clipPath id="clip3186"><path d="M806,27740 L984,27740 L984,27770 L806,27770 L806,27740 Z" /></clipPath>
<path d="M808,27768 L981,27768 Z M808,27768" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3186)" />
<text x="818" y="27756" style="font:10px Open Sans">最新读取（current read）</text>
<clipPath id="clip3187"><path d="M1001,27725 L1521,27725 L1521,27770 L1001,27770 L1001,27725 Z" /></clipPath>
<path d="M1003,27768 L1518,27768 Z M1003,27768" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3187)" />
<text x="1013" y="27741" style="font:10px Open Sans">最新读取和快照读取总是在单个实体组内完成的，在开始某次最新读取之前需要确保所</text>
<text x="1013" y="27758" style="font:10px Open Sans">有已提交的写操作全部生效，然后读取最后一个版本的数据</text>
<clipPath id="clip3188"><path d="M807,27770 L1529,27770 L1529,27852 L807,27852 Z M808,27797 L808,27822 L993,27822 L993,27797 Z M808,27797 Z M808,27797" /></clipPath>
<path d="M1006,27823 L1006,27799 C1006,27796.7929688 1007.7929688,27795 1010,27795 L1015,27795" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3188)" />
<clipPath id="clip3189"><path d="M807,27770 L1529,27770 L1529,27852 L807,27852 Z M808,27797 L808,27822 L993,27822 L993,27797 Z M808,27797 Z M808,27797" /></clipPath>
<path d="M1006,27823 C1006,27822.4492188 1007.7929688,27822 1010,27822 L1015,27822" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3189)" />
<clipPath id="clip3190"><path d="M807,27770 L1529,27770 L1529,27852 L807,27852 Z M808,27797 L808,27822 L993,27822 L993,27797 Z M808,27797 Z M808,27797" /></clipPath>
<path d="M1006,27823 L1006,27847 C1006,27849.2070313 1007.7929688,27851 1010,27851 L1015,27851" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3190)" />
<clipPath id="clip3191"><path d="M806,27769 L1530,27769 L1530,27853 L806,27853 L806,27769 Z" /></clipPath>
<path d="M993,27823 L1006,27823" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3191)" />
<clipPath id="clip3192"><path d="M806,27795 L996,27795 L996,27825 L806,27825 L806,27795 Z" /></clipPath>
<path d="M808,27823 L993,27823 Z M808,27823" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3192)" />
<text x="818" y="27811" style="font:10px Open Sans">快照读取（snapshot read）</text>
<clipPath id="clip3193"><path d="M1013,27769 L1390,27769 L1390,27797 L1013,27797 L1013,27769 Z" /></clipPath>
<path d="M1015,27795 L1387,27795 Z M1015,27795" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3193)" />
<text x="1025" y="27785" style="font:10px Open Sans">取出已知的最后一个完整提交的事务版本并读取该版本的数据</text>
<clipPath id="clip3194"><path d="M1013,27796 L1234,27796 L1234,27824 L1013,27824 L1013,27796 Z" /></clipPath>
<path d="M1015,27822 L1231,27822 Z M1015,27822" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3194)" />
<text x="1025" y="27812" style="font:10px Open Sans">可能有部分事务已提交但没有生效</text>
<clipPath id="clip3195"><path d="M1013,27823 L1530,27823 L1530,27853 L1013,27853 L1013,27823 Z" /></clipPath>
<path d="M1015,27851 L1527,27851 Z M1015,27851" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3195)" />
<text x="1025" y="27839" style="font:10px Open Sans">最新读取和快照读取利用Bigtable存储多版本数据的特性，保证不会读到未提交的事务</text>
<clipPath id="clip3196"><path d="M807,27853 L1507,27853 L1507,27881 L807,27881 Z M808,27854 L808,27879 L1036,27879 L1036,27854 Z M808,27854 Z M808,27854" /></clipPath>
<path d="M1049,27880 C1049,27880 1050.7929688,27880 1053,27880 L1058,27880" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3196)" />
<clipPath id="clip3197"><path d="M806,27852 L1508,27852 L1508,27882 L806,27882 L806,27852 Z" /></clipPath>
<path d="M1036,27880 L1049,27880" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3197)" />
<clipPath id="clip3198"><path d="M806,27852 L1039,27852 L1039,27882 L806,27882 L806,27852 Z" /></clipPath>
<path d="M808,27880 L1036,27880 Z M808,27880" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3198)" />
<text x="818" y="27868" style="font:10px Open Sans">非一致性读取（inconsistent read）</text>
<clipPath id="clip3199"><path d="M1056,27852 L1508,27852 L1508,27882 L1056,27882 L1056,27852 Z" /></clipPath>
<path d="M1058,27880 L1505,27880 Z M1058,27880" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3199)" />
<text x="1068" y="27868" style="font:10px Open Sans">忽略日志状态而直接读取Bigtable内存中的最新值，可能读到不完整的事务</text>
<clipPath id="clip3200"><path d="M725,27882 L1286,27882 L1286,28130 L725,28130 Z M726,27995 L726,28018 L786,28018 L786,27995 Z M726,27995 Z M726,27995" /></clipPath>
<path d="M799,28019 L799,27913 C799,27910.7929688 800.7929688,27909 803,27909 L808,27909" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3200)" />
<clipPath id="clip3201"><path d="M725,27882 L1286,27882 L1286,28130 L725,28130 Z M726,27995 L726,28018 L786,28018 L786,27995 Z M726,27995 Z M726,27995" /></clipPath>
<path d="M799,28019 L799,27940 C799,27937.7929688 800.7929688,27936 803,27936 L808,27936" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3201)" />
<clipPath id="clip3202"><path d="M725,27882 L1286,27882 L1286,28130 L725,28130 Z M726,27995 L726,28018 L786,28018 L786,27995 Z M726,27995 Z M726,27995" /></clipPath>
<path d="M799,28019 L799,27967 C799,27964.7929688 800.7929688,27963 803,27963 L808,27963" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3202)" />
<clipPath id="clip3203"><path d="M725,27882 L1286,27882 L1286,28130 L725,28130 Z M726,27995 L726,28018 L786,28018 L786,27995 Z M726,27995 Z M726,27995" /></clipPath>
<path d="M799,28019 L799,27994 C799,27991.7929688 800.7929688,27990 803,27990 L808,27990" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3203)" />
<clipPath id="clip3204"><path d="M725,27882 L1286,27882 L1286,28130 L725,28130 Z M726,27995 L726,28018 L786,28018 L786,27995 Z M726,27995 Z M726,27995" /></clipPath>
<path d="M799,28019 C799,28019 800.7929688,28019 803,28019 L808,28019" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3204)" />
<clipPath id="clip3205"><path d="M725,27882 L1286,27882 L1286,28130 L725,28130 Z M726,27995 L726,28018 L786,28018 L786,27995 Z M726,27995 Z M726,27995" /></clipPath>
<path d="M799,28019 L799,28044 C799,28046.2070313 800.7929688,28048 803,28048 L808,28048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3205)" />
<clipPath id="clip3206"><path d="M725,27882 L1286,27882 L1286,28130 L725,28130 Z M726,27995 L726,28018 L786,28018 L786,27995 Z M726,27995 Z M726,27995" /></clipPath>
<path d="M799,28019 L799,28071 C799,28073.2070313 800.7929688,28075 803,28075 L808,28075" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3206)" />
<clipPath id="clip3207"><path d="M725,27882 L1286,27882 L1286,28130 L725,28130 Z M726,27995 L726,28018 L786,28018 L786,27995 Z M726,27995 Z M726,27995" /></clipPath>
<path d="M799,28019 L799,28098 C799,28100.2070313 800.7929688,28102 803,28102 L808,28102" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3207)" />
<clipPath id="clip3208"><path d="M725,27882 L1286,27882 L1286,28130 L725,28130 Z M726,27995 L726,28018 L786,28018 L786,27995 Z M726,27995 Z M726,27995" /></clipPath>
<path d="M799,28019 L799,28125 C799,28127.2070313 800.7929688,28129 803,28129 L808,28129" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3208)" />
<clipPath id="clip3209"><path d="M724,27881 L1287,27881 L1287,28131 L724,28131 L724,27881 Z" /></clipPath>
<path d="M786,28019 L799,28019" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3209)" />
<clipPath id="clip3210"><path d="M724,27993 L789,27993 L789,28021 L724,28021 L724,27993 Z" /></clipPath>
<path d="M726,28019 L786,28019 Z M726,28019" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3210)" />
<text x="736" y="28009" style="font:10px Open Sans">写事务</text>
<clipPath id="clip3211"><path d="M806,27881 L1118,27881 L1118,27911 L806,27911 L806,27881 Z" /></clipPath>
<path d="M808,27909 L1115,27909 Z M808,27909" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3211)" />
<text x="818" y="27897" style="font:10px Open Sans">采用预写式日志（Writeahead日志或REDO日志）</text>
<clipPath id="clip3212"><path d="M806,27910 L1222,27910 L1222,27938 L806,27938 L806,27910 Z" /></clipPath>
<path d="M808,27936 L1219,27936 Z M808,27936" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3212)" />
<text x="818" y="27926" style="font:10px Open Sans">只有当所有的操作都在日志中记录下来后写操作才会对数据进行修改</text>
<clipPath id="clip3213"><path d="M806,27937 L1235,27937 L1235,27965 L806,27965 L806,27937 Z" /></clipPath>
<path d="M808,27963 L1232,27963 Z M808,27963" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3213)" />
<text x="818" y="27953" style="font:10px Open Sans">一个写事务总是开始于一个最新读取，以便确认下一个可用的日志位置</text>
<clipPath id="clip3214"><path d="M806,27964 L1144,27964 L1144,27992 L806,27992 L806,27964 Z" /></clipPath>
<path d="M808,27990 L1141,27990 Z M808,27990" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3214)" />
<text x="818" y="27980" style="font:10px Open Sans">将用户操作聚集到日志缓冲区，分配一个更高的时间戳</text>
<clipPath id="clip3215"><path d="M806,27991 L1115,27991 L1115,28021 L806,28021 L806,27991 Z" /></clipPath>
<path d="M808,28019 L1112,28019 Z M808,28019" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3215)" />
<text x="818" y="28007" style="font:10px Open Sans">最后通过Paxos协议提交到下一个可用的日志位置</text>
<clipPath id="clip3216"><path d="M806,28020 L1011,28020 L1011,28050 L806,28050 L806,28020 Z" /></clipPath>
<path d="M808,28048 L1008,28048 Z M808,28048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3216)" />
<text x="818" y="28036" style="font:10px Open Sans">Paxos协议使用了乐观锁的机制</text>
<clipPath id="clip3217"><path d="M806,28049 L1131,28049 L1131,28077 L806,28077 L806,28049 Z" /></clipPath>
<path d="M808,28075 L1128,28075 Z M808,28075" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3217)" />
<text x="818" y="28065" style="font:10px Open Sans">多个写操作同时写同一个日志位置，最后一个会成功</text>
<clipPath id="clip3218"><path d="M806,28076 L1170,28076 L1170,28104 L806,28104 L806,28076 Z" /></clipPath>
<path d="M808,28102 L1167,28102 Z M808,28102" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3218)" />
<text x="818" y="28092" style="font:10px Open Sans">其他失败的写操作会观察到成功的写操作，然后中止并重试</text>
<clipPath id="clip3219"><path d="M806,28103 L1287,28103 L1287,28131 L806,28131 L806,28103 Z" /></clipPath>
<path d="M808,28129 L1284,28129 Z M808,28129" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3219)" />
<text x="818" y="28119" style="font:10px Open Sans">对同一个实体组的多个事务被串行化，因为同一实体组同时进行的更新往往很少</text>
<clipPath id="clip3220"><path d="M630,28131 L1071,28131 L1071,28240 L630,28240 Z M631,28174 L631,28197 L678,28197 L678,28174 Z M631,28174 Z M631,28174" /></clipPath>
<path d="M691,28198 L691,28162 C691,28159.7929688 692.7929688,28158 695,28158 L700,28158" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3220)" />
<clipPath id="clip3221"><path d="M630,28131 L1071,28131 L1071,28240 L630,28240 Z M631,28174 L631,28197 L678,28197 L678,28174 Z M631,28174 Z M631,28174" /></clipPath>
<path d="M691,28198 L691,28189 C691,28186.7929688 692.7929688,28185 695,28185 L700,28185" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3221)" />
<clipPath id="clip3222"><path d="M630,28131 L1071,28131 L1071,28240 L630,28240 Z M631,28174 L631,28197 L678,28197 L678,28174 Z M631,28174 Z M631,28174" /></clipPath>
<path d="M691,28198 L691,28208 C691,28210.2070313 692.7929688,28212 695,28212 L700,28212" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3222)" />
<clipPath id="clip3223"><path d="M630,28131 L1071,28131 L1071,28240 L630,28240 Z M631,28174 L631,28197 L678,28197 L678,28174 Z M631,28174 Z M631,28174" /></clipPath>
<path d="M691,28198 L691,28235 C691,28237.2070313 692.7929688,28239 695,28239 L700,28239" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3223)" />
<clipPath id="clip3224"><path d="M629,28130 L1072,28130 L1072,28241 L629,28241 L629,28130 Z" /></clipPath>
<path d="M678,28198 L691,28198" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3224)" />
<clipPath id="clip3225"><path d="M629,28172 L681,28172 L681,28200 L629,28200 L629,28172 Z" /></clipPath>
<path d="M631,28198 L678,28198 Z M631,28198" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3225)" />
<text x="641" y="28188" style="font:10px Open Sans">复制</text>
<clipPath id="clip3226"><path d="M698,28130 L1072,28130 L1072,28160 L698,28160 L698,28130 Z" /></clipPath>
<path d="M700,28158 L1069,28158 Z M700,28158" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3226)" />
<text x="710" y="28146" style="font:10px Open Sans">多个集群之间的操作日志同步采用基于Paxos的复制协议机制</text>
<clipPath id="clip3227"><path d="M698,28159 L932,28159 L932,28187 L698,28187 L698,28159 Z" /></clipPath>
<path d="M700,28185 L929,28185 Z M700,28185" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3227)" />
<text x="710" y="28175" style="font:10px Open Sans">可解决机器宕机时停止写服务的问题</text>
<clipPath id="clip3228"><path d="M698,28186 L867,28186 L867,28214 L698,28214 L698,28186 Z" /></clipPath>
<path d="M700,28212 L864,28212 Z M700,28212" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3228)" />
<text x="710" y="28202" style="font:10px Open Sans">保证了高可靠和高可用性</text>
<clipPath id="clip3229"><path d="M698,28213 L893,28213 L893,28241 L698,28241 L698,28213 Z" /></clipPath>
<path d="M700,28239 L890,28239 Z M700,28239" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3229)" />
<text x="710" y="28229" style="font:10px Open Sans">数据往往复制到多个数据中心</text>
<clipPath id="clip3230"><path d="M630,28241 L1411,28241 L1411,28489 L630,28489 Z M631,28353 L631,28376 L678,28376 L678,28353 Z M631,28353 Z M631,28353" /></clipPath>
<path d="M691,28377 L691,28312 C691,28309.7929688 692.7929688,28308 695,28308 L700,28308" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3230)" />
<clipPath id="clip3231"><path d="M630,28241 L1411,28241 L1411,28489 L630,28489 Z M631,28353 L631,28376 L678,28376 L678,28353 Z M631,28353 Z M631,28353" /></clipPath>
<path d="M691,28377 C691,28377.5507813 692.7929688,28378 695,28378 L700,28378" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3231)" />
<clipPath id="clip3232"><path d="M630,28241 L1411,28241 L1411,28489 L630,28489 Z M631,28353 L631,28376 L678,28376 L678,28353 Z M631,28353 Z M631,28353" /></clipPath>
<path d="M691,28377 L691,28442 C691,28444.2070313 692.7929688,28446 695,28446 L700,28446" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3232)" />
<clipPath id="clip3233"><path d="M629,28240 L1412,28240 L1412,28490 L629,28490 L629,28240 Z" /></clipPath>
<path d="M678,28377 L691,28377" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3233)" />
<clipPath id="clip3234"><path d="M629,28351 L681,28351 L681,28379 L629,28379 L629,28351 Z" /></clipPath>
<path d="M631,28377 L678,28377 Z M631,28377" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3234)" />
<text x="641" y="28367" style="font:10px Open Sans">索引</text>
<clipPath id="clip3235"><path d="M699,28241 L1152,28241 L1152,28352 L699,28352 Z M700,28284 L700,28307 L773,28307 L773,28284 Z M700,28284 Z M700,28284" /></clipPath>
<path d="M786,28308 L786,28270 C786,28267.7929688 787.7929688,28266 790,28266 L795,28266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3235)" />
<clipPath id="clip3236"><path d="M699,28241 L1152,28241 L1152,28352 L699,28352 Z M700,28284 L700,28307 L773,28307 L773,28284 Z M700,28284 Z M700,28284" /></clipPath>
<path d="M786,28308 L786,28297 C786,28294.7929688 787.7929688,28293 790,28293 L795,28293" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3236)" />
<clipPath id="clip3237"><path d="M699,28241 L1152,28241 L1152,28352 L699,28352 Z M700,28284 L700,28307 L773,28307 L773,28284 Z M700,28284 Z M700,28284" /></clipPath>
<path d="M786,28308 L786,28318 C786,28320.2070313 787.7929688,28322 790,28322 L795,28322" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3237)" />
<clipPath id="clip3238"><path d="M699,28241 L1152,28241 L1152,28352 L699,28352 Z M700,28284 L700,28307 L773,28307 L773,28284 Z M700,28284 Z M700,28284" /></clipPath>
<path d="M786,28308 L786,28347 C786,28349.2070313 787.7929688,28351 790,28351 L795,28351" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3238)" />
<clipPath id="clip3239"><path d="M698,28240 L1153,28240 L1153,28353 L698,28353 L698,28240 Z" /></clipPath>
<path d="M773,28308 L786,28308" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3239)" />
<clipPath id="clip3240"><path d="M698,28282 L776,28282 L776,28310 L698,28310 L698,28282 Z" /></clipPath>
<path d="M700,28308 L773,28308 Z M700,28308" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3240)" />
<text x="710" y="28298" style="font:10px Open Sans">局部索引</text>
<clipPath id="clip3241"><path d="M793,28240 L1092,28240 L1092,28268 L793,28268 L793,28240 Z" /></clipPath>
<path d="M795,28266 L1089,28266 Z M795,28266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3241)" />
<text x="805" y="28256" style="font:10px Open Sans">单个实体内部的，用于加速单个实体内部的查找</text>
<clipPath id="clip3242"><path d="M793,28267 L1079,28267 L1079,28295 L793,28295 L793,28267 Z" /></clipPath>
<path d="M795,28293 L1076,28293 Z M795,28293" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3242)" />
<text x="805" y="28283" style="font:10px Open Sans">实体组内数据和局部索引的更新操作是原子的</text>
<clipPath id="clip3243"><path d="M793,28294 L1075,28294 L1075,28324 L793,28324 L793,28294 Z" /></clipPath>
<path d="M795,28322 L1072,28322 Z M795,28322" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3243)" />
<text x="805" y="28310" style="font:10px Open Sans">在某个实体组上执行事务时先记录REDO日志</text>
<clipPath id="clip3244"><path d="M793,28323 L1153,28323 L1153,28353 L793,28353 L793,28323 Z" /></clipPath>
<path d="M795,28351 L1150,28351 Z M795,28351" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3244)" />
<text x="805" y="28339" style="font:10px Open Sans">回放REDO日志时原子地更新实体组内部的数据和局部索引</text>
<clipPath id="clip3245"><path d="M699,28353 L909,28353 L909,28379 L699,28379 Z M700,28354 L700,28377 L773,28377 L773,28354 Z M700,28354 Z M700,28354" /></clipPath>
<path d="M786,28378 C786,28378 787.7929688,28378 790,28378 L795,28378" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3245)" />
<clipPath id="clip3246"><path d="M698,28352 L910,28352 L910,28380 L698,28380 L698,28352 Z" /></clipPath>
<path d="M773,28378 L786,28378" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3246)" />
<clipPath id="clip3247"><path d="M698,28352 L776,28352 L776,28380 L698,28380 L698,28352 Z" /></clipPath>
<path d="M700,28378 L773,28378 Z M700,28378" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3247)" />
<text x="710" y="28368" style="font:10px Open Sans">全局索引</text>
<clipPath id="clip3248"><path d="M793,28352 L910,28352 L910,28380 L793,28380 L793,28352 Z" /></clipPath>
<path d="M795,28378 L907,28378 Z M795,28378" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3248)" />
<text x="805" y="28368" style="font:10px Open Sans">横跨多个实体组</text>
<clipPath id="clip3249"><path d="M699,28380 L1411,28380 L1411,28489 L699,28489 Z M700,28422 L700,28445 L812,28445 L812,28422 Z M700,28422 Z M700,28422" /></clipPath>
<path d="M825,28446 L825,28422 C825,28419.7929688 826.7929688,28418 829,28418 L834,28418" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3249)" />
<clipPath id="clip3250"><path d="M699,28380 L1411,28380 L1411,28489 L699,28489 Z M700,28422 L700,28445 L812,28445 L812,28422 Z M700,28422 Z M700,28422" /></clipPath>
<path d="M825,28446 L825,28470 C825,28472.2070313 826.7929688,28474 829,28474 L834,28474" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3250)" />
<clipPath id="clip3251"><path d="M698,28379 L1412,28379 L1412,28490 L698,28490 L698,28379 Z" /></clipPath>
<path d="M812,28446 L825,28446" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3251)" />
<clipPath id="clip3252"><path d="M698,28420 L815,28420 L815,28448 L698,28448 L698,28420 Z" /></clipPath>
<path d="M700,28446 L812,28446 Z M700,28446" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3252)" />
<text x="710" y="28436" style="font:10px Open Sans">额外的索引特性</text>
<clipPath id="clip3253"><path d="M833,28380 L1411,28380 L1411,28433 L833,28433 Z M834,28392 L834,28417 L937,28417 L937,28392 Z M834,28392 Z M834,28392" /></clipPath>
<path d="M950,28418 L950,28409 C950,28406.7929688 951.7929688,28405 954,28405 L959,28405" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3253)" />
<clipPath id="clip3254"><path d="M833,28380 L1411,28380 L1411,28433 L833,28433 Z M834,28392 L834,28417 L937,28417 L937,28392 Z M834,28392 Z M834,28392" /></clipPath>
<path d="M950,28418 L950,28428 C950,28430.2070313 951.7929688,28432 954,28432 L959,28432" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3254)" />
<clipPath id="clip3255"><path d="M832,28379 L1412,28379 L1412,28434 L832,28434 L832,28379 Z" /></clipPath>
<path d="M937,28418 L950,28418" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3255)" />
<clipPath id="clip3256"><path d="M832,28390 L940,28390 L940,28420 L832,28420 L832,28390 Z" /></clipPath>
<path d="M834,28418 L937,28418 Z M834,28418" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3256)" />
<text x="844" y="28406" style="font:10px Open Sans">STORING子句</text>
<clipPath id="clip3257"><path d="M957,28379 L1412,28379 L1412,28407 L957,28407 L957,28379 Z" /></clipPath>
<path d="M959,28405 L1409,28405 Z M959,28405" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3257)" />
<text x="969" y="28395" style="font:10px Open Sans">在索引中冗余一些常用列字段，从而不需要查询基本表，减少一次查询操作</text>
<clipPath id="clip3258"><path d="M957,28406 L1113,28406 L1113,28434 L957,28434 L957,28406 Z" /></clipPath>
<path d="M959,28432 L1110,28432 Z M959,28432" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3258)" />
<text x="969" y="28422" style="font:10px Open Sans">使索引数据量变得更大</text>
<clipPath id="clip3259"><path d="M833,28434 L1354,28434 L1354,28489 L833,28489 Z M834,28450 L834,28473 L920,28473 L920,28450 Z M834,28450 Z M834,28450" /></clipPath>
<path d="M933,28474 L933,28465 C933,28462.7929688 934.7929688,28461 937,28461 L942,28461" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3259)" />
<clipPath id="clip3260"><path d="M833,28434 L1354,28434 L1354,28489 L833,28489 Z M834,28450 L834,28473 L920,28473 L920,28450 Z M834,28450 Z M834,28450" /></clipPath>
<path d="M933,28474 L933,28484 C933,28486.2070313 934.7929688,28488 937,28488 L942,28488" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3260)" />
<clipPath id="clip3261"><path d="M832,28433 L1355,28433 L1355,28490 L832,28490 L832,28433 Z" /></clipPath>
<path d="M920,28474 L933,28474" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3261)" />
<clipPath id="clip3262"><path d="M832,28448 L923,28448 L923,28476 L832,28476 L832,28448 Z" /></clipPath>
<path d="M834,28474 L920,28474 Z M834,28474" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3262)" />
<text x="844" y="28464" style="font:10px Open Sans">可重复索引</text>
<clipPath id="clip3263"><path d="M940,28433 L1355,28433 L1355,28463 L940,28463 L940,28433 Z" /></clipPath>
<path d="M942,28461 L1352,28461 Z M942,28461" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3263)" />
<text x="952" y="28449" style="font:10px Open Sans">megastore数据中某些字段是可重复的，相应的索引就是可重复索引</text>
<clipPath id="clip3264"><path d="M940,28462 L1122,28462 L1122,28490 L940,28490 L940,28462 Z" /></clipPath>
<path d="M942,28488 L1119,28488 Z M942,28488" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3264)" />
<text x="952" y="28478" style="font:10px Open Sans">一行数据可能对应多行索引</text>
<clipPath id="clip3265"><path d="M630,28490 L1403,28490 L1403,28881 L630,28881 Z M631,28695 L631,28718 L691,28718 L691,28695 Z M631,28695 Z M631,28695" /></clipPath>
<path d="M704,28719 L704,28590 C704,28587.7929688 705.7929688,28586 708,28586 L713,28586" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3265)" />
<clipPath id="clip3266"><path d="M630,28490 L1403,28490 L1403,28881 L630,28881 Z M631,28695 L631,28718 L691,28718 L691,28695 Z M631,28695 Z M631,28695" /></clipPath>
<path d="M704,28719 L704,28738 C704,28740.2070313 705.7929688,28742 708,28742 L713,28742" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3266)" />
<clipPath id="clip3267"><path d="M630,28490 L1403,28490 L1403,28881 L630,28881 Z M631,28695 L631,28718 L691,28718 L691,28695 Z M631,28695 Z M631,28695" /></clipPath>
<path d="M704,28719 L704,28849 C704,28851.2070313 705.7929688,28853 708,28853 L713,28853" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3267)" />
<clipPath id="clip3268"><path d="M629,28489 L1404,28489 L1404,28882 L629,28882 L629,28489 Z" /></clipPath>
<path d="M691,28719 L704,28719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3268)" />
<clipPath id="clip3269"><path d="M629,28693 L694,28693 L694,28721 L629,28721 L629,28693 Z" /></clipPath>
<path d="M631,28719 L691,28719 Z M631,28719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3269)" />
<text x="641" y="28709" style="font:10px Open Sans">协调者</text>
<clipPath id="clip3270"><path d="M712,28490 L1387,28490 L1387,28657 L712,28657 Z M713,28562 L713,28585 L773,28585 L773,28562 Z M713,28562 Z M713,28562" /></clipPath>
<path d="M786,28586 L786,28521 C786,28518.7929688 787.7929688,28517 790,28517 L795,28517" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3270)" />
<clipPath id="clip3271"><path d="M712,28490 L1387,28490 L1387,28657 L712,28657 Z M713,28562 L713,28585 L773,28585 L773,28562 Z M713,28562 Z M713,28562" /></clipPath>
<path d="M786,28586 L786,28548 C786,28545.7929688 787.7929688,28544 790,28544 L795,28544" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3271)" />
<clipPath id="clip3272"><path d="M712,28490 L1387,28490 L1387,28657 L712,28657 Z M713,28562 L713,28585 L773,28585 L773,28562 Z M713,28562 Z M713,28562" /></clipPath>
<path d="M786,28586 L786,28575 C786,28572.7929688 787.7929688,28571 790,28571 L795,28571" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3272)" />
<clipPath id="clip3273"><path d="M712,28490 L1387,28490 L1387,28657 L712,28657 Z M713,28562 L713,28585 L773,28585 L773,28562 Z M713,28562 Z M713,28562" /></clipPath>
<path d="M786,28586 L786,28596 C786,28598.2070313 787.7929688,28600 790,28600 L795,28600" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3273)" />
<clipPath id="clip3274"><path d="M712,28490 L1387,28490 L1387,28657 L712,28657 Z M713,28562 L713,28585 L773,28585 L773,28562 Z M713,28562 Z M713,28562" /></clipPath>
<path d="M786,28586 L786,28623 C786,28625.2070313 787.7929688,28627 790,28627 L795,28627" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3274)" />
<clipPath id="clip3275"><path d="M712,28490 L1387,28490 L1387,28657 L712,28657 Z M713,28562 L713,28585 L773,28585 L773,28562 Z M713,28562 Z M713,28562" /></clipPath>
<path d="M786,28586 L786,28652 C786,28654.2070313 787.7929688,28656 790,28656 L795,28656" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3275)" />
<clipPath id="clip3276"><path d="M711,28489 L1388,28489 L1388,28658 L711,28658 L711,28489 Z" /></clipPath>
<path d="M773,28586 L786,28586" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3276)" />
<clipPath id="clip3277"><path d="M711,28560 L776,28560 L776,28588 L711,28588 L711,28560 Z" /></clipPath>
<path d="M713,28586 L773,28586 Z M713,28586" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3277)" />
<text x="723" y="28576" style="font:10px Open Sans">快速读</text>
<clipPath id="clip3278"><path d="M793,28489 L1141,28489 L1141,28519 L793,28519 L793,28489 Z" /></clipPath>
<path d="M795,28517 L1138,28517 Z M795,28517" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3278)" />
<text x="805" y="28505" style="font:10px Open Sans">Paxos要求读取的最新数据至少需要经过一半以上的副本</text>
<clipPath id="clip3279"><path d="M793,28518 L1079,28518 L1079,28546 L793,28546 L793,28518 Z" /></clipPath>
<path d="M795,28544 L1076,28544 Z M795,28544" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3279)" />
<text x="805" y="28534" style="font:10px Open Sans">但如果不出现故障，每个副本基本都是最新的</text>
<clipPath id="clip3280"><path d="M793,28545 L1131,28545 L1131,28573 L793,28573 L793,28545 Z" /></clipPath>
<path d="M795,28571 L1128,28571 Z M795,28571" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3280)" />
<text x="805" y="28561" style="font:10px Open Sans">利用本地读取实现快速读，减少读取延时和跨机房操作</text>
<clipPath id="clip3281"><path d="M793,28572 L1270,28572 L1270,28602 L793,28602 L793,28572 Z" /></clipPath>
<path d="M795,28600 L1267,28600 Z M795,28600" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3281)" />
<text x="805" y="28588" style="font:10px Open Sans">Megastore引入协调者来记录每个机房Bigtable中的每个实体组的数据是否最新</text>
<clipPath id="clip3282"><path d="M793,28601 L1183,28601 L1183,28629 L793,28629 L793,28601 Z" /></clipPath>
<path d="M795,28627 L1180,28627 Z M795,28627" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3282)" />
<text x="805" y="28617" style="font:10px Open Sans">实体组更新时，写操作需要将协调者记录的实体组状态改为无效</text>
<clipPath id="clip3283"><path d="M793,28628 L1388,28628 L1388,28658 L793,28658 L793,28628 Z" /></clipPath>
<path d="M795,28656 L1385,28656 Z M795,28656" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3283)" />
<text x="805" y="28644" style="font:10px Open Sans">如果某个机房的Bigtable集群写入失败，得先使相应的协调者记录的实体组状态失效后才返回客户端</text>
<clipPath id="clip3284"><path d="M712,28658 L1333,28658 L1333,28800 L712,28800 Z M713,28718 L713,28741 L825,28741 L825,28718 Z M713,28718 Z M713,28718" /></clipPath>
<path d="M838,28742 L838,28689 C838,28686.7929688 839.7929688,28685 842,28685 L847,28685" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3284)" />
<clipPath id="clip3285"><path d="M712,28658 L1333,28658 L1333,28800 L712,28800 Z M713,28718 L713,28741 L825,28741 L825,28718 Z M713,28718 Z M713,28718" /></clipPath>
<path d="M838,28742 L838,28718 C838,28715.7929688 839.7929688,28714 842,28714 L847,28714" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3285)" />
<clipPath id="clip3286"><path d="M712,28658 L1333,28658 L1333,28800 L712,28800 Z M713,28718 L713,28741 L825,28741 L825,28718 Z M713,28718 Z M713,28718" /></clipPath>
<path d="M838,28742 C838,28741.4492188 839.7929688,28741 842,28741 L847,28741" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3286)" />
<clipPath id="clip3287"><path d="M712,28658 L1333,28658 L1333,28800 L712,28800 Z M713,28718 L713,28741 L825,28741 L825,28718 Z M713,28718 Z M713,28718" /></clipPath>
<path d="M838,28742 L838,28766 C838,28768.2070313 839.7929688,28770 842,28770 L847,28770" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3287)" />
<clipPath id="clip3288"><path d="M712,28658 L1333,28658 L1333,28800 L712,28800 Z M713,28718 L713,28741 L825,28741 L825,28718 Z M713,28718 Z M713,28718" /></clipPath>
<path d="M838,28742 L838,28795 C838,28797.2070313 839.7929688,28799 842,28799 L847,28799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3288)" />
<clipPath id="clip3289"><path d="M711,28657 L1334,28657 L1334,28801 L711,28801 L711,28657 Z" /></clipPath>
<path d="M825,28742 L838,28742" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3289)" />
<clipPath id="clip3290"><path d="M711,28716 L828,28716 L828,28744 L711,28744 L711,28716 Z" /></clipPath>
<path d="M713,28742 L825,28742 Z M713,28742" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3290)" />
<text x="723" y="28732" style="font:10px Open Sans">协调者的可用性</text>
<clipPath id="clip3291"><path d="M845,28657 L1100,28657 L1100,28687 L845,28687 L845,28657 Z" /></clipPath>
<path d="M847,28685 L1097,28685 Z M847,28685" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3291)" />
<text x="857" y="28673" style="font:10px Open Sans">协调者启动时从数据中心获取Chubby锁</text>
<clipPath id="clip3292"><path d="M845,28686 L1113,28686 L1113,28716 L845,28716 L845,28686 Z" /></clipPath>
<path d="M847,28714 L1110,28714 Z M847,28714" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3292)" />
<text x="857" y="28702" style="font:10px Open Sans">为了处理请求，协调者必须持有Chubby锁</text>
<clipPath id="clip3293"><path d="M845,28715 L1131,28715 L1131,28743 L845,28743 L845,28715 Z" /></clipPath>
<path d="M847,28741 L1128,28741 Z M847,28741" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3293)" />
<text x="857" y="28731" style="font:10px Open Sans">锁失效时协调者会恢复到一个默认的保守状态</text>
<clipPath id="clip3294"><path d="M845,28742 L1162,28742 L1162,28772 L845,28772 L845,28742 Z" /></clipPath>
<path d="M847,28770 L1159,28770 Z M847,28770" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3294)" />
<text x="857" y="28758" style="font:10px Open Sans">如果协调者de 锁失效，写操作可以安全地将它忽略</text>
<clipPath id="clip3295"><path d="M845,28771 L1334,28771 L1334,28801 L845,28801 L845,28771 Z" /></clipPath>
<path d="M847,28799 L1331,28799 Z M847,28799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3295)" />
<text x="857" y="28787" style="font:10px Open Sans">协调者从不可用到锁失效有短暂的Chubby锁过期时间，这段时间内写操作会失败</text>
<clipPath id="clip3296"><path d="M712,28801 L1403,28801 L1403,28881 L712,28881 Z M713,28829 L713,28852 L786,28852 L786,28829 Z M713,28829 Z M713,28829" /></clipPath>
<path d="M799,28853 L799,28830 C799,28827.7929688 800.7929688,28826 803,28826 L808,28826" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3296)" />
<clipPath id="clip3297"><path d="M712,28801 L1403,28801 L1403,28881 L712,28881 Z M713,28829 L713,28852 L786,28852 L786,28829 Z M713,28829 Z M713,28829" /></clipPath>
<path d="M799,28853 C799,28853 800.7929688,28853 803,28853 L808,28853" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3297)" />
<clipPath id="clip3298"><path d="M712,28801 L1403,28801 L1403,28881 L712,28881 Z M713,28829 L713,28852 L786,28852 L786,28829 Z M713,28829 Z M713,28829" /></clipPath>
<path d="M799,28853 L799,28876 C799,28878.2070313 800.7929688,28880 803,28880 L808,28880" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3298)" />
<clipPath id="clip3299"><path d="M711,28800 L1404,28800 L1404,28882 L711,28882 L711,28800 Z" /></clipPath>
<path d="M786,28853 L799,28853" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3299)" />
<clipPath id="clip3300"><path d="M711,28827 L789,28827 L789,28855 L711,28855 L711,28827 Z" /></clipPath>
<path d="M713,28853 L786,28853 Z M713,28853" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3300)" />
<text x="723" y="28843" style="font:10px Open Sans">竞争条件</text>
<clipPath id="clip3301"><path d="M806,28800 L1040,28800 L1040,28828 L806,28828 L806,28800 Z" /></clipPath>
<path d="M808,28826 L1037,28826 Z M808,28826" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3301)" />
<text x="818" y="28816" style="font:10px Open Sans">协调者从启动到退出为一个生命周期</text>
<clipPath id="clip3302"><path d="M806,28827 L1040,28827 L1040,28855 L806,28855 L806,28827 Z" /></clipPath>
<path d="M808,28853 L1037,28853 Z M808,28853" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3302)" />
<text x="818" y="28843" style="font:10px Open Sans">每个生命周期用一个唯一的序号标识</text>
<clipPath id="clip3303"><path d="M806,28854 L1404,28854 L1404,28882 L806,28882 L806,28854 Z" /></clipPath>
<path d="M808,28880 L1401,28880 Z M808,28880" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3303)" />
<text x="818" y="28870" style="font:10px Open Sans">生效操作只允许在最近一次对协调者进行读取操作以来序号没有发生变化的情况下修改协调者的状态</text>
<clipPath id="clip3304"><path d="M630,28882 L1555,28882 L1555,29289 L630,29289 Z M631,29066 L631,29089 L704,29089 L704,29066 Z M631,29066 Z M631,29066" /></clipPath>
<path d="M717,29090 L717,28911 C717,28908.7929688 718.7929688,28907 721,28907 L726,28907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3304)" />
<clipPath id="clip3305"><path d="M630,28882 L1555,28882 L1555,29289 L630,29289 Z M631,29066 L631,29089 L704,29089 L704,29066 Z M631,29066 Z M631,29066" /></clipPath>
<path d="M717,29090 L717,28982 C717,28979.7929688 718.7929688,28978 721,28978 L726,28978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3305)" />
<clipPath id="clip3306"><path d="M630,28882 L1555,28882 L1555,29289 L630,29289 Z M631,29066 L631,29089 L704,29089 L704,29066 Z M631,29066 Z M631,29066" /></clipPath>
<path d="M717,29090 L717,29102 C717,29104.2070313 718.7929688,29106 721,29106 L726,29106" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3306)" />
<clipPath id="clip3307"><path d="M630,28882 L1555,28882 L1555,29289 L630,29289 Z M631,29066 L631,29089 L704,29089 L704,29066 Z M631,29066 Z M631,29066" /></clipPath>
<path d="M717,29090 L717,29216 C717,29218.2070313 718.7929688,29220 721,29220 L726,29220" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3307)" />
<clipPath id="clip3308"><path d="M630,28882 L1555,28882 L1555,29289 L630,29289 Z M631,29066 L631,29089 L704,29089 L704,29066 Z M631,29066 Z M631,29066" /></clipPath>
<path d="M717,29090 L717,29270 C717,29272.2070313 718.7929688,29274 721,29274 L726,29274" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3308)" />
<clipPath id="clip3309"><path d="M629,28881 L1556,28881 L1556,29290 L629,29290 L629,28881 Z" /></clipPath>
<path d="M704,29090 L717,29090" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3309)" />
<clipPath id="clip3310"><path d="M629,29064 L707,29064 L707,29092 L629,29092 L629,29064 Z" /></clipPath>
<path d="M631,29090 L704,29090 Z M631,29090" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3310)" />
<text x="641" y="29080" style="font:10px Open Sans">读取流程</text>
<clipPath id="clip3311"><path d="M725,28882 L1221,28882 L1221,28908 L725,28908 Z M726,28883 L726,28906 L799,28906 L799,28883 Z M726,28883 Z M726,28883" /></clipPath>
<path d="M812,28907 C812,28907 813.7929688,28907 816,28907 L821,28907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3311)" />
<clipPath id="clip3312"><path d="M724,28881 L1222,28881 L1222,28909 L724,28909 L724,28881 Z" /></clipPath>
<path d="M799,28907 L812,28907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3312)" />
<clipPath id="clip3313"><path d="M724,28881 L802,28881 L802,28909 L724,28909 L724,28881 Z" /></clipPath>
<path d="M726,28907 L799,28907 Z M726,28907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3313)" />
<text x="736" y="28897" style="font:10px Open Sans">本地查询</text>
<clipPath id="clip3314"><path d="M819,28881 L1222,28881 L1222,28909 L819,28909 L819,28881 Z" /></clipPath>
<path d="M821,28907 L1219,28907 Z M821,28907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3314)" />
<text x="831" y="28897" style="font:10px Open Sans">查询本地副本的协调者来决定这个实体组上数据是否已经是最新的</text>
<clipPath id="clip3315"><path d="M725,28909 L1555,28909 L1555,29023 L725,29023 Z M726,28954 L726,28977 L799,28977 L799,28954 Z M726,28954 Z M726,28954" /></clipPath>
<path d="M812,28978 L812,28938 C812,28935.7929688 813.7929688,28934 816,28934 L821,28934" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3315)" />
<clipPath id="clip3316"><path d="M725,28909 L1555,28909 L1555,29023 L725,29023 Z M726,28954 L726,28977 L799,28977 L799,28954 Z M726,28954 Z M726,28954" /></clipPath>
<path d="M812,28978 C812,28978 813.7929688,28978 816,28978 L821,28978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3316)" />
<clipPath id="clip3317"><path d="M725,28909 L1555,28909 L1555,29023 L725,29023 Z M726,28954 L726,28977 L799,28977 L799,28954 Z M726,28954 Z M726,28954" /></clipPath>
<path d="M812,28978 L812,29018 C812,29020.2070313 813.7929688,29022 816,29022 L821,29022" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3317)" />
<clipPath id="clip3318"><path d="M724,28908 L1556,28908 L1556,29024 L724,29024 L724,28908 Z" /></clipPath>
<path d="M799,28978 L812,28978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3318)" />
<clipPath id="clip3319"><path d="M724,28952 L802,28952 L802,28980 L724,28980 L724,28952 Z" /></clipPath>
<path d="M726,28978 L799,28978 Z M726,28978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3319)" />
<text x="736" y="28968" style="font:10px Open Sans">发现位置</text>
<clipPath id="clip3320"><path d="M819,28908 L1079,28908 L1079,28936 L819,28936 L819,28908 Z" /></clipPath>
<path d="M821,28934 L1076,28934 Z M821,28934" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3320)" />
<text x="831" y="28924" style="font:10px Open Sans">确认一个最高的已经提交的操作日志位置</text>
<clipPath id="clip3321"><path d="M820,28936 L1523,28936 L1523,28979 L820,28979 Z M821,28952 L821,28977 L984,28977 L984,28952 Z M821,28952 Z M821,28952" /></clipPath>
<path d="M997,28978 C997,28978 998.7929688,28978 1001,28978 L1006,28978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3321)" />
<clipPath id="clip3322"><path d="M819,28935 L1524,28935 L1524,28980 L819,28980 L819,28935 Z" /></clipPath>
<path d="M984,28978 L997,28978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3322)" />
<clipPath id="clip3323"><path d="M819,28950 L987,28950 L987,28980 L819,28980 L819,28950 Z" /></clipPath>
<path d="M821,28978 L984,28978 Z M821,28978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3323)" />
<text x="831" y="28966" style="font:10px Open Sans">本地读取（Local Read）</text>
<clipPath id="clip3324"><path d="M1004,28935 L1524,28935 L1524,28980 L1004,28980 L1004,28935 Z" /></clipPath>
<path d="M1006,28978 L1521,28978 Z M1006,28978" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3324)" />
<text x="1016" y="28951" style="font:10px Open Sans">如果本地查询确认本地副本是最新的，直接读取本地副本已经提交的最高日志位置和相</text>
<text x="1016" y="28968" style="font:10px Open Sans">应的时间戳。实际上就是前面提到的快速读</text>
<clipPath id="clip3325"><path d="M820,28980 L1555,28980 L1555,29023 L820,29023 Z M821,28996 L821,29021 L1016,29021 L1016,28996 Z M821,28996 Z M821,28996" /></clipPath>
<path d="M1029,29022 C1029,29022 1030.7929688,29022 1033,29022 L1038,29022" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3325)" />
<clipPath id="clip3326"><path d="M819,28979 L1556,28979 L1556,29024 L819,29024 L819,28979 Z" /></clipPath>
<path d="M1016,29022 L1029,29022" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3326)" />
<clipPath id="clip3327"><path d="M819,28994 L1019,28994 L1019,29024 L819,29024 L819,28994 Z" /></clipPath>
<path d="M821,29022 L1016,29022 Z M821,29022" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3327)" />
<text x="831" y="29010" style="font:10px Open Sans">多数派读取（Majority Read）</text>
<clipPath id="clip3328"><path d="M1036,28979 L1556,28979 L1556,29024 L1036,29024 L1036,28979 Z" /></clipPath>
<path d="M1038,29022 L1553,29022 Z M1038,29022" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3328)" />
<text x="1048" y="28995" style="font:10px Open Sans">如果本地副本不是最新的（或本地查询、本地读取超时），从多数派副本中读取最大的</text>
<text x="1048" y="29012" style="font:10px Open Sans">日志位置，然后从中选取一个响应最快或者最新的副本，并不一定是本地副本</text>
<clipPath id="clip3329"><path d="M725,29024 L1422,29024 L1422,29164 L725,29164 Z M726,29082 L726,29105 L773,29105 L773,29082 Z M726,29082 Z M726,29082" /></clipPath>
<path d="M786,29106 L786,29053 C786,29050.7929688 787.7929688,29049 790,29049 L795,29049" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3329)" />
<clipPath id="clip3330"><path d="M725,29024 L1422,29024 L1422,29164 L725,29164 Z M726,29082 L726,29105 L773,29105 L773,29082 Z M726,29082 Z M726,29082" /></clipPath>
<path d="M786,29106 C786,29106.5507813 787.7929688,29107 790,29107 L795,29107" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3330)" />
<clipPath id="clip3331"><path d="M725,29024 L1422,29024 L1422,29164 L725,29164 Z M726,29082 L726,29105 L773,29105 L773,29082 Z M726,29082 Z M726,29082" /></clipPath>
<path d="M786,29106 L786,29159 C786,29161.2070313 787.7929688,29163 790,29163 L795,29163" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3331)" />
<clipPath id="clip3332"><path d="M724,29023 L1423,29023 L1423,29165 L724,29165 L724,29023 Z" /></clipPath>
<path d="M773,29106 L786,29106" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3332)" />
<clipPath id="clip3333"><path d="M724,29080 L776,29080 L776,29108 L724,29108 L724,29080 Z" /></clipPath>
<path d="M726,29106 L773,29106 Z M726,29106" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3333)" />
<text x="736" y="29096" style="font:10px Open Sans">追赶</text>
<clipPath id="clip3334"><path d="M793,29023 L1183,29023 L1183,29051 L793,29051 L793,29023 Z" /></clipPath>
<path d="M795,29049 L1180,29049 Z M795,29049" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3334)" />
<text x="805" y="29039" style="font:10px Open Sans">一旦某个副本被选中，就采取措施使其追赶到已知的最大位置处</text>
<clipPath id="clip3335"><path d="M794,29051 L1422,29051 L1422,29137 L794,29137 Z M795,29083 L795,29106 L894,29106 L894,29083 Z M795,29083 Z M795,29083" /></clipPath>
<path d="M907,29107 L907,29082 C907,29079.7929688 908.7929688,29078 911,29078 L916,29078" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3335)" />
<clipPath id="clip3336"><path d="M794,29051 L1422,29051 L1422,29137 L794,29137 Z M795,29083 L795,29106 L894,29106 L894,29083 Z M795,29083 Z M795,29083" /></clipPath>
<path d="M907,29107 C907,29107 908.7929688,29107 911,29107 L916,29107" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3336)" />
<clipPath id="clip3337"><path d="M794,29051 L1422,29051 L1422,29137 L794,29137 Z M795,29083 L795,29106 L894,29106 L894,29083 Z M795,29083 Z M795,29083" /></clipPath>
<path d="M907,29107 L907,29132 C907,29134.2070313 908.7929688,29136 911,29136 L916,29136" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3337)" />
<clipPath id="clip3338"><path d="M793,29050 L1423,29050 L1423,29138 L793,29138 L793,29050 Z" /></clipPath>
<path d="M894,29107 L907,29107" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3338)" />
<clipPath id="clip3339"><path d="M793,29081 L897,29081 L897,29109 L793,29109 L793,29081 Z" /></clipPath>
<path d="M795,29107 L894,29107 Z M795,29107" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3339)" />
<text x="805" y="29097" style="font:10px Open Sans">获取操作日志</text>
<clipPath id="clip3340"><path d="M914,29050 L1353,29050 L1353,29080 L914,29080 L914,29050 Z" /></clipPath>
<path d="M916,29078 L1350,29078 Z M916,29078" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3340)" />
<text x="926" y="29066" style="font:10px Open Sans">对于所选副本中所有不知道Paxos共识值的日志位置，从其他副本中读取</text>
<clipPath id="clip3341"><path d="M914,29079 L1340,29079 L1340,29109 L914,29109 L914,29079 Z" /></clipPath>
<path d="M916,29107 L1337,29107 Z M916,29107" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3341)" />
<text x="926" y="29095" style="font:10px Open Sans">对于所有不确定共识值的日志位置，利用Paxos发起一次无操作的写。</text>
<clipPath id="clip3342"><path d="M914,29108 L1423,29108 L1423,29138 L914,29138 L914,29108 Z" /></clipPath>
<path d="M916,29136 L1420,29136 Z M916,29136" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3342)" />
<text x="926" y="29124" style="font:10px Open Sans">Paxos协议将会促使大多数副本达成一个共识值：无操作写/以前已提交的一次写操作</text>
<clipPath id="clip3343"><path d="M794,29138 L1407,29138 L1407,29164 L794,29164 Z M795,29139 L795,29162 L894,29162 L894,29139 Z M795,29139 Z M795,29139" /></clipPath>
<path d="M907,29163 C907,29163 908.7929688,29163 911,29163 L916,29163" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3343)" />
<clipPath id="clip3344"><path d="M793,29137 L1408,29137 L1408,29165 L793,29165 L793,29137 Z" /></clipPath>
<path d="M894,29163 L907,29163" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3344)" />
<clipPath id="clip3345"><path d="M793,29137 L897,29137 L897,29165 L793,29165 L793,29137 Z" /></clipPath>
<path d="M795,29163 L894,29163 Z M795,29163" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3345)" />
<text x="805" y="29153" style="font:10px Open Sans">应用操作日志</text>
<clipPath id="clip3346"><path d="M914,29137 L1408,29137 L1408,29165 L914,29165 L914,29137 Z" /></clipPath>
<path d="M916,29163 L1405,29163 Z M916,29163" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3346)" />
<text x="926" y="29153" style="font:10px Open Sans">顺序地应用所有已经提交但还没有生效的操作日志，更新实体组的数据和索引位置</text>
<clipPath id="clip3347"><path d="M725,29165 L1364,29165 L1364,29235 L725,29235 Z M726,29196 L726,29219 L825,29219 L825,29196 Z M726,29196 Z M726,29196" /></clipPath>
<path d="M838,29220 L838,29211 C838,29208.7929688 839.7929688,29207 842,29207 L847,29207" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3347)" />
<clipPath id="clip3348"><path d="M725,29165 L1364,29165 L1364,29235 L725,29235 Z M726,29196 L726,29219 L825,29219 L825,29196 Z M726,29196 Z M726,29196" /></clipPath>
<path d="M838,29220 L838,29230 C838,29232.2070313 839.7929688,29234 842,29234 L847,29234" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3348)" />
<clipPath id="clip3349"><path d="M724,29164 L1365,29164 L1365,29236 L724,29236 L724,29164 Z" /></clipPath>
<path d="M825,29220 L838,29220" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3349)" />
<clipPath id="clip3350"><path d="M724,29194 L828,29194 L828,29222 L724,29222 L724,29194 Z" /></clipPath>
<path d="M726,29220 L825,29220 Z M726,29220" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3350)" />
<text x="736" y="29210" style="font:10px Open Sans">使实体组生效</text>
<clipPath id="clip3351"><path d="M845,29164 L1365,29164 L1365,29209 L845,29209 L845,29164 Z" /></clipPath>
<path d="M847,29207 L1362,29207 Z M847,29207" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3351)" />
<text x="857" y="29180" style="font:10px Open Sans">如果选取了本地副本且原来不是最新的，需要发送一个生效消息以通知协调者本地副本</text>
<text x="857" y="29197" style="font:10px Open Sans">中这次读取的实体组已经最新</text>
<clipPath id="clip3352"><path d="M845,29208 L1248,29208 L1248,29236 L845,29236 L845,29208 Z" /></clipPath>
<path d="M847,29234 L1245,29234 Z M847,29234" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3352)" />
<text x="857" y="29224" style="font:10px Open Sans">生效消息不需要等待应答，如果请求失败，下一次读取操作会重试</text>
<clipPath id="clip3353"><path d="M725,29236 L1325,29236 L1325,29289 L725,29289 Z M726,29250 L726,29273 L799,29273 L799,29250 Z M726,29250 Z M726,29250" /></clipPath>
<path d="M812,29274 L812,29265 C812,29262.7929688 813.7929688,29261 816,29261 L821,29261" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3353)" />
<clipPath id="clip3354"><path d="M725,29236 L1325,29236 L1325,29289 L725,29289 Z M726,29250 L726,29273 L799,29273 L799,29250 Z M726,29250 Z M726,29250" /></clipPath>
<path d="M812,29274 L812,29284 C812,29286.2070313 813.7929688,29288 816,29288 L821,29288" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3354)" />
<clipPath id="clip3355"><path d="M724,29235 L1326,29235 L1326,29290 L724,29290 L724,29235 Z" /></clipPath>
<path d="M799,29274 L812,29274" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3355)" />
<clipPath id="clip3356"><path d="M724,29248 L802,29248 L802,29276 L724,29276 L724,29248 Z" /></clipPath>
<path d="M726,29274 L799,29274 Z M726,29274" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3356)" />
<text x="736" y="29264" style="font:10px Open Sans">查询数据</text>
<clipPath id="clip3357"><path d="M819,29235 L1183,29235 L1183,29263 L819,29263 L819,29235 Z" /></clipPath>
<path d="M821,29261 L1180,29261 Z M821,29261" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3357)" />
<text x="831" y="29251" style="font:10px Open Sans">在所选副本中通过日志中记录的时间戳读取指定版本的数据</text>
<clipPath id="clip3358"><path d="M819,29262 L1326,29262 L1326,29290 L819,29290 L819,29262 Z" /></clipPath>
<path d="M821,29288 L1323,29288 Z M821,29288" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3358)" />
<text x="831" y="29278" style="font:10px Open Sans">如果所选副本不可用了，重新选取一个替代副本，执行追赶操作，然后从中读取数据</text>
<clipPath id="clip3359"><path d="M630,29290 L1398,29290 L1398,29687 L630,29687 Z M631,29485 L631,29508 L704,29508 L704,29485 Z M631,29485 Z M631,29485" /></clipPath>
<path d="M717,29509 L717,29336 C717,29333.7929688 718.7929688,29332 721,29332 L726,29332" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3359)" />
<clipPath id="clip3360"><path d="M630,29290 L1398,29290 L1398,29687 L630,29687 Z M631,29485 L631,29508 L704,29508 L704,29485 Z M631,29485 Z M631,29485" /></clipPath>
<path d="M717,29509 L717,29380 C717,29377.7929688 718.7929688,29376 721,29376 L726,29376" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3360)" />
<clipPath id="clip3361"><path d="M630,29290 L1398,29290 L1398,29687 L630,29687 Z M631,29485 L631,29508 L704,29508 L704,29485 Z M631,29485 Z M631,29485" /></clipPath>
<path d="M717,29509 L717,29424 C717,29421.7929688 718.7929688,29420 721,29420 L726,29420" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3361)" />
<clipPath id="clip3362"><path d="M630,29290 L1398,29290 L1398,29687 L630,29687 Z M631,29485 L631,29508 L704,29508 L704,29485 Z M631,29485 Z M631,29485" /></clipPath>
<path d="M717,29509 L717,29453 C717,29450.7929688 718.7929688,29449 721,29449 L726,29449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3362)" />
<clipPath id="clip3363"><path d="M630,29290 L1398,29290 L1398,29687 L630,29687 Z M631,29485 L631,29508 L704,29508 L704,29485 Z M631,29485 Z M631,29485" /></clipPath>
<path d="M717,29509 C717,29508.4492188 718.7929688,29508 721,29508 L726,29508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3363)" />
<clipPath id="clip3364"><path d="M630,29290 L1398,29290 L1398,29687 L630,29687 Z M631,29485 L631,29508 L704,29508 L704,29485 Z M631,29485 Z M631,29485" /></clipPath>
<path d="M717,29509 L717,29573 C717,29575.2070313 718.7929688,29577 721,29577 L726,29577" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3364)" />
<clipPath id="clip3365"><path d="M630,29290 L1398,29290 L1398,29687 L630,29687 Z M631,29485 L631,29508 L704,29508 L704,29485 Z M631,29485 Z M631,29485" /></clipPath>
<path d="M717,29509 L717,29641 C717,29643.2070313 718.7929688,29645 721,29645 L726,29645" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3365)" />
<clipPath id="clip3366"><path d="M630,29290 L1398,29290 L1398,29687 L630,29687 Z M631,29485 L631,29508 L704,29508 L704,29485 Z M631,29485 Z M631,29485" /></clipPath>
<path d="M717,29509 L717,29682 C717,29684.2070313 718.7929688,29686 721,29686 L726,29686" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3366)" />
<clipPath id="clip3367"><path d="M629,29289 L1399,29289 L1399,29688 L629,29688 L629,29289 Z" /></clipPath>
<path d="M704,29509 L717,29509" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3367)" />
<clipPath id="clip3368"><path d="M629,29483 L707,29483 L707,29511 L629,29511 L629,29483 Z" /></clipPath>
<path d="M631,29509 L704,29509 Z M631,29509" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3368)" />
<text x="641" y="29499" style="font:10px Open Sans">写入流程</text>
<clipPath id="clip3369"><path d="M724,29289 L1244,29289 L1244,29334 L724,29334 L724,29289 Z" /></clipPath>
<path d="M726,29332 L1241,29332 Z M726,29332" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3369)" />
<text x="736" y="29305" style="font:10px Open Sans">执行完一次完整的读操作之后，下一个可用的日志位置，最后一次写操作的时间戳，以</text>
<text x="736" y="29322" style="font:10px Open Sans">及下一次的主副本都知道了</text>
<clipPath id="clip3370"><path d="M724,29333 L1244,29333 L1244,29378 L724,29378 L724,29333 Z" /></clipPath>
<path d="M726,29376 L1241,29376 Z M726,29376" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3370)" />
<text x="736" y="29349" style="font:10px Open Sans">在提交时刻所有的修改操作都被打包。同时还包含一个时间戳、下一次主副本提名，作</text>
<text x="736" y="29366" style="font:10px Open Sans">为提议的下一个日志位置的共识值</text>
<clipPath id="clip3371"><path d="M724,29377 L1244,29377 L1244,29422 L724,29422 L724,29377 Z" /></clipPath>
<path d="M726,29420 L1241,29420 Z M726,29420" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3371)" />
<text x="736" y="29393" style="font:10px Open Sans">如果该值被大多数副本通过，它将被应用到所有的副本中，否则整个事务将中止且从读</text>
<text x="736" y="29410" style="font:10px Open Sans">操作开始重试</text>
<clipPath id="clip3372"><path d="M725,29422 L1398,29422 L1398,29450 L725,29450 Z M726,29425 L726,29448 L838,29448 L838,29425 Z M726,29425 Z M726,29425" /></clipPath>
<path d="M851,29449 C851,29449 852.7929688,29449 855,29449 L860,29449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3372)" />
<clipPath id="clip3373"><path d="M724,29421 L1399,29421 L1399,29451 L724,29451 L724,29421 Z" /></clipPath>
<path d="M838,29449 L851,29449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3373)" />
<clipPath id="clip3374"><path d="M724,29423 L841,29423 L841,29451 L724,29451 L724,29423 Z" /></clipPath>
<path d="M726,29449 L838,29449 Z M726,29449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3374)" />
<text x="736" y="29439" style="font:10px Open Sans">请求主副本接受</text>
<clipPath id="clip3375"><path d="M858,29421 L1399,29421 L1399,29451 L858,29451 L858,29421 Z" /></clipPath>
<path d="M860,29449 L1396,29449 Z M860,29449" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3375)" />
<text x="870" y="29437" style="font:10px Open Sans">请求主副本将提议的共识值（写事务的操作日志）作为0号协议。如果成功，跳至接受步骤</text>
<clipPath id="clip3376"><path d="M725,29451 L1309,29451 L1309,29523 L725,29523 Z M726,29484 L726,29507 L773,29507 L773,29484 Z M726,29484 Z M726,29484" /></clipPath>
<path d="M786,29508 L786,29499 C786,29496.7929688 787.7929688,29495 790,29495 L795,29495" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3376)" />
<clipPath id="clip3377"><path d="M725,29451 L1309,29451 L1309,29523 L725,29523 Z M726,29484 L726,29507 L773,29507 L773,29484 Z M726,29484 Z M726,29484" /></clipPath>
<path d="M786,29508 L786,29518 C786,29520.2070313 787.7929688,29522 790,29522 L795,29522" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3377)" />
<clipPath id="clip3378"><path d="M724,29450 L1310,29450 L1310,29524 L724,29524 L724,29450 Z" /></clipPath>
<path d="M773,29508 L786,29508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3378)" />
<clipPath id="clip3379"><path d="M724,29482 L776,29482 L776,29510 L724,29510 L724,29482 Z" /></clipPath>
<path d="M726,29508 L773,29508 Z M726,29508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3379)" />
<text x="736" y="29498" style="font:10px Open Sans">准备</text>
<clipPath id="clip3380"><path d="M793,29450 L1310,29450 L1310,29497 L793,29497 L793,29450 Z" /></clipPath>
<path d="M795,29495 L1307,29495 Z M795,29495" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3380)" />
<text x="805" y="29466" style="font:10px Open Sans">对于所有副本，运行Paxos协议准备阶段，即在当前的日志位置上使用一个比以前所有</text>
<text x="805" y="29485" style="font:10px Open Sans">提议都更高的提议号进行提议</text>
<clipPath id="clip3381"><path d="M793,29496 L1170,29496 L1170,29524 L793,29524 L793,29496 Z" /></clipPath>
<path d="M795,29522 L1167,29522 Z M795,29522" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3381)" />
<text x="805" y="29512" style="font:10px Open Sans">将提议的共识值替换为已知的拥有最高提议号的副本的提议值</text>
<clipPath id="clip3382"><path d="M725,29524 L1257,29524 L1257,29606 L725,29606 Z M726,29553 L726,29576 L773,29576 L773,29553 Z M726,29553 Z M726,29553" /></clipPath>
<path d="M786,29577 L786,29553 C786,29550.7929688 787.7929688,29549 790,29549 L795,29549" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3382)" />
<clipPath id="clip3383"><path d="M725,29524 L1257,29524 L1257,29606 L725,29606 Z M726,29553 L726,29576 L773,29576 L773,29553 Z M726,29553 Z M726,29553" /></clipPath>
<path d="M786,29577 C786,29576.4492188 787.7929688,29576 790,29576 L795,29576" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3383)" />
<clipPath id="clip3384"><path d="M725,29524 L1257,29524 L1257,29606 L725,29606 Z M726,29553 L726,29576 L773,29576 L773,29553 Z M726,29553 Z M726,29553" /></clipPath>
<path d="M786,29577 L786,29601 C786,29603.2070313 787.7929688,29605 790,29605 L795,29605" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3384)" />
<clipPath id="clip3385"><path d="M724,29523 L1258,29523 L1258,29607 L724,29607 L724,29523 Z" /></clipPath>
<path d="M773,29577 L786,29577" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3385)" />
<clipPath id="clip3386"><path d="M724,29551 L776,29551 L776,29579 L724,29579 L724,29551 Z" /></clipPath>
<path d="M726,29577 L773,29577 Z M726,29577" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3386)" />
<text x="736" y="29567" style="font:10px Open Sans">接受</text>
<clipPath id="clip3387"><path d="M793,29523 L1014,29523 L1014,29551 L793,29551 L793,29523 Z" /></clipPath>
<path d="M795,29549 L1011,29549 Z M795,29549" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3387)" />
<text x="805" y="29539" style="font:10px Open Sans">请求剩余的副本接受主副本的提议</text>
<clipPath id="clip3388"><path d="M793,29550 L1066,29550 L1066,29578 L793,29578 L793,29550 Z" /></clipPath>
<path d="M795,29576 L1063,29576 Z M795,29576" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3388)" />
<text x="805" y="29566" style="font:10px Open Sans">如果大多数副本拒绝这个值，返回准备步骤</text>
<clipPath id="clip3389"><path d="M793,29577 L1258,29577 L1258,29607 L793,29607 L793,29577 Z" /></clipPath>
<path d="M795,29605 L1255,29605 Z M795,29605" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3389)" />
<text x="805" y="29593" style="font:10px Open Sans">Paxos协议大多数情况下主副本不会变化，可以忽略准备阶段，这就是快速写</text>
<clipPath id="clip3390"><path d="M725,29607 L1351,29607 L1351,29660 L725,29660 Z M726,29621 L726,29644 L825,29644 L825,29621 Z M726,29621 Z M726,29621" /></clipPath>
<path d="M838,29645 L838,29636 C838,29633.7929688 839.7929688,29632 842,29632 L847,29632" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3390)" />
<clipPath id="clip3391"><path d="M725,29607 L1351,29607 L1351,29660 L725,29660 Z M726,29621 L726,29644 L825,29644 L825,29621 Z M726,29621 Z M726,29621" /></clipPath>
<path d="M838,29645 L838,29655 C838,29657.2070313 839.7929688,29659 842,29659 L847,29659" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3391)" />
<clipPath id="clip3392"><path d="M724,29606 L1352,29606 L1352,29661 L724,29661 L724,29606 Z" /></clipPath>
<path d="M825,29645 L838,29645" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3392)" />
<clipPath id="clip3393"><path d="M724,29619 L828,29619 L828,29647 L724,29647 L724,29619 Z" /></clipPath>
<path d="M726,29645 L825,29645 Z M726,29645" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3393)" />
<text x="736" y="29635" style="font:10px Open Sans">使实体组生效</text>
<clipPath id="clip3394"><path d="M845,29606 L1339,29606 L1339,29634 L845,29634 L845,29606 Z" /></clipPath>
<path d="M847,29632 L1336,29632 Z M847,29632" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3394)" />
<text x="857" y="29622" style="font:10px Open Sans">如果某些副本不接受多数派达成的共识值，将协调者记录的实体组状态标记为失效</text>
<clipPath id="clip3395"><path d="M845,29633 L1352,29633 L1352,29661 L845,29661 L845,29633 Z" /></clipPath>
<path d="M847,29659 L1349,29659 Z M847,29659" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3395)" />
<text x="857" y="29649" style="font:10px Open Sans">协调者失效操作返回前写操作不能返回客户端，从而防止用户最新读取不是正确结果</text>
<clipPath id="clip3396"><path d="M725,29661 L1273,29661 L1273,29687 L725,29687 Z M726,29662 L726,29685 L825,29685 L825,29662 Z M726,29662 Z M726,29662" /></clipPath>
<path d="M838,29686 C838,29686 839.7929688,29686 842,29686 L847,29686" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3396)" />
<clipPath id="clip3397"><path d="M724,29660 L1274,29660 L1274,29688 L724,29688 L724,29660 Z" /></clipPath>
<path d="M825,29686 L838,29686" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3397)" />
<clipPath id="clip3398"><path d="M724,29660 L828,29660 L828,29688 L724,29688 L724,29660 Z" /></clipPath>
<path d="M726,29686 L825,29686 Z M726,29686" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3398)" />
<text x="736" y="29676" style="font:10px Open Sans">应用操作日志</text>
<clipPath id="clip3399"><path d="M845,29660 L1274,29660 L1274,29688 L845,29688 L845,29660 Z" /></clipPath>
<path d="M847,29686 L1271,29686 Z M847,29686" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3399)" />
<text x="857" y="29676" style="font:10px Open Sans">将共识值在尽可能多的副本上应用生效，更新实体组的数据和索引信息</text>
<clipPath id="clip3400"><path d="M630,29688 L1248,29688 L1248,29944 L630,29944 Z M631,29784 L631,29807 L678,29807 L678,29784 Z M631,29784 Z M631,29784" /></clipPath>
<path d="M691,29808 L691,29719 C691,29716.7929688 692.7929688,29715 695,29715 L700,29715" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3400)" />
<clipPath id="clip3401"><path d="M630,29688 L1248,29688 L1248,29944 L630,29944 Z M631,29784 L631,29807 L678,29807 L678,29784 Z M631,29784 Z M631,29784" /></clipPath>
<path d="M691,29808 L691,29806 C691,29803.7929688 692.7929688,29802 695,29802 L700,29802" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3401)" />
<clipPath id="clip3402"><path d="M630,29688 L1248,29688 L1248,29944 L630,29944 Z M631,29784 L631,29807 L678,29807 L678,29784 Z M631,29784 Z M631,29784" /></clipPath>
<path d="M691,29808 L691,29897 C691,29899.2070313 692.7929688,29901 695,29901 L700,29901" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3402)" />
<clipPath id="clip3403"><path d="M629,29687 L1249,29687 L1249,29945 L629,29945 L629,29687 Z" /></clipPath>
<path d="M678,29808 L691,29808" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3403)" />
<clipPath id="clip3404"><path d="M629,29782 L681,29782 L681,29810 L629,29810 L629,29782 Z" /></clipPath>
<path d="M631,29808 L678,29808 Z M631,29808" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3404)" />
<text x="641" y="29798" style="font:10px Open Sans">讨论</text>
<clipPath id="clip3405"><path d="M698,29687 L994,29687 L994,29717 L698,29717 L698,29687 Z" /></clipPath>
<path d="M700,29715 L991,29715 Z M700,29715" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3405)" />
<text x="710" y="29703" style="font:10px Open Sans">介于RDBMS和NoSQL之间，融合了两者的优势</text>
<clipPath id="clip3406"><path d="M699,29717 L1248,29717 L1248,29832 L699,29832 Z M700,29778 L700,29801 L760,29801 L760,29778 Z M700,29778 Z M700,29778" /></clipPath>
<path d="M773,29802 L773,29777 C773,29774.7929688 774.7929688,29773 777,29773 L782,29773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3406)" />
<clipPath id="clip3407"><path d="M699,29717 L1248,29717 L1248,29832 L699,29832 Z M700,29778 L700,29801 L760,29801 L760,29778 Z M700,29778 Z M700,29778" /></clipPath>
<path d="M773,29802 L773,29827 C773,29829.2070313 774.7929688,29831 777,29831 L782,29831" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3407)" />
<clipPath id="clip3408"><path d="M698,29716 L1249,29716 L1249,29833 L698,29833 L698,29716 Z" /></clipPath>
<path d="M760,29802 L773,29802" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3408)" />
<clipPath id="clip3409"><path d="M698,29776 L763,29776 L763,29804 L698,29804 L698,29776 Z" /></clipPath>
<path d="M700,29802 L760,29802 Z M700,29802" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3409)" />
<text x="710" y="29792" style="font:10px Open Sans">创新点</text>
<clipPath id="clip3410"><path d="M781,29717 L1248,29717 L1248,29803 L781,29803 Z M782,29749 L782,29772 L933,29772 L933,29749 Z M782,29749 Z M782,29749" /></clipPath>
<path d="M946,29773 L946,29748 C946,29745.7929688 947.7929688,29744 950,29744 L955,29744" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3410)" />
<clipPath id="clip3411"><path d="M781,29717 L1248,29717 L1248,29803 L781,29803 Z M782,29749 L782,29772 L933,29772 L933,29749 Z M782,29749 Z M782,29749" /></clipPath>
<path d="M946,29773 C946,29773 947.7929688,29773 950,29773 L955,29773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3411)" />
<clipPath id="clip3412"><path d="M781,29717 L1248,29717 L1248,29803 L781,29803 Z M782,29749 L782,29772 L933,29772 L933,29749 Z M782,29749 Z M782,29749" /></clipPath>
<path d="M946,29773 L946,29798 C946,29800.2070313 947.7929688,29802 950,29802 L955,29802" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3412)" />
<clipPath id="clip3413"><path d="M780,29716 L1249,29716 L1249,29804 L780,29804 L780,29716 Z" /></clipPath>
<path d="M933,29773 L946,29773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3413)" />
<clipPath id="clip3414"><path d="M780,29747 L936,29747 L936,29775 L780,29775 L780,29747 Z" /></clipPath>
<path d="M782,29773 L933,29773 Z M782,29773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3414)" />
<text x="792" y="29763" style="font:10px Open Sans">提出实体组的数据模型</text>
<clipPath id="clip3415"><path d="M953,29716 L1204,29716 L1204,29746 L953,29746 L953,29716 Z" /></clipPath>
<path d="M955,29744 L1201,29744 Z M955,29744" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3415)" />
<text x="965" y="29732" style="font:10px Open Sans">实体组内部维持关系数据库的ACID特性</text>
<clipPath id="clip3416"><path d="M953,29745 L1203,29745 L1203,29775 L953,29775 L953,29745 Z" /></clipPath>
<path d="M955,29773 L1200,29773 Z M955,29773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3416)" />
<text x="965" y="29761" style="font:10px Open Sans">实体组之间维持类似NoSQL的弱一致性</text>
<clipPath id="clip3417"><path d="M953,29774 L1249,29774 L1249,29804 L953,29804 L953,29774 Z" /></clipPath>
<path d="M955,29802 L1246,29802 Z M955,29802" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3417)" />
<text x="965" y="29790" style="font:10px Open Sans">很大程度上规避了影响性能和扩展性的Join操作</text>
<clipPath id="clip3418"><path d="M780,29803 L1063,29803 L1063,29833 L780,29833 L780,29803 Z" /></clipPath>
<path d="M782,29831 L1060,29831 Z M782,29831" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3418)" />
<text x="792" y="29819" style="font:10px Open Sans">通过Paxos协议同时保证高可靠性和高可用性</text>
<clipPath id="clip3419"><path d="M699,29833 L1013,29833 L1013,29944 L699,29944 Z M700,29877 L700,29900 L747,29900 L747,29877 Z M700,29877 Z M700,29877" /></clipPath>
<path d="M760,29901 L760,29864 C760,29861.7929688 761.7929688,29860 764,29860 L769,29860" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3419)" />
<clipPath id="clip3420"><path d="M699,29833 L1013,29833 L1013,29944 L699,29944 Z M700,29877 L700,29900 L747,29900 L747,29877 Z M700,29877 Z M700,29877" /></clipPath>
<path d="M760,29901 L760,29893 C760,29890.7929688 761.7929688,29889 764,29889 L769,29889" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3420)" />
<clipPath id="clip3421"><path d="M699,29833 L1013,29833 L1013,29944 L699,29944 Z M700,29877 L700,29900 L747,29900 L747,29877 Z M700,29877 Z M700,29877" /></clipPath>
<path d="M760,29901 L760,29912 C760,29914.2070313 761.7929688,29916 764,29916 L769,29916" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3421)" />
<clipPath id="clip3422"><path d="M699,29833 L1013,29833 L1013,29944 L699,29944 Z M700,29877 L700,29900 L747,29900 L747,29877 Z M700,29877 Z M700,29877" /></clipPath>
<path d="M760,29901 L760,29939 C760,29941.2070313 761.7929688,29943 764,29943 L769,29943" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3422)" />
<clipPath id="clip3423"><path d="M698,29832 L1014,29832 L1014,29945 L698,29945 L698,29832 Z" /></clipPath>
<path d="M747,29901 L760,29901" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3423)" />
<clipPath id="clip3424"><path d="M698,29875 L750,29875 L750,29903 L698,29903 L698,29875 Z" /></clipPath>
<path d="M700,29901 L747,29901 Z M700,29901" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3424)" />
<text x="710" y="29891" style="font:10px Open Sans">问题</text>
<clipPath id="clip3425"><path d="M767,29832 L946,29832 L946,29862 L767,29862 L767,29832 Z" /></clipPath>
<path d="M769,29860 L943,29860 Z M769,29860" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3425)" />
<text x="779" y="29848" style="font:10px Open Sans">源于Bigtable的单副本服务</text>
<clipPath id="clip3426"><path d="M767,29861 L869,29861 L869,29891 L767,29891 L767,29861 Z" /></clipPath>
<path d="M769,29889 L866,29889 Z M769,29889" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3426)" />
<text x="779" y="29877" style="font:10px Open Sans">SSD支持较弱</text>
<clipPath id="clip3427"><path d="M767,29890 L897,29890 L897,29918 L767,29918 L767,29890 Z" /></clipPath>
<path d="M769,29916 L894,29916 Z M769,29916" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3427)" />
<text x="779" y="29906" style="font:10px Open Sans">整体结构过于复杂</text>
<clipPath id="clip3428"><path d="M767,29917 L1014,29917 L1014,29945 L767,29945 L767,29917 Z" /></clipPath>
<path d="M769,29943 L1011,29943 Z M769,29943" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3428)" />
<text x="779" y="29933" style="font:10px Open Sans">协调者对读写服务和运维复杂度的影响</text>
<clipPath id="clip3429"><path d="M523,29945 L1865,29945 L1865,34726 L523,34726 Z M524,32303 L524,32328 L628,32328 L628,32303 Z M524,32303 Z M524,32303" /></clipPath>
<path d="M641,32329 L641,30005 C641,30002.7929688 642.7929688,30001 645,30001 L650,30001" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3429)" />
<clipPath id="clip3430"><path d="M523,29945 L1865,29945 L1865,34726 L523,34726 Z M524,32303 L524,32328 L628,32328 L628,32303 Z M524,32303 Z M524,32303" /></clipPath>
<path d="M641,32329 L641,30425 C641,30422.7929688 642.7929688,30421 645,30421 L650,30421" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3430)" />
<clipPath id="clip3431"><path d="M523,29945 L1865,29945 L1865,34726 L523,34726 Z M524,32303 L524,32328 L628,32328 L628,32303 Z M524,32303 Z M524,32303" /></clipPath>
<path d="M641,32329 L641,31650 C641,31647.7929688 642.7929688,31646 645,31646 L650,31646" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3431)" />
<clipPath id="clip3432"><path d="M523,29945 L1865,29945 L1865,34726 L523,34726 Z M524,32303 L524,32328 L628,32328 L628,32303 Z M524,32303 Z M524,32303" /></clipPath>
<path d="M641,32329 L641,33507 C641,33509.2070313 642.7929688,33511 645,33511 L650,33511" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3432)" />
<clipPath id="clip3433"><path d="M523,29945 L1865,29945 L1865,34726 L523,34726 Z M524,32303 L524,32328 L628,32328 L628,32303 Z M524,32303 Z M524,32303" /></clipPath>
<path d="M641,32329 L641,34654 C641,34656.2070313 642.7929688,34658 645,34658 L650,34658" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3433)" />
<clipPath id="clip3434"><path d="M522,29944 L1866,29944 L1866,34727 L522,34727 L522,29944 Z" /></clipPath>
<path d="M628,32329 L641,32329" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3434)" />
<clipPath id="clip3435"><path d="M522,32301 L631,32301 L631,32331 L522,32331 L522,32301 Z" /></clipPath>
<path d="M524,32329 L628,32329 Z M524,32329" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3435)" />
<text x="534" y="32317" style="font:10px Open Sans">Azure Storage</text>
<clipPath id="clip3436"><path d="M649,29945 L929,29945 L929,30031 L649,30031 Z M650,29977 L650,30000 L749,30000 L749,29977 Z M650,29977 Z M650,29977" /></clipPath>
<path d="M762,30001 L762,29976 C762,29973.7929688 763.7929688,29972 766,29972 L771,29972" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3436)" />
<clipPath id="clip3437"><path d="M649,29945 L929,29945 L929,30031 L649,30031 Z M650,29977 L650,30000 L749,30000 L749,29977 Z M650,29977 Z M650,29977" /></clipPath>
<path d="M762,30001 C762,30001 763.7929688,30001 766,30001 L771,30001" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3437)" />
<clipPath id="clip3438"><path d="M649,29945 L929,29945 L929,30031 L649,30031 Z M650,29977 L650,30000 L749,30000 L749,29977 Z M650,29977 Z M650,29977" /></clipPath>
<path d="M762,30001 L762,30026 C762,30028.2070313 763.7929688,30030 766,30030 L771,30030" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3438)" />
<clipPath id="clip3439"><path d="M648,29944 L930,29944 L930,30032 L648,30032 L648,29944 Z" /></clipPath>
<path d="M749,30001 L762,30001" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3439)" />
<clipPath id="clip3440"><path d="M648,29975 L752,29975 L752,30003 L648,30003 L648,29975 Z" /></clipPath>
<path d="M650,30001 L749,30001 Z M650,30001" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3440)" />
<text x="660" y="29991" style="font:10px Open Sans">数据存储服务</text>
<clipPath id="clip3441"><path d="M769,29944 L918,29944 L918,29974 L769,29974 L769,29944 Z" /></clipPath>
<path d="M771,29972 L915,29972 Z M771,29972" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3441)" />
<text x="781" y="29960" style="font:10px Open Sans">Windows Azure Blob</text>
<clipPath id="clip3442"><path d="M769,29973 L922,29973 L922,30003 L769,30003 L769,29973 Z" /></clipPath>
<path d="M771,30001 L919,30001 Z M771,30001" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3442)" />
<text x="781" y="29989" style="font:10px Open Sans">Windows Azure Table</text>
<clipPath id="clip3443"><path d="M769,30002 L930,30002 L930,30032 L769,30032 L769,30002 Z" /></clipPath>
<path d="M771,30030 L927,30030 Z M771,30030" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3443)" />
<text x="781" y="30018" style="font:10px Open Sans">Windows Azure Queue</text>
<clipPath id="clip3444"><path d="M649,30032 L1598,30032 L1598,30801 L649,30801 Z M650,30397 L650,30420 L723,30420 L723,30397 Z M650,30397 Z M650,30397" /></clipPath>
<path d="M736,30421 L736,30115 C736,30112.7929688 737.7929688,30111 740,30111 L745,30111" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3444)" />
<clipPath id="clip3445"><path d="M649,30032 L1598,30032 L1598,30801 L649,30801 Z M650,30397 L650,30420 L723,30420 L723,30397 Z M650,30397 Z M650,30397" /></clipPath>
<path d="M736,30421 L736,30334 C736,30331.7929688 737.7929688,30330 740,30330 L745,30330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3445)" />
<clipPath id="clip3446"><path d="M649,30032 L1598,30032 L1598,30801 L649,30801 Z M650,30397 L650,30420 L723,30420 L723,30397 Z M650,30397 Z M650,30397" /></clipPath>
<path d="M736,30421 L736,30728 C736,30730.2070313 737.7929688,30732 740,30732 L745,30732" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3446)" />
<clipPath id="clip3447"><path d="M648,30031 L1599,30031 L1599,30802 L648,30802 L648,30031 Z" /></clipPath>
<path d="M723,30421 L736,30421" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3447)" />
<clipPath id="clip3448"><path d="M648,30395 L726,30395 L726,30423 L648,30423 L648,30395 Z" /></clipPath>
<path d="M650,30421 L723,30421 Z M650,30421" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3448)" />
<text x="660" y="30411" style="font:10px Open Sans">整体架构</text>
<clipPath id="clip3449"><path d="M744,30032 L1334,30032 L1334,30166 L744,30166 Z M745,30085 L745,30110 L951,30110 L951,30085 Z M745,30085 Z M745,30085" /></clipPath>
<path d="M964,30111 L964,30061 C964,30058.7929688 965.7929688,30057 968,30057 L973,30057" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3449)" />
<clipPath id="clip3450"><path d="M744,30032 L1334,30032 L1334,30166 L744,30166 Z M745,30085 L745,30110 L951,30110 L951,30085 Z M745,30085 Z M745,30085" /></clipPath>
<path d="M964,30111 L964,30088 C964,30085.7929688 965.7929688,30084 968,30084 L973,30084" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3450)" />
<clipPath id="clip3451"><path d="M744,30032 L1334,30032 L1334,30166 L744,30166 Z M745,30085 L745,30110 L951,30110 L951,30085 Z M745,30085 Z M745,30085" /></clipPath>
<path d="M964,30111 C964,30111 965.7929688,30111 968,30111 L973,30111" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3451)" />
<clipPath id="clip3452"><path d="M744,30032 L1334,30032 L1334,30166 L744,30166 Z M745,30085 L745,30110 L951,30110 L951,30085 Z M745,30085 Z M745,30085" /></clipPath>
<path d="M964,30111 L964,30134 C964,30136.2070313 965.7929688,30138 968,30138 L973,30138" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3452)" />
<clipPath id="clip3453"><path d="M744,30032 L1334,30032 L1334,30166 L744,30166 Z M745,30085 L745,30110 L951,30110 L951,30085 Z M745,30085 Z M745,30085" /></clipPath>
<path d="M964,30111 L964,30161 C964,30163.2070313 965.7929688,30165 968,30165 L973,30165" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3453)" />
<clipPath id="clip3454"><path d="M743,30031 L1335,30031 L1335,30167 L743,30167 L743,30031 Z" /></clipPath>
<path d="M951,30111 L964,30111" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3454)" />
<clipPath id="clip3455"><path d="M743,30083 L954,30083 L954,30113 L743,30113 L743,30083 Z" /></clipPath>
<path d="M745,30111 L951,30111 Z M745,30111" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3455)" />
<text x="755" y="30099" style="font:10px Open Sans">结构控制器（Fabic Controller）</text>
<clipPath id="clip3456"><path d="M971,30031 L1049,30031 L1049,30059 L971,30059 L971,30031 Z" /></clipPath>
<path d="M973,30057 L1046,30057 Z M973,30057" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3456)" />
<text x="983" y="30047" style="font:10px Open Sans">节点管理</text>
<clipPath id="clip3457"><path d="M971,30058 L1049,30058 L1049,30086 L971,30086 L971,30058 Z" /></clipPath>
<path d="M973,30084 L1046,30084 Z M973,30084" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3457)" />
<text x="983" y="30074" style="font:10px Open Sans">网络配置</text>
<clipPath id="clip3458"><path d="M971,30085 L1049,30085 L1049,30113 L971,30113 L971,30085 Z" /></clipPath>
<path d="M973,30111 L1046,30111 Z M973,30111" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3458)" />
<text x="983" y="30101" style="font:10px Open Sans">健康检查</text>
<clipPath id="clip3459"><path d="M971,30112 L1166,30112 L1166,30140 L971,30140 L971,30112 Z" /></clipPath>
<path d="M973,30138 L1163,30138 Z M973,30138" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3459)" />
<text x="983" y="30128" style="font:10px Open Sans">服务启动、关闭、部署和升级</text>
<clipPath id="clip3460"><path d="M971,30139 L1335,30139 L1335,30167 L971,30167 L971,30139 Z" /></clipPath>
<path d="M973,30165 L1332,30165 Z M973,30165" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3460)" />
<text x="983" y="30155" style="font:10px Open Sans">获取网络拓扑信息、集群物理部署及存储节点硬件配置信息</text>
<clipPath id="clip3461"><path d="M744,30167 L1598,30167 L1598,30637 L744,30637 Z M745,30304 L745,30329 L793,30329 L793,30304 Z M745,30304 Z M745,30304" /></clipPath>
<path d="M806,30330 L806,30251 C806,30248.7929688 807.7929688,30247 810,30247 L815,30247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3461)" />
<clipPath id="clip3462"><path d="M744,30167 L1598,30167 L1598,30637 L744,30637 Z M745,30304 L745,30329 L793,30329 L793,30304 Z M745,30304 Z M745,30304" /></clipPath>
<path d="M806,30330 L806,30409 C806,30411.2070313 807.7929688,30413 810,30413 L815,30413" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3462)" />
<clipPath id="clip3463"><path d="M743,30166 L1599,30166 L1599,30638 L743,30638 L743,30166 Z" /></clipPath>
<path d="M793,30330 L806,30330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3463)" />
<clipPath id="clip3464"><path d="M743,30302 L796,30302 L796,30332 L743,30332 L743,30302 Z" /></clipPath>
<path d="M745,30330 L793,30330 Z M745,30330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3464)" />
<text x="755" y="30318" style="font:10px Open Sans">WAS</text>
<clipPath id="clip3465"><path d="M814,30167 L1382,30167 L1382,30303 L814,30303 Z M815,30221 L815,30246 L1011,30246 L1011,30221 Z M815,30221 Z M815,30221" /></clipPath>
<path d="M1024,30247 L1024,30196 C1024,30193.7929688 1025.7929688,30192 1028,30192 L1033,30192" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3465)" />
<clipPath id="clip3466"><path d="M814,30167 L1382,30167 L1382,30303 L814,30303 Z M815,30221 L815,30246 L1011,30246 L1011,30221 Z M815,30221 Z M815,30221" /></clipPath>
<path d="M1024,30247 L1024,30223 C1024,30220.7929688 1025.7929688,30219 1028,30219 L1033,30219" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3466)" />
<clipPath id="clip3467"><path d="M814,30167 L1382,30167 L1382,30303 L814,30303 Z M815,30221 L815,30246 L1011,30246 L1011,30221 Z M815,30221 Z M815,30221" /></clipPath>
<path d="M1024,30247 C1024,30246.4492188 1025.7929688,30246 1028,30246 L1033,30246" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3467)" />
<clipPath id="clip3468"><path d="M814,30167 L1382,30167 L1382,30303 L814,30303 Z M815,30221 L815,30246 L1011,30246 L1011,30221 Z M815,30221 Z M815,30221" /></clipPath>
<path d="M1024,30247 L1024,30269 C1024,30271.2070313 1025.7929688,30273 1028,30273 L1033,30273" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3468)" />
<clipPath id="clip3469"><path d="M814,30167 L1382,30167 L1382,30303 L814,30303 Z M815,30221 L815,30246 L1011,30246 L1011,30221 Z M815,30221 Z M815,30221" /></clipPath>
<path d="M1024,30247 L1024,30298 C1024,30300.2070313 1025.7929688,30302 1028,30302 L1033,30302" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3469)" />
<clipPath id="clip3470"><path d="M813,30166 L1383,30166 L1383,30304 L813,30304 L813,30166 Z" /></clipPath>
<path d="M1011,30247 L1024,30247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3470)" />
<clipPath id="clip3471"><path d="M813,30219 L1014,30219 L1014,30249 L813,30249 L813,30219 Z" /></clipPath>
<path d="M815,30247 L1011,30247 Z M815,30247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3471)" />
<text x="825" y="30235" style="font:10px Open Sans">定位服务（Location Service）</text>
<clipPath id="clip3472"><path d="M1031,30166 L1161,30166 L1161,30194 L1031,30194 L1031,30166 Z" /></clipPath>
<path d="M1033,30192 L1158,30192 Z M1033,30192" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3472)" />
<text x="1043" y="30182" style="font:10px Open Sans">管理所有的存储区</text>
<clipPath id="clip3473"><path d="M1031,30193 L1252,30193 L1252,30221 L1031,30221 L1031,30193 Z" /></clipPath>
<path d="M1033,30219 L1249,30219 Z M1033,30219" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3473)" />
<text x="1043" y="30209" style="font:10px Open Sans">管理用户到存储区之间的映射关系</text>
<clipPath id="clip3474"><path d="M1031,30220 L1187,30220 L1187,30248 L1031,30248 L1031,30220 Z" /></clipPath>
<path d="M1033,30246 L1184,30246 Z M1033,30246" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3474)" />
<text x="1043" y="30236" style="font:10px Open Sans">收集存储区的负载信息</text>
<clipPath id="clip3475"><path d="M1031,30247 L1239,30247 L1239,30275 L1031,30275 L1031,30247 Z" /></clipPath>
<path d="M1033,30273 L1236,30273 Z M1033,30273" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3475)" />
<text x="1043" y="30263" style="font:10px Open Sans">分配新用户到负载最轻的存储区</text>
<clipPath id="clip3476"><path d="M1031,30274 L1383,30274 L1383,30304 L1031,30304 L1031,30274 Z" /></clipPath>
<path d="M1033,30302 L1380,30302 Z M1033,30302" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3476)" />
<text x="1043" y="30290" style="font:10px Open Sans">需要通过DNS服务来使每个账户的请求定位到所属存储区</text>
<clipPath id="clip3477"><path d="M814,30304 L1598,30304 L1598,30637 L814,30637 Z M815,30387 L815,30412 L989,30412 L989,30387 Z M815,30387 Z M815,30387" /></clipPath>
<path d="M1002,30413 L1002,30333 C1002,30330.7929688 1003.7929688,30329 1006,30329 L1011,30329" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3477)" />
<clipPath id="clip3478"><path d="M814,30304 L1598,30304 L1598,30637 L814,30637 Z M815,30387 L815,30412 L989,30412 L989,30387 Z M815,30387 Z M815,30387" /></clipPath>
<path d="M1002,30413 L1002,30493 C1002,30495.2070313 1003.7929688,30497 1006,30497 L1011,30497" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3478)" />
<clipPath id="clip3479"><path d="M813,30303 L1599,30303 L1599,30638 L813,30638 L813,30303 Z" /></clipPath>
<path d="M989,30413 L1002,30413" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3479)" />
<clipPath id="clip3480"><path d="M813,30385 L992,30385 L992,30415 L813,30415 L813,30385 Z" /></clipPath>
<path d="M815,30413 L989,30413 Z M815,30413" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3480)" />
<text x="825" y="30401" style="font:10px Open Sans">存储区（Storage Stamp）</text>
<clipPath id="clip3481"><path d="M1009,30303 L1165,30303 L1165,30331 L1009,30331 L1009,30303 Z" /></clipPath>
<path d="M1011,30329 L1162,30329 Z M1011,30329" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3481)" />
<text x="1021" y="30319" style="font:10px Open Sans">每个存储区是一个集群</text>
<clipPath id="clip3482"><path d="M1010,30331 L1598,30331 L1598,30637 L1010,30637 Z M1011,30473 L1011,30496 L1058,30496 L1058,30473 Z M1011,30473 Z M1011,30473" /></clipPath>
<path d="M1071,30497 L1071,30404 C1071,30401.7929688 1072.7929688,30400 1075,30400 L1080,30400" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3482)" />
<clipPath id="clip3483"><path d="M1010,30331 L1598,30331 L1598,30637 L1010,30637 Z M1011,30473 L1011,30496 L1058,30496 L1058,30473 Z M1011,30473 Z M1011,30473" /></clipPath>
<path d="M1071,30497 C1071,30498.1015625 1072.7929688,30499 1075,30499 L1080,30499" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3483)" />
<clipPath id="clip3484"><path d="M1010,30331 L1598,30331 L1598,30637 L1010,30637 Z M1011,30473 L1011,30496 L1058,30496 L1058,30473 Z M1011,30473 Z M1011,30473" /></clipPath>
<path d="M1071,30497 L1071,30591 C1071,30593.2070313 1072.7929688,30595 1075,30595 L1080,30595" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3484)" />
<clipPath id="clip3485"><path d="M1009,30330 L1599,30330 L1599,30638 L1009,30638 L1009,30330 Z" /></clipPath>
<path d="M1058,30497 L1071,30497" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3485)" />
<clipPath id="clip3486"><path d="M1009,30471 L1061,30471 L1061,30499 L1009,30499 L1009,30471 Z" /></clipPath>
<path d="M1011,30497 L1058,30497 Z M1011,30497" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3486)" />
<text x="1021" y="30487" style="font:10px Open Sans">结构</text>
<clipPath id="clip3487"><path d="M1079,30331 L1576,30331 L1576,30444 L1079,30444 Z M1080,30374 L1080,30399 L1258,30399 L1258,30374 Z M1080,30374 Z M1080,30374" /></clipPath>
<path d="M1271,30400 L1271,30362 C1271,30359.7929688 1272.7929688,30358 1275,30358 L1280,30358" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3487)" />
<clipPath id="clip3488"><path d="M1079,30331 L1576,30331 L1576,30444 L1079,30444 Z M1080,30374 L1080,30399 L1258,30399 L1258,30374 Z M1080,30374 Z M1080,30374" /></clipPath>
<path d="M1271,30400 L1271,30391 C1271,30388.7929688 1272.7929688,30387 1275,30387 L1280,30387" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3488)" />
<clipPath id="clip3489"><path d="M1079,30331 L1576,30331 L1576,30444 L1079,30444 Z M1080,30374 L1080,30399 L1258,30399 L1258,30374 Z M1080,30374 Z M1080,30374" /></clipPath>
<path d="M1271,30400 L1271,30412 C1271,30414.2070313 1272.7929688,30416 1275,30416 L1280,30416" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3489)" />
<clipPath id="clip3490"><path d="M1079,30331 L1576,30331 L1576,30444 L1079,30444 Z M1080,30374 L1080,30399 L1258,30399 L1258,30374 Z M1080,30374 Z M1080,30374" /></clipPath>
<path d="M1271,30400 L1271,30439 C1271,30441.2070313 1272.7929688,30443 1275,30443 L1280,30443" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3490)" />
<clipPath id="clip3491"><path d="M1078,30330 L1577,30330 L1577,30445 L1078,30445 L1078,30330 Z" /></clipPath>
<path d="M1258,30400 L1271,30400" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3491)" />
<clipPath id="clip3492"><path d="M1078,30372 L1261,30372 L1261,30402 L1078,30402 L1078,30372 Z" /></clipPath>
<path d="M1080,30400 L1258,30400 Z M1080,30400" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3492)" />
<text x="1090" y="30388" style="font:10px Open Sans">文件流层（Stream Layer）</text>
<clipPath id="clip3493"><path d="M1278,30330 L1543,30330 L1543,30360 L1278,30360 L1278,30330 Z" /></clipPath>
<path d="M1280,30358 L1540,30358 Z M1280,30358" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3493)" />
<text x="1290" y="30346" style="font:10px Open Sans">与Google GFS类似，提供分布式文件存储</text>
<clipPath id="clip3494"><path d="M1278,30359 L1443,30359 L1443,30389 L1278,30389 L1278,30359 Z" /></clipPath>
<path d="M1280,30387 L1440,30387 Z M1280,30387" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3494)" />
<text x="1290" y="30375" style="font:10px Open Sans">文件称为流（streams）</text>
<clipPath id="clip3495"><path d="M1278,30388 L1512,30388 L1512,30418 L1278,30418 L1278,30388 Z" /></clipPath>
<path d="M1280,30416 L1509,30416 Z M1280,30416" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3495)" />
<text x="1290" y="30404" style="font:10px Open Sans">文件中的Chunk称为范围（extent）</text>
<clipPath id="clip3496"><path d="M1278,30417 L1577,30417 L1577,30445 L1278,30445 L1278,30417 Z" /></clipPath>
<path d="M1280,30443 L1574,30443 Z M1280,30443" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3496)" />
<text x="1290" y="30433" style="font:10px Open Sans">文件流层一般不直接对外服务，通过分区层访问</text>
<clipPath id="clip3497"><path d="M1079,30445 L1598,30445 L1598,30527 L1079,30527 Z M1080,30473 L1080,30498 L1254,30498 L1254,30473 Z M1080,30473 Z M1080,30473" /></clipPath>
<path d="M1267,30499 L1267,30476 C1267,30473.7929688 1268.7929688,30472 1271,30472 L1276,30472" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3497)" />
<clipPath id="clip3498"><path d="M1079,30445 L1598,30445 L1598,30527 L1079,30527 Z M1080,30473 L1080,30498 L1254,30498 L1254,30473 Z M1080,30473 Z M1080,30473" /></clipPath>
<path d="M1267,30499 C1267,30499 1268.7929688,30499 1271,30499 L1276,30499" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3498)" />
<clipPath id="clip3499"><path d="M1079,30445 L1598,30445 L1598,30527 L1079,30527 Z M1080,30473 L1080,30498 L1254,30498 L1254,30473 Z M1080,30473 Z M1080,30473" /></clipPath>
<path d="M1267,30499 L1267,30522 C1267,30524.2070313 1268.7929688,30526 1271,30526 L1276,30526" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3499)" />
<clipPath id="clip3500"><path d="M1078,30444 L1599,30444 L1599,30528 L1078,30528 L1078,30444 Z" /></clipPath>
<path d="M1254,30499 L1267,30499" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3500)" />
<clipPath id="clip3501"><path d="M1078,30471 L1257,30471 L1257,30501 L1078,30501 L1078,30471 Z" /></clipPath>
<path d="M1080,30499 L1254,30499 Z M1080,30499" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3501)" />
<text x="1090" y="30487" style="font:10px Open Sans">分区层（Partition Layer）</text>
<clipPath id="clip3502"><path d="M1274,30444 L1434,30444 L1434,30474 L1274,30474 L1274,30444 Z" /></clipPath>
<path d="M1276,30472 L1431,30472 Z M1276,30472" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3502)" />
<text x="1286" y="30460" style="font:10px Open Sans">与Google Bigtable类似</text>
<clipPath id="clip3503"><path d="M1274,30473 L1599,30473 L1599,30501 L1274,30501 L1274,30473 Z" /></clipPath>
<path d="M1276,30499 L1596,30499 Z M1276,30499" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3503)" />
<text x="1286" y="30489" style="font:10px Open Sans">将对象划分到不同的分区以被不同的分区服务器服务</text>
<clipPath id="clip3504"><path d="M1274,30500 L1508,30500 L1508,30528 L1274,30528 L1274,30500 Z" /></clipPath>
<path d="M1276,30526 L1505,30526 Z M1276,30526" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3504)" />
<text x="1286" y="30516" style="font:10px Open Sans">分区服务器将对象持久化到文件流层</text>
<clipPath id="clip3505"><path d="M1079,30528 L1593,30528 L1593,30637 L1079,30637 Z M1080,30569 L1080,30594 L1262,30594 L1262,30569 Z M1080,30569 Z M1080,30569" /></clipPath>
<path d="M1275,30595 L1275,30559 C1275,30556.7929688 1276.7929688,30555 1279,30555 L1284,30555" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3505)" />
<clipPath id="clip3506"><path d="M1079,30528 L1593,30528 L1593,30637 L1079,30637 Z M1080,30569 L1080,30594 L1262,30594 L1262,30569 Z M1080,30569 Z M1080,30569" /></clipPath>
<path d="M1275,30595 L1275,30586 C1275,30583.7929688 1276.7929688,30582 1279,30582 L1284,30582" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3506)" />
<clipPath id="clip3507"><path d="M1079,30528 L1593,30528 L1593,30637 L1079,30637 Z M1080,30569 L1080,30594 L1262,30594 L1262,30569 Z M1080,30569 Z M1080,30569" /></clipPath>
<path d="M1275,30595 L1275,30605 C1275,30607.2070313 1276.7929688,30609 1279,30609 L1284,30609" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3507)" />
<clipPath id="clip3508"><path d="M1079,30528 L1593,30528 L1593,30637 L1079,30637 Z M1080,30569 L1080,30594 L1262,30594 L1262,30569 Z M1080,30569 Z M1080,30569" /></clipPath>
<path d="M1275,30595 L1275,30632 C1275,30634.2070313 1276.7929688,30636 1279,30636 L1284,30636" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3508)" />
<clipPath id="clip3509"><path d="M1078,30527 L1594,30527 L1594,30638 L1078,30638 L1078,30527 Z" /></clipPath>
<path d="M1262,30595 L1275,30595" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3509)" />
<clipPath id="clip3510"><path d="M1078,30567 L1265,30567 L1265,30597 L1078,30597 L1078,30567 Z" /></clipPath>
<path d="M1080,30595 L1262,30595 Z M1080,30595" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3510)" />
<text x="1090" y="30583" style="font:10px Open Sans">前端层（Front-End Layer）</text>
<clipPath id="clip3511"><path d="M1282,30527 L1491,30527 L1491,30557 L1282,30557 L1282,30527 Z" /></clipPath>
<path d="M1284,30555 L1488,30555 Z M1284,30555" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3511)" />
<text x="1294" y="30543" style="font:10px Open Sans">包括一系列无状态的Web服务器</text>
<clipPath id="clip3512"><path d="M1282,30556 L1425,30556 L1425,30584 L1282,30584 L1282,30556 Z" /></clipPath>
<path d="M1284,30582 L1422,30582 Z M1284,30582" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3512)" />
<text x="1294" y="30572" style="font:10px Open Sans">完成权限验证等功能</text>
<clipPath id="clip3513"><path d="M1282,30583 L1594,30583 L1594,30611 L1282,30611 L1282,30583 Z" /></clipPath>
<path d="M1284,30609 L1591,30609 Z M1284,30609" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3513)" />
<text x="1294" y="30599" style="font:10px Open Sans">根据请求的分区名将请求转发到不同的分区服务器</text>
<clipPath id="clip3514"><path d="M1282,30610 L1516,30610 L1516,30638 L1282,30638 L1282,30610 Z" /></clipPath>
<path d="M1284,30636 L1513,30636 Z M1284,30636" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3514)" />
<text x="1294" y="30626" style="font:10px Open Sans">一般缓存分区映射表以减少一次请求</text>
<clipPath id="clip3515"><path d="M744,30638 L1398,30638 L1398,30801 L744,30801 Z M745,30708 L745,30731 L818,30731 L818,30708 Z M745,30708 Z M745,30708" /></clipPath>
<path d="M831,30732 L831,30695 C831,30692.7929688 832.7929688,30691 835,30691 L840,30691" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3515)" />
<clipPath id="clip3516"><path d="M744,30638 L1398,30638 L1398,30801 L744,30801 Z M745,30708 L745,30731 L818,30731 L818,30708 Z M745,30708 Z M745,30708" /></clipPath>
<path d="M831,30732 L831,30769 C831,30771.2070313 832.7929688,30773 835,30773 L840,30773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3516)" />
<clipPath id="clip3517"><path d="M743,30637 L1399,30637 L1399,30802 L743,30802 L743,30637 Z" /></clipPath>
<path d="M818,30732 L831,30732" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3517)" />
<clipPath id="clip3518"><path d="M743,30706 L821,30706 L821,30734 L743,30734 L743,30706 Z" /></clipPath>
<path d="M745,30732 L818,30732 Z M745,30732" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3518)" />
<text x="755" y="30722" style="font:10px Open Sans">复制方式</text>
<clipPath id="clip3519"><path d="M839,30638 L1398,30638 L1398,30720 L839,30720 Z M840,30665 L840,30690 L1106,30690 L1106,30665 Z M840,30665 Z M840,30665" /></clipPath>
<path d="M1119,30691 L1119,30667 C1119,30664.7929688 1120.7929688,30663 1123,30663 L1128,30663" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3519)" />
<clipPath id="clip3520"><path d="M839,30638 L1398,30638 L1398,30720 L839,30720 Z M840,30665 L840,30690 L1106,30690 L1106,30665 Z M840,30665 Z M840,30665" /></clipPath>
<path d="M1119,30691 C1119,30691.5507813 1120.7929688,30692 1123,30692 L1128,30692" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3520)" />
<clipPath id="clip3521"><path d="M839,30638 L1398,30638 L1398,30720 L839,30720 Z M840,30665 L840,30690 L1106,30690 L1106,30665 Z M840,30665 Z M840,30665" /></clipPath>
<path d="M1119,30691 L1119,30715 C1119,30717.2070313 1120.7929688,30719 1123,30719 L1128,30719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3521)" />
<clipPath id="clip3522"><path d="M838,30637 L1399,30637 L1399,30721 L838,30721 L838,30637 Z" /></clipPath>
<path d="M1106,30691 L1119,30691" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3522)" />
<clipPath id="clip3523"><path d="M838,30663 L1109,30663 L1109,30693 L838,30693 L838,30663 Z" /></clipPath>
<path d="M840,30691 L1106,30691 Z M840,30691" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3523)" />
<text x="850" y="30679" style="font:10px Open Sans">存储区内复制（Intra-Stamp Replication）</text>
<clipPath id="clip3524"><path d="M1126,30637 L1230,30637 L1230,30665 L1126,30665 L1126,30637 Z" /></clipPath>
<path d="M1128,30663 L1227,30663 Z M1128,30663" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3524)" />
<text x="1138" y="30653" style="font:10px Open Sans">文件流层实现</text>
<clipPath id="clip3525"><path d="M1126,30664 L1399,30664 L1399,30694 L1126,30694 L1126,30664 Z" /></clipPath>
<path d="M1128,30692 L1396,30692 Z M1128,30692" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3525)" />
<text x="1138" y="30680" style="font:10px Open Sans">同一个extent的多个副本之间为强同步模式</text>
<clipPath id="clip3526"><path d="M1126,30693 L1399,30693 L1399,30721 L1126,30721 L1126,30693 Z" /></clipPath>
<path d="M1128,30719 L1396,30719 Z M1128,30719" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3526)" />
<text x="1138" y="30709" style="font:10px Open Sans">写操作在所有副本都同步成功后才返回成功</text>
<clipPath id="clip3527"><path d="M839,30721 L1372,30721 L1372,30801 L839,30801 Z M840,30747 L840,30772 L1106,30772 L1106,30747 Z M840,30747 Z M840,30747" /></clipPath>
<path d="M1119,30773 L1119,30750 C1119,30747.7929688 1120.7929688,30746 1123,30746 L1128,30746" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3527)" />
<clipPath id="clip3528"><path d="M839,30721 L1372,30721 L1372,30801 L839,30801 Z M840,30747 L840,30772 L1106,30772 L1106,30747 Z M840,30747 Z M840,30747" /></clipPath>
<path d="M1119,30773 C1119,30773 1120.7929688,30773 1123,30773 L1128,30773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3528)" />
<clipPath id="clip3529"><path d="M839,30721 L1372,30721 L1372,30801 L839,30801 Z M840,30747 L840,30772 L1106,30772 L1106,30747 Z M840,30747 Z M840,30747" /></clipPath>
<path d="M1119,30773 L1119,30796 C1119,30798.2070313 1120.7929688,30800 1123,30800 L1128,30800" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3529)" />
<clipPath id="clip3530"><path d="M838,30720 L1373,30720 L1373,30802 L838,30802 L838,30720 Z" /></clipPath>
<path d="M1106,30773 L1119,30773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3530)" />
<clipPath id="clip3531"><path d="M838,30745 L1109,30745 L1109,30775 L838,30775 L838,30745 Z" /></clipPath>
<path d="M840,30773 L1106,30773 Z M840,30773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3531)" />
<text x="850" y="30761" style="font:10px Open Sans">跨存储区复制（Inter-Stamp Replication）</text>
<clipPath id="clip3532"><path d="M1126,30720 L1243,30720 L1243,30748 L1126,30748 L1126,30720 Z" /></clipPath>
<path d="M1128,30746 L1240,30746 Z M1128,30746" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3532)" />
<text x="1138" y="30736" style="font:10px Open Sans">服务分区层实现</text>
<clipPath id="clip3533"><path d="M1126,30747 L1373,30747 L1373,30775 L1126,30775 L1126,30747 Z" /></clipPath>
<path d="M1128,30773 L1370,30773 Z M1128,30773" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3533)" />
<text x="1138" y="30763" style="font:10px Open Sans">通过后台线程异步复制到不同的存储区</text>
<clipPath id="clip3534"><path d="M1126,30774 L1256,30774 L1256,30802 L1126,30802 L1126,30774 Z" /></clipPath>
<path d="M1128,30800 L1253,30800 Z M1128,30800" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3534)" />
<text x="1138" y="30790" style="font:10px Open Sans">用来实现异地容灾</text>
<clipPath id="clip3535"><path d="M649,30802 L1865,30802 L1865,32499 L649,32499 Z M650,31622 L650,31645 L723,31645 L723,31622 Z M650,31622 Z M650,31622" /></clipPath>
<path d="M736,31646 L736,31004 C736,31001.7929688 737.7929688,31000 740,31000 L745,31000" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3535)" />
<clipPath id="clip3536"><path d="M649,30802 L1865,30802 L1865,32499 L649,32499 Z M650,31622 L650,31645 L723,31645 L723,31622 Z M650,31622 Z M650,31622" /></clipPath>
<path d="M736,31646 L736,31447 C736,31444.7929688 737.7929688,31443 740,31443 L745,31443" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3536)" />
<clipPath id="clip3537"><path d="M649,30802 L1865,30802 L1865,32499 L649,32499 Z M650,31622 L650,31645 L723,31645 L723,31622 Z M650,31622 Z M650,31622" /></clipPath>
<path d="M736,31646 L736,31843 C736,31845.2070313 737.7929688,31847 740,31847 L745,31847" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3537)" />
<clipPath id="clip3538"><path d="M649,30802 L1865,30802 L1865,32499 L649,32499 Z M650,31622 L650,31645 L723,31645 L723,31622 Z M650,31622 Z M650,31622" /></clipPath>
<path d="M736,31646 L736,32288 C736,32290.2070313 737.7929688,32292 740,32292 L745,32292" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3538)" />
<clipPath id="clip3539"><path d="M648,30801 L1866,30801 L1866,32500 L648,32500 L648,30801 Z" /></clipPath>
<path d="M723,31646 L736,31646" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3539)" />
<clipPath id="clip3540"><path d="M648,31620 L726,31620 L726,31648 L648,31648 L648,31620 Z" /></clipPath>
<path d="M650,31646 L723,31646 Z M650,31646" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3540)" />
<text x="660" y="31636" style="font:10px Open Sans">文件流层</text>
<clipPath id="clip3541"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 L831,30833 C831,30830.7929688 832.7929688,30829 835,30829 L840,30829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3541)" />
<clipPath id="clip3542"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 L831,30860 C831,30857.7929688 832.7929688,30856 835,30856 L840,30856" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3542)" />
<clipPath id="clip3543"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 L831,30902 C831,30899.7929688 832.7929688,30898 835,30898 L840,30898" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3543)" />
<clipPath id="clip3544"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 L831,30943 C831,30940.7929688 832.7929688,30939 835,30939 L840,30939" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3544)" />
<clipPath id="clip3545"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 L831,30972 C831,30969.7929688 832.7929688,30968 835,30968 L840,30968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3545)" />
<clipPath id="clip3546"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 C831,30998.34375 832.7929688,30997 835,30997 L840,30997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3546)" />
<clipPath id="clip3547"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 L831,31022 C831,31024.2070313 832.7929688,31026 835,31026 L840,31026" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3547)" />
<clipPath id="clip3548"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 L831,31051 C831,31053.2070313 832.7929688,31055 835,31055 L840,31055" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3548)" />
<clipPath id="clip3549"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 L831,31080 C831,31082.2070313 832.7929688,31084 835,31084 L840,31084" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3549)" />
<clipPath id="clip3550"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 L831,31109 C831,31111.2070313 832.7929688,31113 835,31113 L840,31113" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3550)" />
<clipPath id="clip3551"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 L831,31138 C831,31140.2070313 832.7929688,31142 835,31142 L840,31142" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3551)" />
<clipPath id="clip3552"><path d="M744,30802 L1285,30802 L1285,31172 L744,31172 Z M745,30976 L745,30999 L818,30999 L818,30976 Z M745,30976 Z M745,30976" /></clipPath>
<path d="M831,31000 L831,31167 C831,31169.2070313 832.7929688,31171 835,31171 L840,31171" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3552)" />
<clipPath id="clip3553"><path d="M743,30801 L1286,30801 L1286,31173 L743,31173 L743,30801 Z" /></clipPath>
<path d="M818,31000 L831,31000" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3553)" />
<clipPath id="clip3554"><path d="M743,30974 L821,30974 L821,31002 L743,31002 L743,30974 Z" /></clipPath>
<path d="M745,31000 L818,31000 Z M745,31000" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3554)" />
<text x="755" y="30990" style="font:10px Open Sans">基本概念</text>
<clipPath id="clip3555"><path d="M838,30801 L1066,30801 L1066,30831 L838,30831 L838,30801 Z" /></clipPath>
<path d="M840,30829 L1063,30829 Z M840,30829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3555)" />
<text x="850" y="30817" style="font:10px Open Sans">提供类似文件系统的命名空间和API</text>
<clipPath id="clip3556"><path d="M838,30830 L994,30830 L994,30858 L838,30858 L838,30830 Z" /></clipPath>
<path d="M840,30856 L991,30856 Z M840,30856" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3556)" />
<text x="850" y="30846" style="font:10px Open Sans">所有的写操作只能追加</text>
<clipPath id="clip3557"><path d="M839,30858 L1127,30858 L1127,30913 L839,30913 Z M840,30874 L840,30897 L926,30897 L926,30874 Z M840,30874 Z M840,30874" /></clipPath>
<path d="M939,30898 L939,30889 C939,30886.7929688 940.7929688,30885 943,30885 L948,30885" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3557)" />
<clipPath id="clip3558"><path d="M839,30858 L1127,30858 L1127,30913 L839,30913 Z M840,30874 L840,30897 L926,30897 L926,30874 Z M840,30874 Z M840,30874" /></clipPath>
<path d="M939,30898 L939,30908 C939,30910.2070313 940.7929688,30912 943,30912 L948,30912" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3558)" />
<clipPath id="clip3559"><path d="M838,30857 L1128,30857 L1128,30914 L838,30914 L838,30857 Z" /></clipPath>
<path d="M926,30898 L939,30898" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3559)" />
<clipPath id="clip3560"><path d="M838,30872 L929,30872 L929,30900 L838,30900 L838,30872 Z" /></clipPath>
<path d="M840,30898 L926,30898 Z M840,30898" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3560)" />
<text x="850" y="30888" style="font:10px Open Sans">支持的接口</text>
<clipPath id="clip3561"><path d="M946,30857 L1060,30857 L1060,30887 L946,30887 L946,30857 Z" /></clipPath>
<path d="M948,30885 L1057,30885 Z M948,30885" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3561)" />
<text x="958" y="30873" style="font:10px Open Sans">打开&amp;关闭文件</text>
<clipPath id="clip3562"><path d="M946,30886 L1128,30886 L1128,30914 L946,30914 L946,30886 Z" /></clipPath>
<path d="M948,30912 L1125,30912 Z M948,30912" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3562)" />
<text x="958" y="30902" style="font:10px Open Sans">改名、读取以及追加到文件</text>
<clipPath id="clip3563"><path d="M838,30913 L929,30913 L929,30941 L838,30941 L838,30913 Z" /></clipPath>
<path d="M840,30939 L926,30939 Z M840,30939" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3563)" />
<text x="850" y="30929" style="font:10px Open Sans">文件称为流</text>
<clipPath id="clip3564"><path d="M838,30940 L1007,30940 L1007,30970 L838,30970 L838,30940 Z" /></clipPath>
<path d="M840,30968 L1004,30968 Z M840,30968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3564)" />
<text x="850" y="30956" style="font:10px Open Sans">每个流包含一系列extent</text>
<clipPath id="clip3565"><path d="M838,30969 L1052,30969 L1052,30999 L838,30999 L838,30969 Z" /></clipPath>
<path d="M840,30997 L1049,30997 Z M840,30997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3565)" />
<text x="850" y="30985" style="font:10px Open Sans">每个extent由一连串的block组成</text>
<clipPath id="clip3566"><path d="M838,30998 L1026,30998 L1026,31028 L838,31028 L838,30998 Z" /></clipPath>
<path d="M840,31026 L1023,31026 Z M840,31026" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3566)" />
<text x="850" y="31014" style="font:10px Open Sans">block是数据读写的最小单位</text>
<clipPath id="clip3567"><path d="M838,31027 L1128,31027 L1128,31057 L838,31057 L838,31027 Z" /></clipPath>
<path d="M840,31055 L1125,31055 Z M840,31055" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3567)" />
<text x="850" y="31043" style="font:10px Open Sans">block与GFS中的记录（record）概念是一致的</text>
<clipPath id="clip3568"><path d="M838,31056 L1150,31056 L1150,31086 L838,31086 L838,31056 Z" /></clipPath>
<path d="M840,31084 L1147,31084 Z M840,31084" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3568)" />
<text x="850" y="31072" style="font:10px Open Sans">extent是文件流层数据复制、负载均衡的基本单位</text>
<clipPath id="clip3569"><path d="M838,31085 L1081,31085 L1081,31115 L838,31115 L838,31085 Z" /></clipPath>
<path d="M840,31113 L1078,31113 Z M840,31113" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3569)" />
<text x="850" y="31101" style="font:10px Open Sans">extent与GFS中的chunk概念是一致的</text>
<clipPath id="clip3570"><path d="M838,31114 L1286,31114 L1286,31144 L838,31144 L838,31114 Z" /></clipPath>
<path d="M840,31142 L1283,31142 Z M840,31142" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3570)" />
<text x="850" y="31130" style="font:10px Open Sans">stream用于文件流层对外接口，每个stream在层级命名空间中有一个名字</text>
<clipPath id="clip3571"><path d="M838,31143 L1065,31143 L1065,31173 L838,31173 L838,31143 Z" /></clipPath>
<path d="M840,31171 L1062,31171 Z M840,31171" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3571)" />
<text x="850" y="31159" style="font:10px Open Sans">stream与GFS中的file概念是一致的</text>
<clipPath id="clip3572"><path d="M744,31173 L1503,31173 L1503,31574 L744,31574 Z M745,31419 L745,31442 L792,31442 L792,31419 Z M745,31419 Z M745,31419" /></clipPath>
<path d="M805,31443 L805,31317 C805,31314.7929688 806.7929688,31313 809,31313 L814,31313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3572)" />
<clipPath id="clip3573"><path d="M744,31173 L1503,31173 L1503,31574 L744,31574 Z M745,31419 L745,31442 L792,31442 L792,31419 Z M745,31419 Z M745,31419" /></clipPath>
<path d="M805,31443 L805,31482 C805,31484.2070313 806.7929688,31486 809,31486 L814,31486" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3573)" />
<clipPath id="clip3574"><path d="M744,31173 L1503,31173 L1503,31574 L744,31574 Z M745,31419 L745,31442 L792,31442 L792,31419 Z M745,31419 Z M745,31419" /></clipPath>
<path d="M805,31443 L805,31569 C805,31571.2070313 806.7929688,31573 809,31573 L814,31573" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3574)" />
<clipPath id="clip3575"><path d="M743,31172 L1504,31172 L1504,31575 L743,31575 L743,31172 Z" /></clipPath>
<path d="M792,31443 L805,31443" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3575)" />
<clipPath id="clip3576"><path d="M743,31417 L795,31417 L795,31445 L743,31445 L743,31417 Z" /></clipPath>
<path d="M745,31443 L792,31443 Z M745,31443" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3576)" />
<text x="755" y="31433" style="font:10px Open Sans">架构</text>
<clipPath id="clip3577"><path d="M813,31173 L1503,31173 L1503,31400 L813,31400 Z M814,31287 L814,31312 L1012,31312 L1012,31287 Z M814,31287 Z M814,31287" /></clipPath>
<path d="M1025,31313 L1025,31231 C1025,31228.7929688 1026.7929688,31227 1029,31227 L1034,31227" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3577)" />
<clipPath id="clip3578"><path d="M813,31173 L1503,31173 L1503,31400 L813,31400 Z M814,31287 L814,31312 L1012,31312 L1012,31287 Z M814,31287 Z M814,31287" /></clipPath>
<path d="M1025,31313 C1025,31313 1026.7929688,31313 1029,31313 L1034,31313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3578)" />
<clipPath id="clip3579"><path d="M813,31173 L1503,31173 L1503,31400 L813,31400 Z M814,31287 L814,31312 L1012,31312 L1012,31287 Z M814,31287 Z M814,31287" /></clipPath>
<path d="M1025,31313 L1025,31366 C1025,31368.2070313 1026.7929688,31370 1029,31370 L1034,31370" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3579)" />
<clipPath id="clip3580"><path d="M813,31173 L1503,31173 L1503,31400 L813,31400 Z M814,31287 L814,31312 L1012,31312 L1012,31287 Z M814,31287 Z M814,31287" /></clipPath>
<path d="M1025,31313 L1025,31395 C1025,31397.2070313 1026.7929688,31399 1029,31399 L1034,31399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3580)" />
<clipPath id="clip3581"><path d="M812,31172 L1504,31172 L1504,31401 L812,31401 L812,31172 Z" /></clipPath>
<path d="M1012,31313 L1025,31313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3581)" />
<clipPath id="clip3582"><path d="M812,31285 L1015,31285 L1015,31315 L812,31315 L812,31285 Z" /></clipPath>
<path d="M814,31313 L1012,31313 Z M814,31313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3582)" />
<text x="824" y="31301" style="font:10px Open Sans">流管理器（Stream Manager）</text>
<clipPath id="clip3583"><path d="M1033,31173 L1412,31173 L1412,31257 L1033,31257 Z M1034,31203 L1034,31226 L1185,31226 L1185,31203 Z M1034,31203 Z M1034,31203" /></clipPath>
<path d="M1198,31227 L1198,31202 C1198,31199.7929688 1199.7929688,31198 1202,31198 L1207,31198" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3583)" />
<clipPath id="clip3584"><path d="M1033,31173 L1412,31173 L1412,31257 L1033,31257 Z M1034,31203 L1034,31226 L1185,31226 L1185,31203 Z M1034,31203 Z M1034,31203" /></clipPath>
<path d="M1198,31227 C1198,31227 1199.7929688,31227 1202,31227 L1207,31227" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3584)" />
<clipPath id="clip3585"><path d="M1033,31173 L1412,31173 L1412,31257 L1033,31257 Z M1034,31203 L1034,31226 L1185,31226 L1185,31203 Z M1034,31203 Z M1034,31203" /></clipPath>
<path d="M1198,31227 L1198,31252 C1198,31254.2070313 1199.7929688,31256 1202,31256 L1207,31256" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3585)" />
<clipPath id="clip3586"><path d="M1032,31172 L1413,31172 L1413,31258 L1032,31258 L1032,31172 Z" /></clipPath>
<path d="M1185,31227 L1198,31227" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3586)" />
<clipPath id="clip3587"><path d="M1032,31201 L1188,31201 L1188,31229 L1032,31229 L1032,31201 Z" /></clipPath>
<path d="M1034,31227 L1185,31227 Z M1034,31227" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3587)" />
<text x="1044" y="31217" style="font:10px Open Sans">维护文件流层的元数据</text>
<clipPath id="clip3588"><path d="M1205,31172 L1335,31172 L1335,31200 L1205,31200 L1205,31172 Z" /></clipPath>
<path d="M1207,31198 L1332,31198 Z M1207,31198" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3588)" />
<text x="1217" y="31188" style="font:10px Open Sans">文件流的命名空间</text>
<clipPath id="clip3589"><path d="M1205,31199 L1413,31199 L1413,31229 L1205,31229 L1205,31199 Z" /></clipPath>
<path d="M1207,31227 L1410,31227 Z M1207,31227" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3589)" />
<text x="1217" y="31215" style="font:10px Open Sans">文件流到extent之间的映射关系</text>
<clipPath id="clip3590"><path d="M1205,31228 L1387,31228 L1387,31258 L1205,31258 L1205,31228 Z" /></clipPath>
<path d="M1207,31256 L1384,31256 Z M1207,31256" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3590)" />
<text x="1217" y="31244" style="font:10px Open Sans">extent所在的存储节点信息</text>
<clipPath id="clip3591"><path d="M1033,31258 L1503,31258 L1503,31342 L1033,31342 Z M1034,31287 L1034,31312 L1328,31312 L1328,31287 Z M1034,31287 Z M1034,31287" /></clipPath>
<path d="M1341,31313 L1341,31289 C1341,31286.7929688 1342.7929688,31285 1345,31285 L1350,31285" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3591)" />
<clipPath id="clip3592"><path d="M1033,31258 L1503,31258 L1503,31342 L1033,31342 Z M1034,31287 L1034,31312 L1328,31312 L1328,31287 Z M1034,31287 Z M1034,31287" /></clipPath>
<path d="M1341,31313 C1341,31312.4492188 1342.7929688,31312 1345,31312 L1350,31312" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3592)" />
<clipPath id="clip3593"><path d="M1033,31258 L1503,31258 L1503,31342 L1033,31342 Z M1034,31287 L1034,31312 L1328,31312 L1328,31287 Z M1034,31287 Z M1034,31287" /></clipPath>
<path d="M1341,31313 L1341,31337 C1341,31339.2070313 1342.7929688,31341 1345,31341 L1350,31341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3593)" />
<clipPath id="clip3594"><path d="M1032,31257 L1504,31257 L1504,31343 L1032,31343 L1032,31257 Z" /></clipPath>
<path d="M1328,31313 L1341,31313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3594)" />
<clipPath id="clip3595"><path d="M1032,31285 L1331,31285 L1331,31315 L1032,31315 L1032,31285 Z" /></clipPath>
<path d="M1034,31313 L1328,31313 Z M1034,31313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3595)" />
<text x="1044" y="31301" style="font:10px Open Sans">监控extent存储节点，负责整个系统的全局控制</text>
<clipPath id="clip3596"><path d="M1348,31257 L1439,31257 L1439,31287 L1348,31287 L1348,31257 Z" /></clipPath>
<path d="M1350,31285 L1436,31285 Z M1350,31285" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3596)" />
<text x="1360" y="31273" style="font:10px Open Sans">extent复制</text>
<clipPath id="clip3597"><path d="M1348,31286 L1426,31286 L1426,31314 L1348,31314 L1348,31286 Z" /></clipPath>
<path d="M1350,31312 L1423,31312 Z M1350,31312" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3597)" />
<text x="1360" y="31302" style="font:10px Open Sans">负载均衡</text>
<clipPath id="clip3598"><path d="M1348,31313 L1504,31313 L1504,31343 L1348,31343 L1348,31313 Z" /></clipPath>
<path d="M1350,31341 L1501,31341 Z M1350,31341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3598)" />
<text x="1360" y="31329" style="font:10px Open Sans">垃圾回收无用的extent</text>
<clipPath id="clip3599"><path d="M1032,31342 L1292,31342 L1292,31372 L1032,31372 L1032,31342 Z" /></clipPath>
<path d="M1034,31370 L1289,31370 Z M1034,31370" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3599)" />
<text x="1044" y="31358" style="font:10px Open Sans">定期通过心跳的方式轮询extent存储节点</text>
<clipPath id="clip3600"><path d="M1032,31371 L1250,31371 L1250,31401 L1032,31401 L1032,31371 Z" /></clipPath>
<path d="M1034,31399 L1247,31399 Z M1034,31399" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3600)" />
<text x="1044" y="31387" style="font:10px Open Sans">自身通过Paxos协议实现高可用性</text>
<clipPath id="clip3601"><path d="M813,31401 L1436,31401 L1436,31545 L813,31545 Z M814,31460 L814,31485 L1027,31485 L1027,31460 Z M814,31460 Z M814,31460" /></clipPath>
<path d="M1040,31486 L1040,31432 C1040,31429.7929688 1041.7929688,31428 1044,31428 L1049,31428" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3601)" />
<clipPath id="clip3602"><path d="M813,31401 L1436,31401 L1436,31545 L813,31545 Z M814,31460 L814,31485 L1027,31485 L1027,31460 Z M814,31460 Z M814,31460" /></clipPath>
<path d="M1040,31486 L1040,31461 C1040,31458.7929688 1041.7929688,31457 1044,31457 L1049,31457" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3602)" />
<clipPath id="clip3603"><path d="M813,31401 L1436,31401 L1436,31545 L813,31545 Z M814,31460 L814,31485 L1027,31485 L1027,31460 Z M814,31460 Z M814,31460" /></clipPath>
<path d="M1040,31486 C1040,31486 1041.7929688,31486 1044,31486 L1049,31486" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3603)" />
<clipPath id="clip3604"><path d="M813,31401 L1436,31401 L1436,31545 L813,31545 Z M814,31460 L814,31485 L1027,31485 L1027,31460 Z M814,31460 Z M814,31460" /></clipPath>
<path d="M1040,31486 L1040,31511 C1040,31513.2070313 1041.7929688,31515 1044,31515 L1049,31515" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3604)" />
<clipPath id="clip3605"><path d="M813,31401 L1436,31401 L1436,31545 L813,31545 Z M814,31460 L814,31485 L1027,31485 L1027,31460 Z M814,31460 Z M814,31460" /></clipPath>
<path d="M1040,31486 L1040,31540 C1040,31542.2070313 1041.7929688,31544 1044,31544 L1049,31544" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3605)" />
<clipPath id="clip3606"><path d="M812,31400 L1437,31400 L1437,31546 L812,31546 L812,31400 Z" /></clipPath>
<path d="M1027,31486 L1040,31486" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3606)" />
<clipPath id="clip3607"><path d="M812,31458 L1030,31458 L1030,31488 L812,31488 L812,31458 Z" /></clipPath>
<path d="M814,31486 L1027,31486 Z M814,31486" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3607)" />
<text x="824" y="31474" style="font:10px Open Sans">extent存储节点（Extent Node）</text>
<clipPath id="clip3608"><path d="M1047,31400 L1255,31400 L1255,31430 L1047,31430 L1047,31400 Z" /></clipPath>
<path d="M1049,31428 L1252,31428 Z M1049,31428" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3608)" />
<text x="1059" y="31416" style="font:10px Open Sans">实际存储每个extent的副本数据</text>
<clipPath id="clip3609"><path d="M1047,31429 L1281,31429 L1281,31459 L1047,31459 L1047,31429 Z" /></clipPath>
<path d="M1049,31457 L1278,31457 Z M1049,31457" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3609)" />
<text x="1059" y="31445" style="font:10px Open Sans">每个extent单独存储成一个磁盘文件</text>
<clipPath id="clip3610"><path d="M1047,31458 L1405,31458 L1405,31488 L1047,31488 L1047,31458 Z" /></clipPath>
<path d="M1049,31486 L1402,31486 Z M1049,31486" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3610)" />
<text x="1059" y="31474" style="font:10px Open Sans">文件中包含block数据及checksum、针对block的索引信息</text>
<clipPath id="clip3611"><path d="M1047,31487 L1372,31487 L1372,31517 L1047,31517 L1047,31487 Z" /></clipPath>
<path d="M1049,31515 L1369,31515 Z M1049,31515" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3611)" />
<text x="1059" y="31503" style="font:10px Open Sans">extent存储节点之间互相通信拷贝客户端追加的数据</text>
<clipPath id="clip3612"><path d="M1047,31516 L1437,31516 L1437,31546 L1047,31546 L1047,31516 Z" /></clipPath>
<path d="M1049,31544 L1434,31544 Z M1049,31544" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3612)" />
<text x="1059" y="31532" style="font:10px Open Sans">接受流管理器的命令，创建extent副本、垃圾回收指定extent等</text>
<clipPath id="clip3613"><path d="M813,31546 L1239,31546 L1239,31574 L813,31574 Z M814,31547 L814,31572 L1038,31572 L1038,31547 Z M814,31547 Z M814,31547" /></clipPath>
<path d="M1051,31573 C1051,31573 1052.7929688,31573 1055,31573 L1060,31573" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3613)" />
<clipPath id="clip3614"><path d="M812,31545 L1240,31545 L1240,31575 L812,31575 L812,31545 Z" /></clipPath>
<path d="M1038,31573 L1051,31573" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3614)" />
<clipPath id="clip3615"><path d="M812,31545 L1041,31545 L1041,31575 L812,31575 L812,31545 Z" /></clipPath>
<path d="M814,31573 L1038,31573 Z M814,31573" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3615)" />
<text x="824" y="31561" style="font:10px Open Sans">客户端库（Partition Layer Client）</text>
<clipPath id="clip3616"><path d="M1058,31547 L1240,31547 L1240,31575 L1058,31575 L1058,31547 Z" /></clipPath>
<path d="M1060,31573 L1237,31573 Z M1060,31573" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3616)" />
<text x="1070" y="31563" style="font:10px Open Sans">提供给上层应用的访问接口</text>
<clipPath id="clip3617"><path d="M744,31575 L1865,31575 L1865,32082 L744,32082 Z M745,31823 L745,31846 L844,31846 L844,31823 Z M745,31823 Z M745,31823" /></clipPath>
<path d="M857,31847 L857,31633 C857,31630.7929688 858.7929688,31629 861,31629 L866,31629" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3617)" />
<clipPath id="clip3618"><path d="M744,31575 L1865,31575 L1865,32082 L744,32082 Z M745,31823 L745,31846 L844,31846 L844,31823 Z M745,31823 Z M745,31823" /></clipPath>
<path d="M857,31847 L857,31703 C857,31700.7929688 858.7929688,31699 861,31699 L866,31699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3618)" />
<clipPath id="clip3619"><path d="M744,31575 L1865,31575 L1865,32082 L744,32082 Z M745,31823 L745,31846 L844,31846 L844,31823 Z M745,31823 Z M745,31823" /></clipPath>
<path d="M857,31847 L857,31880 C857,31882.2070313 858.7929688,31884 861,31884 L866,31884" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3619)" />
<clipPath id="clip3620"><path d="M744,31575 L1865,31575 L1865,32082 L744,32082 Z M745,31823 L745,31846 L844,31846 L844,31823 Z M745,31823 Z M745,31823" /></clipPath>
<path d="M857,31847 L857,32062 C857,32064.2070313 858.7929688,32066 861,32066 L866,32066" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3620)" />
<clipPath id="clip3621"><path d="M743,31574 L1866,31574 L1866,32083 L743,32083 L743,31574 Z" /></clipPath>
<path d="M844,31847 L857,31847" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3621)" />
<clipPath id="clip3622"><path d="M743,31821 L847,31821 L847,31849 L743,31849 L743,31821 Z" /></clipPath>
<path d="M745,31847 L844,31847 Z M745,31847" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3622)" />
<text x="755" y="31837" style="font:10px Open Sans">复制及一致性</text>
<clipPath id="clip3623"><path d="M865,31575 L1354,31575 L1354,31659 L865,31659 Z M866,31605 L866,31628 L939,31628 L939,31605 Z M866,31605 Z M866,31605" /></clipPath>
<path d="M952,31629 L952,31604 C952,31601.7929688 953.7929688,31600 956,31600 L961,31600" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3623)" />
<clipPath id="clip3624"><path d="M865,31575 L1354,31575 L1354,31659 L865,31659 Z M866,31605 L866,31628 L939,31628 L939,31605 Z M866,31605 Z M866,31605" /></clipPath>
<path d="M952,31629 C952,31629 953.7929688,31629 956,31629 L961,31629" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3624)" />
<clipPath id="clip3625"><path d="M865,31575 L1354,31575 L1354,31659 L865,31659 Z M866,31605 L866,31628 L939,31628 L939,31605 Z M866,31605 Z M866,31605" /></clipPath>
<path d="M952,31629 L952,31654 C952,31656.2070313 953.7929688,31658 956,31658 L961,31658" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3625)" />
<clipPath id="clip3626"><path d="M864,31574 L1355,31574 L1355,31660 L864,31660 L864,31574 Z" /></clipPath>
<path d="M939,31629 L952,31629" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3626)" />
<clipPath id="clip3627"><path d="M864,31603 L942,31603 L942,31631 L864,31631 L864,31603 Z" /></clipPath>
<path d="M866,31629 L939,31629 Z M866,31629" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3627)" />
<text x="876" y="31619" style="font:10px Open Sans">追加操作</text>
<clipPath id="clip3628"><path d="M959,31574 L1128,31574 L1128,31602 L959,31602 L959,31574 Z" /></clipPath>
<path d="M961,31600 L1125,31600 Z M961,31600" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3628)" />
<text x="971" y="31590" style="font:10px Open Sans">流文件只能追加不许修改</text>
<clipPath id="clip3629"><path d="M959,31601 L1186,31601 L1186,31631 L959,31631 L959,31601 Z" /></clipPath>
<path d="M961,31629 L1183,31629 Z M961,31629" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3629)" />
<text x="971" y="31617" style="font:10px Open Sans">追加操作是原子的，以block为单位</text>
<clipPath id="clip3630"><path d="M959,31630 L1355,31630 L1355,31660 L959,31660 L959,31630 Z" /></clipPath>
<path d="M961,31658 L1352,31658 Z M961,31658" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3630)" />
<text x="971" y="31646" style="font:10px Open Sans">多个block可以由客户端凑成一个缓冲区一次性提交，保证原子性</text>
<clipPath id="clip3631"><path d="M865,31660 L1796,31660 L1796,31715 L865,31715 Z M866,31675 L866,31698 L1186,31698 L1186,31675 Z M866,31675 Z M866,31675" /></clipPath>
<path d="M1199,31699 L1199,31689 C1199,31686.7929688 1200.7929688,31685 1203,31685 L1208,31685" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3631)" />
<clipPath id="clip3632"><path d="M865,31660 L1796,31660 L1796,31715 L865,31715 Z M866,31675 L866,31698 L1186,31698 L1186,31675 Z M866,31675 Z M866,31675" /></clipPath>
<path d="M1199,31699 L1199,31710 C1199,31712.2070313 1200.7929688,31714 1203,31714 L1208,31714" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3632)" />
<clipPath id="clip3633"><path d="M864,31659 L1797,31659 L1797,31716 L864,31716 L864,31659 Z" /></clipPath>
<path d="M1186,31699 L1199,31699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3633)" />
<clipPath id="clip3634"><path d="M864,31673 L1189,31673 L1189,31701 L864,31701 L864,31673 Z" /></clipPath>
<path d="M866,31699 L1186,31699 Z M866,31699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3634)" />
<text x="876" y="31689" style="font:10px Open Sans">客户端追加数据可能失败需要重试，会产生重复记录</text>
<clipPath id="clip3635"><path d="M1206,31659 L1778,31659 L1778,31687 L1206,31687 L1206,31659 Z" /></clipPath>
<path d="M1208,31685 L1775,31685 Z M1208,31685" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3635)" />
<text x="1218" y="31675" style="font:10px Open Sans">对元数据和操作日志流，所有的数据都有一个唯一的事务编号，顺序读取时忽略编号相同的事务</text>
<clipPath id="clip3636"><path d="M1206,31686 L1797,31686 L1797,31716 L1206,31716 L1206,31686 Z" /></clipPath>
<path d="M1208,31714 L1794,31714 Z M1208,31714" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3636)" />
<text x="1218" y="31702" style="font:10px Open Sans">对于表格中的行数据流，只有最后一个追加成功的block才会被索引，追加失败的后续会被垃圾回收</text>
<clipPath id="clip3637"><path d="M865,31716 L1865,31716 L1865,32026 L865,32026 Z M866,31860 L866,31883 L939,31883 L939,31860 Z M866,31860 Z M866,31860" /></clipPath>
<path d="M952,31884 L952,31747 C952,31744.7929688 953.7929688,31743 956,31743 L961,31743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3637)" />
<clipPath id="clip3638"><path d="M865,31716 L1865,31716 L1865,32026 L865,32026 Z M866,31860 L866,31883 L939,31883 L939,31860 Z M866,31860 Z M866,31860" /></clipPath>
<path d="M952,31884 L952,31776 C952,31773.7929688 953.7929688,31772 956,31772 L961,31772" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3638)" />
<clipPath id="clip3639"><path d="M865,31716 L1865,31716 L1865,32026 L865,32026 Z M866,31860 L866,31883 L939,31883 L939,31860 Z M866,31860 Z M866,31860" /></clipPath>
<path d="M952,31884 L952,31833 C952,31830.7929688 953.7929688,31829 956,31829 L961,31829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3639)" />
<clipPath id="clip3640"><path d="M865,31716 L1865,31716 L1865,32026 L865,32026 Z M866,31860 L866,31883 L939,31883 L939,31860 Z M866,31860 Z M866,31860" /></clipPath>
<path d="M952,31884 C952,31884 953.7929688,31884 956,31884 L961,31884" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3640)" />
<clipPath id="clip3641"><path d="M865,31716 L1865,31716 L1865,32026 L865,32026 Z M866,31860 L866,31883 L939,31883 L939,31860 Z M866,31860 Z M866,31860" /></clipPath>
<path d="M952,31884 L952,31907 C952,31909.2070313 953.7929688,31911 956,31911 L961,31911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3641)" />
<clipPath id="clip3642"><path d="M865,31716 L1865,31716 L1865,32026 L865,32026 Z M866,31860 L866,31883 L939,31883 L939,31860 Z M866,31860 Z M866,31860" /></clipPath>
<path d="M952,31884 L952,31934 C952,31936.2070313 953.7929688,31938 956,31938 L961,31938" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3642)" />
<clipPath id="clip3643"><path d="M865,31716 L1865,31716 L1865,32026 L865,32026 Z M866,31860 L866,31883 L939,31883 L939,31860 Z M866,31860 Z M866,31860" /></clipPath>
<path d="M952,31884 L952,31963 C952,31965.2070313 953.7929688,31967 956,31967 L961,31967" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3643)" />
<clipPath id="clip3644"><path d="M865,31716 L1865,31716 L1865,32026 L865,32026 Z M866,31860 L866,31883 L939,31883 L939,31860 Z M866,31860 Z M866,31860" /></clipPath>
<path d="M952,31884 L952,31992 C952,31994.2070313 953.7929688,31996 956,31996 L961,31996" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3644)" />
<clipPath id="clip3645"><path d="M865,31716 L1865,31716 L1865,32026 L865,32026 Z M866,31860 L866,31883 L939,31883 L939,31860 Z M866,31860 Z M866,31860" /></clipPath>
<path d="M952,31884 L952,32021 C952,32023.2070313 953.7929688,32025 956,32025 L961,32025" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3645)" />
<clipPath id="clip3646"><path d="M864,31715 L1866,31715 L1866,32027 L864,32027 L864,31715 Z" /></clipPath>
<path d="M939,31884 L952,31884" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3646)" />
<clipPath id="clip3647"><path d="M864,31858 L942,31858 L942,31886 L864,31886 L864,31858 Z" /></clipPath>
<path d="M866,31884 L939,31884 Z M866,31884" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3647)" />
<text x="876" y="31874" style="font:10px Open Sans">追加流程</text>
<clipPath id="clip3648"><path d="M959,31715 L1679,31715 L1679,31745 L959,31745 L959,31715 Z" /></clipPath>
<path d="M961,31743 L1676,31743 Z M961,31743" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3648)" />
<text x="971" y="31731" style="font:10px Open Sans">如果客户端没有缓存当前extent信息，如追加到一个新的流文件或上一个extent已sealed，则请求SM创建一个新的extent</text>
<clipPath id="clip3649"><path d="M959,31744 L1866,31744 L1866,31774 L959,31774 L959,31744 Z" /></clipPath>
<path d="M961,31772 L1863,31772 Z M961,31772" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3649)" />
<text x="971" y="31760" style="font:10px Open Sans">SM根据一定的策略（节点负载、机架位置等）分配一定数量的extent副本到EN，其中一个为主副本，允许客户端写操作，备副本只接收主副本同步的数据</text>
<clipPath id="clip3650"><path d="M960,31774 L1612,31774 L1612,31858 L960,31858 Z M961,31805 L961,31828 L1203,31828 L1203,31805 Z M961,31805 Z M961,31805" /></clipPath>
<path d="M1216,31829 L1216,31805 C1216,31802.7929688 1217.7929688,31801 1220,31801 L1225,31801" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3650)" />
<clipPath id="clip3651"><path d="M960,31774 L1612,31774 L1612,31858 L960,31858 Z M961,31805 L961,31828 L1203,31828 L1203,31805 Z M961,31805 Z M961,31805" /></clipPath>
<path d="M1216,31829 C1216,31829.5507813 1217.7929688,31830 1220,31830 L1225,31830" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3651)" />
<clipPath id="clip3652"><path d="M960,31774 L1612,31774 L1612,31858 L960,31858 Z M961,31805 L961,31828 L1203,31828 L1203,31805 Z M961,31805 Z M961,31805" /></clipPath>
<path d="M1216,31829 L1216,31853 C1216,31855.2070313 1217.7929688,31857 1220,31857 L1225,31857" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3652)" />
<clipPath id="clip3653"><path d="M959,31773 L1613,31773 L1613,31859 L959,31859 L959,31773 Z" /></clipPath>
<path d="M1203,31829 L1216,31829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3653)" />
<clipPath id="clip3654"><path d="M959,31803 L1206,31803 L1206,31831 L959,31831 L959,31803 Z" /></clipPath>
<path d="M961,31829 L1203,31829 Z M961,31829" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3654)" />
<text x="971" y="31819" style="font:10px Open Sans">客户端写请求发送到主副本，主副本将</text>
<clipPath id="clip3655"><path d="M1223,31773 L1457,31773 L1457,31803 L1223,31803 L1223,31773 Z" /></clipPath>
<path d="M1225,31801 L1454,31801 Z M1225,31801" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3655)" />
<text x="1235" y="31789" style="font:10px Open Sans">决定追加的数据块在extent中的位置</text>
<clipPath id="clip3656"><path d="M1223,31802 L1613,31802 L1613,31832 L1223,31832 L1223,31802 Z" /></clipPath>
<path d="M1225,31830 L1610,31830 Z M1225,31830" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3656)" />
<text x="1235" y="31818" style="font:10px Open Sans">定序：如果多个客户端往同一个extent并发追加，需要确定顺序</text>
<clipPath id="clip3657"><path d="M1223,31831 L1379,31831 L1379,31859 L1223,31859 L1223,31831 Z" /></clipPath>
<path d="M1225,31857 L1376,31857 Z M1225,31857" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3657)" />
<text x="1235" y="31847" style="font:10px Open Sans">将数据写入主副本自身</text>
<clipPath id="clip3658"><path d="M959,31858 L1622,31858 L1622,31886 L959,31886 L959,31858 Z" /></clipPath>
<path d="M961,31884 L1619,31884 Z M961,31884" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3658)" />
<text x="971" y="31874" style="font:10px Open Sans">主副本把待追加数据发给某个备副本，备副本接着转发给其他备副本。备副本根据主副本确定的顺序执行写操作</text>
<clipPath id="clip3659"><path d="M959,31885 L1141,31885 L1141,31913 L959,31913 L959,31885 Z" /></clipPath>
<path d="M961,31911 L1138,31911 Z M961,31911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3659)" />
<text x="971" y="31901" style="font:10px Open Sans">备副本写成功后应答主副本</text>
<clipPath id="clip3660"><path d="M959,31912 L1297,31912 L1297,31940 L959,31940 L959,31912 Z" /></clipPath>
<path d="M961,31938 L1294,31938 Z M961,31938" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3660)" />
<text x="971" y="31928" style="font:10px Open Sans">所有副本都应答成功，主副本应答客户端追加操作成功</text>
<clipPath id="clip3661"><path d="M959,31939 L1673,31939 L1673,31969 L959,31969 L959,31939 Z" /></clipPath>
<path d="M961,31967 L1670,31967 Z M961,31967" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3661)" />
<text x="971" y="31955" style="font:10px Open Sans">如果某个副本失败，客户端返回失败，接着客户端将联系SM。SM先关闭失败的extent，再创建一个新的extent用来追加</text>
<clipPath id="clip3662"><path d="M959,31968 L1784,31968 L1784,31998 L959,31998 L959,31968 Z" /></clipPath>
<path d="M961,31996 L1781,31996 Z M961,31996" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3662)" />
<text x="971" y="31984" style="font:10px Open Sans">每个extent副本维护了已成功提交的数据长度。SM关闭extent时先请求所有副本获取当前长度，不一致时选择最小长度值作为关闭后的长度</text>
<clipPath id="clip3663"><path d="M959,31997 L1576,31997 L1576,32027 L959,32027 L959,31997 Z" /></clipPath>
<path d="M961,32025 L1573,32025 Z M961,32025" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3663)" />
<text x="971" y="32013" style="font:10px Open Sans">关闭过程中某副本出现故障时，关闭操作仍能执行，等节点重启后SM将强制该节点从其他副本同步数据</text>
<clipPath id="clip3664"><path d="M865,32027 L1517,32027 L1517,32082 L865,32082 Z M866,32042 L866,32065 L952,32065 L952,32042 Z M866,32042 Z M866,32042" /></clipPath>
<path d="M965,32066 L965,32056 C965,32053.7929688 966.7929688,32052 969,32052 L974,32052" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3664)" />
<clipPath id="clip3665"><path d="M865,32027 L1517,32027 L1517,32082 L865,32082 Z M866,32042 L866,32065 L952,32065 L952,32042 Z M866,32042 Z M866,32042" /></clipPath>
<path d="M965,32066 L965,32077 C965,32079.2070313 966.7929688,32081 969,32081 L974,32081" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3665)" />
<clipPath id="clip3666"><path d="M864,32026 L1518,32026 L1518,32083 L864,32083 L864,32026 Z" /></clipPath>
<path d="M952,32066 L965,32066" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3666)" />
<clipPath id="clip3667"><path d="M864,32040 L955,32040 L955,32068 L864,32068 L864,32040 Z" /></clipPath>
<path d="M866,32066 L952,32066 Z M866,32066" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3667)" />
<text x="876" y="32056" style="font:10px Open Sans">一致性保证</text>
<clipPath id="clip3668"><path d="M972,32026 L1414,32026 L1414,32054 L972,32054 L972,32026 Z" /></clipPath>
<path d="M974,32052 L1411,32052 Z M974,32052" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3668)" />
<text x="984" y="32042" style="font:10px Open Sans">只要记录被追加并成功响应客户端，从任何一个副本都能读到相同的数据</text>
<clipPath id="clip3669"><path d="M972,32053 L1518,32053 L1518,32083 L972,32083 L972,32053 Z" /></clipPath>
<path d="M974,32081 L1515,32081 Z M974,32081" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3669)" />
<text x="984" y="32069" style="font:10px Open Sans">即使追加过程出现故障，一旦extent被关闭，从任何一个被关闭的副本都能读到相同的数据</text>
<clipPath id="clip3670"><path d="M744,32083 L1672,32083 L1672,32499 L744,32499 Z M745,32268 L745,32291 L818,32291 L818,32268 Z M745,32268 Z M745,32268" /></clipPath>
<path d="M831,32292 L831,32163 C831,32160.7929688 832.7929688,32159 835,32159 L840,32159" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3670)" />
<clipPath id="clip3671"><path d="M744,32083 L1672,32083 L1672,32499 L744,32499 Z M745,32268 L745,32291 L818,32291 L818,32268 Z M745,32268 Z M745,32268" /></clipPath>
<path d="M831,32292 L831,32284 C831,32281.7929688 832.7929688,32280 835,32280 L840,32280" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3671)" />
<clipPath id="clip3672"><path d="M744,32083 L1672,32083 L1672,32499 L744,32499 Z M745,32268 L745,32291 L818,32291 L818,32268 Z M745,32268 Z M745,32268" /></clipPath>
<path d="M831,32292 L831,32421 C831,32423.2070313 832.7929688,32425 835,32425 L840,32425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3672)" />
<clipPath id="clip3673"><path d="M743,32082 L1673,32082 L1673,32500 L743,32500 L743,32082 Z" /></clipPath>
<path d="M818,32292 L831,32292" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3673)" />
<clipPath id="clip3674"><path d="M743,32266 L821,32266 L821,32294 L743,32294 L743,32266 Z" /></clipPath>
<path d="M745,32292 L818,32292 Z M745,32292" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3674)" />
<text x="755" y="32282" style="font:10px Open Sans">存储优化</text>
<clipPath id="clip3675"><path d="M839,32083 L1520,32083 L1520,32211 L839,32211 Z M840,32135 L840,32158 L978,32158 L978,32135 Z M840,32135 Z M840,32135" /></clipPath>
<path d="M991,32159 L991,32112 C991,32109.7929688 992.7929688,32108 995,32108 L1000,32108" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3675)" />
<clipPath id="clip3676"><path d="M839,32083 L1520,32083 L1520,32211 L839,32211 Z M840,32135 L840,32158 L978,32158 L978,32135 Z M840,32135 Z M840,32135" /></clipPath>
<path d="M991,32159 L991,32139 C991,32136.7929688 992.7929688,32135 995,32135 L1000,32135" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3676)" />
<clipPath id="clip3677"><path d="M839,32083 L1520,32083 L1520,32211 L839,32211 Z M840,32135 L840,32158 L978,32158 L978,32135 Z M840,32135 Z M840,32135" /></clipPath>
<path d="M991,32159 L991,32179 C991,32181.2070313 992.7929688,32183 995,32183 L1000,32183" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3677)" />
<clipPath id="clip3678"><path d="M839,32083 L1520,32083 L1520,32211 L839,32211 Z M840,32135 L840,32158 L978,32158 L978,32135 Z M840,32135 Z M840,32135" /></clipPath>
<path d="M991,32159 L991,32206 C991,32208.2070313 992.7929688,32210 995,32210 L1000,32210" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3678)" />
<clipPath id="clip3679"><path d="M838,32082 L1521,32082 L1521,32212 L838,32212 L838,32082 Z" /></clipPath>
<path d="M978,32159 L991,32159" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3679)" />
<clipPath id="clip3680"><path d="M838,32133 L981,32133 L981,32161 L838,32161 L838,32133 Z" /></clipPath>
<path d="M840,32159 L978,32159 Z M840,32159" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3680)" />
<text x="850" y="32149" style="font:10px Open Sans">保证磁盘调度公平性</text>
<clipPath id="clip3681"><path d="M998,32082 L1232,32082 L1232,32110 L998,32110 L998,32082 Z" /></clipPath>
<path d="M1000,32108 L1229,32108 Z M1000,32108" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3681)" />
<text x="1010" y="32098" style="font:10px Open Sans">有的磁盘优先执行大块顺序读写操作</text>
<clipPath id="clip3682"><path d="M998,32109 L1284,32109 L1284,32137 L998,32137 L998,32109 Z" /></clipPath>
<path d="M1000,32135 L1281,32135 Z M1000,32135" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3682)" />
<text x="1010" y="32125" style="font:10px Open Sans">随机读写操作可能会被大块顺序读写操作阻塞</text>
<clipPath id="clip3683"><path d="M998,32136 L1521,32136 L1521,32185 L998,32185 L998,32136 Z" /></clipPath>
<path d="M1000,32183 L1518,32183 Z M1000,32183" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3683)" />
<text x="1010" y="32152" style="font:10px Open Sans">如果节点上某个盘当前已发出请求的期望完成时间超过100ms或最近一段时间内某个请</text>
<text x="1010" y="32171" style="font:10px Open Sans">求响应时间超过200ms，避免将新的IO调度到该磁盘</text>
<clipPath id="clip3684"><path d="M998,32184 L1284,32184 L1284,32212 L998,32212 L998,32184 Z" /></clipPath>
<path d="M1000,32210 L1281,32210 Z M1000,32210" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3684)" />
<text x="1010" y="32200" style="font:10px Open Sans">适当的牺牲了磁盘的吞吐量，但是保证公平性</text>
<clipPath id="clip3685"><path d="M839,32212 L1543,32212 L1543,32325 L839,32325 Z M840,32256 L840,32279 L978,32279 L978,32256 Z M840,32256 Z M840,32256" /></clipPath>
<path d="M991,32280 L991,32241 C991,32238.7929688 992.7929688,32237 995,32237 L1000,32237" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3685)" />
<clipPath id="clip3686"><path d="M839,32212 L1543,32212 L1543,32325 L839,32325 Z M840,32256 L840,32279 L978,32279 L978,32256 Z M840,32256 Z M840,32256" /></clipPath>
<path d="M991,32280 L991,32270 C991,32267.7929688 992.7929688,32266 995,32266 L1000,32266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3686)" />
<clipPath id="clip3687"><path d="M839,32212 L1543,32212 L1543,32325 L839,32325 Z M840,32256 L840,32279 L978,32279 L978,32256 Z M840,32256 Z M840,32256" /></clipPath>
<path d="M991,32280 L991,32291 C991,32293.2070313 992.7929688,32295 995,32295 L1000,32295" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3687)" />
<clipPath id="clip3688"><path d="M839,32212 L1543,32212 L1543,32325 L839,32325 Z M840,32256 L840,32279 L978,32279 L978,32256 Z M840,32256 Z M840,32256" /></clipPath>
<path d="M991,32280 L991,32320 C991,32322.2070313 992.7929688,32324 995,32324 L1000,32324" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3688)" />
<clipPath id="clip3689"><path d="M838,32211 L1544,32211 L1544,32326 L838,32326 L838,32211 Z" /></clipPath>
<path d="M978,32280 L991,32280" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3689)" />
<clipPath id="clip3690"><path d="M838,32254 L981,32254 L981,32282 L838,32282 L838,32254 Z" /></clipPath>
<path d="M840,32280 L978,32280 Z M840,32280" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3690)" />
<text x="850" y="32270" style="font:10px Open Sans">避免磁盘随机写操作</text>
<clipPath id="clip3691"><path d="M998,32211 L1518,32211 L1518,32239 L998,32239 L998,32211 Z" /></clipPath>
<path d="M1000,32237 L1515,32237 Z M1000,32237" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3691)" />
<text x="1010" y="32227" style="font:10px Open Sans">文件流层客户端追加操作成功要求所有副本都将数据持久化到磁盘，增加了写操作延时</text>
<clipPath id="clip3692"><path d="M998,32238 L1414,32238 L1414,32268 L998,32268 L998,32238 Z" /></clipPath>
<path d="M1000,32266 L1411,32266 Z M1000,32266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3692)" />
<text x="1010" y="32254" style="font:10px Open Sans">每个存储节点上有很多extent，客户端并发追加会产生大量的随即写</text>
<clipPath id="clip3693"><path d="M998,32267 L1544,32267 L1544,32297 L998,32297 L998,32267 Z" /></clipPath>
<path d="M1000,32295 L1541,32295 Z M1000,32295" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3693)" />
<text x="1010" y="32283" style="font:10px Open Sans">存储节点采用单独的日志盘顺序保存所有extent的追加数据，将随机写变成日志盘的顺序写</text>
<clipPath id="clip3694"><path d="M998,32296 L1375,32296 L1375,32326 L998,32326 L998,32296 Z" /></clipPath>
<path d="M1000,32324 L1372,32324 Z M1000,32324" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3694)" />
<text x="1010" y="32312" style="font:10px Open Sans">同一个extent文件的连续多个写操作可合并为一个磁盘写操作</text>
<clipPath id="clip3695"><path d="M839,32326 L1672,32326 L1672,32499 L839,32499 Z M840,32399 L840,32424 L1147,32424 L1147,32399 Z M840,32399 Z M840,32399" /></clipPath>
<path d="M1160,32425 L1160,32357 C1160,32354.7929688 1161.7929688,32353 1164,32353 L1169,32353" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3695)" />
<clipPath id="clip3696"><path d="M839,32326 L1672,32326 L1672,32499 L839,32499 Z M840,32399 L840,32424 L1147,32424 L1147,32399 Z M840,32399 Z M840,32399" /></clipPath>
<path d="M1160,32425 L1160,32386 C1160,32383.7929688 1161.7929688,32382 1164,32382 L1169,32382" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3696)" />
<clipPath id="clip3697"><path d="M839,32326 L1672,32326 L1672,32499 L839,32499 Z M840,32399 L840,32424 L1147,32424 L1147,32399 Z M840,32399 Z M840,32399" /></clipPath>
<path d="M1160,32425 L1160,32415 C1160,32412.7929688 1161.7929688,32411 1164,32411 L1169,32411" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3697)" />
<clipPath id="clip3698"><path d="M839,32326 L1672,32326 L1672,32499 L839,32499 Z M840,32399 L840,32424 L1147,32424 L1147,32399 Z M840,32399 Z M840,32399" /></clipPath>
<path d="M1160,32425 L1160,32436 C1160,32438.2070313 1161.7929688,32440 1164,32440 L1169,32440" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3698)" />
<clipPath id="clip3699"><path d="M839,32326 L1672,32326 L1672,32499 L839,32499 Z M840,32399 L840,32424 L1147,32424 L1147,32399 Z M840,32399 Z M840,32399" /></clipPath>
<path d="M1160,32425 L1160,32465 C1160,32467.2070313 1161.7929688,32469 1164,32469 L1169,32469" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3699)" />
<clipPath id="clip3700"><path d="M839,32326 L1672,32326 L1672,32499 L839,32499 Z M840,32399 L840,32424 L1147,32424 L1147,32399 Z M840,32399 Z M840,32399" /></clipPath>
<path d="M1160,32425 L1160,32494 C1160,32496.2070313 1161.7929688,32498 1164,32498 L1169,32498" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3700)" />
<clipPath id="clip3701"><path d="M838,32325 L1673,32325 L1673,32500 L838,32500 L838,32325 Z" /></clipPath>
<path d="M1147,32425 L1160,32425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3701)" />
<clipPath id="clip3702"><path d="M838,32397 L1150,32397 L1150,32427 L838,32427 L838,32397 Z" /></clipPath>
<path d="M840,32425 L1147,32425 Z M840,32425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3702)" />
<text x="850" y="32413" style="font:10px Open Sans">文件流层使用抹除码机制减少extent副本占用空间</text>
<clipPath id="clip3703"><path d="M1167,32325 L1342,32325 L1342,32355 L1167,32355 L1167,32325 Z" /></clipPath>
<path d="M1169,32353 L1339,32353 Z M1169,32353" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3703)" />
<text x="1179" y="32341" style="font:10px Open Sans">GFS和HDFS均采用该机制</text>
<clipPath id="clip3704"><path d="M1167,32354 L1450,32354 L1450,32384 L1167,32384 L1167,32354 Z" /></clipPath>
<path d="M1169,32382 L1447,32382 Z M1169,32382" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3704)" />
<text x="1179" y="32370" style="font:10px Open Sans">对已经关闭的extent进行Reed-Solomon编码</text>
<clipPath id="clip3705"><path d="M1167,32383 L1619,32383 L1619,32413 L1167,32413 L1167,32383 Z" /></clipPath>
<path d="M1169,32411 L1616,32411 Z M1169,32411" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3705)" />
<text x="1179" y="32399" style="font:10px Open Sans">文件流层在后台定期执行任务，将extent划分为N个长度大致相同的数据段</text>
<clipPath id="clip3706"><path d="M1167,32412 L1488,32412 L1488,32442 L1167,32442 L1167,32412 Z" /></clipPath>
<path d="M1169,32440 L1485,32440 Z M1169,32440" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3706)" />
<text x="1179" y="32428" style="font:10px Open Sans">通过Reed-Solomon算法计算出M个纠错码用于纠错</text>
<clipPath id="clip3707"><path d="M1167,32441 L1673,32441 L1673,32471 L1167,32471 L1167,32441 Z" /></clipPath>
<path d="M1169,32469 L1670,32469 Z M1169,32469" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3707)" />
<text x="1179" y="32457" style="font:10px Open Sans">只要出现问题的数据段或纠错码段总和小于或等于M，文件流层都能重建整个extent</text>
<clipPath id="clip3708"><path d="M1167,32470 L1536,32470 L1536,32500 L1167,32500 L1167,32470 Z" /></clipPath>
<path d="M1169,32498 L1533,32498 Z M1169,32498" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3708)" />
<text x="1179" y="32486" style="font:10px Open Sans">推荐N=10, M=4，即1.4倍空间可容忍最多4个存储节点故障</text>
<clipPath id="clip3709"><path d="M649,32500 L1619,32500 L1619,34564 L649,34564 Z M650,33487 L650,33510 L710,33510 L710,33487 Z M650,33487 Z M650,33487" /></clipPath>
<path d="M723,33511 L723,32717 C723,32714.7929688 724.7929688,32713 727,32713 L732,32713" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3709)" />
<clipPath id="clip3710"><path d="M649,32500 L1619,32500 L1619,34564 L649,34564 Z M650,33487 L650,33510 L710,33510 L710,33487 Z M650,33487 Z M650,33487" /></clipPath>
<path d="M723,33511 L723,33225 C723,33222.7929688 724.7929688,33221 727,33221 L732,33221" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3710)" />
<clipPath id="clip3711"><path d="M649,32500 L1619,32500 L1619,34564 L649,34564 Z M650,33487 L650,33510 L710,33510 L710,33487 Z M650,33487 Z M650,33487" /></clipPath>
<path d="M723,33511 L723,33536 C723,33538.2070313 724.7929688,33540 727,33540 L732,33540" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3711)" />
<clipPath id="clip3712"><path d="M649,32500 L1619,32500 L1619,34564 L649,34564 Z M650,33487 L650,33510 L710,33510 L710,33487 Z M650,33487 Z M650,33487" /></clipPath>
<path d="M723,33511 L723,33822 C723,33824.2070313 724.7929688,33826 727,33826 L732,33826" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3712)" />
<clipPath id="clip3713"><path d="M649,32500 L1619,32500 L1619,34564 L649,34564 Z M650,33487 L650,33510 L710,33510 L710,33487 Z M650,33487 Z M650,33487" /></clipPath>
<path d="M723,33511 L723,34305 C723,34307.2070313 724.7929688,34309 727,34309 L732,34309" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3713)" />
<clipPath id="clip3714"><path d="M648,32499 L1620,32499 L1620,34565 L648,34565 L648,32499 Z" /></clipPath>
<path d="M710,33511 L723,33511" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3714)" />
<clipPath id="clip3715"><path d="M648,33485 L713,33485 L713,33513 L648,33513 L648,33485 Z" /></clipPath>
<path d="M650,33511 L710,33511 Z M650,33511" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3715)" />
<text x="660" y="33501" style="font:10px Open Sans">分区层</text>
<clipPath id="clip3716"><path d="M731,32500 L1536,32500 L1536,33017 L731,33017 Z M732,32689 L732,32712 L805,32712 L805,32689 Z M732,32689 Z M732,32689" /></clipPath>
<path d="M818,32713 L818,32531 C818,32528.7929688 819.7929688,32527 822,32527 L827,32527" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3716)" />
<clipPath id="clip3717"><path d="M731,32500 L1536,32500 L1536,33017 L731,33017 Z M732,32689 L732,32712 L805,32712 L805,32689 Z M732,32689 Z M732,32689" /></clipPath>
<path d="M818,32713 L818,32558 C818,32555.7929688 819.7929688,32554 822,32554 L827,32554" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3717)" />
<clipPath id="clip3718"><path d="M731,32500 L1536,32500 L1536,33017 L731,33017 Z M732,32689 L732,32712 L805,32712 L805,32689 Z M732,32689 Z M732,32689" /></clipPath>
<path d="M818,32713 L818,32644 C818,32641.7929688 819.7929688,32640 822,32640 L827,32640" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3718)" />
<clipPath id="clip3719"><path d="M731,32500 L1536,32500 L1536,33017 L731,33017 Z M732,32689 L732,32712 L805,32712 L805,32689 Z M732,32689 Z M732,32689" /></clipPath>
<path d="M818,32713 L818,32722 C818,32724.2070313 819.7929688,32726 822,32726 L827,32726" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3719)" />
<clipPath id="clip3720"><path d="M731,32500 L1536,32500 L1536,33017 L731,33017 Z M732,32689 L732,32712 L805,32712 L805,32689 Z M732,32689 Z M732,32689" /></clipPath>
<path d="M818,32713 L818,32751 C818,32753.2070313 819.7929688,32755 822,32755 L827,32755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3720)" />
<clipPath id="clip3721"><path d="M731,32500 L1536,32500 L1536,33017 L731,33017 Z M732,32689 L732,32712 L805,32712 L805,32689 Z M732,32689 Z M732,32689" /></clipPath>
<path d="M818,32713 L818,32896 C818,32898.2070313 819.7929688,32900 822,32900 L827,32900" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3721)" />
<clipPath id="clip3722"><path d="M730,32499 L1537,32499 L1537,33018 L730,33018 L730,32499 Z" /></clipPath>
<path d="M805,32713 L818,32713" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3722)" />
<clipPath id="clip3723"><path d="M730,32687 L808,32687 L808,32715 L730,32715 L730,32687 Z" /></clipPath>
<path d="M732,32713 L805,32713 Z M732,32713" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3723)" />
<text x="742" y="32703" style="font:10px Open Sans">基本概念</text>
<clipPath id="clip3724"><path d="M825,32499 L1237,32499 L1237,32529 L825,32529 L825,32499 Z" /></clipPath>
<path d="M827,32527 L1234,32527 Z M827,32527" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3724)" />
<text x="837" y="32515" style="font:10px Open Sans">分区层构建在文件流层之上，提供Table、Blob、Queue等数据服务</text>
<clipPath id="clip3725"><path d="M825,32528 L1046,32528 L1046,32556 L825,32556 L825,32528 Z" /></clipPath>
<path d="M827,32554 L1043,32554 Z M827,32554" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3725)" />
<text x="837" y="32544" style="font:10px Open Sans">提供强一致性并保证事务操作顺序</text>
<clipPath id="clip3726"><path d="M826,32556 L1512,32556 L1512,32698 L826,32698 Z M827,32614 L827,32639 L987,32639 L987,32614 Z M827,32614 Z M827,32614" /></clipPath>
<path d="M1000,32640 L1000,32587 C1000,32584.7929688 1001.7929688,32583 1004,32583 L1009,32583" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3726)" />
<clipPath id="clip3727"><path d="M826,32556 L1512,32556 L1512,32698 L826,32698 Z M827,32614 L827,32639 L987,32639 L987,32614 Z M827,32614 Z M827,32614" /></clipPath>
<path d="M1000,32640 L1000,32616 C1000,32613.7929688 1001.7929688,32612 1004,32612 L1009,32612" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3727)" />
<clipPath id="clip3728"><path d="M826,32556 L1512,32556 L1512,32698 L826,32698 Z M827,32614 L827,32639 L987,32639 L987,32614 Z M827,32614 Z M827,32614" /></clipPath>
<path d="M1000,32640 C1000,32640.5507813 1001.7929688,32641 1004,32641 L1009,32641" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3728)" />
<clipPath id="clip3729"><path d="M826,32556 L1512,32556 L1512,32698 L826,32698 Z M827,32614 L827,32639 L987,32639 L987,32614 Z M827,32614 Z M827,32614" /></clipPath>
<path d="M1000,32640 L1000,32664 C1000,32666.2070313 1001.7929688,32668 1004,32668 L1009,32668" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3729)" />
<clipPath id="clip3730"><path d="M826,32556 L1512,32556 L1512,32698 L826,32698 Z M827,32614 L827,32639 L987,32639 L987,32614 Z M827,32614 Z M827,32614" /></clipPath>
<path d="M1000,32640 L1000,32693 C1000,32695.2070313 1001.7929688,32697 1004,32697 L1009,32697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3730)" />
<clipPath id="clip3731"><path d="M825,32555 L1513,32555 L1513,32699 L825,32699 L825,32555 Z" /></clipPath>
<path d="M987,32640 L1000,32640" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3731)" />
<clipPath id="clip3732"><path d="M825,32612 L990,32612 L990,32642 L825,32642 L825,32612 Z" /></clipPath>
<path d="M827,32640 L987,32640 Z M827,32640" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3732)" />
<text x="837" y="32628" style="font:10px Open Sans">对象表（Object Table）</text>
<clipPath id="clip3733"><path d="M1007,32555 L1249,32555 L1249,32585 L1007,32585 L1007,32555 Z" /></clipPath>
<path d="M1009,32583 L1246,32583 Z M1009,32583" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3733)" />
<text x="1019" y="32571" style="font:10px Open Sans">每个OT是一张最大可达若干PB的大表</text>
<clipPath id="clip3734"><path d="M1007,32584 L1474,32584 L1474,32614 L1007,32614 L1007,32584 Z" /></clipPath>
<path d="M1009,32612 L1471,32612 Z M1009,32612" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3734)" />
<text x="1019" y="32600" style="font:10px Open Sans">OT被动态地划分为连续的范围分区（RangePartition，对应bIgtable的子表）</text>
<clipPath id="clip3735"><path d="M1007,32613 L1281,32613 L1281,32643 L1007,32643 L1007,32613 Z" /></clipPath>
<path d="M1009,32641 L1278,32641 Z M1009,32641" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3735)" />
<text x="1019" y="32629" style="font:10px Open Sans">分散存储到WAS存储区的多个分区服务器上</text>
<clipPath id="clip3736"><path d="M1007,32642 L1384,32642 L1384,32670 L1007,32670 L1007,32642 Z" /></clipPath>
<path d="M1009,32668 L1381,32668 Z M1009,32668" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3736)" />
<text x="1019" y="32658" style="font:10px Open Sans">范围分区之间互相不重叠，每一行都确保只在一个范围分区上</text>
<clipPath id="clip3737"><path d="M1007,32669 L1513,32669 L1513,32699 L1007,32699 L1007,32669 Z" /></clipPath>
<path d="M1009,32697 L1510,32697 Z M1009,32697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3737)" />
<text x="1019" y="32685" style="font:10px Open Sans">WAS存储区包含的对象表包括账户表，Blob数据表，Entity数据表，Message数据表</text>
<clipPath id="clip3738"><path d="M826,32699 L1536,32699 L1536,32727 L826,32727 Z M827,32700 L827,32725 L1068,32725 L1068,32700 Z M827,32700 Z M827,32700" /></clipPath>
<path d="M1081,32726 C1081,32726 1082.7929688,32726 1085,32726 L1090,32726" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3738)" />
<clipPath id="clip3739"><path d="M825,32698 L1537,32698 L1537,32728 L825,32728 L825,32698 Z" /></clipPath>
<path d="M1068,32726 L1081,32726" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3739)" />
<clipPath id="clip3740"><path d="M825,32698 L1071,32698 L1071,32728 L825,32728 L825,32698 Z" /></clipPath>
<path d="M827,32726 L1068,32726 Z M827,32726" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3740)" />
<text x="837" y="32714" style="font:10px Open Sans">全局的Schame表格（Schema Table）</text>
<clipPath id="clip3741"><path d="M1088,32698 L1537,32698 L1537,32728 L1088,32728 L1088,32698 Z" /></clipPath>
<path d="M1090,32726 L1534,32726 Z M1090,32726" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3741)" />
<text x="1100" y="32714" style="font:10px Open Sans">保存所有对象表格的schema信息（对象表的列名、数据类型及其他属性）</text>
<clipPath id="clip3742"><path d="M826,32728 L1300,32728 L1300,32756 L826,32756 Z M827,32729 L827,32754 L1021,32754 L1021,32729 Z M827,32729 Z M827,32729" /></clipPath>
<path d="M1034,32755 C1034,32755 1035.7929688,32755 1038,32755 L1043,32755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3742)" />
<clipPath id="clip3743"><path d="M825,32727 L1301,32727 L1301,32757 L825,32757 L825,32727 Z" /></clipPath>
<path d="M1021,32755 L1034,32755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3743)" />
<clipPath id="clip3744"><path d="M825,32727 L1024,32727 L1024,32757 L825,32757 L825,32727 Z" /></clipPath>
<path d="M827,32755 L1021,32755 Z M827,32755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3744)" />
<text x="837" y="32743" style="font:10px Open Sans">分区映射表（Partition Map）</text>
<clipPath id="clip3745"><path d="M1041,32729 L1301,32729 L1301,32757 L1041,32757 L1041,32729 Z" /></clipPath>
<path d="M1043,32755 L1298,32755 Z M1043,32755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3745)" />
<text x="1053" y="32745" style="font:10px Open Sans">记录每个范围分区当前所在的分区服务器</text>
<clipPath id="clip3746"><path d="M826,32757 L1075,32757 L1075,33017 L826,33017 Z M827,32876 L827,32899 L939,32899 L939,32876 Z M827,32876 Z M827,32876" /></clipPath>
<path d="M952,32900 L952,32788 C952,32785.7929688 953.7929688,32784 956,32784 L961,32784" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3746)" />
<clipPath id="clip3747"><path d="M826,32757 L1075,32757 L1075,33017 L826,33017 Z M827,32876 L827,32899 L939,32899 L939,32876 Z M827,32876 Z M827,32876" /></clipPath>
<path d="M952,32900 L952,32817 C952,32814.7929688 953.7929688,32813 956,32813 L961,32813" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3747)" />
<clipPath id="clip3748"><path d="M826,32757 L1075,32757 L1075,33017 L826,33017 Z M827,32876 L827,32899 L939,32899 L939,32876 Z M827,32876 Z M827,32876" /></clipPath>
<path d="M952,32900 L952,32846 C952,32843.7929688 953.7929688,32842 956,32842 L961,32842" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3748)" />
<clipPath id="clip3749"><path d="M826,32757 L1075,32757 L1075,33017 L826,33017 Z M827,32876 L827,32899 L939,32899 L939,32876 Z M827,32876 Z M827,32876" /></clipPath>
<path d="M952,32900 L952,32875 C952,32872.7929688 953.7929688,32871 956,32871 L961,32871" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3749)" />
<clipPath id="clip3750"><path d="M826,32757 L1075,32757 L1075,33017 L826,33017 Z M827,32876 L827,32899 L939,32899 L939,32876 Z M827,32876 Z M827,32876" /></clipPath>
<path d="M952,32900 C952,32900 953.7929688,32900 956,32900 L961,32900" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3750)" />
<clipPath id="clip3751"><path d="M826,32757 L1075,32757 L1075,33017 L826,33017 Z M827,32876 L827,32899 L939,32899 L939,32876 Z M827,32876 Z M827,32876" /></clipPath>
<path d="M952,32900 L952,32925 C952,32927.2070313 953.7929688,32929 956,32929 L961,32929" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3751)" />
<clipPath id="clip3752"><path d="M826,32757 L1075,32757 L1075,33017 L826,33017 Z M827,32876 L827,32899 L939,32899 L939,32876 Z M827,32876 Z M827,32876" /></clipPath>
<path d="M952,32900 L952,32954 C952,32956.2070313 953.7929688,32958 956,32958 L961,32958" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3752)" />
<clipPath id="clip3753"><path d="M826,32757 L1075,32757 L1075,33017 L826,33017 Z M827,32876 L827,32899 L939,32899 L939,32876 Z M827,32876 Z M827,32876" /></clipPath>
<path d="M952,32900 L952,32983 C952,32985.2070313 953.7929688,32987 956,32987 L961,32987" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3753)" />
<clipPath id="clip3754"><path d="M826,32757 L1075,32757 L1075,33017 L826,33017 Z M827,32876 L827,32899 L939,32899 L939,32876 Z M827,32876 Z M827,32876" /></clipPath>
<path d="M952,32900 L952,33012 C952,33014.2070313 953.7929688,33016 956,33016 L961,33016" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3754)" />
<clipPath id="clip3755"><path d="M825,32756 L1076,32756 L1076,33018 L825,33018 L825,32756 Z" /></clipPath>
<path d="M939,32900 L952,32900" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3755)" />
<clipPath id="clip3756"><path d="M825,32874 L942,32874 L942,32902 L825,32902 L825,32874 Z" /></clipPath>
<path d="M827,32900 L939,32900 Z M827,32900" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3756)" />
<text x="837" y="32890" style="font:10px Open Sans">支持的数据类型</text>
<clipPath id="clip3757"><path d="M959,32756 L1012,32756 L1012,32786 L959,32786 L959,32756 Z" /></clipPath>
<path d="M961,32784 L1009,32784 Z M961,32784" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3757)" />
<text x="971" y="32772" style="font:10px Open Sans">bool</text>
<clipPath id="clip3758"><path d="M959,32785 L1060,32785 L1060,32815 L959,32815 L959,32785 Z" /></clipPath>
<path d="M961,32813 L1057,32813 Z M961,32813" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3758)" />
<text x="971" y="32801" style="font:10px Open Sans">binary string</text>
<clipPath id="clip3759"><path d="M959,32814 L1043,32814 L1043,32844 L959,32844 L959,32814 Z" /></clipPath>
<path d="M961,32842 L1040,32842 Z M961,32842" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3759)" />
<text x="971" y="32830" style="font:10px Open Sans">DateTime</text>
<clipPath id="clip3760"><path d="M959,32843 L1027,32843 L1027,32873 L959,32873 L959,32843 Z" /></clipPath>
<path d="M961,32871 L1024,32871 Z M961,32871" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3760)" />
<text x="971" y="32859" style="font:10px Open Sans">double</text>
<clipPath id="clip3761"><path d="M959,32872 L1019,32872 L1019,32902 L959,32902 L959,32872 Z" /></clipPath>
<path d="M961,32900 L1016,32900 Z M961,32900" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3761)" />
<text x="971" y="32888" style="font:10px Open Sans">GUID</text>
<clipPath id="clip3762"><path d="M959,32901 L1017,32901 L1017,32931 L959,32931 L959,32901 Z" /></clipPath>
<path d="M961,32929 L1014,32929 Z M961,32929" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3762)" />
<text x="971" y="32917" style="font:10px Open Sans">int32</text>
<clipPath id="clip3763"><path d="M959,32930 L1017,32930 L1017,32960 L959,32960 L959,32930 Z" /></clipPath>
<path d="M961,32958 L1014,32958 Z M961,32958" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3763)" />
<text x="971" y="32946" style="font:10px Open Sans">int64</text>
<clipPath id="clip3764"><path d="M959,32959 L1076,32959 L1076,32989 L959,32989 L959,32959 Z" /></clipPath>
<path d="M961,32987 L1073,32987 Z M961,32987" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3764)" />
<text x="971" y="32975" style="font:10px Open Sans">DictionaryType</text>
<clipPath id="clip3765"><path d="M959,32988 L1042,32988 L1042,33018 L959,33018 L959,32988 Z" /></clipPath>
<path d="M961,33016 L1039,33016 Z M961,33016" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3765)" />
<text x="971" y="33004" style="font:10px Open Sans">BlobType</text>
<clipPath id="clip3766"><path d="M731,33018 L1506,33018 L1506,33386 L731,33386 Z M732,33197 L732,33220 L779,33220 L779,33197 Z M732,33197 Z M732,33197" /></clipPath>
<path d="M792,33221 L792,33076 C792,33073.7929688 793.7929688,33072 796,33072 L801,33072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3766)" />
<clipPath id="clip3767"><path d="M731,33018 L1506,33018 L1506,33386 L731,33386 Z M732,33197 L732,33220 L779,33220 L779,33197 Z M732,33197 Z M732,33197" /></clipPath>
<path d="M792,33221 L792,33159 C792,33156.7929688 793.7929688,33155 796,33155 L801,33155" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3767)" />
<clipPath id="clip3768"><path d="M731,33018 L1506,33018 L1506,33386 L731,33386 Z M732,33197 L732,33220 L779,33220 L779,33197 Z M732,33197 Z M732,33197" /></clipPath>
<path d="M792,33221 L792,33286 C792,33288.2070313 793.7929688,33290 796,33290 L801,33290" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3768)" />
<clipPath id="clip3769"><path d="M731,33018 L1506,33018 L1506,33386 L731,33386 Z M732,33197 L732,33220 L779,33220 L779,33197 Z M732,33197 Z M732,33197" /></clipPath>
<path d="M792,33221 L792,33366 C792,33368.2070313 793.7929688,33370 796,33370 L801,33370" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3769)" />
<clipPath id="clip3770"><path d="M730,33017 L1507,33017 L1507,33387 L730,33387 L730,33017 Z" /></clipPath>
<path d="M779,33221 L792,33221" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3770)" />
<clipPath id="clip3771"><path d="M730,33195 L782,33195 L782,33223 L730,33223 L730,33195 Z" /></clipPath>
<path d="M732,33221 L779,33221 Z M732,33221" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3771)" />
<text x="742" y="33211" style="font:10px Open Sans">架构</text>
<clipPath id="clip3772"><path d="M800,33018 L1244,33018 L1244,33100 L800,33100 Z M801,33048 L801,33071 L900,33071 L900,33048 Z M801,33048 Z M801,33048" /></clipPath>
<path d="M913,33072 L913,33049 C913,33046.7929688 914.7929688,33045 917,33045 L922,33045" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3772)" />
<clipPath id="clip3773"><path d="M800,33018 L1244,33018 L1244,33100 L800,33100 Z M801,33048 L801,33071 L900,33071 L900,33048 Z M801,33048 Z M801,33048" /></clipPath>
<path d="M913,33072 C913,33072 914.7929688,33072 917,33072 L922,33072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3773)" />
<clipPath id="clip3774"><path d="M800,33018 L1244,33018 L1244,33100 L800,33100 Z M801,33048 L801,33071 L900,33071 L900,33048 Z M801,33048 Z M801,33048" /></clipPath>
<path d="M913,33072 L913,33095 C913,33097.2070313 914.7929688,33099 917,33099 L922,33099" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3774)" />
<clipPath id="clip3775"><path d="M799,33017 L1245,33017 L1245,33101 L799,33101 L799,33017 Z" /></clipPath>
<path d="M900,33072 L913,33072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3775)" />
<clipPath id="clip3776"><path d="M799,33046 L903,33046 L903,33074 L799,33074 L799,33046 Z" /></clipPath>
<path d="M801,33072 L900,33072 Z M801,33072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3776)" />
<text x="811" y="33062" style="font:10px Open Sans">客户端程序库</text>
<clipPath id="clip3777"><path d="M920,33017 L1116,33017 L1116,33047 L920,33047 L920,33017 Z" /></clipPath>
<path d="M922,33045 L1113,33045 Z M922,33045" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3777)" />
<text x="932" y="33033" style="font:10px Open Sans">提供分区层到WAS前端的接口</text>
<clipPath id="clip3778"><path d="M920,33046 L1180,33046 L1180,33074 L920,33074 L920,33046 Z" /></clipPath>
<path d="M922,33072 L1177,33072 Z M922,33072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3778)" />
<text x="932" y="33062" style="font:10px Open Sans">客户端通过分区映射表获取分区映射信息</text>
<clipPath id="clip3779"><path d="M920,33073 L1245,33073 L1245,33101 L920,33101 L920,33073 Z" /></clipPath>
<path d="M922,33099 L1242,33099 Z M922,33099" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3779)" />
<text x="932" y="33089" style="font:10px Open Sans">表格的数据内容在客户端与分区服务器之间直接传送</text>
<clipPath id="clip3780"><path d="M800,33101 L1155,33101 L1155,33183 L800,33183 Z M801,33129 L801,33154 L1006,33154 L1006,33129 Z M801,33129 Z M801,33129" /></clipPath>
<path d="M1019,33155 L1019,33132 C1019,33129.7929688 1020.7929688,33128 1023,33128 L1028,33128" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3780)" />
<clipPath id="clip3781"><path d="M800,33101 L1155,33101 L1155,33183 L800,33183 Z M801,33129 L801,33154 L1006,33154 L1006,33129 Z M801,33129 Z M801,33129" /></clipPath>
<path d="M1019,33155 C1019,33155 1020.7929688,33155 1023,33155 L1028,33155" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3781)" />
<clipPath id="clip3782"><path d="M800,33101 L1155,33101 L1155,33183 L800,33183 Z M801,33129 L801,33154 L1006,33154 L1006,33129 Z M801,33129 Z M801,33129" /></clipPath>
<path d="M1019,33155 L1019,33178 C1019,33180.2070313 1020.7929688,33182 1023,33182 L1028,33182" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3782)" />
<clipPath id="clip3783"><path d="M799,33100 L1156,33100 L1156,33184 L799,33184 L799,33100 Z" /></clipPath>
<path d="M1006,33155 L1019,33155" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3783)" />
<clipPath id="clip3784"><path d="M799,33127 L1009,33127 L1009,33157 L799,33157 L799,33127 Z" /></clipPath>
<path d="M801,33155 L1006,33155 Z M801,33155" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3784)" />
<text x="811" y="33143" style="font:10px Open Sans">分区服务器（Partition Server）</text>
<clipPath id="clip3785"><path d="M1026,33100 L1148,33100 L1148,33130 L1026,33130 L1026,33100 Z" /></clipPath>
<path d="M1028,33128 L1145,33128 Z M1028,33128" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3785)" />
<text x="1038" y="33116" style="font:10px Open Sans">分区的装载/卸出</text>
<clipPath id="clip3786"><path d="M1026,33129 L1156,33129 L1156,33157 L1026,33157 L1026,33129 Z" /></clipPath>
<path d="M1028,33155 L1153,33155 Z M1028,33155" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3786)" />
<text x="1038" y="33145" style="font:10px Open Sans">分区内容的读和写</text>
<clipPath id="clip3787"><path d="M1026,33156 L1156,33156 L1156,33184 L1026,33184 L1026,33156 Z" /></clipPath>
<path d="M1028,33182 L1153,33182 Z M1028,33182" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3787)" />
<text x="1038" y="33172" style="font:10px Open Sans">分区的合并和分裂</text>
<clipPath id="clip3788"><path d="M800,33184 L1440,33184 L1440,33328 L800,33328 Z M801,33264 L801,33289 L1021,33289 L1021,33264 Z M801,33264 Z M801,33264" /></clipPath>
<path d="M1034,33290 L1034,33258 C1034,33255.7929688 1035.7929688,33254 1038,33254 L1043,33254" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3788)" />
<clipPath id="clip3789"><path d="M800,33184 L1440,33184 L1440,33328 L800,33328 Z M801,33264 L801,33289 L1021,33289 L1021,33264 Z M801,33264 Z M801,33264" /></clipPath>
<path d="M1034,33290 L1034,33323 C1034,33325.2070313 1035.7929688,33327 1038,33327 L1043,33327" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3789)" />
<clipPath id="clip3790"><path d="M799,33183 L1441,33183 L1441,33329 L799,33329 L799,33183 Z" /></clipPath>
<path d="M1021,33290 L1034,33290" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3790)" />
<clipPath id="clip3791"><path d="M799,33262 L1024,33262 L1024,33292 L799,33292 L799,33262 Z" /></clipPath>
<path d="M801,33290 L1021,33290 Z M801,33290" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3791)" />
<text x="811" y="33278" style="font:10px Open Sans">分区管理器（Partition Manager）</text>
<clipPath id="clip3792"><path d="M1042,33184 L1440,33184 L1440,33299 L1042,33299 Z M1043,33228 L1043,33253 L1144,33253 L1144,33228 Z M1043,33228 Z M1043,33228" /></clipPath>
<path d="M1157,33254 L1157,33215 C1157,33212.7929688 1158.7929688,33211 1161,33211 L1166,33211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3792)" />
<clipPath id="clip3793"><path d="M1042,33184 L1440,33184 L1440,33299 L1042,33299 Z M1043,33228 L1043,33253 L1144,33253 L1144,33228 Z M1043,33228 Z M1043,33228" /></clipPath>
<path d="M1157,33254 L1157,33244 C1157,33241.7929688 1158.7929688,33240 1161,33240 L1166,33240" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3793)" />
<clipPath id="clip3794"><path d="M1042,33184 L1440,33184 L1440,33299 L1042,33299 Z M1043,33228 L1043,33253 L1144,33253 L1144,33228 Z M1043,33228 Z M1043,33228" /></clipPath>
<path d="M1157,33254 L1157,33265 C1157,33267.2070313 1158.7929688,33269 1161,33269 L1166,33269" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3794)" />
<clipPath id="clip3795"><path d="M1042,33184 L1440,33184 L1440,33299 L1042,33299 Z M1043,33228 L1043,33253 L1144,33253 L1144,33228 Z M1043,33228 Z M1043,33228" /></clipPath>
<path d="M1157,33254 L1157,33294 C1157,33296.2070313 1158.7929688,33298 1161,33298 L1166,33298" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3795)" />
<clipPath id="clip3796"><path d="M1041,33183 L1441,33183 L1441,33300 L1041,33300 L1041,33183 Z" /></clipPath>
<path d="M1144,33254 L1157,33254" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3796)" />
<clipPath id="clip3797"><path d="M1041,33226 L1147,33226 L1147,33256 L1041,33256 L1041,33226 Z" /></clipPath>
<path d="M1043,33254 L1144,33254 Z M1043,33254" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3797)" />
<text x="1053" y="33242" style="font:10px Open Sans">管理所有的PS</text>
<clipPath id="clip3798"><path d="M1164,33183 L1270,33183 L1270,33213 L1164,33213 L1164,33183 Z" /></clipPath>
<path d="M1166,33211 L1267,33211 Z M1166,33211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3798)" />
<text x="1176" y="33199" style="font:10px Open Sans">分配分区给PS</text>
<clipPath id="clip3799"><path d="M1164,33212 L1361,33212 L1361,33242 L1164,33242 L1164,33212 Z" /></clipPath>
<path d="M1166,33240 L1358,33240 Z M1166,33240" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3799)" />
<text x="1176" y="33228" style="font:10px Open Sans">指导PS实现分区的分裂及合并</text>
<clipPath id="clip3800"><path d="M1164,33241 L1231,33241 L1231,33271 L1164,33271 L1164,33241 Z" /></clipPath>
<path d="M1166,33269 L1228,33269 Z M1166,33269" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3800)" />
<text x="1176" y="33257" style="font:10px Open Sans">监控PS</text>
<clipPath id="clip3801"><path d="M1164,33270 L1441,33270 L1441,33300 L1164,33300 L1164,33270 Z" /></clipPath>
<path d="M1166,33298 L1438,33298 Z M1166,33298" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3801)" />
<text x="1176" y="33286" style="font:10px Open Sans">在PS之间进行负载均衡并实现PS的故障恢复</text>
<clipPath id="clip3802"><path d="M1041,33299 L1348,33299 L1348,33329 L1041,33329 L1041,33299 Z" /></clipPath>
<path d="M1043,33327 L1345,33327 Z M1043,33327" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3802)" />
<text x="1053" y="33315" style="font:10px Open Sans">每个WAS存储区有多个PM，通过锁服务进行选主</text>
<clipPath id="clip3803"><path d="M800,33329 L1506,33329 L1506,33386 L800,33386 Z M801,33344 L801,33369 L960,33369 L960,33344 Z M801,33344 Z M801,33344" /></clipPath>
<path d="M973,33370 L973,33360 C973,33357.7929688 974.7929688,33356 977,33356 L982,33356" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3803)" />
<clipPath id="clip3804"><path d="M800,33329 L1506,33329 L1506,33386 L800,33386 Z M801,33344 L801,33369 L960,33369 L960,33344 Z M801,33344 Z M801,33344" /></clipPath>
<path d="M973,33370 L973,33381 C973,33383.2070313 974.7929688,33385 977,33385 L982,33385" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3804)" />
<clipPath id="clip3805"><path d="M799,33328 L1507,33328 L1507,33387 L799,33387 L799,33328 Z" /></clipPath>
<path d="M960,33370 L973,33370" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3805)" />
<clipPath id="clip3806"><path d="M799,33342 L963,33342 L963,33372 L799,33372 L799,33342 Z" /></clipPath>
<path d="M801,33370 L960,33370 Z M801,33370" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3806)" />
<text x="811" y="33358" style="font:10px Open Sans">锁服务（Lock Service）</text>
<clipPath id="clip3807"><path d="M980,33328 L1170,33328 L1170,33358 L980,33358 L980,33328 Z" /></clipPath>
<path d="M982,33356 L1167,33356 Z M982,33356" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3807)" />
<text x="992" y="33344" style="font:10px Open Sans">用于WAS存储区内选举主PM</text>
<clipPath id="clip3808"><path d="M980,33357 L1507,33357 L1507,33387 L980,33387 L980,33357 Z" /></clipPath>
<path d="M982,33385 L1504,33385 Z M982,33385" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3808)" />
<text x="992" y="33373" style="font:10px Open Sans">每个PS与LS之间都维持了租约，LS监控租约状态，PS的租约快到期时，会向LS重新续约</text>
<clipPath id="clip3809"><path d="M731,33387 L1619,33387 L1619,33652 L731,33652 Z M732,33516 L732,33539 L831,33539 L831,33516 Z M732,33516 Z M732,33516" /></clipPath>
<path d="M844,33540 L844,33473 C844,33470.7929688 845.7929688,33469 848,33469 L853,33469" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3809)" />
<clipPath id="clip3810"><path d="M731,33387 L1619,33387 L1619,33652 L731,33652 Z M732,33516 L732,33539 L831,33539 L831,33516 Z M732,33516 Z M732,33516" /></clipPath>
<path d="M844,33540 L844,33608 C844,33610.2070313 845.7929688,33612 848,33612 L853,33612" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3810)" />
<clipPath id="clip3811"><path d="M730,33386 L1620,33386 L1620,33653 L730,33653 L730,33386 Z" /></clipPath>
<path d="M831,33540 L844,33540" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3811)" />
<clipPath id="clip3812"><path d="M730,33514 L834,33514 L834,33542 L730,33542 L730,33514 Z" /></clipPath>
<path d="M732,33540 L831,33540 Z M732,33540" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3812)" />
<text x="742" y="33530" style="font:10px Open Sans">分区数据结构</text>
<clipPath id="clip3813"><path d="M852,33387 L1619,33387 L1619,33527 L852,33527 Z M853,33443 L853,33468 L988,33468 L988,33443 Z M853,33443 Z M853,33443" /></clipPath>
<path d="M1001,33469 L1001,33416 C1001,33413.7929688 1002.7929688,33412 1005,33412 L1010,33412" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3813)" />
<clipPath id="clip3814"><path d="M852,33387 L1619,33387 L1619,33527 L852,33527 Z M853,33443 L853,33468 L988,33468 L988,33443 Z M853,33443 Z M853,33443" /></clipPath>
<path d="M1001,33469 L1001,33445 C1001,33442.7929688 1002.7929688,33441 1005,33441 L1010,33441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3814)" />
<clipPath id="clip3815"><path d="M852,33387 L1619,33387 L1619,33527 L852,33527 Z M853,33443 L853,33468 L988,33468 L988,33443 Z M853,33443 Z M853,33443" /></clipPath>
<path d="M1001,33469 C1001,33469.5507813 1002.7929688,33470 1005,33470 L1010,33470" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3815)" />
<clipPath id="clip3816"><path d="M852,33387 L1619,33387 L1619,33527 L852,33527 Z M853,33443 L853,33468 L988,33468 L988,33443 Z M853,33443 Z M853,33443" /></clipPath>
<path d="M1001,33469 L1001,33495 C1001,33497.2070313 1002.7929688,33499 1005,33499 L1010,33499" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3816)" />
<clipPath id="clip3817"><path d="M852,33387 L1619,33387 L1619,33527 L852,33527 Z M853,33443 L853,33468 L988,33468 L988,33443 Z M853,33443 Z M853,33443" /></clipPath>
<path d="M1001,33469 L1001,33522 C1001,33524.2070313 1002.7929688,33526 1005,33526 L1010,33526" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3817)" />
<clipPath id="clip3818"><path d="M851,33386 L1620,33386 L1620,33528 L851,33528 L851,33386 Z" /></clipPath>
<path d="M988,33469 L1001,33469" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3818)" />
<clipPath id="clip3819"><path d="M851,33441 L991,33441 L991,33471 L851,33471 L851,33441 Z" /></clipPath>
<path d="M853,33469 L988,33469 Z M853,33469" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3819)" />
<text x="863" y="33457" style="font:10px Open Sans">与Bigtable类似的点</text>
<clipPath id="clip3820"><path d="M1008,33386 L1359,33386 L1359,33414 L1008,33414 L1008,33386 Z" /></clipPath>
<path d="M1010,33412 L1356,33412 Z M1010,33412" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3820)" />
<text x="1020" y="33402" style="font:10px Open Sans">用户写操作首先追加到操作日志文件流，接着修改内存表</text>
<clipPath id="clip3821"><path d="M1008,33413 L1468,33413 L1468,33443 L1008,33443 L1008,33413 Z" /></clipPath>
<path d="M1010,33441 L1465,33441 Z M1010,33441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3821)" />
<text x="1020" y="33429" style="font:10px Open Sans">内存表达到一定大小后执行快照操作（对应Bigtable的Minor Compaction）</text>
<clipPath id="clip3822"><path d="M1008,33442 L1523,33442 L1523,33472 L1008,33472 L1008,33442 Z" /></clipPath>
<path d="M1010,33470 L1520,33470 Z M1010,33470" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3822)" />
<text x="1020" y="33458" style="font:10px Open Sans">分区服务器定期将多个小快照文件合并（对应Bigtable的Merge/Major Compaction）</text>
<clipPath id="clip3823"><path d="M1008,33471 L1620,33471 L1620,33501 L1008,33501 L1008,33471 Z" /></clipPath>
<path d="M1010,33499 L1617,33499 Z M1010,33499" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3823)" />
<text x="1020" y="33487" style="font:10px Open Sans">分区服务器会对每个快照文件维护热点行数据的缓存（对应Bigtable的BlockCache和KeyValueCache）</text>
<clipPath id="clip3824"><path d="M1008,33500 L1346,33500 L1346,33528 L1008,33528 L1008,33500 Z" /></clipPath>
<path d="M1010,33526 L1343,33526 Z M1010,33526" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3824)" />
<text x="1020" y="33516" style="font:10px Open Sans">通过布隆过滤器过滤对快照文件不存在行的随机读请求</text>
<clipPath id="clip3825"><path d="M852,33528 L1420,33528 L1420,33652 L852,33652 Z M853,33586 L853,33611 L988,33611 L988,33586 Z M853,33586 Z M853,33586" /></clipPath>
<path d="M1001,33612 L1001,33578 C1001,33575.7929688 1002.7929688,33574 1005,33574 L1010,33574" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3825)" />
<clipPath id="clip3826"><path d="M852,33528 L1420,33528 L1420,33652 L852,33652 Z M853,33586 L853,33611 L988,33611 L988,33586 Z M853,33586 Z M853,33586" /></clipPath>
<path d="M1001,33612 L1001,33618 C1001,33620.2070313 1002.7929688,33622 1005,33622 L1010,33622" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3826)" />
<clipPath id="clip3827"><path d="M852,33528 L1420,33528 L1420,33652 L852,33652 Z M853,33586 L853,33611 L988,33611 L988,33586 Z M853,33586 Z M853,33586" /></clipPath>
<path d="M1001,33612 L1001,33647 C1001,33649.2070313 1002.7929688,33651 1005,33651 L1010,33651" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3827)" />
<clipPath id="clip3828"><path d="M851,33527 L1421,33527 L1421,33653 L851,33653 L851,33527 Z" /></clipPath>
<path d="M988,33612 L1001,33612" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3828)" />
<clipPath id="clip3829"><path d="M851,33584 L991,33584 L991,33614 L851,33614 L851,33584 Z" /></clipPath>
<path d="M853,33612 L988,33612 Z M853,33612" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3829)" />
<text x="863" y="33600" style="font:10px Open Sans">与Bigtable不同的点</text>
<clipPath id="clip3830"><path d="M1008,33527 L1405,33527 L1405,33576 L1008,33576 L1008,33527 Z" /></clipPath>
<path d="M1010,33574 L1402,33574 Z M1010,33574" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3830)" />
<text x="1020" y="33543" style="font:10px Open Sans">WAS每个分区有一个专门的操作日志文件</text>
<text x="1020" y="33562" style="font:10px Open Sans">Bigtable中同一个TabletServer的所有子表共享一个操作日志文件</text>
<clipPath id="clip3831"><path d="M1008,33575 L1421,33575 L1421,33624 L1008,33624 L1008,33575 Z" /></clipPath>
<path d="M1010,33622 L1418,33622 Z M1010,33622" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3831)" />
<text x="1020" y="33591" style="font:10px Open Sans">WAS中每个分区维护各自的元数据，PM只管理分区与PS的映射关系</text>
<text x="1020" y="33610" style="font:10px Open Sans">Bigtable维护了两级元数据表</text>
<clipPath id="clip3832"><path d="M1008,33623 L1338,33623 L1338,33653 L1008,33653 L1008,33623 Z" /></clipPath>
<path d="M1010,33651 L1335,33651 Z M1010,33651" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3832)" />
<text x="1020" y="33639" style="font:10px Open Sans">WAS专门引入Blob数据文件流用于支持Blob数据类型</text>
<clipPath id="clip3833"><path d="M731,33653 L1597,33653 L1597,34044 L731,34044 Z M732,33802 L732,33825 L805,33825 L805,33802 Z M732,33802 Z M732,33802" /></clipPath>
<path d="M818,33826 L818,33684 C818,33681.7929688 819.7929688,33680 822,33680 L827,33680" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3833)" />
<clipPath id="clip3834"><path d="M731,33653 L1597,33653 L1597,34044 L731,34044 Z M732,33802 L732,33825 L805,33825 L805,33802 Z M732,33802 Z M732,33802" /></clipPath>
<path d="M818,33826 L818,33793 C818,33790.7929688 819.7929688,33789 822,33789 L827,33789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3834)" />
<clipPath id="clip3835"><path d="M731,33653 L1597,33653 L1597,34044 L731,34044 Z M732,33802 L732,33825 L805,33825 L805,33802 Z M732,33802 Z M732,33802" /></clipPath>
<path d="M818,33826 L818,33968 C818,33970.2070313 819.7929688,33972 822,33972 L827,33972" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3835)" />
<clipPath id="clip3836"><path d="M730,33652 L1598,33652 L1598,34045 L730,34045 L730,33652 Z" /></clipPath>
<path d="M805,33826 L818,33826" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3836)" />
<clipPath id="clip3837"><path d="M730,33800 L808,33800 L808,33828 L730,33828 L730,33800 Z" /></clipPath>
<path d="M732,33826 L805,33826 Z M732,33826" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3837)" />
<text x="742" y="33816" style="font:10px Open Sans">负载均衡</text>
<clipPath id="clip3838"><path d="M825,33652 L1094,33652 L1094,33682 L825,33682 L825,33652 Z" /></clipPath>
<path d="M827,33680 L1091,33680 Z M827,33680" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3838)" />
<text x="837" y="33668" style="font:10px Open Sans">PM记录每个PS及它服务的每个分区的负载</text>
<clipPath id="clip3839"><path d="M826,33682 L1101,33682 L1101,33872 L826,33872 Z M827,33765 L827,33788 L939,33788 L939,33765 Z M827,33765 Z M827,33765" /></clipPath>
<path d="M952,33789 L952,33711 C952,33708.7929688 953.7929688,33707 956,33707 L961,33707" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3839)" />
<clipPath id="clip3840"><path d="M826,33682 L1101,33682 L1101,33872 L826,33872 Z M827,33765 L827,33788 L939,33788 L939,33765 Z M827,33765 Z M827,33765" /></clipPath>
<path d="M952,33789 L952,33738 C952,33735.7929688 953.7929688,33734 956,33734 L961,33734" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3840)" />
<clipPath id="clip3841"><path d="M826,33682 L1101,33682 L1101,33872 L826,33872 Z M827,33765 L827,33788 L939,33788 L939,33765 Z M827,33765 Z M827,33765" /></clipPath>
<path d="M952,33789 L952,33765 C952,33762.7929688 953.7929688,33761 956,33761 L961,33761" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3841)" />
<clipPath id="clip3842"><path d="M826,33682 L1101,33682 L1101,33872 L826,33872 Z M827,33765 L827,33788 L939,33788 L939,33765 Z M827,33765 Z M827,33765" /></clipPath>
<path d="M952,33789 C952,33789.5507813 953.7929688,33790 956,33790 L961,33790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3842)" />
<clipPath id="clip3843"><path d="M826,33682 L1101,33682 L1101,33872 L826,33872 Z M827,33765 L827,33788 L939,33788 L939,33765 Z M827,33765 Z M827,33765" /></clipPath>
<path d="M952,33789 L952,33813 C952,33815.2070313 953.7929688,33817 956,33817 L961,33817" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3843)" />
<clipPath id="clip3844"><path d="M826,33682 L1101,33682 L1101,33872 L826,33872 Z M827,33765 L827,33788 L939,33788 L939,33765 Z M827,33765 Z M827,33765" /></clipPath>
<path d="M952,33789 L952,33840 C952,33842.2070313 953.7929688,33844 956,33844 L961,33844" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3844)" />
<clipPath id="clip3845"><path d="M826,33682 L1101,33682 L1101,33872 L826,33872 Z M827,33765 L827,33788 L939,33788 L939,33765 Z M827,33765 Z M827,33765" /></clipPath>
<path d="M952,33789 L952,33867 C952,33869.2070313 953.7929688,33871 956,33871 L961,33871" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3845)" />
<clipPath id="clip3846"><path d="M825,33681 L1102,33681 L1102,33873 L825,33873 L825,33681 Z" /></clipPath>
<path d="M939,33789 L952,33789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3846)" />
<clipPath id="clip3847"><path d="M825,33763 L942,33763 L942,33791 L825,33791 L825,33763 Z" /></clipPath>
<path d="M827,33789 L939,33789 Z M827,33789" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3847)" />
<text x="837" y="33779" style="font:10px Open Sans">影响负载的因素</text>
<clipPath id="clip3848"><path d="M959,33681 L1050,33681 L1050,33709 L959,33709 L959,33681 Z" /></clipPath>
<path d="M961,33707 L1047,33707 Z M961,33707" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3848)" />
<text x="971" y="33697" style="font:10px Open Sans">每秒事务数</text>
<clipPath id="clip3849"><path d="M959,33708 L1089,33708 L1089,33736 L959,33736 L959,33708 Z" /></clipPath>
<path d="M961,33734 L1086,33734 Z M961,33734" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3849)" />
<text x="971" y="33724" style="font:10px Open Sans">平均等待事务个数</text>
<clipPath id="clip3850"><path d="M959,33735 L1024,33735 L1024,33763 L959,33763 L959,33735 Z" /></clipPath>
<path d="M961,33761 L1021,33761 Z M961,33761" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3850)" />
<text x="971" y="33751" style="font:10px Open Sans">节流率</text>
<clipPath id="clip3851"><path d="M959,33762 L1050,33762 L1050,33792 L959,33792 L959,33762 Z" /></clipPath>
<path d="M961,33790 L1047,33790 Z M961,33790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3851)" />
<text x="971" y="33778" style="font:10px Open Sans">CPU使用率</text>
<clipPath id="clip3852"><path d="M959,33791 L1050,33791 L1050,33819 L959,33819 L959,33791 Z" /></clipPath>
<path d="M961,33817 L1047,33817 Z M961,33817" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3852)" />
<text x="971" y="33807" style="font:10px Open Sans">网络使用率</text>
<clipPath id="clip3853"><path d="M959,33818 L1037,33818 L1037,33846 L959,33846 L959,33818 Z" /></clipPath>
<path d="M961,33844 L1034,33844 Z M961,33844" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3853)" />
<text x="971" y="33834" style="font:10px Open Sans">请求延时</text>
<clipPath id="clip3854"><path d="M959,33845 L1102,33845 L1102,33873 L959,33873 L959,33845 Z" /></clipPath>
<path d="M961,33871 L1099,33871 Z M961,33871" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3854)" />
<text x="971" y="33861" style="font:10px Open Sans">每个分区数据的大小</text>
<clipPath id="clip3855"><path d="M826,33873 L1597,33873 L1597,34044 L826,34044 Z M827,33948 L827,33971 L926,33971 L926,33948 Z M827,33948 Z M827,33948" /></clipPath>
<path d="M939,33972 L939,33933 C939,33930.7929688 940.7929688,33929 943,33929 L948,33929" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3855)" />
<clipPath id="clip3856"><path d="M826,33873 L1597,33873 L1597,34044 L826,34044 Z M827,33948 L827,33971 L926,33971 L926,33948 Z M827,33948 Z M827,33948" /></clipPath>
<path d="M939,33972 L939,34011 C939,34013.2070313 940.7929688,34015 943,34015 L948,34015" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3856)" />
<clipPath id="clip3857"><path d="M825,33872 L1598,33872 L1598,34045 L825,34045 L825,33872 Z" /></clipPath>
<path d="M926,33972 L939,33972" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3857)" />
<clipPath id="clip3858"><path d="M825,33946 L929,33946 L929,33974 L825,33974 L825,33946 Z" /></clipPath>
<path d="M827,33972 L926,33972 Z M827,33972" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3858)" />
<text x="837" y="33962" style="font:10px Open Sans">分区负载均衡</text>
<clipPath id="clip3859"><path d="M947,33873 L1597,33873 L1597,33959 L947,33959 Z M948,33905 L948,33928 L995,33928 L995,33905 Z M948,33905 Z M948,33905" /></clipPath>
<path d="M1008,33929 L1008,33904 C1008,33901.7929688 1009.7929688,33900 1012,33900 L1017,33900" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3859)" />
<clipPath id="clip3860"><path d="M947,33873 L1597,33873 L1597,33959 L947,33959 Z M948,33905 L948,33928 L995,33928 L995,33905 Z M948,33905 Z M948,33905" /></clipPath>
<path d="M1008,33929 C1008,33929 1009.7929688,33929 1012,33929 L1017,33929" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3860)" />
<clipPath id="clip3861"><path d="M947,33873 L1597,33873 L1597,33959 L947,33959 Z M948,33905 L948,33928 L995,33928 L995,33905 Z M948,33905 Z M948,33905" /></clipPath>
<path d="M1008,33929 L1008,33954 C1008,33956.2070313 1009.7929688,33958 1012,33958 L1017,33958" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3861)" />
<clipPath id="clip3862"><path d="M946,33872 L1598,33872 L1598,33960 L946,33960 L946,33872 Z" /></clipPath>
<path d="M995,33929 L1008,33929" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3862)" />
<clipPath id="clip3863"><path d="M946,33903 L998,33903 L998,33931 L946,33931 L946,33903 Z" /></clipPath>
<path d="M948,33929 L995,33929 Z M948,33929" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3863)" />
<text x="958" y="33919" style="font:10px Open Sans">卸载</text>
<clipPath id="clip3864"><path d="M1015,33872 L1299,33872 L1299,33902 L1015,33902 L1015,33872 Z" /></clipPath>
<path d="M1017,33900 L1296,33900 Z M1017,33900" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3864)" />
<text x="1027" y="33888" style="font:10px Open Sans">PM发送卸载指令给PS，PS执行一次快照操作</text>
<clipPath id="clip3865"><path d="M1015,33901 L1323,33901 L1323,33931 L1015,33931 L1015,33901 Z" /></clipPath>
<path d="M1017,33929 L1320,33929 Z M1017,33929" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3865)" />
<text x="1027" y="33917" style="font:10px Open Sans">PS停止待迁移分区的读写服务并告知PM卸载成功</text>
<clipPath id="clip3866"><path d="M1015,33930 L1598,33930 L1598,33960 L1015,33960 L1015,33930 Z" /></clipPath>
<path d="M1017,33958 L1595,33958 Z M1017,33958" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3866)" />
<text x="1027" y="33946" style="font:10px Open Sans">如果卸载过程中PS出现异常，PM需要查询锁服务，直到PS的服务租约过期才可以执行下一步操作</text>
<clipPath id="clip3867"><path d="M947,33960 L1482,33960 L1482,34044 L947,34044 Z M948,33991 L948,34014 L995,34014 L995,33991 Z M948,33991 Z M948,33991" /></clipPath>
<path d="M1008,34015 L1008,33991 C1008,33988.7929688 1009.7929688,33987 1012,33987 L1017,33987" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3867)" />
<clipPath id="clip3868"><path d="M947,33960 L1482,33960 L1482,34044 L947,34044 Z M948,33991 L948,34014 L995,34014 L995,33991 Z M948,33991 Z M948,33991" /></clipPath>
<path d="M1008,34015 C1008,34015.5507813 1009.7929688,34016 1012,34016 L1017,34016" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3868)" />
<clipPath id="clip3869"><path d="M947,33960 L1482,33960 L1482,34044 L947,34044 Z M948,33991 L948,34014 L995,34014 L995,33991 Z M948,33991 Z M948,33991" /></clipPath>
<path d="M1008,34015 L1008,34039 C1008,34041.2070313 1009.7929688,34043 1012,34043 L1017,34043" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3869)" />
<clipPath id="clip3870"><path d="M946,33959 L1483,33959 L1483,34045 L946,34045 L946,33959 Z" /></clipPath>
<path d="M995,34015 L1008,34015" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3870)" />
<clipPath id="clip3871"><path d="M946,33989 L998,33989 L998,34017 L946,34017 L946,33989 Z" /></clipPath>
<path d="M948,34015 L995,34015 Z M948,34015" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3871)" />
<text x="958" y="34005" style="font:10px Open Sans">加载</text>
<clipPath id="clip3872"><path d="M1015,33959 L1369,33959 L1369,33989 L1015,33989 L1015,33959 Z" /></clipPath>
<path d="M1017,33987 L1366,33987 Z M1017,33987" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3872)" />
<text x="1027" y="33975" style="font:10px Open Sans">PM发送加载指令给新的PS并且更新PM维护的分区映射表</text>
<clipPath id="clip3873"><path d="M1015,33988 L1225,33988 L1225,34018 L1015,34018 L1015,33988 Z" /></clipPath>
<path d="M1017,34016 L1222,34016 Z M1017,34016" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3873)" />
<text x="1027" y="34004" style="font:10px Open Sans">新的PS加载分区并开始提供服务</text>
<clipPath id="clip3874"><path d="M1015,34017 L1483,34017 L1483,34045 L1015,34045 L1015,34017 Z" /></clipPath>
<path d="M1017,34043 L1480,34043 Z M1017,34043" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3874)" />
<text x="1027" y="34033" style="font:10px Open Sans">卸载时执行了一次快照操作，加载时需要回放的日志很少，保证了加载的快速</text>
<clipPath id="clip3875"><path d="M731,34045 L1553,34045 L1553,34564 L731,34564 Z M732,34285 L732,34308 L818,34308 L818,34285 Z M732,34285 Z M732,34285" /></clipPath>
<path d="M831,34309 L831,34162 C831,34159.7929688 832.7929688,34158 835,34158 L840,34158" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3875)" />
<clipPath id="clip3876"><path d="M731,34045 L1553,34045 L1553,34564 L731,34564 Z M732,34285 L732,34308 L818,34308 L818,34285 Z M732,34285 Z M732,34285" /></clipPath>
<path d="M831,34309 L831,34457 C831,34459.2070313 832.7929688,34461 835,34461 L840,34461" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3876)" />
<clipPath id="clip3877"><path d="M730,34044 L1554,34044 L1554,34565 L730,34565 L730,34044 Z" /></clipPath>
<path d="M818,34309 L831,34309" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3877)" />
<clipPath id="clip3878"><path d="M730,34283 L821,34283 L821,34311 L730,34311 L730,34283 Z" /></clipPath>
<path d="M732,34309 L818,34309 Z M732,34309" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3878)" />
<text x="742" y="34299" style="font:10px Open Sans">分裂与合并</text>
<clipPath id="clip3879"><path d="M839,34045 L1553,34045 L1553,34334 L839,34334 Z M840,34134 L840,34157 L887,34157 L887,34134 Z M840,34134 Z M840,34134" /></clipPath>
<path d="M900,34158 L900,34090 C900,34087.7929688 901.7929688,34086 904,34086 L909,34086" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3879)" />
<clipPath id="clip3880"><path d="M839,34045 L1553,34045 L1553,34334 L839,34334 Z M840,34134 L840,34157 L887,34157 L887,34134 Z M840,34134 Z M840,34134" /></clipPath>
<path d="M900,34158 L900,34227 C900,34229.2070313 901.7929688,34231 904,34231 L909,34231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3880)" />
<clipPath id="clip3881"><path d="M838,34044 L1554,34044 L1554,34335 L838,34335 L838,34044 Z" /></clipPath>
<path d="M887,34158 L900,34158" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3881)" />
<clipPath id="clip3882"><path d="M838,34132 L890,34132 L890,34160 L838,34160 L838,34132 Z" /></clipPath>
<path d="M840,34158 L887,34158 Z M840,34158" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3882)" />
<text x="850" y="34148" style="font:10px Open Sans">分裂</text>
<clipPath id="clip3883"><path d="M908,34045 L1553,34045 L1553,34102 L908,34102 Z M909,34062 L909,34085 L982,34085 L982,34062 Z M909,34062 Z M909,34062" /></clipPath>
<path d="M995,34086 L995,34076 C995,34073.7929688 996.7929688,34072 999,34072 L1004,34072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3883)" />
<clipPath id="clip3884"><path d="M908,34045 L1553,34045 L1553,34102 L908,34102 Z M909,34062 L909,34085 L982,34085 L982,34062 Z M909,34062 Z M909,34062" /></clipPath>
<path d="M995,34086 L995,34097 C995,34099.2070313 996.7929688,34101 999,34101 L1004,34101" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3884)" />
<clipPath id="clip3885"><path d="M907,34044 L1554,34044 L1554,34103 L907,34103 L907,34044 Z" /></clipPath>
<path d="M982,34086 L995,34086" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3885)" />
<clipPath id="clip3886"><path d="M907,34060 L985,34060 L985,34088 L907,34088 L907,34060 Z" /></clipPath>
<path d="M909,34086 L982,34086 Z M909,34086" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3886)" />
<text x="919" y="34076" style="font:10px Open Sans">分裂原因</text>
<clipPath id="clip3887"><path d="M1003,34045 L1527,34045 L1527,34073 L1003,34073 Z M1004,34048 L1004,34071 L1077,34071 L1077,34048 Z M1004,34048 Z M1004,34048" /></clipPath>
<path d="M1090,34072 C1090,34072 1091.7929688,34072 1094,34072 L1099,34072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3887)" />
<clipPath id="clip3888"><path d="M1002,34044 L1528,34044 L1528,34074 L1002,34074 L1002,34044 Z" /></clipPath>
<path d="M1077,34072 L1090,34072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3888)" />
<clipPath id="clip3889"><path d="M1002,34046 L1080,34046 L1080,34074 L1002,34074 L1002,34046 Z" /></clipPath>
<path d="M1004,34072 L1077,34072 Z M1004,34072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3889)" />
<text x="1014" y="34062" style="font:10px Open Sans">分区太大</text>
<clipPath id="clip3890"><path d="M1097,34044 L1528,34044 L1528,34074 L1097,34074 L1097,34044 Z" /></clipPath>
<path d="M1099,34072 L1525,34072 Z M1099,34072" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3890)" />
<text x="1109" y="34060" style="font:10px Open Sans">PS维护了分区的大小及大致的中间位置，将这个中间位置作为分裂点、</text>
<clipPath id="clip3891"><path d="M1003,34074 L1553,34074 L1553,34102 L1003,34102 Z M1004,34077 L1004,34100 L1103,34100 L1103,34077 Z M1004,34077 Z M1004,34077" /></clipPath>
<path d="M1116,34101 C1116,34101 1117.7929688,34101 1120,34101 L1125,34101" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3891)" />
<clipPath id="clip3892"><path d="M1002,34073 L1554,34073 L1554,34103 L1002,34103 L1002,34073 Z" /></clipPath>
<path d="M1103,34101 L1116,34101" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3892)" />
<clipPath id="clip3893"><path d="M1002,34075 L1106,34075 L1106,34103 L1002,34103 L1002,34075 Z" /></clipPath>
<path d="M1004,34101 L1103,34101 Z M1004,34101" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3893)" />
<text x="1014" y="34091" style="font:10px Open Sans">分区负载过高</text>
<clipPath id="clip3894"><path d="M1123,34073 L1554,34073 L1554,34103 L1123,34103 L1123,34073 Z" /></clipPath>
<path d="M1125,34101 L1551,34101 Z M1125,34101" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3894)" />
<text x="1135" y="34089" style="font:10px Open Sans">PS自适应地计算分区中哪个主键范围的负载最高并通过它来确定分裂点</text>
<clipPath id="clip3895"><path d="M908,34103 L1468,34103 L1468,34334 L908,34334 Z M909,34207 L909,34230 L982,34230 L982,34207 Z M909,34207 Z M909,34207" /></clipPath>
<path d="M995,34231 L995,34134 C995,34131.7929688 996.7929688,34130 999,34130 L1004,34130" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3895)" />
<clipPath id="clip3896"><path d="M908,34103 L1468,34103 L1468,34334 L908,34334 Z M909,34207 L909,34230 L982,34230 L982,34207 Z M909,34207 Z M909,34207" /></clipPath>
<path d="M995,34231 L995,34163 C995,34160.7929688 996.7929688,34159 999,34159 L1004,34159" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3896)" />
<clipPath id="clip3897"><path d="M908,34103 L1468,34103 L1468,34334 L908,34334 Z M909,34207 L909,34230 L982,34230 L982,34207 Z M909,34207 Z M909,34207" /></clipPath>
<path d="M995,34231 L995,34192 C995,34189.7929688 996.7929688,34188 999,34188 L1004,34188" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3897)" />
<clipPath id="clip3898"><path d="M908,34103 L1468,34103 L1468,34334 L908,34334 Z M909,34207 L909,34230 L982,34230 L982,34207 Z M909,34207 Z M909,34207" /></clipPath>
<path d="M995,34231 L995,34221 C995,34218.7929688 996.7929688,34217 999,34217 L1004,34217" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3898)" />
<clipPath id="clip3899"><path d="M908,34103 L1468,34103 L1468,34334 L908,34334 Z M909,34207 L909,34230 L982,34230 L982,34207 Z M909,34207 Z M909,34207" /></clipPath>
<path d="M995,34231 L995,34242 C995,34244.2070313 996.7929688,34246 999,34246 L1004,34246" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3899)" />
<clipPath id="clip3900"><path d="M908,34103 L1468,34103 L1468,34334 L908,34334 Z M909,34207 L909,34230 L982,34230 L982,34207 Z M909,34207 Z M909,34207" /></clipPath>
<path d="M995,34231 L995,34271 C995,34273.2070313 996.7929688,34275 999,34275 L1004,34275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3900)" />
<clipPath id="clip3901"><path d="M908,34103 L1468,34103 L1468,34334 L908,34334 Z M909,34207 L909,34230 L982,34230 L982,34207 Z M909,34207 Z M909,34207" /></clipPath>
<path d="M995,34231 L995,34300 C995,34302.2070313 996.7929688,34304 999,34304 L1004,34304" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3901)" />
<clipPath id="clip3902"><path d="M908,34103 L1468,34103 L1468,34334 L908,34334 Z M909,34207 L909,34230 L982,34230 L982,34207 Z M909,34207 Z M909,34207" /></clipPath>
<path d="M995,34231 L995,34329 C995,34331.2070313 996.7929688,34333 999,34333 L1004,34333" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3902)" />
<clipPath id="clip3903"><path d="M907,34102 L1469,34102 L1469,34335 L907,34335 L907,34102 Z" /></clipPath>
<path d="M982,34231 L995,34231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3903)" />
<clipPath id="clip3904"><path d="M907,34205 L985,34205 L985,34233 L907,34233 L907,34205 Z" /></clipPath>
<path d="M909,34231 L982,34231 Z M909,34231" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3904)" />
<text x="919" y="34221" style="font:10px Open Sans">分裂操作</text>
<clipPath id="clip3905"><path d="M1002,34102 L1207,34102 L1207,34132 L1002,34132 L1002,34102 Z" /></clipPath>
<path d="M1004,34130 L1204,34130 Z M1004,34130" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3905)" />
<text x="1014" y="34118" style="font:10px Open Sans">PM告知PS将分区B分裂为C和D</text>
<clipPath id="clip3906"><path d="M1002,34131 L1308,34131 L1308,34161 L1002,34161 L1002,34131 Z" /></clipPath>
<path d="M1004,34159 L1305,34159 Z M1004,34159" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3906)" />
<text x="1014" y="34147" style="font:10px Open Sans">PS对B执行快照操作，接着停止分区B的读写服务</text>
<clipPath id="clip3907"><path d="M1002,34160 L1469,34160 L1469,34190 L1002,34190 L1002,34160 Z" /></clipPath>
<path d="M1004,34188 L1466,34188 Z M1004,34188" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3907)" />
<text x="1014" y="34176" style="font:10px Open Sans">PS发起一个MultiModify操作将B的元数据、操作日志及行数据流复制到C和D</text>
<clipPath id="clip3908"><path d="M1002,34189 L1405,34189 L1405,34219 L1002,34219 L1002,34189 Z" /></clipPath>
<path d="M1004,34217 L1402,34217 Z M1004,34217" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3908)" />
<text x="1014" y="34205" style="font:10px Open Sans">只需要拷贝每个文件的extent指针列表，不需要拷贝extent的内容</text>
<clipPath id="clip3909"><path d="M1002,34218 L1282,34218 L1282,34248 L1002,34248 L1002,34218 Z" /></clipPath>
<path d="M1004,34246 L1279,34246 Z M1004,34246" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3909)" />
<text x="1014" y="34234" style="font:10px Open Sans">PS分别向C和D的元数据流写入新的分区范围</text>
<clipPath id="clip3910"><path d="M1002,34247 L1191,34247 L1191,34277 L1002,34277 L1002,34247 Z" /></clipPath>
<path d="M1004,34275 L1188,34275 Z M1004,34275" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3910)" />
<text x="1014" y="34263" style="font:10px Open Sans">PS开始对C和D提供读写服务</text>
<clipPath id="clip3911"><path d="M1002,34276 L1382,34276 L1382,34306 L1002,34306 L1002,34276 Z" /></clipPath>
<path d="M1004,34304 L1379,34304 Z M1004,34304" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3911)" />
<text x="1014" y="34292" style="font:10px Open Sans">PS告知PM分裂成功，PM相应地更新分区映射表及元数据信息</text>
<clipPath id="clip3912"><path d="M1002,34305 L1276,34305 L1276,34335 L1002,34335 L1002,34305 Z" /></clipPath>
<path d="M1004,34333 L1273,34333 Z M1004,34333" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3912)" />
<text x="1014" y="34321" style="font:10px Open Sans">PM将C或D其中一个迁移到另一个不同的PS</text>
<clipPath id="clip3913"><path d="M839,34335 L1462,34335 L1462,34564 L839,34564 Z M840,34437 L840,34460 L887,34460 L887,34437 Z M840,34437 Z M840,34437" /></clipPath>
<path d="M900,34461 L900,34364 C900,34361.7929688 901.7929688,34360 904,34360 L909,34360" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3913)" />
<clipPath id="clip3914"><path d="M839,34335 L1462,34335 L1462,34564 L839,34564 Z M840,34437 L840,34460 L887,34460 L887,34437 Z M840,34437 Z M840,34437" /></clipPath>
<path d="M900,34461 L900,34393 C900,34390.7929688 901.7929688,34389 904,34389 L909,34389" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3914)" />
<clipPath id="clip3915"><path d="M839,34335 L1462,34335 L1462,34564 L839,34564 Z M840,34437 L840,34460 L887,34460 L887,34437 Z M840,34437 Z M840,34437" /></clipPath>
<path d="M900,34461 L900,34422 C900,34419.7929688 901.7929688,34418 904,34418 L909,34418" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3915)" />
<clipPath id="clip3916"><path d="M839,34335 L1462,34335 L1462,34564 L839,34564 Z M840,34437 L840,34460 L887,34460 L887,34437 Z M840,34437 Z M840,34437" /></clipPath>
<path d="M900,34461 L900,34451 C900,34448.7929688 901.7929688,34447 904,34447 L909,34447" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3916)" />
<clipPath id="clip3917"><path d="M839,34335 L1462,34335 L1462,34564 L839,34564 Z M840,34437 L840,34460 L887,34460 L887,34437 Z M840,34437 Z M840,34437" /></clipPath>
<path d="M900,34461 L900,34472 C900,34474.2070313 901.7929688,34476 904,34476 L909,34476" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3917)" />
<clipPath id="clip3918"><path d="M839,34335 L1462,34335 L1462,34564 L839,34564 Z M840,34437 L840,34460 L887,34460 L887,34437 Z M840,34437 Z M840,34437" /></clipPath>
<path d="M900,34461 L900,34501 C900,34503.2070313 901.7929688,34505 904,34505 L909,34505" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3918)" />
<clipPath id="clip3919"><path d="M839,34335 L1462,34335 L1462,34564 L839,34564 Z M840,34437 L840,34460 L887,34460 L887,34437 Z M840,34437 Z M840,34437" /></clipPath>
<path d="M900,34461 L900,34530 C900,34532.2070313 901.7929688,34534 904,34534 L909,34534" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3919)" />
<clipPath id="clip3920"><path d="M839,34335 L1462,34335 L1462,34564 L839,34564 Z M840,34437 L840,34460 L887,34460 L887,34437 Z M840,34437 Z M840,34437" /></clipPath>
<path d="M900,34461 L900,34559 C900,34561.2070313 901.7929688,34563 904,34563 L909,34563" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3920)" />
<clipPath id="clip3921"><path d="M838,34334 L1463,34334 L1463,34565 L838,34565 L838,34334 Z" /></clipPath>
<path d="M887,34461 L900,34461" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3921)" />
<clipPath id="clip3922"><path d="M838,34435 L890,34435 L890,34463 L838,34463 L838,34435 Z" /></clipPath>
<path d="M840,34461 L887,34461 Z M840,34461" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3922)" />
<text x="850" y="34451" style="font:10px Open Sans">合并</text>
<clipPath id="clip3923"><path d="M907,34334 L1141,34334 L1141,34362 L907,34362 L907,34334 Z" /></clipPath>
<path d="M909,34360 L1138,34360 Z M909,34360" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3923)" />
<text x="919" y="34350" style="font:10px Open Sans">需要选择两个连续的负载较低的分区</text>
<clipPath id="clip3924"><path d="M907,34361 L1319,34361 L1319,34391 L907,34391 L907,34361 Z" /></clipPath>
<path d="M909,34389 L1316,34389 Z M909,34389" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3924)" />
<text x="919" y="34377" style="font:10px Open Sans">PM迁移C或D，使它们在同一个PS。然后PM告知PS将C和D合并成E</text>
<clipPath id="clip3925"><path d="M907,34390 L1257,34390 L1257,34420 L907,34420 L907,34390 Z" /></clipPath>
<path d="M909,34418 L1254,34418 Z M909,34418" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3925)" />
<text x="919" y="34406" style="font:10px Open Sans">PS分别对C和D执行快照操作，接着停止C和D的读写服务</text>
<clipPath id="clip3926"><path d="M907,34419 L1463,34419 L1463,34449 L907,34449 L907,34419 Z" /></clipPath>
<path d="M909,34447 L1460,34447 Z M909,34447" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3926)" />
<text x="919" y="34435" style="font:10px Open Sans">PS发起一个MultiModify操作合并C和D的操作日志及行数据流，生成E的操作日志和行数据流</text>
<clipPath id="clip3927"><path d="M907,34448 L1284,34448 L1284,34478 L907,34478 L907,34448 Z" /></clipPath>
<path d="M909,34476 L1281,34476 Z M909,34476" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3927)" />
<text x="919" y="34464" style="font:10px Open Sans">只修改文件的extent指针列表，不需要拷贝extent的实际内容</text>
<clipPath id="clip3928"><path d="M907,34477 L1072,34477 L1072,34507 L907,34507 L907,34477 Z" /></clipPath>
<path d="M909,34505 L1069,34505 Z M909,34505" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3928)" />
<text x="919" y="34493" style="font:10px Open Sans">PS对E构造新的元数据流</text>
<clipPath id="clip3929"><path d="M907,34506 L1072,34506 L1072,34536 L907,34536 L907,34506 Z" /></clipPath>
<path d="M909,34534 L1069,34534 Z M909,34534" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3929)" />
<text x="919" y="34522" style="font:10px Open Sans">PS加载E并提供读写服务</text>
<clipPath id="clip3930"><path d="M907,34535 L1243,34535 L1243,34565 L907,34565 L907,34535 Z" /></clipPath>
<path d="M909,34563 L1240,34563 Z M909,34563" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3930)" />
<text x="919" y="34551" style="font:10px Open Sans">PS通知PM合并成功，PS更新分区映射表及元数据信息</text>
<clipPath id="clip3931"><path d="M649,34565 L1231,34565 L1231,34726 L649,34726 Z M650,34634 L650,34657 L697,34657 L697,34634 Z M650,34634 Z M650,34634" /></clipPath>
<path d="M710,34658 L710,34596 C710,34593.7929688 711.7929688,34592 714,34592 L719,34592" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3931)" />
<clipPath id="clip3932"><path d="M649,34565 L1231,34565 L1231,34726 L649,34726 Z M650,34634 L650,34657 L697,34657 L697,34634 Z M650,34634 Z M650,34634" /></clipPath>
<path d="M710,34658 L710,34625 C710,34622.7929688 711.7929688,34621 714,34621 L719,34621" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3932)" />
<clipPath id="clip3933"><path d="M649,34565 L1231,34565 L1231,34726 L649,34726 Z M650,34634 L650,34657 L697,34657 L697,34634 Z M650,34634 Z M650,34634" /></clipPath>
<path d="M710,34658 L710,34654 C710,34651.7929688 711.7929688,34650 714,34650 L719,34650" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3933)" />
<clipPath id="clip3934"><path d="M649,34565 L1231,34565 L1231,34726 L649,34726 Z M650,34634 L650,34657 L697,34657 L697,34634 Z M650,34634 Z M650,34634" /></clipPath>
<path d="M710,34658 L710,34675 C710,34677.2070313 711.7929688,34679 714,34679 L719,34679" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3934)" />
<clipPath id="clip3935"><path d="M649,34565 L1231,34565 L1231,34726 L649,34726 Z M650,34634 L650,34657 L697,34657 L697,34634 Z M650,34634 Z M650,34634" /></clipPath>
<path d="M710,34658 L710,34721 C710,34723.2070313 711.7929688,34725 714,34725 L719,34725" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3935)" />
<clipPath id="clip3936"><path d="M648,34564 L1232,34564 L1232,34727 L648,34727 L648,34564 Z" /></clipPath>
<path d="M697,34658 L710,34658" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3936)" />
<clipPath id="clip3937"><path d="M648,34632 L700,34632 L700,34660 L648,34660 L648,34632 Z" /></clipPath>
<path d="M650,34658 L697,34658 Z M650,34658" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3937)" />
<text x="660" y="34648" style="font:10px Open Sans">讨论</text>
<clipPath id="clip3938"><path d="M717,34564 L967,34564 L967,34594 L717,34594 L717,34564 Z" /></clipPath>
<path d="M719,34592 L964,34592 Z M719,34592" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3938)" />
<text x="729" y="34580" style="font:10px Open Sans">整体结构借鉴GFS+Bigtable并有所创新</text>
<clipPath id="clip3939"><path d="M717,34593 L1144,34593 L1144,34623 L717,34623 L717,34593 Z" /></clipPath>
<path d="M719,34621 L1141,34621 Z M719,34621" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3939)" />
<text x="729" y="34609" style="font:10px Open Sans">Chunk大小选择：GFS为64MB，WAS的extent为1GB，减少了元数据</text>
<clipPath id="clip3940"><path d="M717,34622 L1209,34622 L1209,34652 L717,34652 L717,34622 Z" /></clipPath>
<path d="M719,34650 L1206,34650 Z M719,34650" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3940)" />
<text x="729" y="34638" style="font:10px Open Sans">元数据层次：Bigtable分根表和元数据表两层，WAS只有一级元数据，实现更简便</text>
<clipPath id="clip3941"><path d="M717,34651 L1067,34651 L1067,34681 L717,34681 L717,34651 Z" /></clipPath>
<path d="M719,34679 L1064,34679 Z M719,34679" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3941)" />
<text x="729" y="34667" style="font:10px Open Sans">GFS的Chunk副本之间是弱一致的，WAS能保证强一致性</text>
<clipPath id="clip3942"><path d="M717,34680 L1232,34680 L1232,34727 L717,34727 L717,34680 Z" /></clipPath>
<path d="M719,34725 L1229,34725 Z M719,34725" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3942)" />
<text x="729" y="34696" style="font:10px Open Sans">Bigtable每个TabletServer的所有子表共享一个操作日志文件，WAS将每个范围分区的</text>
<text x="729" y="34715" style="font:10px Open Sans">操作写入不同的操作日志文件</text>
<clipPath id="clip3943"><path d="M389,34727 L1745,34727 L1745,39361 L389,39361 Z M390,36723 L390,36746 L489,36746 L489,36723 Z M390,36723 Z M390,36723" /></clipPath>
<path d="M502,36747 L502,35236 C502,35233.7929688 503.7929688,35232 506,35232 L511,35232" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3943)" />
<clipPath id="clip3944"><path d="M389,34727 L1745,34727 L1745,39361 L389,39361 Z M390,36723 L390,36746 L489,36746 L489,36723 Z M390,36723 Z M390,36723" /></clipPath>
<path d="M502,36747 L502,36509 C502,36506.7929688 503.7929688,36505 506,36505 L511,36505" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3944)" />
<clipPath id="clip3945"><path d="M389,34727 L1745,34727 L1745,39361 L389,39361 Z M390,36723 L390,36746 L489,36746 L489,36723 Z M390,36723 Z M390,36723" /></clipPath>
<path d="M502,36747 L502,38258 C502,38260.2070313 503.7929688,38262 506,38262 L511,38262" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3945)" />
<clipPath id="clip3946"><path d="M388,34726 L1746,34726 L1746,39362 L388,39362 L388,34726 Z" /></clipPath>
<path d="M489,36747 L502,36747" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3946)" />
<clipPath id="clip3947"><path d="M388,36721 L492,36721 L492,36749 L388,36749 L388,36721 Z" /></clipPath>
<path d="M390,36747 L489,36747 Z M390,36747" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3947)" />
<text x="400" y="36737" style="font:10px Open Sans">分布式数据库</text>
<clipPath id="clip3948"><path d="M510,34727 L1666,34727 L1666,35574 L510,35574 Z M511,35208 L511,35231 L610,35231 L610,35208 Z M511,35208 Z M511,35208" /></clipPath>
<path d="M623,35232 C623,35232 624.7929688,35232 627,35232 L632,35232" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3948)" />
<clipPath id="clip3949"><path d="M509,34726 L1667,34726 L1667,35575 L509,35575 L509,34726 Z" /></clipPath>
<path d="M610,35232 L623,35232" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3949)" />
<clipPath id="clip3950"><path d="M509,35206 L613,35206 L613,35234 L509,35234 L509,35206 Z" /></clipPath>
<path d="M511,35232 L610,35232 Z M511,35232" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3950)" />
<text x="521" y="35222" style="font:10px Open Sans">数据库中间层</text>
<clipPath id="clip3951"><path d="M631,34727 L1666,34727 L1666,35574 L631,35574 Z M632,35206 L632,35231 L752,35231 L752,35206 Z M632,35206 Z M632,35206" /></clipPath>
<path d="M765,35232 L765,34964 C765,34961.7929688 766.7929688,34960 769,34960 L774,34960" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3951)" />
<clipPath id="clip3952"><path d="M631,34727 L1666,34727 L1666,35574 L631,35574 Z M632,35206 L632,35231 L752,35231 L752,35206 Z M632,35206 Z M632,35206" /></clipPath>
<path d="M765,35232 L765,35326 C765,35328.2070313 766.7929688,35330 769,35330 L774,35330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3952)" />
<clipPath id="clip3953"><path d="M631,34727 L1666,34727 L1666,35574 L631,35574 Z M632,35206 L632,35231 L752,35231 L752,35206 Z M632,35206 Z M632,35206" /></clipPath>
<path d="M765,35232 L765,35500 C765,35502.2070313 766.7929688,35504 769,35504 L774,35504" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3953)" />
<clipPath id="clip3954"><path d="M630,34726 L1667,34726 L1667,35575 L630,35575 L630,34726 Z" /></clipPath>
<path d="M752,35232 L765,35232" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3954)" />
<clipPath id="clip3955"><path d="M630,35204 L755,35204 L755,35234 L630,35234 L630,35204 Z" /></clipPath>
<path d="M632,35232 L752,35232 Z M632,35232" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3955)" />
<text x="642" y="35220" style="font:10px Open Sans">MySQL Sharding</text>
<clipPath id="clip3956"><path d="M773,34727 L1493,34727 L1493,35153 L773,35153 Z M774,34936 L774,34959 L821,34959 L821,34936 Z M774,34936 Z M774,34936" /></clipPath>
<path d="M834,34960 L834,34786 C834,34783.7929688 835.7929688,34782 838,34782 L843,34782" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3956)" />
<clipPath id="clip3957"><path d="M773,34727 L1493,34727 L1493,35153 L773,35153 Z M774,34936 L774,34959 L821,34959 L821,34936 Z M774,34936 Z M774,34936" /></clipPath>
<path d="M834,34960 L834,34886 C834,34883.7929688 835.7929688,34882 838,34882 L843,34882" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3957)" />
<clipPath id="clip3958"><path d="M773,34727 L1493,34727 L1493,35153 L773,35153 Z M774,34936 L774,34959 L821,34959 L821,34936 Z M774,34936 Z M774,34936" /></clipPath>
<path d="M834,34960 L834,34979 C834,34981.2070313 835.7929688,34983 838,34983 L843,34983" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3958)" />
<clipPath id="clip3959"><path d="M773,34727 L1493,34727 L1493,35153 L773,35153 Z M774,34936 L774,34959 L821,34959 L821,34936 Z M774,34936 Z M774,34936" /></clipPath>
<path d="M834,34960 L834,35065 C834,35067.2070313 835.7929688,35069 838,35069 L843,35069" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3959)" />
<clipPath id="clip3960"><path d="M773,34727 L1493,34727 L1493,35153 L773,35153 Z M774,34936 L774,34959 L821,34959 L821,34936 Z M774,34936 Z M774,34936" /></clipPath>
<path d="M834,34960 L834,35134 C834,35136.2070313 835.7929688,35138 838,35138 L843,35138" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3960)" />
<clipPath id="clip3961"><path d="M772,34726 L1494,34726 L1494,35154 L772,35154 L772,34726 Z" /></clipPath>
<path d="M821,34960 L834,34960" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3961)" />
<clipPath id="clip3962"><path d="M772,34934 L824,34934 L824,34962 L772,34962 L772,34934 Z" /></clipPath>
<path d="M774,34960 L821,34960 Z M774,34960" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3962)" />
<text x="784" y="34950" style="font:10px Open Sans">架构</text>
<clipPath id="clip3963"><path d="M842,34727 L1238,34727 L1238,34811 L842,34811 Z M843,34756 L843,34781 L959,34781 L959,34756 Z M843,34756 Z M843,34756" /></clipPath>
<path d="M972,34782 L972,34758 C972,34755.7929688 973.7929688,34754 976,34754 L981,34754" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3963)" />
<clipPath id="clip3964"><path d="M842,34727 L1238,34727 L1238,34811 L842,34811 Z M843,34756 L843,34781 L959,34781 L959,34756 Z M843,34756 Z M843,34756" /></clipPath>
<path d="M972,34782 C972,34782.5507813 973.7929688,34783 976,34783 L981,34783" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3964)" />
<clipPath id="clip3965"><path d="M842,34727 L1238,34727 L1238,34811 L842,34811 Z M843,34756 L843,34781 L959,34781 L959,34756 Z M843,34756 Z M843,34756" /></clipPath>
<path d="M972,34782 L972,34806 C972,34808.2070313 973.7929688,34810 976,34810 L981,34810" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3965)" />
<clipPath id="clip3966"><path d="M841,34726 L1239,34726 L1239,34812 L841,34812 L841,34726 Z" /></clipPath>
<path d="M959,34782 L972,34782" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3966)" />
<clipPath id="clip3967"><path d="M841,34754 L962,34754 L962,34784 L841,34784 L841,34754 Z" /></clipPath>
<path d="M843,34782 L959,34782 Z M843,34782" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3967)" />
<text x="853" y="34770" style="font:10px Open Sans">MySQL客户端库</text>
<clipPath id="clip3968"><path d="M979,34726 L1230,34726 L1230,34756 L979,34756 L979,34726 Z" /></clipPath>
<path d="M981,34754 L1227,34754 Z M981,34754" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3968)" />
<text x="991" y="34742" style="font:10px Open Sans">应用通过MySQL原生客户端与系统交互</text>
<clipPath id="clip3969"><path d="M979,34755 L1062,34755 L1062,34785 L979,34785 L979,34755 Z" /></clipPath>
<path d="M981,34783 L1059,34783 Z M981,34783" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3969)" />
<text x="991" y="34771" style="font:10px Open Sans">支持JDBC</text>
<clipPath id="clip3970"><path d="M979,34784 L1239,34784 L1239,34812 L979,34812 L979,34784 Z" /></clipPath>
<path d="M981,34810 L1236,34810 Z M981,34810" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3970)" />
<text x="991" y="34800" style="font:10px Open Sans">原有的单机访问数据库程序可以无缝迁移</text>
<clipPath id="clip3971"><path d="M842,34812 L1493,34812 L1493,34927 L842,34927 Z M843,34856 L843,34881 L954,34881 L954,34856 Z M843,34856 Z M843,34856" /></clipPath>
<path d="M967,34882 L967,34843 C967,34840.7929688 968.7929688,34839 971,34839 L976,34839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3971)" />
<clipPath id="clip3972"><path d="M842,34812 L1493,34812 L1493,34927 L842,34927 Z M843,34856 L843,34881 L954,34881 L954,34856 Z M843,34856 Z M843,34856" /></clipPath>
<path d="M967,34882 L967,34872 C967,34869.7929688 968.7929688,34868 971,34868 L976,34868" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3972)" />
<clipPath id="clip3973"><path d="M842,34812 L1493,34812 L1493,34927 L842,34927 Z M843,34856 L843,34881 L954,34881 L954,34856 Z M843,34856 Z M843,34856" /></clipPath>
<path d="M967,34882 L967,34893 C967,34895.2070313 968.7929688,34897 971,34897 L976,34897" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3973)" />
<clipPath id="clip3974"><path d="M842,34812 L1493,34812 L1493,34927 L842,34927 Z M843,34856 L843,34881 L954,34881 L954,34856 Z M843,34856 Z M843,34856" /></clipPath>
<path d="M967,34882 L967,34922 C967,34924.2070313 968.7929688,34926 971,34926 L976,34926" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3974)" />
<clipPath id="clip3975"><path d="M841,34811 L1494,34811 L1494,34928 L841,34928 L841,34811 Z" /></clipPath>
<path d="M954,34882 L967,34882" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3975)" />
<clipPath id="clip3976"><path d="M841,34854 L957,34854 L957,34884 L841,34884 L841,34854 Z" /></clipPath>
<path d="M843,34882 L954,34882 Z M843,34882" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3976)" />
<text x="853" y="34870" style="font:10px Open Sans">中间层dbproxy</text>
<clipPath id="clip3977"><path d="M974,34811 L1245,34811 L1245,34841 L974,34841 L974,34811 Z" /></clipPath>
<path d="M976,34839 L1242,34839 Z M976,34839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3977)" />
<text x="986" y="34827" style="font:10px Open Sans">解析客户端SQL请求并转发到后端的数据库</text>
<clipPath id="clip3978"><path d="M974,34840 L1494,34840 L1494,34870 L974,34870 L974,34840 Z" /></clipPath>
<path d="M976,34868 L1491,34868 Z M976,34868" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3978)" />
<text x="986" y="34856" style="font:10px Open Sans">解析MySQL协议，执行SQL路由，SQL过滤，读写分离，结果归并，排序及分组，等等</text>
<clipPath id="clip3979"><path d="M974,34869 L1272,34869 L1272,34899 L974,34899 L974,34869 Z" /></clipPath>
<path d="M976,34897 L1269,34897 Z M976,34897" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3979)" />
<text x="986" y="34885" style="font:10px Open Sans">由多个无状态的dbproxy进程组成，不存在单点</text>
<clipPath id="clip3980"><path d="M974,34898 L1360,34898 L1360,34928 L974,34928 L974,34898 Z" /></clipPath>
<path d="M976,34926 L1357,34926 Z M976,34926" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3980)" />
<text x="986" y="34914" style="font:10px Open Sans">可以在客户端与中间层之间引入LVS对客户端请求进行负载均衡</text>
<clipPath id="clip3981"><path d="M842,34928 L1401,34928 L1401,35012 L842,35012 Z M843,34957 L843,34982 L968,34982 L968,34957 Z M843,34957 Z M843,34957" /></clipPath>
<path d="M981,34983 L981,34959 C981,34956.7929688 982.7929688,34955 985,34955 L990,34955" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3981)" />
<clipPath id="clip3982"><path d="M842,34928 L1401,34928 L1401,35012 L842,35012 Z M843,34957 L843,34982 L968,34982 L968,34957 Z M843,34957 Z M843,34957" /></clipPath>
<path d="M981,34983 C981,34982.4492188 982.7929688,34982 985,34982 L990,34982" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3982)" />
<clipPath id="clip3983"><path d="M842,34928 L1401,34928 L1401,35012 L842,35012 Z M843,34957 L843,34982 L968,34982 L968,34957 Z M843,34957 Z M843,34957" /></clipPath>
<path d="M981,34983 L981,35007 C981,35009.2070313 982.7929688,35011 985,35011 L990,35011" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3983)" />
<clipPath id="clip3984"><path d="M841,34927 L1402,34927 L1402,35013 L841,35013 L841,34927 Z" /></clipPath>
<path d="M968,34983 L981,34983" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3984)" />
<clipPath id="clip3985"><path d="M841,34955 L971,34955 L971,34985 L841,34985 L841,34955 Z" /></clipPath>
<path d="M843,34983 L968,34983 Z M843,34983" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3985)" />
<text x="853" y="34971" style="font:10px Open Sans">数据库组dbgroup</text>
<clipPath id="clip3986"><path d="M988,34927 L1284,34927 L1284,34957 L988,34957 L988,34927 Z" /></clipPath>
<path d="M990,34955 L1281,34955 Z M990,34955" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3986)" />
<text x="1000" y="34943" style="font:10px Open Sans">每个dbgroup由N台数据库机器组成，一主多从</text>
<clipPath id="clip3987"><path d="M988,34956 L1261,34956 L1261,34984 L988,34984 L988,34956 Z" /></clipPath>
<path d="M990,34982 L1258,34982 Z M990,34982" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3987)" />
<text x="1000" y="34972" style="font:10px Open Sans">主节点负责所有的写事务及强一致性读事务</text>
<clipPath id="clip3988"><path d="M988,34983 L1402,34983 L1402,35013 L988,35013 L988,34983 Z" /></clipPath>
<path d="M990,35011 L1399,35011 Z M990,35011" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3988)" />
<text x="1000" y="34999" style="font:10px Open Sans">写操作以binlog形式复制到备节点，备节点支持有一定延迟的读事务</text>
<clipPath id="clip3989"><path d="M842,35013 L1361,35013 L1361,35099 L842,35099 Z M843,35045 L843,35068 L942,35068 L942,35045 Z M843,35045 Z M843,35045" /></clipPath>
<path d="M955,35069 L955,35044 C955,35041.7929688 956.7929688,35040 959,35040 L964,35040" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3989)" />
<clipPath id="clip3990"><path d="M842,35013 L1361,35013 L1361,35099 L842,35099 Z M843,35045 L843,35068 L942,35068 L942,35045 Z M843,35045 Z M843,35045" /></clipPath>
<path d="M955,35069 C955,35069 956.7929688,35069 959,35069 L964,35069" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3990)" />
<clipPath id="clip3991"><path d="M842,35013 L1361,35013 L1361,35099 L842,35099 Z M843,35045 L843,35068 L942,35068 L942,35045 Z M843,35045 Z M843,35045" /></clipPath>
<path d="M955,35069 L955,35094 C955,35096.2070313 956.7929688,35098 959,35098 L964,35098" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3991)" />
<clipPath id="clip3992"><path d="M841,35012 L1362,35012 L1362,35100 L841,35100 L841,35012 Z" /></clipPath>
<path d="M942,35069 L955,35069" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3992)" />
<clipPath id="clip3993"><path d="M841,35043 L945,35043 L945,35071 L841,35071 L841,35043 Z" /></clipPath>
<path d="M843,35069 L942,35069 Z M843,35069" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3993)" />
<text x="853" y="35059" style="font:10px Open Sans">元数据服务器</text>
<clipPath id="clip3994"><path d="M962,35012 L1235,35012 L1235,35042 L962,35042 L962,35012 Z" /></clipPath>
<path d="M964,35040 L1232,35040 Z M964,35040" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3994)" />
<text x="974" y="35028" style="font:10px Open Sans">维护dbgroup拆分规则并用于dbgroup选主</text>
<clipPath id="clip3995"><path d="M962,35041 L1362,35041 L1362,35071 L962,35071 L962,35041 Z" /></clipPath>
<path d="M964,35069 L1359,35069 Z M964,35069" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3995)" />
<text x="974" y="35057" style="font:10px Open Sans">dbproxy通过元数据服务器获取拆分规则从而确定SQL的执行计划</text>
<clipPath id="clip3996"><path d="M962,35070 L1214,35070 L1214,35100 L962,35100 L962,35070 Z" /></clipPath>
<path d="M964,35098 L1211,35098 Z M964,35098" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3996)" />
<text x="974" y="35086" style="font:10px Open Sans">元数据服务器的HA一般采用Zookeeper</text>
<clipPath id="clip3997"><path d="M842,35100 L1261,35100 L1261,35153 L842,35153 Z M843,35112 L843,35137 L956,35137 L956,35112 Z M843,35112 Z M843,35112" /></clipPath>
<path d="M969,35138 L969,35129 C969,35126.7929688 970.7929688,35125 973,35125 L978,35125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3997)" />
<clipPath id="clip3998"><path d="M842,35100 L1261,35100 L1261,35153 L842,35153 Z M843,35112 L843,35137 L956,35137 L956,35112 Z M843,35112 Z M843,35112" /></clipPath>
<path d="M969,35138 L969,35148 C969,35150.2070313 970.7929688,35152 973,35152 L978,35152" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3998)" />
<clipPath id="clip3999"><path d="M841,35099 L1262,35099 L1262,35154 L841,35154 L841,35099 Z" /></clipPath>
<path d="M956,35138 L969,35138" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip3999)" />
<clipPath id="clip4000"><path d="M841,35110 L959,35110 L959,35140 L841,35140 L841,35110 Z" /></clipPath>
<path d="M843,35138 L956,35138 Z M843,35138" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4000)" />
<text x="853" y="35126" style="font:10px Open Sans">常驻进程agents</text>
<clipPath id="clip4001"><path d="M976,35099 L1223,35099 L1223,35127 L976,35127 L976,35099 Z" /></clipPath>
<path d="M978,35125 L1220,35125 Z M978,35125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4001)" />
<text x="988" y="35115" style="font:10px Open Sans">部署在每台数据库服务器上的常驻进程</text>
<clipPath id="clip4002"><path d="M976,35126 L1262,35126 L1262,35154 L976,35154 L976,35126 Z" /></clipPath>
<path d="M978,35152 L1259,35152 Z M978,35152" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4002)" />
<text x="988" y="35142" style="font:10px Open Sans">用于实现监控、单点切换、安装、卸载程序等</text>
<clipPath id="clip4003"><path d="M773,35154 L1666,35154 L1666,35410 L773,35410 Z M774,35304 L774,35329 L1001,35329 L1001,35304 Z M774,35304 Z M774,35304" /></clipPath>
<path d="M1014,35330 L1014,35270 C1014,35267.7929688 1015.7929688,35266 1018,35266 L1023,35266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4003)" />
<clipPath id="clip4004"><path d="M773,35154 L1666,35154 L1666,35410 L773,35410 Z M774,35304 L774,35329 L1001,35329 L1001,35304 Z M774,35304 Z M774,35304" /></clipPath>
<path d="M1014,35330 L1014,35391 C1014,35393.2070313 1015.7929688,35395 1018,35395 L1023,35395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4004)" />
<clipPath id="clip4005"><path d="M772,35153 L1667,35153 L1667,35411 L772,35411 L772,35153 Z" /></clipPath>
<path d="M1001,35330 L1014,35330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4005)" />
<clipPath id="clip4006"><path d="M772,35302 L1004,35302 L1004,35332 L772,35332 L772,35302 Z" /></clipPath>
<path d="M774,35330 L1001,35330 Z M774,35330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4006)" />
<text x="784" y="35318" style="font:10px Open Sans">扩容（假设按用户id进行哈希分区）</text>
<clipPath id="clip4007"><path d="M1022,35154 L1666,35154 L1666,35354 L1022,35354 Z M1023,35242 L1023,35265 L1135,35265 L1135,35242 Z M1023,35242 Z M1023,35242" /></clipPath>
<path d="M1148,35266 L1148,35183 C1148,35180.7929688 1149.7929688,35179 1152,35179 L1157,35179" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4007)" />
<clipPath id="clip4008"><path d="M1022,35154 L1666,35154 L1666,35354 L1022,35354 Z M1023,35242 L1023,35265 L1135,35265 L1135,35242 Z M1023,35242 Z M1023,35242" /></clipPath>
<path d="M1148,35266 L1148,35212 C1148,35209.7929688 1149.7929688,35208 1152,35208 L1157,35208" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4008)" />
<clipPath id="clip4009"><path d="M1022,35154 L1666,35154 L1666,35354 L1022,35354 Z M1023,35242 L1023,35265 L1135,35265 L1135,35242 Z M1023,35242 Z M1023,35242" /></clipPath>
<path d="M1148,35266 L1148,35241 C1148,35238.7929688 1149.7929688,35237 1152,35237 L1157,35237" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4009)" />
<clipPath id="clip4010"><path d="M1022,35154 L1666,35154 L1666,35354 L1022,35354 Z M1023,35242 L1023,35265 L1135,35265 L1135,35242 Z M1023,35242 Z M1023,35242" /></clipPath>
<path d="M1148,35266 C1148,35266 1149.7929688,35266 1152,35266 L1157,35266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4010)" />
<clipPath id="clip4011"><path d="M1022,35154 L1666,35154 L1666,35354 L1022,35354 Z M1023,35242 L1023,35265 L1135,35265 L1135,35242 Z M1023,35242 Z M1023,35242" /></clipPath>
<path d="M1148,35266 L1148,35291 C1148,35293.2070313 1149.7929688,35295 1152,35295 L1157,35295" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4011)" />
<clipPath id="clip4012"><path d="M1022,35154 L1666,35154 L1666,35354 L1022,35354 Z M1023,35242 L1023,35265 L1135,35265 L1135,35242 Z M1023,35242 Z M1023,35242" /></clipPath>
<path d="M1148,35266 L1148,35320 C1148,35322.2070313 1149.7929688,35324 1152,35324 L1157,35324" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4012)" />
<clipPath id="clip4013"><path d="M1022,35154 L1666,35154 L1666,35354 L1022,35354 Z M1023,35242 L1023,35265 L1135,35265 L1135,35242 Z M1023,35242 Z M1023,35242" /></clipPath>
<path d="M1148,35266 L1148,35349 C1148,35351.2070313 1149.7929688,35353 1152,35353 L1157,35353" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4013)" />
<clipPath id="clip4014"><path d="M1021,35153 L1667,35153 L1667,35355 L1021,35355 L1021,35153 Z" /></clipPath>
<path d="M1135,35266 L1148,35266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4014)" />
<clipPath id="clip4015"><path d="M1021,35240 L1138,35240 L1138,35268 L1021,35268 L1021,35240 Z" /></clipPath>
<path d="M1023,35266 L1135,35266 Z M1023,35266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4015)" />
<text x="1033" y="35256" style="font:10px Open Sans">集群的容量不够</text>
<clipPath id="clip4016"><path d="M1155,35153 L1259,35153 L1259,35181 L1155,35181 L1155,35153 Z" /></clipPath>
<path d="M1157,35179 L1256,35179 Z M1157,35179" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4016)" />
<text x="1167" y="35169" style="font:10px Open Sans">双倍扩容方案</text>
<clipPath id="clip4017"><path d="M1155,35180 L1554,35180 L1554,35210 L1155,35210 L1155,35180 Z" /></clipPath>
<path d="M1157,35208 L1551,35208 Z M1157,35208" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4017)" />
<text x="1167" y="35196" style="font:10px Open Sans">假设原来有两个dbgrooup，第一个主A0备A1，第二个主B0备B1</text>
<clipPath id="clip4018"><path d="M1155,35209 L1377,35209 L1377,35239 L1155,35239 L1155,35209 Z" /></clipPath>
<path d="M1157,35237 L1374,35237 Z M1157,35237" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4018)" />
<text x="1167" y="35225" style="font:10px Open Sans">等待A0和B0的数据同步到A1和B1</text>
<clipPath id="clip4019"><path d="M1155,35238 L1598,35238 L1598,35268 L1155,35268 L1155,35238 Z" /></clipPath>
<path d="M1157,35266 L1595,35266 Z M1157,35266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4019)" />
<text x="1167" y="35254" style="font:10px Open Sans">停止写服务，等待主备完全同步后解除A0与A1、B0与B1之间的主备关系</text>
<clipPath id="clip4020"><path d="M1155,35267 L1667,35267 L1667,35297 L1155,35297 L1155,35267 Z" /></clipPath>
<path d="M1157,35295 L1664,35295 Z M1157,35295" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4020)" />
<text x="1167" y="35283" style="font:10px Open Sans">修改中间层的映射规则，将哈希值模4等于1的数据映射到A1，等于3的数据映射到B1</text>
<clipPath id="clip4021"><path d="M1155,35296 L1612,35296 L1612,35326 L1155,35326 L1155,35296 Z" /></clipPath>
<path d="M1157,35324 L1609,35324 Z M1157,35324" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4021)" />
<text x="1167" y="35312" style="font:10px Open Sans">开启写服务，哈希值模4等于0、1、2、3的数据分别写入A0、A1、B0、B1</text>
<clipPath id="clip4022"><path d="M1155,35325 L1403,35325 L1403,35355 L1155,35355 L1155,35325 Z" /></clipPath>
<path d="M1157,35353 L1400,35353 Z M1157,35353" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4022)" />
<text x="1167" y="35341" style="font:10px Open Sans">分别给A0、A1、B0、B1增加一台备机</text>
<clipPath id="clip4023"><path d="M1022,35355 L1609,35355 L1609,35410 L1022,35410 Z M1023,35371 L1023,35394 L1174,35394 L1174,35371 Z M1023,35371 Z M1023,35371" /></clipPath>
<path d="M1187,35395 L1187,35386 C1187,35383.7929688 1188.7929688,35382 1191,35382 L1196,35382" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4023)" />
<clipPath id="clip4024"><path d="M1022,35355 L1609,35355 L1609,35410 L1022,35410 Z M1023,35371 L1023,35394 L1174,35394 L1174,35371 Z M1023,35371 Z M1023,35371" /></clipPath>
<path d="M1187,35395 L1187,35405 C1187,35407.2070313 1188.7929688,35409 1191,35409 L1196,35409" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4024)" />
<clipPath id="clip4025"><path d="M1021,35354 L1610,35354 L1610,35411 L1021,35411 L1021,35354 Z" /></clipPath>
<path d="M1174,35395 L1187,35395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4025)" />
<clipPath id="clip4026"><path d="M1021,35369 L1177,35369 L1177,35397 L1021,35397 L1021,35369 Z" /></clipPath>
<path d="M1023,35395 L1174,35395 Z M1023,35395" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4026)" />
<text x="1033" y="35385" style="font:10px Open Sans">单个用户的数据量太大</text>
<clipPath id="clip4027"><path d="M1194,35354 L1610,35354 L1610,35384 L1194,35384 L1194,35354 Z" /></clipPath>
<path d="M1196,35382 L1607,35382 Z M1196,35382" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4027)" />
<text x="1206" y="35370" style="font:10px Open Sans">应用层定期统计大用户，并将其数据按照数据量拆分到多个dbgroup</text>
<clipPath id="clip4028"><path d="M1194,35383 L1467,35383 L1467,35411 L1194,35411 L1194,35383 Z" /></clipPath>
<path d="M1196,35409 L1464,35409 Z M1196,35409" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4028)" />
<text x="1206" y="35399" style="font:10px Open Sans">定期维护这些信息对应用层是个很大的代价</text>
<clipPath id="clip4029"><path d="M773,35411 L1260,35411 L1260,35574 L773,35574 Z M774,35480 L774,35503 L821,35503 L821,35480 Z M774,35480 Z M774,35480" /></clipPath>
<path d="M834,35504 L834,35440 C834,35437.7929688 835.7929688,35436 838,35436 L843,35436" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4029)" />
<clipPath id="clip4030"><path d="M773,35411 L1260,35411 L1260,35574 L773,35574 Z M774,35480 L774,35503 L821,35503 L821,35480 Z M774,35480 Z M774,35480" /></clipPath>
<path d="M834,35504 L834,35467 C834,35464.7929688 835.7929688,35463 838,35463 L843,35463" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4030)" />
<clipPath id="clip4031"><path d="M773,35411 L1260,35411 L1260,35574 L773,35574 Z M774,35480 L774,35503 L821,35503 L821,35480 Z M774,35480 Z M774,35480" /></clipPath>
<path d="M834,35504 L834,35496 C834,35493.7929688 835.7929688,35492 838,35492 L843,35492" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4031)" />
<clipPath id="clip4032"><path d="M773,35411 L1260,35411 L1260,35574 L773,35574 Z M774,35480 L774,35503 L821,35503 L821,35480 Z M774,35480 Z M774,35480" /></clipPath>
<path d="M834,35504 L834,35515 C834,35517.2070313 835.7929688,35519 838,35519 L843,35519" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4032)" />
<clipPath id="clip4033"><path d="M773,35411 L1260,35411 L1260,35574 L773,35574 Z M774,35480 L774,35503 L821,35503 L821,35480 Z M774,35480 Z M774,35480" /></clipPath>
<path d="M834,35504 L834,35542 C834,35544.2070313 835.7929688,35546 838,35546 L843,35546" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4033)" />
<clipPath id="clip4034"><path d="M773,35411 L1260,35411 L1260,35574 L773,35574 Z M774,35480 L774,35503 L821,35503 L821,35480 Z M774,35480 Z M774,35480" /></clipPath>
<path d="M834,35504 L834,35569 C834,35571.2070313 835.7929688,35573 838,35573 L843,35573" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4034)" />
<clipPath id="clip4035"><path d="M772,35410 L1261,35410 L1261,35575 L772,35575 L772,35410 Z" /></clipPath>
<path d="M821,35504 L834,35504" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4035)" />
<clipPath id="clip4036"><path d="M772,35478 L824,35478 L824,35506 L772,35506 L772,35478 Z" /></clipPath>
<path d="M774,35504 L821,35504 Z M774,35504" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4036)" />
<text x="784" y="35494" style="font:10px Open Sans">讨论</text>
<clipPath id="clip4037"><path d="M841,35410 L1140,35410 L1140,35438 L841,35438 L841,35410 Z" /></clipPath>
<path d="M843,35436 L1137,35436 Z M843,35436" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4037)" />
<text x="853" y="35426" style="font:10px Open Sans">引入数据库中间层将后端分库分表对应用透明化</text>
<clipPath id="clip4038"><path d="M841,35437 L1023,35437 L1023,35465 L841,35465 L841,35437 Z" /></clipPath>
<path d="M843,35463 L1020,35463 Z M843,35463" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4038)" />
<text x="853" y="35453" style="font:10px Open Sans">做法实现简单，对应用友好</text>
<clipPath id="clip4039"><path d="M841,35464 L1261,35464 L1261,35494 L841,35494 L841,35464 Z" /></clipPath>
<path d="M843,35492 L1258,35492 Z M843,35492" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4039)" />
<text x="853" y="35480" style="font:10px Open Sans">MySQL主备之间只支持异步复制，主库压力大时可能产生很大的延迟</text>
<clipPath id="clip4040"><path d="M841,35493 L1101,35493 L1101,35521 L841,35521 L841,35493 Z" /></clipPath>
<path d="M843,35519 L1098,35519 Z M843,35519" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4040)" />
<text x="853" y="35509" style="font:10px Open Sans">主备切换可能会丢失最后一部分更新事务</text>
<clipPath id="clip4041"><path d="M841,35520 L1036,35520 L1036,35548 L841,35548 L841,35520 Z" /></clipPath>
<path d="M843,35546 L1033,35546 Z M843,35546" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4041)" />
<text x="853" y="35536" style="font:10px Open Sans">扩容过程比较复杂，容易出错</text>
<clipPath id="clip4042"><path d="M841,35547 L1075,35547 L1075,35575 L841,35575 L841,35547 Z" /></clipPath>
<path d="M843,35573 L1072,35573 Z M843,35573" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4042)" />
<text x="853" y="35563" style="font:10px Open Sans">动态数据迁移复杂，很难做到自动化</text>
<clipPath id="clip4043"><path d="M510,35575 L1548,35575 L1548,37136 L510,37136 Z M511,36479 L511,36504 L654,36504 L654,36479 Z M511,36479 Z M511,36479" /></clipPath>
<path d="M667,36505 L667,35895 C667,35892.7929688 668.7929688,35891 671,35891 L676,35891" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4043)" />
<clipPath id="clip4044"><path d="M510,35575 L1548,35575 L1548,37136 L510,37136 Z M511,36479 L511,36504 L654,36504 L654,36479 Z M511,36479 Z M511,36479" /></clipPath>
<path d="M667,36505 L667,36340 C667,36337.7929688 668.7929688,36336 671,36336 L676,36336" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4044)" />
<clipPath id="clip4045"><path d="M510,35575 L1548,35575 L1548,37136 L510,37136 Z M511,36479 L511,36504 L654,36504 L654,36479 Z M511,36479 Z M511,36479" /></clipPath>
<path d="M667,36505 L667,36654 C667,36656.2070313 668.7929688,36658 671,36658 L676,36658" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4045)" />
<clipPath id="clip4046"><path d="M510,35575 L1548,35575 L1548,37136 L510,37136 Z M511,36479 L511,36504 L654,36504 L654,36479 Z M511,36479 Z M511,36479" /></clipPath>
<path d="M667,36505 L667,36840 C667,36842.2070313 668.7929688,36844 671,36844 L676,36844" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4046)" />
<clipPath id="clip4047"><path d="M510,35575 L1548,35575 L1548,37136 L510,37136 Z M511,36479 L511,36504 L654,36504 L654,36479 Z M511,36479 Z M511,36479" /></clipPath>
<path d="M667,36505 L667,36958 C667,36960.2070313 668.7929688,36962 671,36962 L676,36962" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4047)" />
<clipPath id="clip4048"><path d="M510,35575 L1548,35575 L1548,37136 L510,37136 Z M511,36479 L511,36504 L654,36504 L654,36479 Z M511,36479 Z M511,36479" /></clipPath>
<path d="M667,36505 L667,37044 C667,37046.2070313 668.7929688,37048 671,37048 L676,37048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4048)" />
<clipPath id="clip4049"><path d="M510,35575 L1548,35575 L1548,37136 L510,37136 Z M511,36479 L511,36504 L654,36504 L654,36479 Z M511,36479 Z M511,36479" /></clipPath>
<path d="M667,36505 L667,37116 C667,37118.2070313 668.7929688,37120 671,37120 L676,37120" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4049)" />
<clipPath id="clip4050"><path d="M509,35574 L1549,35574 L1549,37137 L509,37137 L509,35574 Z" /></clipPath>
<path d="M654,36505 L667,36505" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4050)" />
<clipPath id="clip4051"><path d="M509,36477 L657,36477 L657,36507 L509,36507 L509,36477 Z" /></clipPath>
<path d="M511,36505 L654,36505 Z M511,36505" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4051)" />
<text x="521" y="36493" style="font:10px Open Sans">Microsoft SQL Azure</text>
<clipPath id="clip4052"><path d="M675,35575 L1383,35575 L1383,36128 L675,36128 Z M676,35867 L676,35890 L749,35890 L749,35867 Z M676,35867 Z M676,35867" /></clipPath>
<path d="M762,35891 L762,35757 C762,35754.7929688 763.7929688,35753 766,35753 L771,35753" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4052)" />
<clipPath id="clip4053"><path d="M675,35575 L1383,35575 L1383,36128 L675,36128 Z M676,35867 L676,35890 L749,35890 L749,35867 Z M676,35867 Z M676,35867" /></clipPath>
<path d="M762,35891 L762,36025 C762,36027.2070313 763.7929688,36029 766,36029 L771,36029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4053)" />
<clipPath id="clip4054"><path d="M674,35574 L1384,35574 L1384,36129 L674,36129 L674,35574 Z" /></clipPath>
<path d="M749,35891 L762,35891" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4054)" />
<clipPath id="clip4055"><path d="M674,35865 L752,35865 L752,35893 L674,35893 L674,35865 Z" /></clipPath>
<path d="M676,35891 L749,35891 Z M676,35891" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4055)" />
<text x="686" y="35881" style="font:10px Open Sans">数据模型</text>
<clipPath id="clip4056"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35606 C857,35603.7929688 858.7929688,35602 861,35602 L866,35602" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4056)" />
<clipPath id="clip4057"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35633 C857,35630.7929688 858.7929688,35629 861,35629 L866,35629" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4057)" />
<clipPath id="clip4058"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35660 C857,35657.7929688 858.7929688,35656 861,35656 L866,35656" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4058)" />
<clipPath id="clip4059"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35687 C857,35684.7929688 858.7929688,35683 861,35683 L866,35683" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4059)" />
<clipPath id="clip4060"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35714 C857,35711.7929688 858.7929688,35710 861,35710 L866,35710" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4060)" />
<clipPath id="clip4061"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35741 C857,35738.7929688 858.7929688,35737 861,35737 L866,35737" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4061)" />
<clipPath id="clip4062"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35760 C857,35762.2070313 858.7929688,35764 861,35764 L866,35764" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4062)" />
<clipPath id="clip4063"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35789 C857,35791.2070313 858.7929688,35793 861,35793 L866,35793" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4063)" />
<clipPath id="clip4064"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35816 C857,35818.2070313 858.7929688,35820 861,35820 L866,35820" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4064)" />
<clipPath id="clip4065"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35845 C857,35847.2070313 858.7929688,35849 861,35849 L866,35849" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4065)" />
<clipPath id="clip4066"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35872 C857,35874.2070313 858.7929688,35876 861,35876 L866,35876" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4066)" />
<clipPath id="clip4067"><path d="M770,35575 L1383,35575 L1383,35906 L770,35906 Z M771,35729 L771,35752 L844,35752 L844,35729 Z M771,35729 Z M771,35729" /></clipPath>
<path d="M857,35753 L857,35901 C857,35903.2070313 858.7929688,35905 861,35905 L866,35905" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4067)" />
<clipPath id="clip4068"><path d="M769,35574 L1384,35574 L1384,35907 L769,35907 L769,35574 Z" /></clipPath>
<path d="M844,35753 L857,35753" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4068)" />
<clipPath id="clip4069"><path d="M769,35727 L847,35727 L847,35755 L769,35755 L769,35727 Z" /></clipPath>
<path d="M771,35753 L844,35753 Z M771,35753" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4069)" />
<text x="781" y="35743" style="font:10px Open Sans">逻辑模型</text>
<clipPath id="clip4070"><path d="M864,35574 L1095,35574 L1095,35604 L864,35604 L864,35574 Z" /></clipPath>
<path d="M866,35602 L1092,35602 Z M866,35602" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4070)" />
<text x="876" y="35590" style="font:10px Open Sans">云SQLServer将数据划分为多个分区</text>
<clipPath id="clip4071"><path d="M864,35603 L1176,35603 L1176,35631 L864,35631 L864,35603 Z" /></clipPath>
<path d="M866,35629 L1173,35629 Z M866,35629" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4071)" />
<text x="876" y="35619" style="font:10px Open Sans">限制事务只能在一个分区执行，规避了分布式事务</text>
<clipPath id="clip4072"><path d="M864,35630 L1202,35630 L1202,35658 L864,35658 L864,35630 Z" /></clipPath>
<path d="M866,35656 L1199,35656 Z M866,35656" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4072)" />
<text x="876" y="35646" style="font:10px Open Sans">通过主备复制协议将数据复制到多个副本，保证高可用</text>
<clipPath id="clip4073"><path d="M864,35657 L1072,35657 L1072,35685 L864,35685 L864,35657 Z" /></clipPath>
<path d="M866,35683 L1069,35683 Z M866,35683" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4073)" />
<text x="876" y="35673" style="font:10px Open Sans">一个逻辑数据库称为一个表格组</text>
<clipPath id="clip4074"><path d="M864,35684 L1384,35684 L1384,35712 L864,35712 L864,35684 Z" /></clipPath>
<path d="M866,35710 L1381,35710 Z M866,35710" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4074)" />
<text x="876" y="35700" style="font:10px Open Sans">如果一个表格组是有主键的，要求表格组中所有表格都有一个相同的列，称为划分主键</text>
<clipPath id="clip4075"><path d="M864,35711 L1163,35711 L1163,35739 L864,35739 L864,35711 Z" /></clipPath>
<path d="M866,35737 L1160,35737 Z M866,35737" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4075)" />
<text x="876" y="35727" style="font:10px Open Sans">划分主键不需要是表格组中每个表格的唯一主键</text>
<clipPath id="clip4076"><path d="M864,35738 L1124,35738 L1124,35766 L864,35766 L864,35738 Z" /></clipPath>
<path d="M866,35764 L1121,35764 Z M866,35764" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4076)" />
<text x="876" y="35754" style="font:10px Open Sans">划分主键也不需要是每个表格的聚集索引</text>
<clipPath id="clip4077"><path d="M864,35765 L1342,35765 L1342,35795 L864,35795 L864,35765 Z" /></clipPath>
<path d="M866,35793 L1339,35793 Z M866,35793" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4077)" />
<text x="876" y="35781" style="font:10px Open Sans">对于有主键的表格组，云SQLServer支持自动水平拆分表格组并分散到整个集群</text>
<clipPath id="clip4078"><path d="M864,35794 L1150,35794 L1150,35822 L864,35822 L864,35794 Z" /></clipPath>
<path d="M866,35820 L1147,35820 Z M866,35820" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4078)" />
<text x="876" y="35810" style="font:10px Open Sans">表格组中所有划分主键相同的行集合称为行组</text>
<clipPath id="clip4079"><path d="M864,35821 L1121,35821 L1121,35851 L864,35851 L864,35821 Z" /></clipPath>
<path d="M866,35849 L1118,35849 Z M866,35849" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4079)" />
<text x="876" y="35837" style="font:10px Open Sans">云SQLServer只支持同一个行组内的事务</text>
<clipPath id="clip4080"><path d="M864,35850 L1137,35850 L1137,35878 L864,35878 L864,35850 Z" /></clipPath>
<path d="M866,35876 L1134,35876 Z M866,35876" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4080)" />
<text x="876" y="35866" style="font:10px Open Sans">同一个行组的数据逻辑上分布在一台服务器</text>
<clipPath id="clip4081"><path d="M864,35877 L1273,35877 L1273,35907 L864,35907 L864,35877 Z" /></clipPath>
<path d="M866,35905 L1270,35905 Z M866,35905" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4081)" />
<text x="876" y="35893" style="font:10px Open Sans">只读事务可以跨多个行组，事务隔离级别最多支持read-committed</text>
<clipPath id="clip4082"><path d="M770,35907 L1370,35907 L1370,36128 L770,36128 Z M771,36005 L771,36028 L844,36028 L844,36005 Z M771,36005 Z M771,36005" /></clipPath>
<path d="M857,36029 L857,35936 C857,35933.7929688 858.7929688,35932 861,35932 L866,35932" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4082)" />
<clipPath id="clip4083"><path d="M770,35907 L1370,35907 L1370,36128 L770,36128 Z M771,36005 L771,36028 L844,36028 L844,36005 Z M771,36005 Z M771,36005" /></clipPath>
<path d="M857,36029 L857,35963 C857,35960.7929688 858.7929688,35959 861,35959 L866,35959" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4083)" />
<clipPath id="clip4084"><path d="M770,35907 L1370,35907 L1370,36128 L770,36128 Z M771,36005 L771,36028 L844,36028 L844,36005 Z M771,36005 Z M771,36005" /></clipPath>
<path d="M857,36029 L857,35992 C857,35989.7929688 858.7929688,35988 861,35988 L866,35988" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4084)" />
<clipPath id="clip4085"><path d="M770,35907 L1370,35907 L1370,36128 L770,36128 Z M771,36005 L771,36028 L844,36028 L844,36005 Z M771,36005 Z M771,36005" /></clipPath>
<path d="M857,36029 L857,36021 C857,36018.7929688 858.7929688,36017 861,36017 L866,36017" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4085)" />
<clipPath id="clip4086"><path d="M770,35907 L1370,35907 L1370,36128 L770,36128 Z M771,36005 L771,36028 L844,36028 L844,36005 Z M771,36005 Z M771,36005" /></clipPath>
<path d="M857,36029 L857,36042 C857,36044.2070313 858.7929688,36046 861,36046 L866,36046" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4086)" />
<clipPath id="clip4087"><path d="M770,35907 L1370,35907 L1370,36128 L770,36128 Z M771,36005 L771,36028 L844,36028 L844,36005 Z M771,36005 Z M771,36005" /></clipPath>
<path d="M857,36029 L857,36069 C857,36071.2070313 858.7929688,36073 861,36073 L866,36073" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4087)" />
<clipPath id="clip4088"><path d="M770,35907 L1370,35907 L1370,36128 L770,36128 Z M771,36005 L771,36028 L844,36028 L844,36005 Z M771,36005 Z M771,36005" /></clipPath>
<path d="M857,36029 L857,36096 C857,36098.2070313 858.7929688,36100 861,36100 L866,36100" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4088)" />
<clipPath id="clip4089"><path d="M770,35907 L1370,35907 L1370,36128 L770,36128 Z M771,36005 L771,36028 L844,36028 L844,36005 Z M771,36005 Z M771,36005" /></clipPath>
<path d="M857,36029 L857,36123 C857,36125.2070313 858.7929688,36127 861,36127 L866,36127" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4089)" />
<clipPath id="clip4090"><path d="M769,35906 L1371,35906 L1371,36129 L769,36129 L769,35906 Z" /></clipPath>
<path d="M844,36029 L857,36029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4090)" />
<clipPath id="clip4091"><path d="M769,36003 L847,36003 L847,36031 L769,36031 L769,36003 Z" /></clipPath>
<path d="M771,36029 L844,36029 Z M771,36029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4091)" />
<text x="781" y="36019" style="font:10px Open Sans">物理模型</text>
<clipPath id="clip4092"><path d="M864,35906 L1228,35906 L1228,35934 L864,35934 L864,35906 Z" /></clipPath>
<path d="M866,35932 L1225,35932 Z M866,35932" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4092)" />
<text x="876" y="35922" style="font:10px Open Sans">每个有主键的表格组根据划分主键有序地分成多个数据分区</text>
<clipPath id="clip4093"><path d="M864,35933 L1176,35933 L1176,35961 L864,35961 L864,35933 Z" /></clipPath>
<path d="M866,35959 L1173,35959 Z M866,35959" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4093)" />
<text x="876" y="35949" style="font:10px Open Sans">分区之间互相不重叠，并覆盖了所有的划分主键值</text>
<clipPath id="clip4094"><path d="M864,35960 L1199,35960 L1199,35990 L864,35990 L864,35960 Z" /></clipPath>
<path d="M866,35988 L1196,35988 Z M866,35988" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4094)" />
<text x="876" y="35976" style="font:10px Open Sans">分区是云SQLServer复制、迁移、负载均衡的基本单位</text>
<clipPath id="clip4095"><path d="M864,35989 L1264,35989 L1264,36019 L864,36019 L864,35989 Z" /></clipPath>
<path d="M866,36017 L1261,36017 Z M866,36017" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4095)" />
<text x="876" y="36005" style="font:10px Open Sans">每个分区包含多个副本，每个副本存储在一台物理的SQLServer上</text>
<clipPath id="clip4096"><path d="M864,36018 L1368,36018 L1368,36048 L864,36048 L864,36018 Z" /></clipPath>
<path d="M866,36046 L1365,36046 Z M866,36046" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4096)" />
<text x="876" y="36034" style="font:10px Open Sans">云SQLServer保证每个分区的多个副本分布到不同的故障域（同一个交换机或机架）</text>
<clipPath id="clip4097"><path d="M864,36047 L1332,36047 L1332,36075 L864,36075 L864,36047 Z" /></clipPath>
<path d="M866,36073 L1329,36073 Z M866,36073" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4097)" />
<text x="876" y="36063" style="font:10px Open Sans">主副本处理所有的查询、更新事务，并以操作日志的形式将事务同步到备副本</text>
<clipPath id="clip4098"><path d="M864,36074 L1033,36074 L1033,36102 L864,36102 L864,36074 Z" /></clipPath>
<path d="M866,36100 L1030,36100 Z M866,36100" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4098)" />
<text x="876" y="36090" style="font:10px Open Sans">目前备副本不支持读操作</text>
<clipPath id="clip4099"><path d="M864,36101 L1371,36101 L1371,36129 L864,36129 L864,36101 Z" /></clipPath>
<path d="M866,36127 L1368,36127 Z M866,36127" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4099)" />
<text x="876" y="36117" style="font:10px Open Sans">分区是动态的，某个分区超过允许的最大分区大小或负载过高时，将分裂成两个分区</text>
<clipPath id="clip4100"><path d="M675,36129 L1218,36129 L1218,36516 L675,36516 Z M676,36312 L676,36335 L723,36335 L723,36312 Z M676,36312 Z M676,36312" /></clipPath>
<path d="M736,36336 L736,36188 C736,36185.7929688 737.7929688,36184 740,36184 L745,36184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4100)" />
<clipPath id="clip4101"><path d="M675,36129 L1218,36129 L1218,36516 L675,36516 Z M676,36312 L676,36335 L723,36335 L723,36312 Z M676,36312 Z M676,36312" /></clipPath>
<path d="M736,36336 L736,36311 C736,36308.7929688 737.7929688,36307 740,36307 L745,36307" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4101)" />
<clipPath id="clip4102"><path d="M675,36129 L1218,36129 L1218,36516 L675,36516 Z M676,36312 L676,36335 L723,36335 L723,36312 Z M676,36312 Z M676,36312" /></clipPath>
<path d="M736,36336 L736,36401 C736,36403.2070313 737.7929688,36405 740,36405 L745,36405" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4102)" />
<clipPath id="clip4103"><path d="M675,36129 L1218,36129 L1218,36516 L675,36516 Z M676,36312 L676,36335 L723,36335 L723,36312 Z M676,36312 Z M676,36312" /></clipPath>
<path d="M736,36336 L736,36484 C736,36486.2070313 737.7929688,36488 740,36488 L745,36488" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4103)" />
<clipPath id="clip4104"><path d="M674,36128 L1219,36128 L1219,36517 L674,36517 L674,36128 Z" /></clipPath>
<path d="M723,36336 L736,36336" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4104)" />
<clipPath id="clip4105"><path d="M674,36310 L726,36310 L726,36338 L674,36338 L674,36310 Z" /></clipPath>
<path d="M676,36336 L723,36336 Z M676,36336" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4105)" />
<text x="686" y="36326" style="font:10px Open Sans">架构</text>
<clipPath id="clip4106"><path d="M744,36129 L1218,36129 L1218,36213 L744,36213 Z M745,36158 L745,36183 L854,36183 L854,36158 Z M745,36158 Z M745,36158" /></clipPath>
<path d="M867,36184 L867,36160 C867,36157.7929688 868.7929688,36156 871,36156 L876,36156" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4106)" />
<clipPath id="clip4107"><path d="M744,36129 L1218,36129 L1218,36213 L744,36213 Z M745,36158 L745,36183 L854,36183 L854,36158 Z M745,36158 Z M745,36158" /></clipPath>
<path d="M867,36184 C867,36183.4492188 868.7929688,36183 871,36183 L876,36183" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4107)" />
<clipPath id="clip4108"><path d="M744,36129 L1218,36129 L1218,36213 L744,36213 Z M745,36158 L745,36183 L854,36183 L854,36158 Z M745,36158 Z M745,36158" /></clipPath>
<path d="M867,36184 L867,36208 C867,36210.2070313 868.7929688,36212 871,36212 L876,36212" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4108)" />
<clipPath id="clip4109"><path d="M743,36128 L1219,36128 L1219,36214 L743,36214 L743,36128 Z" /></clipPath>
<path d="M854,36184 L867,36184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4109)" />
<clipPath id="clip4110"><path d="M743,36156 L857,36156 L857,36186 L743,36186 L743,36156 Z" /></clipPath>
<path d="M745,36184 L854,36184 Z M745,36184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4110)" />
<text x="755" y="36172" style="font:10px Open Sans">SQLServer实例</text>
<clipPath id="clip4111"><path d="M874,36128 L1092,36128 L1092,36158 L874,36158 L874,36128 Z" /></clipPath>
<path d="M876,36156 L1089,36156 Z M876,36156" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4111)" />
<text x="886" y="36144" style="font:10px Open Sans">一个运行这SQLServer的物理进程</text>
<clipPath id="clip4112"><path d="M874,36157 L1212,36157 L1212,36185 L874,36185 L874,36157 Z" /></clipPath>
<path d="M876,36183 L1209,36183 Z M876,36183" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4112)" />
<text x="886" y="36173" style="font:10px Open Sans">每个物理数据库包含多个子数据库，它们之间互相隔离</text>
<clipPath id="clip4113"><path d="M874,36184 L1219,36184 L1219,36214 L874,36214 L874,36184 Z" /></clipPath>
<path d="M876,36212 L1216,36212 Z M876,36212" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4113)" />
<text x="886" y="36200" style="font:10px Open Sans">子数据库是一个分区，包含用户的数据以及schema信息</text>
<clipPath id="clip4114"><path d="M744,36214 L1192,36214 L1192,36350 L744,36350 Z M745,36283 L745,36306 L857,36306 L857,36283 Z M745,36283 Z M745,36283" /></clipPath>
<path d="M870,36307 L870,36270 C870,36267.7929688 871.7929688,36266 874,36266 L879,36266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4114)" />
<clipPath id="clip4115"><path d="M744,36214 L1192,36214 L1192,36350 L744,36350 Z M745,36283 L745,36306 L857,36306 L857,36283 Z M745,36283 Z M745,36283" /></clipPath>
<path d="M870,36307 L870,36318 C870,36320.2070313 871.7929688,36322 874,36322 L879,36322" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4115)" />
<clipPath id="clip4116"><path d="M744,36214 L1192,36214 L1192,36350 L744,36350 Z M745,36283 L745,36306 L857,36306 L857,36283 Z M745,36283 Z M745,36283" /></clipPath>
<path d="M870,36307 L870,36345 C870,36347.2070313 871.7929688,36349 874,36349 L879,36349" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4116)" />
<clipPath id="clip4117"><path d="M743,36213 L1193,36213 L1193,36351 L743,36351 L743,36213 Z" /></clipPath>
<path d="M857,36307 L870,36307" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4117)" />
<clipPath id="clip4118"><path d="M743,36281 L860,36281 L860,36309 L743,36309 L743,36281 Z" /></clipPath>
<path d="M745,36307 L857,36307 Z M745,36307" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4118)" />
<text x="755" y="36297" style="font:10px Open Sans">全局分区管理器</text>
<clipPath id="clip4119"><path d="M878,36214 L1192,36214 L1192,36294 L878,36294 Z M879,36242 L879,36265 L1017,36265 L1017,36242 Z M879,36242 Z M879,36242" /></clipPath>
<path d="M1030,36266 L1030,36243 C1030,36240.7929688 1031.7929688,36239 1034,36239 L1039,36239" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4119)" />
<clipPath id="clip4120"><path d="M878,36214 L1192,36214 L1192,36294 L878,36294 Z M879,36242 L879,36265 L1017,36265 L1017,36242 Z M879,36242 Z M879,36242" /></clipPath>
<path d="M1030,36266 C1030,36266 1031.7929688,36266 1034,36266 L1039,36266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4120)" />
<clipPath id="clip4121"><path d="M878,36214 L1192,36214 L1192,36294 L878,36294 Z M879,36242 L879,36265 L1017,36265 L1017,36242 Z M879,36242 Z M879,36242" /></clipPath>
<path d="M1030,36266 L1030,36289 C1030,36291.2070313 1031.7929688,36293 1034,36293 L1039,36293" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4121)" />
<clipPath id="clip4122"><path d="M877,36213 L1193,36213 L1193,36295 L877,36295 L877,36213 Z" /></clipPath>
<path d="M1017,36266 L1030,36266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4122)" />
<clipPath id="clip4123"><path d="M877,36240 L1020,36240 L1020,36268 L877,36268 L877,36240 Z" /></clipPath>
<path d="M879,36266 L1017,36266 Z M879,36266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4123)" />
<text x="889" y="36256" style="font:10px Open Sans">维护分区映射表信息</text>
<clipPath id="clip4124"><path d="M1037,36213 L1180,36213 L1180,36241 L1037,36241 L1037,36213 Z" /></clipPath>
<path d="M1039,36239 L1177,36239 Z M1039,36239" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4124)" />
<text x="1049" y="36229" style="font:10px Open Sans">每个分区的主键范围</text>
<clipPath id="clip4125"><path d="M1037,36240 L1193,36240 L1193,36268 L1037,36268 L1037,36240 Z" /></clipPath>
<path d="M1039,36266 L1190,36266 Z M1039,36266" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4125)" />
<text x="1049" y="36256" style="font:10px Open Sans">每个副本所在的服务器</text>
<clipPath id="clip4126"><path d="M1037,36267 L1154,36267 L1154,36295 L1037,36295 L1037,36267 Z" /></clipPath>
<path d="M1039,36293 L1151,36293 Z M1039,36293" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4126)" />
<text x="1049" y="36283" style="font:10px Open Sans">每个副本的状态</text>
<clipPath id="clip4127"><path d="M877,36294 L1082,36294 L1082,36324 L877,36324 L877,36294 Z" /></clipPath>
<path d="M879,36322 L1079,36322 Z M879,36322" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4127)" />
<text x="889" y="36310" style="font:10px Open Sans">监控集群中的SQLServer工作机</text>
<clipPath id="clip4128"><path d="M877,36323 L1111,36323 L1111,36351 L877,36351 L877,36323 Z" /></clipPath>
<path d="M879,36349 L1108,36349 Z M879,36349" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4128)" />
<text x="889" y="36339" style="font:10px Open Sans">执行负载均衡、副本拷贝等管理操作</text>
<clipPath id="clip4129"><path d="M744,36351 L1172,36351 L1172,36435 L744,36435 Z M745,36381 L745,36404 L818,36404 L818,36381 Z M745,36381 Z M745,36381" /></clipPath>
<path d="M831,36405 L831,36380 C831,36377.7929688 832.7929688,36376 835,36376 L840,36376" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4129)" />
<clipPath id="clip4130"><path d="M744,36351 L1172,36351 L1172,36435 L744,36435 Z M745,36381 L745,36404 L818,36404 L818,36381 Z M745,36381 Z M745,36381" /></clipPath>
<path d="M831,36405 C831,36405 832.7929688,36405 835,36405 L840,36405" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4130)" />
<clipPath id="clip4131"><path d="M744,36351 L1172,36351 L1172,36435 L744,36435 Z M745,36381 L745,36404 L818,36404 L818,36381 Z M745,36381 Z M745,36381" /></clipPath>
<path d="M831,36405 L831,36430 C831,36432.2070313 832.7929688,36434 835,36434 L840,36434" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4131)" />
<clipPath id="clip4132"><path d="M743,36350 L1173,36350 L1173,36436 L743,36436 L743,36350 Z" /></clipPath>
<path d="M818,36405 L831,36405" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4132)" />
<clipPath id="clip4133"><path d="M743,36379 L821,36379 L821,36407 L743,36407 L743,36379 Z" /></clipPath>
<path d="M745,36405 L818,36405 Z M745,36405" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4133)" />
<text x="755" y="36395" style="font:10px Open Sans">协议网关</text>
<clipPath id="clip4134"><path d="M838,36350 L1150,36350 L1150,36378 L838,36378 L838,36350 Z" /></clipPath>
<path d="M840,36376 L1147,36376 Z M840,36376" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4134)" />
<text x="850" y="36366" style="font:10px Open Sans">负责将用户的数据库连接请求转发到相应的主分区</text>
<clipPath id="clip4135"><path d="M838,36377 L1160,36377 L1160,36407 L838,36407 L838,36377 Z" /></clipPath>
<path d="M840,36405 L1157,36405 Z M840,36405" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4135)" />
<text x="850" y="36393" style="font:10px Open Sans">通过全局分区管理器获取分区所在的SQLServer实例</text>
<clipPath id="clip4136"><path d="M838,36406 L1173,36406 L1173,36436 L838,36436 L838,36406 Z" /></clipPath>
<path d="M840,36434 L1170,36434 Z M840,36434" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4136)" />
<text x="850" y="36422" style="font:10px Open Sans">后续的读写事务操作在网关与SQLServer实例之间进行</text>
<clipPath id="clip4137"><path d="M744,36436 L1175,36436 L1175,36516 L744,36516 Z M745,36464 L745,36487 L857,36487 L857,36464 Z M745,36464 Z M745,36464" /></clipPath>
<path d="M870,36488 L870,36465 C870,36462.7929688 871.7929688,36461 874,36461 L879,36461" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4137)" />
<clipPath id="clip4138"><path d="M744,36436 L1175,36436 L1175,36516 L744,36516 Z M745,36464 L745,36487 L857,36487 L857,36464 Z M745,36464 Z M745,36464" /></clipPath>
<path d="M870,36488 C870,36488 871.7929688,36488 874,36488 L879,36488" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4138)" />
<clipPath id="clip4139"><path d="M744,36436 L1175,36436 L1175,36516 L744,36516 Z M745,36464 L745,36487 L857,36487 L857,36464 Z M745,36464 Z M745,36464" /></clipPath>
<path d="M870,36488 L870,36511 C870,36513.2070313 871.7929688,36515 874,36515 L879,36515" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4139)" />
<clipPath id="clip4140"><path d="M743,36435 L1176,36435 L1176,36517 L743,36517 L743,36435 Z" /></clipPath>
<path d="M857,36488 L870,36488" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4140)" />
<clipPath id="clip4141"><path d="M743,36462 L860,36462 L860,36490 L743,36490 L743,36462 Z" /></clipPath>
<path d="M745,36488 L857,36488 Z M745,36488" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4141)" />
<text x="755" y="36478" style="font:10px Open Sans">分布式基础部件</text>
<clipPath id="clip4142"><path d="M877,36435 L1020,36435 L1020,36463 L877,36463 L877,36435 Z" /></clipPath>
<path d="M879,36461 L1017,36461 Z M879,36461" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4142)" />
<text x="889" y="36451" style="font:10px Open Sans">维护机器上下线状态</text>
<clipPath id="clip4143"><path d="M877,36462 L1176,36462 L1176,36490 L877,36490 L877,36462 Z" /></clipPath>
<path d="M879,36488 L1173,36488 Z M879,36488" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4143)" />
<text x="889" y="36478" style="font:10px Open Sans">检测服务器并为集群中的各种角色执行选主操作</text>
<clipPath id="clip4144"><path d="M877,36489 L1137,36489 L1137,36517 L877,36517 L877,36489 Z" /></clipPath>
<path d="M879,36515 L1134,36515 Z M879,36515" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4144)" />
<text x="889" y="36505" style="font:10px Open Sans">它在每台服务器上都运行了一个守护进程</text>
<clipPath id="clip4145"><path d="M675,36517 L1444,36517 L1444,36742 L675,36742 Z M676,36634 L676,36657 L775,36657 L775,36634 Z M676,36634 Z M676,36634" /></clipPath>
<path d="M788,36658 L788,36606 C788,36603.7929688 789.7929688,36602 792,36602 L797,36602" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4145)" />
<clipPath id="clip4146"><path d="M675,36517 L1444,36517 L1444,36742 L675,36742 Z M676,36634 L676,36657 L775,36657 L775,36634 Z M676,36634 Z M676,36634" /></clipPath>
<path d="M788,36658 L788,36710 C788,36712.2070313 789.7929688,36714 792,36714 L797,36714" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4146)" />
<clipPath id="clip4147"><path d="M674,36516 L1445,36516 L1445,36743 L674,36743 L674,36516 Z" /></clipPath>
<path d="M775,36658 L788,36658" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4147)" />
<clipPath id="clip4148"><path d="M674,36632 L778,36632 L778,36660 L674,36660 L674,36632 Z" /></clipPath>
<path d="M676,36658 L775,36658 Z M676,36658" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4148)" />
<text x="686" y="36648" style="font:10px Open Sans">复制与一致性</text>
<clipPath id="clip4149"><path d="M796,36517 L1444,36517 L1444,36661 L796,36661 Z M797,36576 L797,36601 L920,36601 L920,36576 Z M797,36576 Z M797,36576" /></clipPath>
<path d="M933,36602 L933,36548 C933,36545.7929688 934.7929688,36544 937,36544 L942,36544" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4149)" />
<clipPath id="clip4150"><path d="M796,36517 L1444,36517 L1444,36661 L796,36661 Z M797,36576 L797,36601 L920,36601 L920,36576 Z M797,36576 Z M797,36576" /></clipPath>
<path d="M933,36602 L933,36577 C933,36574.7929688 934.7929688,36573 937,36573 L942,36573" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4150)" />
<clipPath id="clip4151"><path d="M796,36517 L1444,36517 L1444,36661 L796,36661 Z M797,36576 L797,36601 L920,36601 L920,36576 Z M797,36576 Z M797,36576" /></clipPath>
<path d="M933,36602 C933,36602 934.7929688,36602 937,36602 L942,36602" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4151)" />
<clipPath id="clip4152"><path d="M796,36517 L1444,36517 L1444,36661 L796,36661 Z M797,36576 L797,36601 L920,36601 L920,36576 Z M797,36576 Z M797,36576" /></clipPath>
<path d="M933,36602 L933,36627 C933,36629.2070313 934.7929688,36631 937,36631 L942,36631" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4152)" />
<clipPath id="clip4153"><path d="M796,36517 L1444,36517 L1444,36661 L796,36661 Z M797,36576 L797,36601 L920,36601 L920,36576 Z M797,36576 Z M797,36576" /></clipPath>
<path d="M933,36602 L933,36656 C933,36658.2070313 934.7929688,36660 937,36660 L942,36660" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4153)" />
<clipPath id="clip4154"><path d="M795,36516 L1445,36516 L1445,36662 L795,36662 L795,36516 Z" /></clipPath>
<path d="M920,36602 L933,36602" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4154)" />
<clipPath id="clip4155"><path d="M795,36574 L923,36574 L923,36604 L795,36604 L795,36574 Z" /></clipPath>
<path d="M797,36602 L920,36602 Z M797,36602" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4155)" />
<text x="807" y="36590" style="font:10px Open Sans">Quorum Commit</text>
<clipPath id="clip4156"><path d="M940,36516 L1246,36516 L1246,36546 L940,36546 L940,36516 Z" /></clipPath>
<path d="M942,36544 L1243,36544 Z M942,36544" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4156)" />
<text x="952" y="36532" style="font:10px Open Sans">事务T的主副本分区生成操作日志并发送到备副本</text>
<clipPath id="clip4157"><path d="M940,36545 L1438,36545 L1438,36575 L940,36575 L940,36545 Z" /></clipPath>
<path d="M942,36573 L1435,36573 Z M942,36573" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4157)" />
<text x="952" y="36561" style="font:10px Open Sans">如果事务T回滚，主副本发送ABORT消息给备副本，备副本将删除T包含的修改操作</text>
<clipPath id="clip4158"><path d="M940,36574 L1403,36574 L1403,36604 L940,36604 L940,36574 Z" /></clipPath>
<path d="M942,36602 L1400,36602 Z M942,36602" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4158)" />
<text x="952" y="36590" style="font:10px Open Sans">如果事务T提交，主副本发送COMMIT消息给备副本，并带上事务提交顺序号</text>
<clipPath id="clip4159"><path d="M940,36603 L1283,36603 L1283,36633 L940,36633 L940,36603 Z" /></clipPath>
<path d="M942,36631 L1280,36631 Z M942,36631" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4159)" />
<text x="952" y="36619" style="font:10px Open Sans">备副本把T应用到本地数据库并发送ACK消息回复主副本</text>
<clipPath id="clip4160"><path d="M940,36632 L1445,36632 L1445,36662 L940,36662 L940,36632 Z" /></clipPath>
<path d="M942,36660 L1442,36660 Z M942,36660" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4160)" />
<text x="952" y="36648" style="font:10px Open Sans">主副本收到一半以上的成功ACK（包括主副本自身）将在本地提交事务并返回客户端</text>
<clipPath id="clip4161"><path d="M796,36662 L1383,36662 L1383,36742 L796,36742 Z M797,36690 L797,36713 L909,36713 L909,36690 Z M797,36690 Z M797,36690" /></clipPath>
<path d="M922,36714 L922,36691 C922,36688.7929688 923.7929688,36687 926,36687 L931,36687" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4161)" />
<clipPath id="clip4162"><path d="M796,36662 L1383,36662 L1383,36742 L796,36742 Z M797,36690 L797,36713 L909,36713 L909,36690 Z M797,36690 Z M797,36690" /></clipPath>
<path d="M922,36714 C922,36714 923.7929688,36714 926,36714 L931,36714" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4162)" />
<clipPath id="clip4163"><path d="M796,36662 L1383,36662 L1383,36742 L796,36742 Z M797,36690 L797,36713 L909,36713 L909,36690 Z M797,36690 Z M797,36690" /></clipPath>
<path d="M922,36714 L922,36737 C922,36739.2070313 923.7929688,36741 926,36741 L931,36741" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4163)" />
<clipPath id="clip4164"><path d="M795,36661 L1384,36661 L1384,36743 L795,36743 L795,36661 Z" /></clipPath>
<path d="M909,36714 L922,36714" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4164)" />
<clipPath id="clip4165"><path d="M795,36688 L912,36688 L912,36716 L795,36716 L795,36688 Z" /></clipPath>
<path d="M797,36714 L909,36714 Z M797,36714" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4165)" />
<text x="807" y="36704" style="font:10px Open Sans">备副本异常恢复</text>
<clipPath id="clip4166"><path d="M929,36661 L1384,36661 L1384,36689 L929,36689 L929,36661 Z" /></clipPath>
<path d="M931,36687 L1381,36687 Z M931,36687" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4166)" />
<text x="941" y="36677" style="font:10px Open Sans">备副本故障恢复后将往主副本发送本地已提交的最后一个事务的提交顺序号</text>
<clipPath id="clip4167"><path d="M929,36688 L1241,36688 L1241,36716 L929,36716 L929,36688 Z" /></clipPath>
<path d="M931,36714 L1238,36714 Z M931,36714" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4167)" />
<text x="941" y="36704" style="font:10px Open Sans">两者差不多，主副本直接将发送操作日志给备副本</text>
<clipPath id="clip4168"><path d="M929,36715 L1345,36715 L1345,36743 L929,36743 L929,36715 Z" /></clipPath>
<path d="M931,36741 L1342,36741 Z M931,36741" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4168)" />
<text x="941" y="36731" style="font:10px Open Sans">两者相差太多，主副本将首先传数据库快照，再传快照点之后的日志</text>
<clipPath id="clip4169"><path d="M675,36743 L1199,36743 L1199,36908 L675,36908 Z M676,36820 L676,36843 L723,36843 L723,36820 Z M676,36820 Z M676,36820" /></clipPath>
<path d="M736,36844 L736,36785 C736,36782.7929688 737.7929688,36781 740,36781 L745,36781" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4169)" />
<clipPath id="clip4170"><path d="M675,36743 L1199,36743 L1199,36908 L675,36908 Z M676,36820 L676,36843 L723,36843 L723,36820 Z M676,36820 Z M676,36820" /></clipPath>
<path d="M736,36844 L736,36846 C736,36848.2070313 737.7929688,36850 740,36850 L745,36850" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4170)" />
<clipPath id="clip4171"><path d="M675,36743 L1199,36743 L1199,36908 L675,36908 Z M676,36820 L676,36843 L723,36843 L723,36820 Z M676,36820 Z M676,36820" /></clipPath>
<path d="M736,36844 L736,36903 C736,36905.2070313 737.7929688,36907 740,36907 L745,36907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4171)" />
<clipPath id="clip4172"><path d="M674,36742 L1200,36742 L1200,36909 L674,36909 L674,36742 Z" /></clipPath>
<path d="M723,36844 L736,36844" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4172)" />
<clipPath id="clip4173"><path d="M674,36818 L726,36818 L726,36846 L674,36846 L674,36818 Z" /></clipPath>
<path d="M676,36844 L723,36844 Z M676,36844" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4173)" />
<text x="686" y="36834" style="font:10px Open Sans">容错</text>
<clipPath id="clip4174"><path d="M744,36743 L1123,36743 L1123,36796 L744,36796 Z M745,36757 L745,36780 L831,36780 L831,36757 Z M745,36757 Z M745,36757" /></clipPath>
<path d="M844,36781 L844,36772 C844,36769.7929688 845.7929688,36768 848,36768 L853,36768" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4174)" />
<clipPath id="clip4175"><path d="M744,36743 L1123,36743 L1123,36796 L744,36796 Z M745,36757 L745,36780 L831,36780 L831,36757 Z M745,36757 Z M745,36757" /></clipPath>
<path d="M844,36781 L844,36791 C844,36793.2070313 845.7929688,36795 848,36795 L853,36795" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4175)" />
<clipPath id="clip4176"><path d="M743,36742 L1124,36742 L1124,36797 L743,36797 L743,36742 Z" /></clipPath>
<path d="M831,36781 L844,36781" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4176)" />
<clipPath id="clip4177"><path d="M743,36755 L834,36755 L834,36783 L743,36783 L743,36755 Z" /></clipPath>
<path d="M745,36781 L831,36781 Z M745,36781" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4177)" />
<text x="755" y="36771" style="font:10px Open Sans">备副本恢复</text>
<clipPath id="clip4178"><path d="M851,36742 L1124,36742 L1124,36770 L851,36770 L851,36742 Z" /></clipPath>
<path d="M853,36768 L1121,36768 Z M853,36768" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4178)" />
<text x="863" y="36758" style="font:10px Open Sans">全局分区管理器选择一台负载较轻的服务器</text>
<clipPath id="clip4179"><path d="M851,36769 L1046,36769 L1046,36797 L851,36797 L851,36769 Z" /></clipPath>
<path d="M853,36795 L1043,36795 Z M853,36795" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4179)" />
<text x="863" y="36785" style="font:10px Open Sans">从相应的主副本分区拷贝数据</text>
<clipPath id="clip4180"><path d="M744,36797 L1199,36797 L1199,36879 L744,36879 Z M745,36826 L745,36849 L831,36849 L831,36826 Z M745,36826 Z M745,36826" /></clipPath>
<path d="M844,36850 L844,36826 C844,36823.7929688 845.7929688,36822 848,36822 L853,36822" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4180)" />
<clipPath id="clip4181"><path d="M744,36797 L1199,36797 L1199,36879 L744,36879 Z M745,36826 L745,36849 L831,36849 L831,36826 Z M745,36826 Z M745,36826" /></clipPath>
<path d="M844,36850 C844,36849.4492188 845.7929688,36849 848,36849 L853,36849" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4181)" />
<clipPath id="clip4182"><path d="M744,36797 L1199,36797 L1199,36879 L744,36879 Z M745,36826 L745,36849 L831,36849 L831,36826 Z M745,36826 Z M745,36826" /></clipPath>
<path d="M844,36850 L844,36874 C844,36876.2070313 845.7929688,36878 848,36878 L853,36878" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4182)" />
<clipPath id="clip4183"><path d="M743,36796 L1200,36796 L1200,36880 L743,36880 L743,36796 Z" /></clipPath>
<path d="M831,36850 L844,36850" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4183)" />
<clipPath id="clip4184"><path d="M743,36824 L834,36824 L834,36852 L743,36852 L743,36824 Z" /></clipPath>
<path d="M745,36850 L831,36850 Z M745,36850" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4184)" />
<text x="755" y="36840" style="font:10px Open Sans">主副本恢复</text>
<clipPath id="clip4185"><path d="M851,36796 L1176,36796 L1176,36824 L851,36824 L851,36796 Z" /></clipPath>
<path d="M853,36822 L1173,36822 Z M853,36822" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4185)" />
<text x="863" y="36812" style="font:10px Open Sans">从其他副本中选择一个最新的备副本作为新的主副本</text>
<clipPath id="clip4186"><path d="M851,36823 L1098,36823 L1098,36851 L851,36851 L851,36823 Z" /></clipPath>
<path d="M853,36849 L1095,36849 Z M853,36849" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4186)" />
<text x="863" y="36839" style="font:10px Open Sans">再选择一台负载较轻的机器增加备副本</text>
<clipPath id="clip4187"><path d="M851,36850 L1200,36850 L1200,36880 L851,36880 L851,36850 Z" /></clipPath>
<path d="M853,36878 L1197,36878 Z M853,36878" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4187)" />
<text x="863" y="36866" style="font:10px Open Sans">Quorum Commit保证了选择最新的备副本可以不丢数据</text>
<clipPath id="clip4188"><path d="M744,36880 L1168,36880 L1168,36908 L744,36908 Z M745,36883 L745,36906 L909,36906 L909,36883 Z M745,36883 Z M745,36883" /></clipPath>
<path d="M922,36907 C922,36907 923.7929688,36907 926,36907 L931,36907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4188)" />
<clipPath id="clip4189"><path d="M743,36879 L1169,36879 L1169,36909 L743,36909 L743,36879 Z" /></clipPath>
<path d="M909,36907 L922,36907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4189)" />
<clipPath id="clip4190"><path d="M743,36881 L912,36881 L912,36909 L743,36909 L743,36881 Z" /></clipPath>
<path d="M745,36907 L909,36907 Z M745,36907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4190)" />
<text x="755" y="36897" style="font:10px Open Sans">全局分区管理器的高可用</text>
<clipPath id="clip4191"><path d="M929,36879 L1169,36879 L1169,36909 L929,36909 L929,36879 Z" /></clipPath>
<path d="M931,36907 L1166,36907 Z M931,36907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4191)" />
<text x="941" y="36895" style="font:10px Open Sans">采用Quorum Commit，包含7个副本</text>
<clipPath id="clip4192"><path d="M675,36909 L1152,36909 L1152,36991 L675,36991 Z M676,36938 L676,36961 L749,36961 L749,36938 Z M676,36938 Z M676,36938" /></clipPath>
<path d="M762,36962 L762,36938 C762,36935.7929688 763.7929688,36934 766,36934 L771,36934" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4192)" />
<clipPath id="clip4193"><path d="M675,36909 L1152,36909 L1152,36991 L675,36991 Z M676,36938 L676,36961 L749,36961 L749,36938 Z M676,36938 Z M676,36938" /></clipPath>
<path d="M762,36962 C762,36961.4492188 763.7929688,36961 766,36961 L771,36961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4193)" />
<clipPath id="clip4194"><path d="M675,36909 L1152,36909 L1152,36991 L675,36991 Z M676,36938 L676,36961 L749,36961 L749,36938 Z M676,36938 Z M676,36938" /></clipPath>
<path d="M762,36962 L762,36986 C762,36988.2070313 763.7929688,36990 766,36990 L771,36990" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4194)" />
<clipPath id="clip4195"><path d="M674,36908 L1153,36908 L1153,36992 L674,36992 L674,36908 Z" /></clipPath>
<path d="M749,36962 L762,36962" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4195)" />
<clipPath id="clip4196"><path d="M674,36936 L752,36936 L752,36964 L674,36964 L674,36936 Z" /></clipPath>
<path d="M676,36962 L749,36962 Z M676,36962" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4196)" />
<text x="686" y="36952" style="font:10px Open Sans">负载均衡</text>
<clipPath id="clip4197"><path d="M770,36909 L1019,36909 L1019,36935 L770,36935 Z M771,36910 L771,36933 L844,36933 L844,36910 Z M771,36910 Z M771,36910" /></clipPath>
<path d="M857,36934 C857,36934 858.7929688,36934 861,36934 L866,36934" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4197)" />
<clipPath id="clip4198"><path d="M769,36908 L1020,36908 L1020,36936 L769,36936 L769,36908 Z" /></clipPath>
<path d="M844,36934 L857,36934" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4198)" />
<clipPath id="clip4199"><path d="M769,36908 L847,36908 L847,36936 L769,36936 L769,36908 Z" /></clipPath>
<path d="M771,36934 L844,36934 Z M771,36934" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4199)" />
<text x="781" y="36924" style="font:10px Open Sans">副本迁移</text>
<clipPath id="clip4200"><path d="M864,36908 L1020,36908 L1020,36936 L864,36936 L864,36908 Z" /></clipPath>
<path d="M866,36934 L1017,36934 Z M866,36934" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4200)" />
<text x="876" y="36924" style="font:10px Open Sans">新的服务器节点加入时</text>
<clipPath id="clip4201"><path d="M770,36936 L1084,36936 L1084,36962 L770,36962 Z M771,36937 L771,36960 L870,36960 L870,36937 Z M771,36937 Z M771,36937" /></clipPath>
<path d="M883,36961 C883,36961 884.7929688,36961 887,36961 L892,36961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4201)" />
<clipPath id="clip4202"><path d="M769,36935 L1085,36935 L1085,36963 L769,36963 L769,36935 Z" /></clipPath>
<path d="M870,36961 L883,36961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4202)" />
<clipPath id="clip4203"><path d="M769,36935 L873,36935 L873,36963 L769,36963 L769,36935 Z" /></clipPath>
<path d="M771,36961 L870,36961 Z M771,36961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4203)" />
<text x="781" y="36951" style="font:10px Open Sans">主备副本切换</text>
<clipPath id="clip4204"><path d="M890,36935 L1085,36935 L1085,36963 L890,36963 L890,36935 Z" /></clipPath>
<path d="M892,36961 L1082,36961 Z M892,36961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4204)" />
<text x="902" y="36951" style="font:10px Open Sans">主副本所在服务器负载过高时</text>
<clipPath id="clip4205"><path d="M770,36963 L1152,36963 L1152,36991 L770,36991 Z M771,36966 L771,36989 L883,36989 L883,36966 Z M771,36966 Z M771,36966" /></clipPath>
<path d="M896,36990 C896,36990 897.7929688,36990 900,36990 L905,36990" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4205)" />
<clipPath id="clip4206"><path d="M769,36962 L1153,36962 L1153,36992 L769,36992 L769,36962 Z" /></clipPath>
<path d="M883,36990 L896,36990" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4206)" />
<clipPath id="clip4207"><path d="M769,36964 L886,36964 L886,36992 L769,36992 L769,36964 Z" /></clipPath>
<path d="M771,36990 L883,36990 Z M771,36990" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4207)" />
<text x="781" y="36980" style="font:10px Open Sans">影响负载的因素</text>
<clipPath id="clip4208"><path d="M903,36962 L1153,36962 L1153,36992 L903,36992 L903,36962 Z" /></clipPath>
<path d="M905,36990 L1150,36990 Z M905,36990" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4208)" />
<text x="915" y="36978" style="font:10px Open Sans">读写次数，磁盘/内存/CPU/IO使用量等</text>
<clipPath id="clip4209"><path d="M675,36992 L1548,36992 L1548,37078 L675,37078 Z M676,37024 L676,37047 L736,37047 L736,37024 Z M676,37024 Z M676,37024" /></clipPath>
<path d="M749,37048 C749,37048 750.7929688,37048 753,37048 L758,37048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4209)" />
<clipPath id="clip4210"><path d="M674,36991 L1549,36991 L1549,37079 L674,37079 L674,36991 Z" /></clipPath>
<path d="M736,37048 L749,37048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4210)" />
<clipPath id="clip4211"><path d="M674,37022 L739,37022 L739,37050 L674,37050 L674,37022 Z" /></clipPath>
<path d="M676,37048 L736,37048 Z M676,37048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4211)" />
<text x="686" y="37038" style="font:10px Open Sans">多租户</text>
<clipPath id="clip4212"><path d="M757,36992 L1548,36992 L1548,37078 L757,37078 Z M758,37022 L758,37047 L1035,37047 L1035,37022 Z M758,37022 Z M758,37022" /></clipPath>
<path d="M1048,37048 L1048,37023 C1048,37020.7929688 1049.7929688,37019 1052,37019 L1057,37019" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4212)" />
<clipPath id="clip4213"><path d="M757,36992 L1548,36992 L1548,37078 L757,37078 Z M758,37022 L758,37047 L1035,37047 L1035,37022 Z M758,37022 Z M758,37022" /></clipPath>
<path d="M1048,37048 C1048,37048 1049.7929688,37048 1052,37048 L1057,37048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4213)" />
<clipPath id="clip4214"><path d="M757,36992 L1548,36992 L1548,37078 L757,37078 Z M758,37022 L758,37047 L1035,37047 L1035,37022 Z M758,37022 Z M758,37022" /></clipPath>
<path d="M1048,37048 L1048,37073 C1048,37075.2070313 1049.7929688,37077 1052,37077 L1057,37077" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4214)" />
<clipPath id="clip4215"><path d="M756,36991 L1549,36991 L1549,37079 L756,37079 L756,36991 Z" /></clipPath>
<path d="M1035,37048 L1048,37048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4215)" />
<clipPath id="clip4216"><path d="M756,37020 L1038,37020 L1038,37050 L756,37050 L756,37020 Z" /></clipPath>
<path d="M758,37048 L1035,37048 Z M758,37048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4216)" />
<text x="768" y="37036" style="font:10px Open Sans">限制每个SQL Azure逻辑实例使用的系统资源</text>
<clipPath id="clip4217"><path d="M1055,36991 L1354,36991 L1354,37021 L1055,37021 L1055,36991 Z" /></clipPath>
<path d="M1057,37019 L1351,37019 Z M1057,37019" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4217)" />
<text x="1067" y="37007" style="font:10px Open Sans">操作系统资源限制（CPU、内存、写入速度等）</text>
<clipPath id="clip4218"><path d="M1055,37020 L1402,37020 L1402,37050 L1055,37050 L1055,37020 Z" /></clipPath>
<path d="M1057,37048 L1399,37048 Z M1057,37048" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4218)" />
<text x="1067" y="37036" style="font:10px Open Sans">SQL Azure逻辑数据库容量限制（超限时拒绝更新请求）</text>
<clipPath id="clip4219"><path d="M1055,37049 L1549,37049 L1549,37079 L1055,37079 L1055,37049 Z" /></clipPath>
<path d="M1057,37077 L1546,37077 Z M1057,37077" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4219)" />
<text x="1067" y="37065" style="font:10px Open Sans">SQL Server物理数据库数据大小限制（超限时返回客户端系统错误，需人工介入）</text>
<clipPath id="clip4220"><path d="M675,37079 L1133,37079 L1133,37136 L675,37136 Z M676,37096 L676,37119 L723,37119 L723,37096 Z M676,37096 Z M676,37096" /></clipPath>
<path d="M736,37120 L736,37110 C736,37107.7929688 737.7929688,37106 740,37106 L745,37106" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4220)" />
<clipPath id="clip4221"><path d="M675,37079 L1133,37079 L1133,37136 L675,37136 Z M676,37096 L676,37119 L723,37119 L723,37096 Z M676,37096 Z M676,37096" /></clipPath>
<path d="M736,37120 L736,37131 C736,37133.2070313 737.7929688,37135 740,37135 L745,37135" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4221)" />
<clipPath id="clip4222"><path d="M674,37078 L1134,37078 L1134,37137 L674,37137 L674,37078 Z" /></clipPath>
<path d="M723,37120 L736,37120" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4222)" />
<clipPath id="clip4223"><path d="M674,37094 L726,37094 L726,37122 L674,37122 L674,37094 Z" /></clipPath>
<path d="M676,37120 L723,37120 Z M676,37120" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4223)" />
<text x="686" y="37110" style="font:10px Open Sans">讨论</text>
<clipPath id="clip4224"><path d="M743,37078 L895,37078 L895,37108 L743,37108 L743,37078 Z" /></clipPath>
<path d="M745,37106 L892,37106 Z M745,37106" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4224)" />
<text x="755" y="37094" style="font:10px Open Sans">不支持USE等SQL特性</text>
<clipPath id="clip4225"><path d="M743,37107 L1134,37107 L1134,37137 L743,37137 L743,37107 Z" /></clipPath>
<path d="M745,37135 L1131,37135 Z M745,37135" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4225)" />
<text x="755" y="37123" style="font:10px Open Sans">相比Azure Table Storage在扩展性上有劣势（单实例大小限制）</text>
<clipPath id="clip4226"><path d="M510,37137 L1745,37137 L1745,39361 L510,39361 Z M511,38236 L511,38261 L582,38261 L582,38236 Z M511,38236 Z M511,38236" /></clipPath>
<path d="M595,38262 L595,37195 C595,37192.7929688 596.7929688,37191 599,37191 L604,37191" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4226)" />
<clipPath id="clip4227"><path d="M510,37137 L1745,37137 L1745,39361 L510,39361 Z M511,38236 L511,38261 L582,38261 L582,38236 Z M511,38236 Z M511,38236" /></clipPath>
<path d="M595,38262 L595,37335 C595,37332.7929688 596.7929688,37331 599,37331 L604,37331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4227)" />
<clipPath id="clip4228"><path d="M510,37137 L1745,37137 L1745,39361 L510,39361 Z M511,38236 L511,38261 L582,38261 L582,38236 Z M511,38236 Z M511,38236" /></clipPath>
<path d="M595,38262 L595,37664 C595,37661.7929688 596.7929688,37660 599,37660 L604,37660" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4228)" />
<clipPath id="clip4229"><path d="M510,37137 L1745,37137 L1745,39361 L510,39361 Z M511,38236 L511,38261 L582,38261 L582,38236 Z M511,38236 Z M511,38236" /></clipPath>
<path d="M595,38262 L595,38067 C595,38064.7929688 596.7929688,38063 599,38063 L604,38063" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4229)" />
<clipPath id="clip4230"><path d="M510,37137 L1745,37137 L1745,39361 L510,39361 Z M511,38236 L511,38261 L582,38261 L582,38236 Z M511,38236 Z M511,38236" /></clipPath>
<path d="M595,38262 L595,38360 C595,38362.2070313 596.7929688,38364 599,38364 L604,38364" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4230)" />
<clipPath id="clip4231"><path d="M510,37137 L1745,37137 L1745,39361 L510,39361 Z M511,38236 L511,38261 L582,38261 L582,38236 Z M511,38236 Z M511,38236" /></clipPath>
<path d="M595,38262 L595,38767 C595,38769.2070313 596.7929688,38771 599,38771 L604,38771" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4231)" />
<clipPath id="clip4232"><path d="M510,37137 L1745,37137 L1745,39361 L510,39361 Z M511,38236 L511,38261 L582,38261 L582,38236 Z M511,38236 Z M511,38236" /></clipPath>
<path d="M595,38262 L595,39175 C595,39177.2070313 596.7929688,39179 599,39179 L604,39179" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4232)" />
<clipPath id="clip4233"><path d="M510,37137 L1745,37137 L1745,39361 L510,39361 Z M511,38236 L511,38261 L582,38261 L582,38236 Z M511,38236 Z M511,38236" /></clipPath>
<path d="M595,38262 L595,39329 C595,39331.2070313 596.7929688,39333 599,39333 L604,39333" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4233)" />
<clipPath id="clip4234"><path d="M509,37136 L1746,37136 L1746,39362 L509,39362 L509,37136 Z" /></clipPath>
<path d="M582,38262 L595,38262" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4234)" />
<clipPath id="clip4235"><path d="M509,38234 L585,38234 L585,38264 L509,38264 L509,38234 Z" /></clipPath>
<path d="M511,38262 L582,38262 Z M511,38262" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4235)" />
<text x="521" y="38250" style="font:10px Open Sans">Spanner</text>
<clipPath id="clip4236"><path d="M603,37137 L956,37137 L956,37219 L603,37219 Z M604,37167 L604,37190 L677,37190 L677,37167 Z M604,37167 Z M604,37167" /></clipPath>
<path d="M690,37191 L690,37168 C690,37165.7929688 691.7929688,37164 694,37164 L699,37164" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4236)" />
<clipPath id="clip4237"><path d="M603,37137 L956,37137 L956,37219 L603,37219 Z M604,37167 L604,37190 L677,37190 L677,37167 Z M604,37167 Z M604,37167" /></clipPath>
<path d="M690,37191 C690,37191 691.7929688,37191 694,37191 L699,37191" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4237)" />
<clipPath id="clip4238"><path d="M603,37137 L956,37137 L956,37219 L603,37219 Z M604,37167 L604,37190 L677,37190 L677,37167 Z M604,37167 Z M604,37167" /></clipPath>
<path d="M690,37191 L690,37214 C690,37216.2070313 691.7929688,37218 694,37218 L699,37218" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4238)" />
<clipPath id="clip4239"><path d="M602,37136 L957,37136 L957,37220 L602,37220 L602,37136 Z" /></clipPath>
<path d="M677,37191 L690,37191" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4239)" />
<clipPath id="clip4240"><path d="M602,37165 L680,37165 L680,37193 L602,37193 L602,37165 Z" /></clipPath>
<path d="M604,37191 L677,37191 Z M604,37191" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4240)" />
<text x="614" y="37181" style="font:10px Open Sans">基本概念</text>
<clipPath id="clip4241"><path d="M697,37136 L896,37136 L896,37166 L697,37166 L697,37136 Z" /></clipPath>
<path d="M699,37164 L893,37164 Z M699,37164" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4241)" />
<text x="709" y="37152" style="font:10px Open Sans">Google的全球级分布式数据库</text>
<clipPath id="clip4242"><path d="M697,37165 L957,37165 L957,37193 L697,37193 L697,37165 Z" /></clipPath>
<path d="M699,37191 L954,37191 Z M699,37191" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4242)" />
<text x="709" y="37181" style="font:10px Open Sans">通过同步复制和多版本控制来满足一致性</text>
<clipPath id="clip4243"><path d="M697,37192 L840,37192 L840,37220 L697,37220 L697,37192 Z" /></clipPath>
<path d="M699,37218 L837,37218 Z M699,37218" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4243)" />
<text x="709" y="37208" style="font:10px Open Sans">支持跨数据中心事务</text>
<clipPath id="clip4244"><path d="M603,37220 L1073,37220 L1073,37416 L603,37416 Z M604,37307 L604,37330 L677,37330 L677,37307 Z M604,37307 Z M604,37307" /></clipPath>
<path d="M690,37331 L690,37251 C690,37248.7929688 691.7929688,37247 694,37247 L699,37247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4244)" />
<clipPath id="clip4245"><path d="M603,37220 L1073,37220 L1073,37416 L603,37416 Z M604,37307 L604,37330 L677,37330 L677,37307 Z M604,37307 Z M604,37307" /></clipPath>
<path d="M690,37331 L690,37278 C690,37275.7929688 691.7929688,37274 694,37274 L699,37274" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4245)" />
<clipPath id="clip4246"><path d="M603,37220 L1073,37220 L1073,37416 L603,37416 Z M604,37307 L604,37330 L677,37330 L677,37307 Z M604,37307 Z M604,37307" /></clipPath>
<path d="M690,37331 L690,37307 C690,37304.7929688 691.7929688,37303 694,37303 L699,37303" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4246)" />
<clipPath id="clip4247"><path d="M603,37220 L1073,37220 L1073,37416 L603,37416 Z M604,37307 L604,37330 L677,37330 L677,37307 Z M604,37307 Z M604,37307" /></clipPath>
<path d="M690,37331 C690,37331.5507813 691.7929688,37332 694,37332 L699,37332" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4247)" />
<clipPath id="clip4248"><path d="M603,37220 L1073,37220 L1073,37416 L603,37416 Z M604,37307 L604,37330 L677,37330 L677,37307 Z M604,37307 Z M604,37307" /></clipPath>
<path d="M690,37331 L690,37357 C690,37359.2070313 691.7929688,37361 694,37361 L699,37361" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4248)" />
<clipPath id="clip4249"><path d="M603,37220 L1073,37220 L1073,37416 L603,37416 Z M604,37307 L604,37330 L677,37330 L677,37307 Z M604,37307 Z M604,37307" /></clipPath>
<path d="M690,37331 L690,37384 C690,37386.2070313 691.7929688,37388 694,37388 L699,37388" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4249)" />
<clipPath id="clip4250"><path d="M603,37220 L1073,37220 L1073,37416 L603,37416 Z M604,37307 L604,37330 L677,37330 L677,37307 Z M604,37307 Z M604,37307" /></clipPath>
<path d="M690,37331 L690,37411 C690,37413.2070313 691.7929688,37415 694,37415 L699,37415" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4250)" />
<clipPath id="clip4251"><path d="M602,37219 L1074,37219 L1074,37417 L602,37417 L602,37219 Z" /></clipPath>
<path d="M677,37331 L690,37331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4251)" />
<clipPath id="clip4252"><path d="M602,37305 L680,37305 L680,37333 L602,37333 L602,37305 Z" /></clipPath>
<path d="M604,37331 L677,37331 Z M604,37331" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4252)" />
<text x="614" y="37321" style="font:10px Open Sans">数据模型</text>
<clipPath id="clip4253"><path d="M697,37219 L852,37219 L852,37249 L697,37249 L697,37219 Z" /></clipPath>
<path d="M699,37247 L849,37247 Z M699,37247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4253)" />
<text x="709" y="37235" style="font:10px Open Sans">与Megastore比较类似</text>
<clipPath id="clip4254"><path d="M697,37248 L801,37248 L801,37276 L697,37276 L697,37248 Z" /></clipPath>
<path d="M699,37274 L798,37274 Z M699,37274" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4254)" />
<text x="709" y="37264" style="font:10px Open Sans">表是层次化的</text>
<clipPath id="clip4255"><path d="M697,37275 L883,37275 L883,37305 L697,37305 L697,37275 Z" /></clipPath>
<path d="M699,37303 L880,37303 Z M699,37303" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4255)" />
<text x="709" y="37291" style="font:10px Open Sans">最底层是目录表DIRECTORY</text>
<clipPath id="clip4256"><path d="M697,37304 L1072,37304 L1072,37334 L697,37334 L697,37304 Z" /></clipPath>
<path d="M699,37332 L1069,37332 Z M699,37332" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4256)" />
<text x="709" y="37320" style="font:10px Open Sans">其他表创建时可以用INTERLEAVE IN PARENT来表示层次关系</text>
<clipPath id="clip4257"><path d="M697,37333 L993,37333 L993,37363 L697,37363 L697,37333 Z" /></clipPath>
<path d="M699,37361 L990,37361 Z M699,37361" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4257)" />
<text x="709" y="37349" style="font:10px Open Sans">Spanner中的目录想但与Megastore中的实体组</text>
<clipPath id="clip4258"><path d="M697,37362 L970,37362 L970,37390 L697,37390 L697,37362 Z" /></clipPath>
<path d="M699,37388 L967,37388 Z M699,37388" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4258)" />
<text x="709" y="37378" style="font:10px Open Sans">实际存储时，同一个目录的数据存放到一起</text>
<clipPath id="clip4259"><path d="M697,37389 L1074,37389 L1074,37417 L697,37417 L697,37389 Z" /></clipPath>
<path d="M699,37415 L1071,37415 Z M699,37415" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4259)" />
<text x="709" y="37405" style="font:10px Open Sans">目录不太大时，同一个目录的每个副本都会分配到同一台机器</text>
<clipPath id="clip4260"><path d="M603,37417 L1505,37417 L1505,37878 L603,37878 Z M604,37636 L604,37659 L651,37659 L651,37636 Z M604,37636 Z M604,37636" /></clipPath>
<path d="M664,37660 L664,37462 C664,37459.7929688 665.7929688,37458 668,37458 L673,37458" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4260)" />
<clipPath id="clip4261"><path d="M603,37417 L1505,37417 L1505,37878 L603,37878 Z M604,37636 L604,37659 L651,37659 L651,37636 Z M604,37636 Z M604,37636" /></clipPath>
<path d="M664,37660 L664,37535 C664,37532.7929688 665.7929688,37531 668,37531 L673,37531" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4261)" />
<clipPath id="clip4262"><path d="M603,37417 L1505,37417 L1505,37878 L603,37878 Z M604,37636 L604,37659 L651,37659 L651,37636 Z M604,37636 Z M604,37636" /></clipPath>
<path d="M664,37660 L664,37607 C664,37604.7929688 665.7929688,37603 668,37603 L673,37603" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4262)" />
<clipPath id="clip4263"><path d="M603,37417 L1505,37417 L1505,37878 L603,37878 Z M604,37636 L604,37659 L651,37659 L651,37636 Z M604,37636 Z M604,37636" /></clipPath>
<path d="M664,37660 L664,37714 C664,37716.2070313 665.7929688,37718 668,37718 L673,37718" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4263)" />
<clipPath id="clip4264"><path d="M603,37417 L1505,37417 L1505,37878 L603,37878 Z M604,37636 L604,37659 L651,37659 L651,37636 Z M604,37636 Z M604,37636" /></clipPath>
<path d="M664,37660 L664,37858 C664,37860.2070313 665.7929688,37862 668,37862 L673,37862" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4264)" />
<clipPath id="clip4265"><path d="M602,37416 L1506,37416 L1506,37879 L602,37879 L602,37416 Z" /></clipPath>
<path d="M651,37660 L664,37660" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4265)" />
<clipPath id="clip4266"><path d="M602,37634 L654,37634 L654,37662 L602,37662 L602,37634 Z" /></clipPath>
<path d="M604,37660 L651,37660 Z M604,37660" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4266)" />
<text x="614" y="37650" style="font:10px Open Sans">架构</text>
<clipPath id="clip4267"><path d="M672,37417 L1142,37417 L1142,37474 L672,37474 Z M673,37432 L673,37457 L747,37457 L747,37432 Z M673,37432 Z M673,37432" /></clipPath>
<path d="M760,37458 L760,37448 C760,37445.7929688 761.7929688,37444 764,37444 L769,37444" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4267)" />
<clipPath id="clip4268"><path d="M672,37417 L1142,37417 L1142,37474 L672,37474 Z M673,37432 L673,37457 L747,37457 L747,37432 Z M673,37432 Z M673,37432" /></clipPath>
<path d="M760,37458 L760,37469 C760,37471.2070313 761.7929688,37473 764,37473 L769,37473" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4268)" />
<clipPath id="clip4269"><path d="M671,37416 L1143,37416 L1143,37475 L671,37475 L671,37416 Z" /></clipPath>
<path d="M747,37458 L760,37458" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4269)" />
<clipPath id="clip4270"><path d="M671,37430 L750,37430 L750,37460 L671,37460 L671,37430 Z" /></clipPath>
<path d="M673,37458 L747,37458 Z M673,37458" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4270)" />
<text x="683" y="37446" style="font:10px Open Sans">Colossus</text>
<clipPath id="clip4271"><path d="M767,37416 L1121,37416 L1121,37446 L767,37446 L767,37416 Z" /></clipPath>
<path d="M769,37444 L1118,37444 Z M769,37444" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4271)" />
<text x="779" y="37432" style="font:10px Open Sans">Spanner构建在Google下一代分布式文件系统Colossus上</text>
<clipPath id="clip4272"><path d="M767,37445 L1143,37445 L1143,37475 L767,37475 L767,37445 Z" /></clipPath>
<path d="M769,37473 L1140,37473 Z M769,37473" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4272)" />
<text x="779" y="37461" style="font:10px Open Sans">Colossus是GFS的延续，改进点在于实时性和支持海量小文件</text>
<clipPath id="clip4273"><path d="M672,37475 L1025,37475 L1025,37561 L672,37561 Z M673,37505 L673,37530 L747,37530 L747,37505 Z M673,37505 Z M673,37505" /></clipPath>
<path d="M760,37531 L760,37506 C760,37503.7929688 761.7929688,37502 764,37502 L769,37502" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4273)" />
<clipPath id="clip4274"><path d="M672,37475 L1025,37475 L1025,37561 L672,37561 Z M673,37505 L673,37530 L747,37530 L747,37505 Z M673,37505 Z M673,37505" /></clipPath>
<path d="M760,37531 C760,37531 761.7929688,37531 764,37531 L769,37531" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4274)" />
<clipPath id="clip4275"><path d="M672,37475 L1025,37475 L1025,37561 L672,37561 Z M673,37505 L673,37530 L747,37530 L747,37505 Z M673,37505 Z M673,37505" /></clipPath>
<path d="M760,37531 L760,37556 C760,37558.2070313 761.7929688,37560 764,37560 L769,37560" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4275)" />
<clipPath id="clip4276"><path d="M671,37474 L1026,37474 L1026,37562 L671,37562 L671,37474 Z" /></clipPath>
<path d="M747,37531 L760,37531" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4276)" />
<clipPath id="clip4277"><path d="M671,37503 L750,37503 L750,37533 L671,37533 L671,37503 Z" /></clipPath>
<path d="M673,37531 L747,37531 Z M673,37531" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4277)" />
<text x="683" y="37519" style="font:10px Open Sans">Universe</text>
<clipPath id="clip4278"><path d="M767,37474 L1026,37474 L1026,37504 L767,37504 L767,37474 Z" /></clipPath>
<path d="M769,37502 L1023,37502 Z M769,37502" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4278)" />
<text x="779" y="37490" style="font:10px Open Sans">一个Spanner部署实例称为一个Universe</text>
<clipPath id="clip4279"><path d="M767,37503 L963,37503 L963,37533 L767,37533 L767,37503 Z" /></clipPath>
<path d="M769,37531 L960,37531 Z M769,37531" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4279)" />
<text x="779" y="37519" style="font:10px Open Sans">Universe支持多数据中心部署</text>
<clipPath id="clip4280"><path d="M767,37532 L989,37532 L989,37562 L767,37562 L767,37532 Z" /></clipPath>
<path d="M769,37560 L986,37560 Z M769,37560" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4280)" />
<text x="779" y="37548" style="font:10px Open Sans">多个业务可以共享同一个Universe</text>
<clipPath id="clip4281"><path d="M672,37562 L1163,37562 L1163,37619 L672,37619 Z M673,37577 L673,37602 L731,37602 L731,37577 Z M673,37577 Z M673,37577" /></clipPath>
<path d="M744,37603 L744,37593 C744,37590.7929688 745.7929688,37589 748,37589 L753,37589" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4281)" />
<clipPath id="clip4282"><path d="M672,37562 L1163,37562 L1163,37619 L672,37619 Z M673,37577 L673,37602 L731,37602 L731,37577 Z M673,37577 Z M673,37577" /></clipPath>
<path d="M744,37603 L744,37614 C744,37616.2070313 745.7929688,37618 748,37618 L753,37618" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4282)" />
<clipPath id="clip4283"><path d="M671,37561 L1164,37561 L1164,37620 L671,37620 L671,37561 Z" /></clipPath>
<path d="M731,37603 L744,37603" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4283)" />
<clipPath id="clip4284"><path d="M671,37575 L734,37575 L734,37605 L671,37605 L671,37575 Z" /></clipPath>
<path d="M673,37603 L731,37603 Z M673,37603" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4284)" />
<text x="683" y="37591" style="font:10px Open Sans">Zones</text>
<clipPath id="clip4285"><path d="M751,37561 L1138,37561 L1138,37591 L751,37591 L751,37561 Z" /></clipPath>
<path d="M753,37589 L1135,37589 Z M753,37589" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4285)" />
<text x="763" y="37577" style="font:10px Open Sans">每个Zone属于一个数据中心，而一个数据中心可能有多个Zone</text>
<clipPath id="clip4286"><path d="M751,37590 L1164,37590 L1164,37620 L751,37620 L751,37590 Z" /></clipPath>
<path d="M753,37618 L1161,37618 Z M753,37618" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4286)" />
<text x="763" y="37606" style="font:10px Open Sans">一般来说，Zone内部的网络通信代价较低，Zone之间通信代价很高</text>
<clipPath id="clip4287"><path d="M672,37620 L1423,37620 L1423,37820 L672,37820 Z M673,37694 L673,37717 L720,37717 L720,37694 Z M673,37694 Z M673,37694" /></clipPath>
<path d="M733,37718 L733,37651 C733,37648.7929688 734.7929688,37647 737,37647 L742,37647" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4287)" />
<clipPath id="clip4288"><path d="M672,37620 L1423,37620 L1423,37820 L672,37820 Z M673,37694 L673,37717 L720,37717 L720,37694 Z M673,37694 Z M673,37694" /></clipPath>
<path d="M733,37718 L733,37680 C733,37677.7929688 734.7929688,37676 737,37676 L742,37676" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4288)" />
<clipPath id="clip4289"><path d="M672,37620 L1423,37620 L1423,37820 L672,37820 Z M673,37694 L673,37717 L720,37717 L720,37694 Z M673,37694 Z M673,37694" /></clipPath>
<path d="M733,37718 C733,37717.4453125 734.7929688,37717 737,37717 L742,37717" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4289)" />
<clipPath id="clip4290"><path d="M672,37620 L1423,37620 L1423,37820 L672,37820 Z M673,37694 L673,37717 L720,37717 L720,37694 Z M673,37694 Z M673,37694" /></clipPath>
<path d="M733,37718 L733,37786 C733,37788.2070313 734.7929688,37790 737,37790 L742,37790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4290)" />
<clipPath id="clip4291"><path d="M671,37619 L1424,37619 L1424,37821 L671,37821 L671,37619 Z" /></clipPath>
<path d="M720,37718 L733,37718" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4291)" />
<clipPath id="clip4292"><path d="M671,37692 L723,37692 L723,37720 L671,37720 L671,37692 Z" /></clipPath>
<path d="M673,37718 L720,37718 Z M673,37718" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4292)" />
<text x="683" y="37708" style="font:10px Open Sans">组件</text>
<clipPath id="clip4293"><path d="M741,37620 L1146,37620 L1146,37648 L741,37648 Z M742,37621 L742,37646 L861,37646 L861,37621 Z M742,37621 Z M742,37621" /></clipPath>
<path d="M874,37647 C874,37647 875.7929688,37647 878,37647 L883,37647" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4293)" />
<clipPath id="clip4294"><path d="M740,37619 L1147,37619 L1147,37649 L740,37649 L740,37619 Z" /></clipPath>
<path d="M861,37647 L874,37647" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4294)" />
<clipPath id="clip4295"><path d="M740,37619 L864,37619 L864,37649 L740,37649 L740,37619 Z" /></clipPath>
<path d="M742,37647 L861,37647 Z M742,37647" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4295)" />
<text x="752" y="37635" style="font:10px Open Sans">Universe Master</text>
<clipPath id="clip4296"><path d="M881,37619 L1147,37619 L1147,37649 L881,37649 L881,37619 Z" /></clipPath>
<path d="M883,37647 L1144,37647 Z M883,37647" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4296)" />
<text x="893" y="37635" style="font:10px Open Sans">监控这个Universe里Zone级别的状态信息</text>
<clipPath id="clip4297"><path d="M741,37649 L1059,37649 L1059,37677 L741,37677 Z M742,37650 L742,37675 L866,37675 L866,37650 Z M742,37650 Z M742,37650" /></clipPath>
<path d="M879,37676 C879,37676 880.7929688,37676 883,37676 L888,37676" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4297)" />
<clipPath id="clip4298"><path d="M740,37648 L1060,37648 L1060,37678 L740,37678 L740,37648 Z" /></clipPath>
<path d="M866,37676 L879,37676" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4298)" />
<clipPath id="clip4299"><path d="M740,37648 L869,37648 L869,37678 L740,37678 L740,37648 Z" /></clipPath>
<path d="M742,37676 L866,37676 Z M742,37676" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4299)" />
<text x="752" y="37664" style="font:10px Open Sans">Placement Driver</text>
<clipPath id="clip4300"><path d="M886,37648 L1060,37648 L1060,37678 L886,37678 L886,37648 Z" /></clipPath>
<path d="M888,37676 L1057,37676 Z M888,37676" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4300)" />
<text x="898" y="37664" style="font:10px Open Sans">提供跨Zone数据迁移功能</text>
<clipPath id="clip4301"><path d="M741,37678 L1212,37678 L1212,37733 L741,37733 Z M742,37691 L742,37716 L853,37716 L853,37691 Z M742,37691 Z M742,37691" /></clipPath>
<path d="M866,37717 L866,37707 C866,37704.7929688 867.7929688,37703 870,37703 L875,37703" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4301)" />
<clipPath id="clip4302"><path d="M741,37678 L1212,37678 L1212,37733 L741,37733 Z M742,37691 L742,37716 L853,37716 L853,37691 Z M742,37691 Z M742,37691" /></clipPath>
<path d="M866,37717 L866,37728 C866,37730.2070313 867.7929688,37732 870,37732 L875,37732" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4302)" />
<clipPath id="clip4303"><path d="M740,37677 L1213,37677 L1213,37734 L740,37734 L740,37677 Z" /></clipPath>
<path d="M853,37717 L866,37717" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4303)" />
<clipPath id="clip4304"><path d="M740,37689 L856,37689 L856,37719 L740,37719 L740,37689 Z" /></clipPath>
<path d="M742,37717 L853,37717 Z M742,37717" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4304)" />
<text x="752" y="37705" style="font:10px Open Sans">Location Proxy</text>
<clipPath id="clip4305"><path d="M873,37677 L1068,37677 L1068,37705 L873,37705 L873,37677 Z" /></clipPath>
<path d="M875,37703 L1065,37703 Z M875,37703" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4305)" />
<text x="885" y="37693" style="font:10px Open Sans">提供获取数据的位置信息服务</text>
<clipPath id="clip4306"><path d="M873,37704 L1213,37704 L1213,37734 L873,37734 L873,37704 Z" /></clipPath>
<path d="M875,37732 L1210,37732 Z M875,37732" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4306)" />
<text x="885" y="37720" style="font:10px Open Sans">客户端需要通过它才能知道数据由哪台Spanserver服务</text>
<clipPath id="clip4307"><path d="M741,37734 L1423,37734 L1423,37820 L741,37820 Z M742,37764 L742,37789 L830,37789 L830,37764 Z M742,37764 Z M742,37764" /></clipPath>
<path d="M843,37790 L843,37765 C843,37762.7929688 844.7929688,37761 847,37761 L852,37761" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4307)" />
<clipPath id="clip4308"><path d="M741,37734 L1423,37734 L1423,37820 L741,37820 Z M742,37764 L742,37789 L830,37789 L830,37764 Z M742,37764 Z M742,37764" /></clipPath>
<path d="M843,37790 C843,37790 844.7929688,37790 847,37790 L852,37790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4308)" />
<clipPath id="clip4309"><path d="M741,37734 L1423,37734 L1423,37820 L741,37820 Z M742,37764 L742,37789 L830,37789 L830,37764 Z M742,37764 Z M742,37764" /></clipPath>
<path d="M843,37790 L843,37815 C843,37817.2070313 844.7929688,37819 847,37819 L852,37819" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4309)" />
<clipPath id="clip4310"><path d="M740,37733 L1424,37733 L1424,37821 L740,37821 L740,37733 Z" /></clipPath>
<path d="M830,37790 L843,37790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4310)" />
<clipPath id="clip4311"><path d="M740,37762 L833,37762 L833,37792 L740,37792 L740,37762 Z" /></clipPath>
<path d="M742,37790 L830,37790 Z M742,37790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4311)" />
<text x="752" y="37778" style="font:10px Open Sans">Spanserver</text>
<clipPath id="clip4312"><path d="M850,37733 L1195,37733 L1195,37763 L850,37763 L850,37733 Z" /></clipPath>
<path d="M852,37761 L1192,37761 Z M852,37761" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4312)" />
<text x="862" y="37749" style="font:10px Open Sans">提供存储服务，功能上相当于Bigtable中的TabletServer</text>
<clipPath id="clip4313"><path d="M850,37762 L1216,37762 L1216,37792 L850,37792 L850,37762 Z" /></clipPath>
<path d="M852,37790 L1213,37790 Z M852,37790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4313)" />
<text x="862" y="37778" style="font:10px Open Sans">每个Spanserver会服务多个子表，每个子表又包含多个目录</text>
<clipPath id="clip4314"><path d="M850,37791 L1424,37791 L1424,37821 L850,37821 L850,37791 Z" /></clipPath>
<path d="M852,37819 L1421,37819 Z M852,37819" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4314)" />
<text x="862" y="37807" style="font:10px Open Sans">客户端往Spanner发送读写请求时，先查找目录所在的Spanserver，接着从Spanserver读写数据</text>
<clipPath id="clip4315"><path d="M672,37821 L1505,37821 L1505,37878 L672,37878 Z M673,37836 L673,37861 L943,37861 L943,37836 Z M673,37836 Z M673,37836" /></clipPath>
<path d="M956,37862 L956,37852 C956,37849.7929688 957.7929688,37848 960,37848 L965,37848" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4315)" />
<clipPath id="clip4316"><path d="M672,37821 L1505,37821 L1505,37878 L672,37878 Z M673,37836 L673,37861 L943,37861 L943,37836 Z M673,37836 Z M673,37836" /></clipPath>
<path d="M956,37862 L956,37873 C956,37875.2070313 957.7929688,37877 960,37877 L965,37877" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4316)" />
<clipPath id="clip4317"><path d="M671,37820 L1506,37820 L1506,37879 L671,37879 L671,37820 Z" /></clipPath>
<path d="M943,37862 L956,37862" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4317)" />
<clipPath id="clip4318"><path d="M671,37834 L946,37834 L946,37864 L671,37864 L671,37834 Z" /></clipPath>
<path d="M673,37862 L943,37862 Z M673,37862" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4318)" />
<text x="683" y="37850" style="font:10px Open Sans">如何存储目录与Spanserver之间的映射关系</text>
<clipPath id="clip4319"><path d="M963,37820 L1156,37820 L1156,37850 L963,37850 L963,37820 Z" /></clipPath>
<path d="M965,37848 L1153,37848 Z M965,37848" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4319)" />
<text x="975" y="37836" style="font:10px Open Sans">Spanner论文中没有明确说明</text>
<clipPath id="clip4320"><path d="M963,37849 L1506,37849 L1506,37879 L963,37879 L963,37849 Z" /></clipPath>
<path d="M965,37877 L1503,37877 Z M965,37877" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4320)" />
<text x="975" y="37865" style="font:10px Open Sans">猜测与Bigtable类似，将元数据信息当成元数据表格，和普通用户表格采取相同的存储方式</text>
<clipPath id="clip4321"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,37910 C716,37907.7929688 717.7929688,37906 720,37906 L725,37906" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4321)" />
<clipPath id="clip4322"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,37939 C716,37936.7929688 717.7929688,37935 720,37935 L725,37935" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4322)" />
<clipPath id="clip4323"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,37966 C716,37963.7929688 717.7929688,37962 720,37962 L725,37962" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4323)" />
<clipPath id="clip4324"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,37995 C716,37992.7929688 717.7929688,37991 720,37991 L725,37991" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4324)" />
<clipPath id="clip4325"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,38024 C716,38021.7929688 717.7929688,38020 720,38020 L725,38020" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4325)" />
<clipPath id="clip4326"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,38051 C716,38048.7929688 717.7929688,38047 720,38047 L725,38047" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4326)" />
<clipPath id="clip4327"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,38072 C716,38074.2070313 717.7929688,38076 720,38076 L725,38076" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4327)" />
<clipPath id="clip4328"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,38101 C716,38103.2070313 717.7929688,38105 720,38105 L725,38105" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4328)" />
<clipPath id="clip4329"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,38130 C716,38132.2070313 717.7929688,38134 720,38134 L725,38134" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4329)" />
<clipPath id="clip4330"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,38159 C716,38161.2070313 717.7929688,38163 720,38163 L725,38163" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4330)" />
<clipPath id="clip4331"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,38188 C716,38190.2070313 717.7929688,38192 720,38192 L725,38192" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4331)" />
<clipPath id="clip4332"><path d="M603,37879 L1200,37879 L1200,38222 L603,38222 Z M604,38039 L604,38062 L703,38062 L703,38039 Z M604,38039 Z M604,38039" /></clipPath>
<path d="M716,38063 L716,38217 C716,38219.2070313 717.7929688,38221 720,38221 L725,38221" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4332)" />
<clipPath id="clip4333"><path d="M602,37878 L1201,37878 L1201,38223 L602,38223 L602,37878 Z" /></clipPath>
<path d="M703,38063 L716,38063" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4333)" />
<clipPath id="clip4334"><path d="M602,38037 L706,38037 L706,38065 L602,38065 L602,38037 Z" /></clipPath>
<path d="M604,38063 L703,38063 Z M604,38063" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4334)" />
<text x="614" y="38053" style="font:10px Open Sans">复制与一致性</text>
<clipPath id="clip4335"><path d="M723,37878 L945,37878 L945,37908 L723,37908 L723,37878 Z" /></clipPath>
<path d="M725,37906 L942,37906 Z M725,37906" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4335)" />
<text x="735" y="37894" style="font:10px Open Sans">每个数据中心运行着一套Colossus</text>
<clipPath id="clip4336"><path d="M723,37907 L922,37907 L922,37937 L723,37937 L723,37907 Z" /></clipPath>
<path d="M725,37935 L919,37935 Z M725,37935" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4336)" />
<text x="735" y="37923" style="font:10px Open Sans">每个机器有100～1000个子表</text>
<clipPath id="clip4337"><path d="M723,37936 L983,37936 L983,37964 L723,37964 L723,37936 Z" /></clipPath>
<path d="M725,37962 L980,37962 Z M725,37962" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4337)" />
<text x="735" y="37952" style="font:10px Open Sans">每个子表会在多个数据中心部署多个副本</text>
<clipPath id="clip4338"><path d="M723,37963 L1084,37963 L1084,37993 L723,37993 L723,37963 Z" /></clipPath>
<path d="M725,37991 L1081,37991 Z M725,37991" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4338)" />
<text x="735" y="37979" style="font:10px Open Sans">为了同步系统操作日志，每个子表上运行一个Paxos状态机</text>
<clipPath id="clip4339"><path d="M723,37992 L1074,37992 L1074,38022 L723,38022 L723,37992 Z" /></clipPath>
<path d="M725,38020 L1071,38020 Z M725,38020" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4339)" />
<text x="735" y="38008" style="font:10px Open Sans">Paxos协议会选主一个副本作为主副本，默认寿命为10秒</text>
<clipPath id="clip4340"><path d="M723,38021 L1087,38021 L1087,38049 L723,38049 L723,38021 Z" /></clipPath>
<path d="M725,38047 L1084,38047 Z M725,38047" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4340)" />
<text x="735" y="38037" style="font:10px Open Sans">正常情况下，主副本在快到期的时候将自己再次选为主副本</text>
<clipPath id="clip4341"><path d="M723,38048 L1100,38048 L1100,38078 L723,38078 L723,38048 Z" /></clipPath>
<path d="M725,38076 L1097,38076 Z M725,38076" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4341)" />
<text x="735" y="38064" style="font:10px Open Sans">异常时，其他副本会在10秒后通过Paxos协议选举新的主副本</text>
<clipPath id="clip4342"><path d="M723,38077 L1084,38077 L1084,38107 L723,38107 L723,38077 Z" /></clipPath>
<path d="M725,38105 L1081,38105 Z M725,38105" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4342)" />
<text x="735" y="38093" style="font:10px Open Sans">通过Paxos协议实现了跨数据中心的多个副本之间的一致性</text>
<clipPath id="clip4343"><path d="M723,38106 L1102,38106 L1102,38136 L723,38136 L723,38106 Z" /></clipPath>
<path d="M725,38134 L1099,38134 Z M725,38134" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4343)" />
<text x="735" y="38122" style="font:10px Open Sans">每个主副本所在的Spanserver还会实现一个锁表用于并发控制</text>
<clipPath id="clip4344"><path d="M723,38135 L1201,38135 L1201,38165 L723,38165 L723,38135 Z" /></clipPath>
<path d="M725,38163 L1198,38163 Z M725,38163" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4344)" />
<text x="735" y="38151" style="font:10px Open Sans">除了锁表，每个主副本上还有一个事务管理器，用于协调跨多个Paxos组的事务</text>
<clipPath id="clip4345"><path d="M723,38164 L954,38164 L954,38194 L723,38194 L723,38164 Z" /></clipPath>
<path d="M725,38192 L951,38192 Z M725,38192" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4345)" />
<text x="735" y="38180" style="font:10px Open Sans">锁表实现单个Paxos组内的单机事务</text>
<clipPath id="clip4346"><path d="M723,38193 L1097,38193 L1097,38223 L723,38223 L723,38193 Z" /></clipPath>
<path d="M725,38221 L1094,38221 Z M725,38221" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4346)" />
<text x="735" y="38209" style="font:10px Open Sans">事务管理器实现跨多个Paxos组的分布式事务（两阶段提交）</text>
<clipPath id="clip4347"><path d="M603,38223 L1195,38223 L1195,38479 L603,38479 Z M604,38338 L604,38363 L681,38363 L681,38338 Z M604,38338 Z M604,38338" /></clipPath>
<path d="M694,38364 L694,38254 C694,38251.7929688 695.7929688,38250 698,38250 L703,38250" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4347)" />
<clipPath id="clip4348"><path d="M603,38223 L1195,38223 L1195,38479 L603,38479 Z M604,38338 L604,38363 L681,38363 L681,38338 Z M604,38338 Z M604,38338" /></clipPath>
<path d="M694,38364 L694,38283 C694,38280.7929688 695.7929688,38279 698,38279 L703,38279" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4348)" />
<clipPath id="clip4349"><path d="M603,38223 L1195,38223 L1195,38479 L603,38479 Z M604,38338 L604,38363 L681,38363 L681,38338 Z M604,38338 Z M604,38338" /></clipPath>
<path d="M694,38364 L694,38312 C694,38309.7929688 695.7929688,38308 698,38308 L703,38308" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4349)" />
<clipPath id="clip4350"><path d="M603,38223 L1195,38223 L1195,38479 L603,38479 Z M604,38338 L604,38363 L681,38363 L681,38338 Z M604,38338 Z M604,38338" /></clipPath>
<path d="M694,38364 L694,38341 C694,38338.7929688 695.7929688,38337 698,38337 L703,38337" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4350)" />
<clipPath id="clip4351"><path d="M603,38223 L1195,38223 L1195,38479 L603,38479 Z M604,38338 L604,38363 L681,38363 L681,38338 Z M604,38338 Z M604,38338" /></clipPath>
<path d="M694,38364 C694,38365.1015625 695.7929688,38366 698,38366 L703,38366" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4351)" />
<clipPath id="clip4352"><path d="M603,38223 L1195,38223 L1195,38479 L603,38479 Z M604,38338 L604,38363 L681,38363 L681,38338 Z M604,38338 Z M604,38338" /></clipPath>
<path d="M694,38364 L694,38389 C694,38391.2070313 695.7929688,38393 698,38393 L703,38393" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4352)" />
<clipPath id="clip4353"><path d="M603,38223 L1195,38223 L1195,38479 L603,38479 Z M604,38338 L604,38363 L681,38363 L681,38338 Z M604,38338 Z M604,38338" /></clipPath>
<path d="M694,38364 L694,38418 C694,38420.2070313 695.7929688,38422 698,38422 L703,38422" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4353)" />
<clipPath id="clip4354"><path d="M603,38223 L1195,38223 L1195,38479 L603,38479 Z M604,38338 L604,38363 L681,38363 L681,38338 Z M604,38338 Z M604,38338" /></clipPath>
<path d="M694,38364 L694,38447 C694,38449.2070313 695.7929688,38451 698,38451 L703,38451" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4354)" />
<clipPath id="clip4355"><path d="M603,38223 L1195,38223 L1195,38479 L603,38479 Z M604,38338 L604,38363 L681,38363 L681,38338 Z M604,38338 Z M604,38338" /></clipPath>
<path d="M694,38364 L694,38474 C694,38476.2070313 695.7929688,38478 698,38478 L703,38478" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4355)" />
<clipPath id="clip4356"><path d="M602,38222 L1196,38222 L1196,38480 L602,38480 L602,38222 Z" /></clipPath>
<path d="M681,38364 L694,38364" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4356)" />
<clipPath id="clip4357"><path d="M602,38336 L684,38336 L684,38366 L602,38366 L602,38336 Z" /></clipPath>
<path d="M604,38364 L681,38364 Z M604,38364" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4357)" />
<text x="614" y="38352" style="font:10px Open Sans">TrueTime</text>
<clipPath id="clip4358"><path d="M701,38222 L1102,38222 L1102,38252 L701,38252 L701,38222 Z" /></clipPath>
<path d="M703,38250 L1099,38250 Z M703,38250" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4358)" />
<text x="713" y="38238" style="font:10px Open Sans">为了实现并发控制，数据库需要给每个事务分配全局唯一的事务id</text>
<clipPath id="clip4359"><path d="M701,38251 L1196,38251 L1196,38281 L701,38281 L701,38251 Z" /></clipPath>
<path d="M703,38279 L1193,38279 Z M703,38279" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4359)" />
<text x="713" y="38267" style="font:10px Open Sans">可选方案：采用Google Percolator专门部署一套Oracle数据库用于生成全局唯一id</text>
<clipPath id="clip4360"><path d="M701,38280 L989,38280 L989,38310 L701,38310 L701,38280 Z" /></clipPath>
<path d="M703,38308 L986,38308 Z M703,38308" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4360)" />
<text x="713" y="38296" style="font:10px Open Sans">Spanner选择使用全球时钟同步机制TrueTime</text>
<clipPath id="clip4361"><path d="M701,38309 L1094,38309 L1094,38339 L701,38339 L701,38309 Z" /></clipPath>
<path d="M703,38337 L1091,38337 Z M703,38337" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4361)" />
<text x="713" y="38325" style="font:10px Open Sans">TrueTime是一个提供本地时间的接口，返回一个时间戳t和误差e</text>
<clipPath id="clip4362"><path d="M701,38338 L1091,38338 L1091,38368 L701,38368 L701,38338 Z" /></clipPath>
<path d="M703,38366 L1088,38366 Z M703,38366" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4362)" />
<text x="713" y="38354" style="font:10px Open Sans">TrueTime API实现的基础是GPS和原子钟（两者失效原因不同）</text>
<clipPath id="clip4363"><path d="M701,38367 L1156,38367 L1156,38395 L701,38395 L701,38367 Z" /></clipPath>
<path d="M703,38393 L1153,38393 Z M703,38393" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4363)" />
<text x="713" y="38383" style="font:10px Open Sans">每个数据中心需要部署一些主时钟服务器，其他机器上部署一个从时钟进程</text>
<clipPath id="clip4364"><path d="M701,38394 L960,38394 L960,38424 L701,38424 L701,38394 Z" /></clipPath>
<path d="M703,38422 L957,38422 Z M703,38422" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4364)" />
<text x="713" y="38410" style="font:10px Open Sans">有的主时钟服务器用GPS，有的用原子钟</text>
<clipPath id="clip4365"><path d="M701,38423 L1081,38423 L1081,38453 L701,38453 L701,38423 Z" /></clipPath>
<path d="M703,38451 L1078,38451 Z M703,38451" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4365)" />
<text x="713" y="38439" style="font:10px Open Sans">每个从时钟进程每隔30秒从若干个主时钟服务器同步时钟信息</text>
<clipPath id="clip4366"><path d="M701,38452 L1182,38452 L1182,38480 L701,38480 L701,38452 Z" /></clipPath>
<path d="M703,38478 L1179,38478 Z M703,38478" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4366)" />
<text x="713" y="38468" style="font:10px Open Sans">主时钟服务器自己还会将最新的时间信息和本地时钟对比，排除偏差较大的结果</text>
<clipPath id="clip4367"><path d="M603,38480 L1745,38480 L1745,39056 L603,39056 Z M604,38747 L604,38770 L677,38770 L677,38747 Z M604,38747 Z M604,38747" /></clipPath>
<path d="M690,38771 L690,38549 C690,38546.7929688 691.7929688,38545 694,38545 L699,38545" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4367)" />
<clipPath id="clip4368"><path d="M603,38480 L1745,38480 L1745,39056 L603,39056 Z M604,38747 L604,38770 L677,38770 L677,38747 Z M604,38747 Z M604,38747" /></clipPath>
<path d="M690,38771 L690,38743 C690,38740.7929688 691.7929688,38739 694,38739 L699,38739" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4368)" />
<clipPath id="clip4369"><path d="M603,38480 L1745,38480 L1745,39056 L603,39056 Z M604,38747 L604,38770 L677,38770 L677,38747 Z M604,38747 Z M604,38747" /></clipPath>
<path d="M690,38771 L690,38993 C690,38995.2070313 691.7929688,38997 694,38997 L699,38997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4369)" />
<clipPath id="clip4370"><path d="M602,38479 L1746,38479 L1746,39057 L602,39057 L602,38479 Z" /></clipPath>
<path d="M677,38771 L690,38771" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4370)" />
<clipPath id="clip4371"><path d="M602,38745 L680,38745 L680,38773 L602,38773 L602,38745 Z" /></clipPath>
<path d="M604,38771 L677,38771 Z M604,38771" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4371)" />
<text x="614" y="38761" style="font:10px Open Sans">并发控制</text>
<clipPath id="clip4372"><path d="M698,38480 L999,38480 L999,38587 L698,38587 Z M699,38521 L699,38544 L785,38544 L785,38521 Z M699,38521 Z M699,38521" /></clipPath>
<path d="M798,38545 L798,38509 C798,38506.7929688 799.7929688,38505 802,38505 L807,38505" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4372)" />
<clipPath id="clip4373"><path d="M698,38480 L999,38480 L999,38587 L698,38587 Z M699,38521 L699,38544 L785,38544 L785,38521 Z M699,38521 Z M699,38521" /></clipPath>
<path d="M798,38545 L798,38536 C798,38533.7929688 799.7929688,38532 802,38532 L807,38532" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4373)" />
<clipPath id="clip4374"><path d="M698,38480 L999,38480 L999,38587 L698,38587 Z M699,38521 L699,38544 L785,38544 L785,38521 Z M699,38521 Z M699,38521" /></clipPath>
<path d="M798,38545 L798,38555 C798,38557.2070313 799.7929688,38559 802,38559 L807,38559" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4374)" />
<clipPath id="clip4375"><path d="M698,38480 L999,38480 L999,38587 L698,38587 Z M699,38521 L699,38544 L785,38544 L785,38521 Z M699,38521 Z M699,38521" /></clipPath>
<path d="M798,38545 L798,38582 C798,38584.2070313 799.7929688,38586 802,38586 L807,38586" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4375)" />
<clipPath id="clip4376"><path d="M697,38479 L1000,38479 L1000,38588 L697,38588 L697,38479 Z" /></clipPath>
<path d="M785,38545 L798,38545" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4376)" />
<clipPath id="clip4377"><path d="M697,38519 L788,38519 L788,38547 L697,38547 L697,38519 Z" /></clipPath>
<path d="M699,38545 L785,38545 Z M699,38545" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4377)" />
<text x="709" y="38535" style="font:10px Open Sans">支持的事务</text>
<clipPath id="clip4378"><path d="M805,38479 L883,38479 L883,38507 L805,38507 L805,38479 Z" /></clipPath>
<path d="M807,38505 L880,38505 Z M807,38505" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4378)" />
<text x="817" y="38495" style="font:10px Open Sans">读写事务</text>
<clipPath id="clip4379"><path d="M805,38506 L883,38506 L883,38534 L805,38534 L805,38506 Z" /></clipPath>
<path d="M807,38532 L880,38532 Z M807,38532" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4379)" />
<text x="817" y="38522" style="font:10px Open Sans">只读事务</text>
<clipPath id="clip4380"><path d="M805,38533 L987,38533 L987,38561 L805,38561 L805,38533 Z" /></clipPath>
<path d="M807,38559 L984,38559 Z M807,38559" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4380)" />
<text x="817" y="38549" style="font:10px Open Sans">快照读，客户端提供时间戳</text>
<clipPath id="clip4381"><path d="M805,38560 L1000,38560 L1000,38588 L805,38588 L805,38560 Z" /></clipPath>
<path d="M807,38586 L997,38586 Z M807,38586" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4381)" />
<text x="817" y="38576" style="font:10px Open Sans">快照读，客户端提供时间范围</text>
<clipPath id="clip4382"><path d="M698,38588 L1745,38588 L1745,38921 L698,38921 Z M699,38713 L699,38738 L815,38738 L815,38713 Z M699,38713 Z M699,38713" /></clipPath>
<path d="M828,38739 L828,38619 C828,38616.7929688 829.7929688,38615 832,38615 L837,38615" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4382)" />
<clipPath id="clip4383"><path d="M698,38588 L1745,38588 L1745,38921 L698,38921 Z M699,38713 L699,38738 L815,38738 L815,38713 Z M699,38713 Z M699,38713" /></clipPath>
<path d="M828,38739 L828,38706 C828,38703.7929688 829.7929688,38702 832,38702 L837,38702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4383)" />
<clipPath id="clip4384"><path d="M698,38588 L1745,38588 L1745,38921 L698,38921 Z M699,38713 L699,38738 L815,38738 L815,38713 Z M699,38713 Z M699,38713" /></clipPath>
<path d="M828,38739 L828,38859 C828,38861.2070313 829.7929688,38863 832,38863 L837,38863" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4384)" />
<clipPath id="clip4385"><path d="M697,38587 L1746,38587 L1746,38922 L697,38922 L697,38587 Z" /></clipPath>
<path d="M815,38739 L828,38739" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4385)" />
<clipPath id="clip4386"><path d="M697,38711 L818,38711 L818,38741 L697,38741 L697,38711 Z" /></clipPath>
<path d="M699,38739 L815,38739 Z M699,38739" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4386)" />
<text x="709" y="38727" style="font:10px Open Sans">不考虑TimeTrue</text>
<clipPath id="clip4387"><path d="M835,38587 L1083,38587 L1083,38617 L835,38617 L835,38587 Z" /></clipPath>
<path d="M837,38615 L1080,38615 Z M837,38615" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4387)" />
<text x="847" y="38603" style="font:10px Open Sans">假设TrueTime API获得的时间是准确的</text>
<clipPath id="clip4388"><path d="M836,38617 L1593,38617 L1593,38751 L836,38751 Z M837,38676 L837,38701 L1037,38701 L1037,38676 Z M837,38676 Z M837,38676" /></clipPath>
<path d="M1050,38702 L1050,38659 C1050,38656.7929688 1051.7929688,38655 1054,38655 L1059,38655" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4388)" />
<clipPath id="clip4389"><path d="M836,38617 L1593,38617 L1593,38751 L836,38751 Z M837,38676 L837,38701 L1037,38701 L1037,38676 Z M837,38676 Z M837,38676" /></clipPath>
<path d="M1050,38702 L1050,38705 C1050,38707.2070313 1051.7929688,38709 1054,38709 L1059,38709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4389)" />
<clipPath id="clip4390"><path d="M836,38617 L1593,38617 L1593,38751 L836,38751 Z M837,38676 L837,38701 L1037,38701 L1037,38676 Z M837,38676 Z M837,38676" /></clipPath>
<path d="M1050,38702 L1050,38746 C1050,38748.2070313 1051.7929688,38750 1054,38750 L1059,38750" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4390)" />
<clipPath id="clip4391"><path d="M835,38616 L1594,38616 L1594,38752 L835,38752 L835,38616 Z" /></clipPath>
<path d="M1037,38702 L1050,38702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4391)" />
<clipPath id="clip4392"><path d="M835,38674 L1040,38674 L1040,38704 L835,38704 L835,38674 Z" /></clipPath>
<path d="M837,38702 L1037,38702 Z M837,38702" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4392)" />
<text x="847" y="38690" style="font:10px Open Sans">读写事务只属于同一个Paxos组</text>
<clipPath id="clip4393"><path d="M1058,38617 L1528,38617 L1528,38670 L1058,38670 Z M1059,38631 L1059,38654 L1132,38654 L1132,38631 Z M1059,38631 Z M1059,38631" /></clipPath>
<path d="M1145,38655 L1145,38646 C1145,38643.7929688 1146.7929688,38642 1149,38642 L1154,38642" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4393)" />
<clipPath id="clip4394"><path d="M1058,38617 L1528,38617 L1528,38670 L1058,38670 Z M1059,38631 L1059,38654 L1132,38654 L1132,38631 Z M1059,38631 Z M1059,38631" /></clipPath>
<path d="M1145,38655 L1145,38665 C1145,38667.2070313 1146.7929688,38669 1149,38669 L1154,38669" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4394)" />
<clipPath id="clip4395"><path d="M1057,38616 L1529,38616 L1529,38671 L1057,38671 L1057,38616 Z" /></clipPath>
<path d="M1132,38655 L1145,38655" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4395)" />
<clipPath id="clip4396"><path d="M1057,38629 L1135,38629 L1135,38657 L1057,38657 L1057,38629 Z" /></clipPath>
<path d="M1059,38655 L1132,38655 Z M1059,38655" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4396)" />
<text x="1069" y="38645" style="font:10px Open Sans">读写事务</text>
<clipPath id="clip4397"><path d="M1152,38616 L1308,38616 L1308,38644 L1152,38644 L1152,38616 Z" /></clipPath>
<path d="M1154,38642 L1305,38642 Z M1154,38642" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4397)" />
<text x="1164" y="38632" style="font:10px Open Sans">获取系统的当前时间戳</text>
<clipPath id="clip4398"><path d="M1152,38643 L1529,38643 L1529,38671 L1152,38671 L1152,38643 Z" /></clipPath>
<path d="M1154,38669 L1526,38669 Z M1154,38669" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4398)" />
<text x="1164" y="38659" style="font:10px Open Sans">执行读写操作，并将第一步取得的时间戳作为事务的提交版本</text>
<clipPath id="clip4399"><path d="M1058,38671 L1593,38671 L1593,38724 L1058,38724 Z M1059,38685 L1059,38708 L1132,38708 L1132,38685 Z M1059,38685 Z M1059,38685" /></clipPath>
<path d="M1145,38709 L1145,38700 C1145,38697.7929688 1146.7929688,38696 1149,38696 L1154,38696" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4399)" />
<clipPath id="clip4400"><path d="M1058,38671 L1593,38671 L1593,38724 L1058,38724 Z M1059,38685 L1059,38708 L1132,38708 L1132,38685 Z M1059,38685 Z M1059,38685" /></clipPath>
<path d="M1145,38709 L1145,38719 C1145,38721.2070313 1146.7929688,38723 1149,38723 L1154,38723" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4400)" />
<clipPath id="clip4401"><path d="M1057,38670 L1594,38670 L1594,38725 L1057,38725 L1057,38670 Z" /></clipPath>
<path d="M1132,38709 L1145,38709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4401)" />
<clipPath id="clip4402"><path d="M1057,38683 L1135,38683 L1135,38711 L1057,38711 L1057,38683 Z" /></clipPath>
<path d="M1059,38709 L1132,38709 Z M1059,38709" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4402)" />
<text x="1069" y="38699" style="font:10px Open Sans">只读事务</text>
<clipPath id="clip4403"><path d="M1152,38670 L1425,38670 L1425,38698 L1152,38698 L1152,38670 Z" /></clipPath>
<path d="M1154,38696 L1422,38696 Z M1154,38696" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4403)" />
<text x="1164" y="38686" style="font:10px Open Sans">获取系统的当前时间戳，作为读事务的版本</text>
<clipPath id="clip4404"><path d="M1152,38697 L1594,38697 L1594,38725 L1152,38725 L1152,38697 Z" /></clipPath>
<path d="M1154,38723 L1591,38723 Z M1154,38723" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4404)" />
<text x="1164" y="38713" style="font:10px Open Sans">执行读取操作，返回客户端所有提交版本小于读事务版本的事务操作结果</text>
<clipPath id="clip4405"><path d="M1058,38725 L1450,38725 L1450,38751 L1058,38751 Z M1059,38726 L1059,38749 L1119,38749 L1119,38726 Z M1059,38726 Z M1059,38726" /></clipPath>
<path d="M1132,38750 C1132,38750 1133.7929688,38750 1136,38750 L1141,38750" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4405)" />
<clipPath id="clip4406"><path d="M1057,38724 L1451,38724 L1451,38752 L1057,38752 L1057,38724 Z" /></clipPath>
<path d="M1119,38750 L1132,38750" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4406)" />
<clipPath id="clip4407"><path d="M1057,38724 L1122,38724 L1122,38752 L1057,38752 L1057,38724 Z" /></clipPath>
<path d="M1059,38750 L1119,38750 Z M1059,38750" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4407)" />
<text x="1069" y="38740" style="font:10px Open Sans">快照读</text>
<clipPath id="clip4408"><path d="M1139,38724 L1451,38724 L1451,38752 L1139,38752 L1139,38724 Z" /></clipPath>
<path d="M1141,38750 L1448,38750 Z M1141,38750" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4408)" />
<text x="1151" y="38740" style="font:10px Open Sans">将指定读事务的版本，而不是取系统的当前时间戳</text>
<clipPath id="clip4409"><path d="M836,38752 L1745,38752 L1745,38921 L836,38921 Z M837,38837 L837,38862 L1011,38862 L1011,38837 Z M837,38837 Z M837,38837" /></clipPath>
<path d="M1024,38863 L1024,38825 C1024,38822.7929688 1025.7929688,38821 1028,38821 L1033,38821" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4409)" />
<clipPath id="clip4410"><path d="M836,38752 L1745,38752 L1745,38921 L836,38921 Z M837,38837 L837,38862 L1011,38862 L1011,38837 Z M837,38837 Z M837,38837" /></clipPath>
<path d="M1024,38863 L1024,38902 C1024,38904.2070313 1025.7929688,38906 1028,38906 L1033,38906" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4410)" />
<clipPath id="clip4411"><path d="M835,38751 L1746,38751 L1746,38922 L835,38922 L835,38751 Z" /></clipPath>
<path d="M1011,38863 L1024,38863" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4411)" />
<clipPath id="clip4412"><path d="M835,38835 L1014,38835 L1014,38865 L835,38865 L835,38835 Z" /></clipPath>
<path d="M837,38863 L1011,38863 Z M837,38863" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4412)" />
<text x="847" y="38851" style="font:10px Open Sans">读写事务涉及多个Paxos组</text>
<clipPath id="clip4413"><path d="M1032,38752 L1745,38752 L1745,38865 L1032,38865 Z M1033,38797 L1033,38820 L1119,38820 L1119,38797 Z M1033,38797 Z M1033,38797" /></clipPath>
<path d="M1132,38821 L1132,38797 C1132,38794.7929688 1133.7929688,38793 1136,38793 L1141,38793" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4413)" />
<clipPath id="clip4414"><path d="M1032,38752 L1745,38752 L1745,38865 L1032,38865 Z M1033,38797 L1033,38820 L1119,38820 L1119,38797 Z M1033,38797 Z M1033,38797" /></clipPath>
<path d="M1132,38821 L1132,38846 C1132,38848.2070313 1133.7929688,38850 1136,38850 L1141,38850" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4414)" />
<clipPath id="clip4415"><path d="M1031,38751 L1746,38751 L1746,38866 L1031,38866 L1031,38751 Z" /></clipPath>
<path d="M1119,38821 L1132,38821" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4415)" />
<clipPath id="clip4416"><path d="M1031,38795 L1122,38795 L1122,38823 L1031,38823 L1031,38795 Z" /></clipPath>
<path d="M1033,38821 L1119,38821 Z M1033,38821" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4416)" />
<text x="1043" y="38811" style="font:10px Open Sans">两阶段提交</text>
<clipPath id="clip4417"><path d="M1140,38752 L1717,38752 L1717,38809 L1140,38809 Z M1141,38767 L1141,38792 L1209,38792 L1209,38767 Z M1141,38767 Z M1141,38767" /></clipPath>
<path d="M1222,38793 L1222,38783 C1222,38780.7929688 1223.7929688,38779 1226,38779 L1231,38779" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4417)" />
<clipPath id="clip4418"><path d="M1140,38752 L1717,38752 L1717,38809 L1140,38809 Z M1141,38767 L1141,38792 L1209,38792 L1209,38767 Z M1141,38767 Z M1141,38767" /></clipPath>
<path d="M1222,38793 L1222,38804 C1222,38806.2070313 1223.7929688,38808 1226,38808 L1231,38808" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4418)" />
<clipPath id="clip4419"><path d="M1139,38751 L1718,38751 L1718,38810 L1139,38810 L1139,38751 Z" /></clipPath>
<path d="M1209,38793 L1222,38793" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4419)" />
<clipPath id="clip4420"><path d="M1139,38765 L1212,38765 L1212,38795 L1139,38795 L1139,38765 Z" /></clipPath>
<path d="M1141,38793 L1209,38793 Z M1141,38793" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4420)" />
<text x="1151" y="38781" style="font:10px Open Sans">Prepare</text>
<clipPath id="clip4421"><path d="M1229,38751 L1486,38751 L1486,38781 L1229,38781 L1229,38751 Z" /></clipPath>
<path d="M1231,38779 L1483,38779 Z M1231,38779" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4421)" />
<text x="1241" y="38767" style="font:10px Open Sans">客户端将数据发往多个Paxos组的主副本</text>
<clipPath id="clip4422"><path d="M1229,38780 L1718,38780 L1718,38810 L1229,38810 L1229,38780 Z" /></clipPath>
<path d="M1231,38808 L1715,38808 Z M1231,38808" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4422)" />
<text x="1241" y="38796" style="font:10px Open Sans">同时协调者主副本发起prepare协议，请求其它参与者主副本锁住需要操作的数据</text>
<clipPath id="clip4423"><path d="M1140,38810 L1745,38810 L1745,38865 L1140,38865 Z M1141,38824 L1141,38849 L1210,38849 L1210,38824 Z M1141,38824 Z M1141,38824" /></clipPath>
<path d="M1223,38850 L1223,38841 C1223,38838.7929688 1224.7929688,38837 1227,38837 L1232,38837" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4423)" />
<clipPath id="clip4424"><path d="M1140,38810 L1745,38810 L1745,38865 L1140,38865 Z M1141,38824 L1141,38849 L1210,38849 L1210,38824 Z M1141,38824 Z M1141,38824" /></clipPath>
<path d="M1223,38850 L1223,38860 C1223,38862.2070313 1224.7929688,38864 1227,38864 L1232,38864" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4424)" />
<clipPath id="clip4425"><path d="M1139,38809 L1746,38809 L1746,38866 L1139,38866 L1139,38809 Z" /></clipPath>
<path d="M1210,38850 L1223,38850" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4425)" />
<clipPath id="clip4426"><path d="M1139,38822 L1213,38822 L1213,38852 L1139,38852 L1139,38822 Z" /></clipPath>
<path d="M1141,38850 L1210,38850 Z M1141,38850" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4426)" />
<text x="1151" y="38838" style="font:10px Open Sans">Commit</text>
<clipPath id="clip4427"><path d="M1230,38809 L1746,38809 L1746,38839 L1230,38839 L1230,38809 Z" /></clipPath>
<path d="M1232,38837 L1743,38837 Z M1232,38837" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4427)" />
<text x="1242" y="38825" style="font:10px Open Sans">协调者副本发起Commit协议，要求每个参与者主副本执行提交操作并解除锁定的数据</text>
<clipPath id="clip4428"><path d="M1230,38838 L1737,38838 L1737,38866 L1230,38866 L1230,38838 Z" /></clipPath>
<path d="M1232,38864 L1734,38864 Z M1232,38864" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4428)" />
<text x="1242" y="38854" style="font:10px Open Sans">协调者副本可以将它的当前时间戳作为事务的提交版本，并发送给每个参与者主副本</text>
<clipPath id="clip4429"><path d="M1032,38866 L1499,38866 L1499,38921 L1032,38921 Z M1033,38882 L1033,38905 L1106,38905 L1106,38882 Z M1033,38882 Z M1033,38882" /></clipPath>
<path d="M1119,38906 L1119,38897 C1119,38894.7929688 1120.7929688,38893 1123,38893 L1128,38893" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4429)" />
<clipPath id="clip4430"><path d="M1032,38866 L1499,38866 L1499,38921 L1032,38921 Z M1033,38882 L1033,38905 L1106,38905 L1106,38882 Z M1033,38882 Z M1033,38882" /></clipPath>
<path d="M1119,38906 L1119,38916 C1119,38918.2070313 1120.7929688,38920 1123,38920 L1128,38920" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4430)" />
<clipPath id="clip4431"><path d="M1031,38865 L1500,38865 L1500,38922 L1031,38922 L1031,38865 Z" /></clipPath>
<path d="M1106,38906 L1119,38906" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4431)" />
<clipPath id="clip4432"><path d="M1031,38880 L1109,38880 L1109,38908 L1031,38908 L1031,38880 Z" /></clipPath>
<path d="M1033,38906 L1106,38906 Z M1033,38906" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4432)" />
<text x="1043" y="38896" style="font:10px Open Sans">只读事务</text>
<clipPath id="clip4433"><path d="M1126,38865 L1500,38865 L1500,38895 L1126,38895 L1126,38865 Z" /></clipPath>
<path d="M1128,38893 L1497,38893 Z M1128,38893" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4433)" />
<text x="1138" y="38881" style="font:10px Open Sans">读取每个Paxos组中提交版本小于读事务版本的事务操作结果</text>
<clipPath id="clip4434"><path d="M1126,38894 L1334,38894 L1334,38922 L1126,38922 L1126,38894 Z" /></clipPath>
<path d="M1128,38920 L1331,38920 Z M1128,38920" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4434)" />
<text x="1138" y="38910" style="font:10px Open Sans">需要保证不会读到不完整的事务</text>
<clipPath id="clip4435"><path d="M698,38922 L1428,38922 L1428,39056 L698,39056 Z M699,38971 L699,38996 L802,38996 L802,38971 Z M699,38971 Z M699,38971" /></clipPath>
<path d="M815,38997 L815,38972 C815,38969.7929688 816.7929688,38968 819,38968 L824,38968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4435)" />
<clipPath id="clip4436"><path d="M698,38922 L1428,38922 L1428,39056 L698,39056 Z M699,38971 L699,38996 L802,38996 L802,38971 Z M699,38971 Z M699,38971" /></clipPath>
<path d="M815,38997 L815,39022 C815,39024.2070313 816.7929688,39026 819,39026 L824,39026" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4436)" />
<clipPath id="clip4437"><path d="M697,38921 L1429,38921 L1429,39057 L697,39057 L697,38921 Z" /></clipPath>
<path d="M802,38997 L815,38997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4437)" />
<clipPath id="clip4438"><path d="M697,38969 L805,38969 L805,38999 L697,38999 L697,38969 Z" /></clipPath>
<path d="M699,38997 L802,38997 Z M699,38997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4438)" />
<text x="709" y="38985" style="font:10px Open Sans">考虑TimeTrue</text>
<clipPath id="clip4439"><path d="M823,38922 L1428,38922 L1428,38969 L823,38969 Z M824,38944 L824,38967 L897,38967 L897,38944 Z M824,38944 Z M824,38944" /></clipPath>
<path d="M910,38968 C910,38968 911.7929688,38968 914,38968 L919,38968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4439)" />
<clipPath id="clip4440"><path d="M822,38921 L1429,38921 L1429,38970 L822,38970 L822,38921 Z" /></clipPath>
<path d="M897,38968 L910,38968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4440)" />
<clipPath id="clip4441"><path d="M822,38942 L900,38942 L900,38970 L822,38970 L822,38942 Z" /></clipPath>
<path d="M824,38968 L897,38968 Z M824,38968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4441)" />
<text x="834" y="38958" style="font:10px Open Sans">核心思想</text>
<clipPath id="clip4442"><path d="M917,38921 L1429,38921 L1429,38970 L917,38970 L917,38921 Z" /></clipPath>
<path d="M919,38968 L1426,38968 Z M919,38968" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4442)" />
<text x="929" y="38937" style="font:10px Open Sans">只要事务T1的提交操作早于事务T2的开始操作，即使考虑TrueTime API的误差因素，</text>
<text x="929" y="38956" style="font:10px Open Sans">Spanner也能保证T1的提交版本小于T2的版本</text>
<clipPath id="clip4443"><path d="M823,38970 L1299,38970 L1299,39056 L823,39056 Z M824,39002 L824,39025 L897,39025 L897,39002 Z M824,39002 Z M824,39002" /></clipPath>
<path d="M910,39026 L910,39001 C910,38998.7929688 911.7929688,38997 914,38997 L919,38997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4443)" />
<clipPath id="clip4444"><path d="M823,38970 L1299,38970 L1299,39056 L823,39056 Z M824,39002 L824,39025 L897,39025 L897,39002 Z M824,39002 Z M824,39002" /></clipPath>
<path d="M910,39026 C910,39026 911.7929688,39026 914,39026 L919,39026" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4444)" />
<clipPath id="clip4445"><path d="M823,38970 L1299,38970 L1299,39056 L823,39056 Z M824,39002 L824,39025 L897,39025 L897,39002 Z M824,39002 Z M824,39002" /></clipPath>
<path d="M910,39026 L910,39051 C910,39053.2070313 911.7929688,39055 914,39055 L919,39055" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4445)" />
<clipPath id="clip4446"><path d="M822,38969 L1300,38969 L1300,39057 L822,39057 L822,38969 Z" /></clipPath>
<path d="M897,39026 L910,39026" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4446)" />
<clipPath id="clip4447"><path d="M822,39000 L900,39000 L900,39028 L822,39028 L822,39000 Z" /></clipPath>
<path d="M824,39026 L897,39026 Z M824,39026" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4447)" />
<text x="834" y="39016" style="font:10px Open Sans">延迟提交</text>
<clipPath id="clip4448"><path d="M917,38969 L1288,38969 L1288,38999 L917,38999 L917,38969 Z" /></clipPath>
<path d="M919,38997 L1285,38997 Z M919,38997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4448)" />
<text x="929" y="38985" style="font:10px Open Sans">如果T1的提交版本为时间戳t1,那么事务在t1+e之后才能提交</text>
<clipPath id="clip4449"><path d="M917,38998 L1287,38998 L1287,39028 L917,39028 L917,38998 Z" /></clipPath>
<path d="M919,39026 L1284,39026 Z M919,39026" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4449)" />
<text x="929" y="39014" style="font:10px Open Sans">如果T2开始的绝对时间为t2，那么T2的提交版本至少为t2+e</text>
<clipPath id="clip4450"><path d="M917,39027 L1300,39027 L1300,39057 L917,39057 L917,39027 Z" /></clipPath>
<path d="M919,39055 L1297,39055 Z M919,39055" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4450)" />
<text x="929" y="39043" style="font:10px Open Sans">保证了T1和T2之间的严格顺序，但每个写事务的延时至少为2e</text>
<clipPath id="clip4451"><path d="M603,39057 L1194,39057 L1194,39278 L603,39278 Z M604,39155 L604,39178 L677,39178 L677,39155 Z M604,39155 Z M604,39155" /></clipPath>
<path d="M690,39179 L690,39086 C690,39083.7929688 691.7929688,39082 694,39082 L699,39082" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4451)" />
<clipPath id="clip4452"><path d="M603,39057 L1194,39057 L1194,39278 L603,39278 Z M604,39155 L604,39178 L677,39178 L677,39155 Z M604,39155 Z M604,39155" /></clipPath>
<path d="M690,39179 L690,39113 C690,39110.7929688 691.7929688,39109 694,39109 L699,39109" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4452)" />
<clipPath id="clip4453"><path d="M603,39057 L1194,39057 L1194,39278 L603,39278 Z M604,39155 L604,39178 L677,39178 L677,39155 Z M604,39155 Z M604,39155" /></clipPath>
<path d="M690,39179 L690,39142 C690,39139.7929688 691.7929688,39138 694,39138 L699,39138" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4453)" />
<clipPath id="clip4454"><path d="M603,39057 L1194,39057 L1194,39278 L603,39278 Z M604,39155 L604,39178 L677,39178 L677,39155 Z M604,39155 Z M604,39155" /></clipPath>
<path d="M690,39179 L690,39191 C690,39193.2070313 691.7929688,39195 694,39195 L699,39195" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4454)" />
<clipPath id="clip4455"><path d="M603,39057 L1194,39057 L1194,39278 L603,39278 Z M604,39155 L604,39178 L677,39178 L677,39155 Z M604,39155 Z M604,39155" /></clipPath>
<path d="M690,39179 L690,39246 C690,39248.2070313 691.7929688,39250 694,39250 L699,39250" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4455)" />
<clipPath id="clip4456"><path d="M603,39057 L1194,39057 L1194,39278 L603,39278 Z M604,39155 L604,39178 L677,39178 L677,39155 Z M604,39155 Z M604,39155" /></clipPath>
<path d="M690,39179 L690,39273 C690,39275.2070313 691.7929688,39277 694,39277 L699,39277" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4456)" />
<clipPath id="clip4457"><path d="M602,39056 L1195,39056 L1195,39279 L602,39279 L602,39056 Z" /></clipPath>
<path d="M677,39179 L690,39179" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4457)" />
<clipPath id="clip4458"><path d="M602,39153 L680,39153 L680,39181 L602,39181 L602,39153 Z" /></clipPath>
<path d="M604,39179 L677,39179 Z M604,39179" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4458)" />
<text x="614" y="39169" style="font:10px Open Sans">数据迁移</text>
<clipPath id="clip4459"><path d="M697,39056 L970,39056 L970,39084 L697,39084 L697,39056 Z" /></clipPath>
<path d="M699,39082 L967,39082 Z M699,39082" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4459)" />
<text x="709" y="39072" style="font:10px Open Sans">目录是对数据分区、复制和迁移的基本单位</text>
<clipPath id="clip4460"><path d="M697,39083 L1061,39083 L1061,39111 L697,39111 L697,39083 Z" /></clipPath>
<path d="M699,39109 L1058,39109 Z M699,39109" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4460)" />
<text x="709" y="39099" style="font:10px Open Sans">用户可以指定一个目录有多少个副本，分别放在哪些机房中</text>
<clipPath id="clip4461"><path d="M697,39110 L1055,39110 L1055,39140 L697,39140 L697,39110 Z" /></clipPath>
<path d="M699,39138 L1052,39138 Z M699,39138" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4461)" />
<text x="709" y="39126" style="font:10px Open Sans">一个Paxos组包含多个目录，目录可以在Paxos组之间移动</text>
<clipPath id="clip4462"><path d="M698,39140 L1194,39140 L1194,39224 L698,39224 Z M699,39171 L699,39194 L876,39194 L876,39171 Z M699,39171 Z M699,39171" /></clipPath>
<path d="M889,39195 L889,39171 C889,39168.7929688 890.7929688,39167 893,39167 L898,39167" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4462)" />
<clipPath id="clip4463"><path d="M698,39140 L1194,39140 L1194,39224 L698,39224 Z M699,39171 L699,39194 L876,39194 L876,39171 Z M699,39171 Z M699,39171" /></clipPath>
<path d="M889,39195 C889,39194.4453125 890.7929688,39194 893,39194 L898,39194" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4463)" />
<clipPath id="clip4464"><path d="M698,39140 L1194,39140 L1194,39224 L698,39224 Z M699,39171 L699,39194 L876,39194 L876,39171 Z M699,39171 Z M699,39171" /></clipPath>
<path d="M889,39195 L889,39219 C889,39221.2070313 890.7929688,39223 893,39223 L898,39223" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4464)" />
<clipPath id="clip4465"><path d="M697,39139 L1195,39139 L1195,39225 L697,39225 L697,39139 Z" /></clipPath>
<path d="M876,39195 L889,39195" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4465)" />
<clipPath id="clip4466"><path d="M697,39169 L879,39169 L879,39197 L697,39197 L697,39169 Z" /></clipPath>
<path d="M699,39195 L876,39195 Z M699,39195" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4466)" />
<text x="709" y="39185" style="font:10px Open Sans">移动目录一般出于一下考虑</text>
<clipPath id="clip4467"><path d="M896,39139 L1127,39139 L1127,39169 L896,39169 L896,39139 Z" /></clipPath>
<path d="M898,39167 L1124,39167 Z M898,39167" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4467)" />
<text x="908" y="39155" style="font:10px Open Sans">某个Paxos组的负载太大，需要切分</text>
<clipPath id="clip4468"><path d="M896,39168 L1195,39168 L1195,39196 L896,39196 L896,39168 Z" /></clipPath>
<path d="M898,39194 L1192,39194 Z M898,39194" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4468)" />
<text x="908" y="39184" style="font:10px Open Sans">将数据移动到离用户更近的地方，减少访问延时</text>
<clipPath id="clip4469"><path d="M896,39195 L1166,39195 L1166,39225 L896,39225 L896,39195 Z" /></clipPath>
<path d="M898,39223 L1163,39223 Z M898,39223" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4469)" />
<text x="908" y="39211" style="font:10px Open Sans">把经常一起访问的目录放进同一个Paxos组</text>
<clipPath id="clip4470"><path d="M697,39224 L1074,39224 L1074,39252 L697,39252 L697,39224 Z" /></clipPath>
<path d="M699,39250 L1071,39250 Z M699,39250" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4470)" />
<text x="709" y="39240" style="font:10px Open Sans">移动目录的操作在后台进行，不会影响前台的客户端读写操作</text>
<clipPath id="clip4471"><path d="M697,39251 L1113,39251 L1113,39279 L697,39279 L697,39251 Z" /></clipPath>
<path d="M699,39277 L1110,39277 Z M699,39277" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4471)" />
<text x="709" y="39267" style="font:10px Open Sans">先将目录的实际数据移到指定位置，然后用一个原子操作更新元数据</text>
<clipPath id="clip4472"><path d="M603,39279 L1008,39279 L1008,39361 L603,39361 Z M604,39309 L604,39332 L651,39332 L651,39309 Z M604,39309 Z M604,39309" /></clipPath>
<path d="M664,39333 L664,39310 C664,39307.7929688 665.7929688,39306 668,39306 L673,39306" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4472)" />
<clipPath id="clip4473"><path d="M603,39279 L1008,39279 L1008,39361 L603,39361 Z M604,39309 L604,39332 L651,39332 L651,39309 Z M604,39309 Z M604,39309" /></clipPath>
<path d="M664,39333 C664,39333 665.7929688,39333 668,39333 L673,39333" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4473)" />
<clipPath id="clip4474"><path d="M603,39279 L1008,39279 L1008,39361 L603,39361 Z M604,39309 L604,39332 L651,39332 L651,39309 Z M604,39309 Z M604,39309" /></clipPath>
<path d="M664,39333 L664,39356 C664,39358.2070313 665.7929688,39360 668,39360 L673,39360" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4474)" />
<clipPath id="clip4475"><path d="M602,39278 L1009,39278 L1009,39362 L602,39362 L602,39278 Z" /></clipPath>
<path d="M651,39333 L664,39333" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4475)" />
<clipPath id="clip4476"><path d="M602,39307 L654,39307 L654,39335 L602,39335 L602,39307 Z" /></clipPath>
<path d="M604,39333 L651,39333 Z M604,39333" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4476)" />
<text x="614" y="39323" style="font:10px Open Sans">讨论</text>
<clipPath id="clip4477"><path d="M671,39278 L884,39278 L884,39308 L671,39308 L671,39278 Z" /></clipPath>
<path d="M673,39306 L881,39306 Z M673,39306" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4477)" />
<text x="683" y="39294" style="font:10px Open Sans">Bigtable-&gt;Megastore-&gt;Spanner</text>
<clipPath id="clip4478"><path d="M671,39307 L892,39307 L892,39335 L671,39335 L671,39307 Z" /></clipPath>
<path d="M673,39333 L889,39333 Z M673,39333" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4478)" />
<text x="683" y="39323" style="font:10px Open Sans">底层通过分布式技术实现可扩展性</text>
<clipPath id="clip4479"><path d="M671,39334 L1009,39334 L1009,39362 L671,39362 L671,39334 Z" /></clipPath>
<path d="M673,39360 L1006,39360 Z M673,39360" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4479)" />
<text x="683" y="39350" style="font:10px Open Sans">上层通过关系数据库模型和接口将系统功能暴露给用户</text>
<clipPath id="clip4480"><path d="M289,39371 L1655,39371 L1655,43690 L289,43690 Z M295,42080 C292.2382813,42080 290,42082.2382813 290,42085 L290,42116 C290,42118.7617188 292.2382813,42121 295,42121 L404,42121 C406.7617188,42121 409,42118.7617188 409,42116 L409,42085 C409,42082.2382813 406.7617188,42080 404,42080 Z M295,42080 Z M295,42080" /></clipPath>
<path d="M422,42100.859375 L422,40778 L431,40778" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4480)" />
<clipPath id="clip4481"><path d="M289,39371 L1655,39371 L1655,43690 L289,43690 Z M295,42080 C292.2382813,42080 290,42082.2382813 290,42085 L290,42116 C290,42118.7617188 292.2382813,42121 295,42121 L404,42121 C406.7617188,42121 409,42118.7617188 409,42116 L409,42085 C409,42082.2382813 406.7617188,42080 404,42080 Z M295,42080 Z M295,42080" /></clipPath>
<path d="M422,42100.859375 L422,42699 L431,42699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4481)" />
<clipPath id="clip4482"><path d="M289,39371 L1655,39371 L1655,43690 L289,43690 Z M295,42080 C292.2382813,42080 290,42082.2382813 290,42085 L290,42116 C290,42118.7617188 292.2382813,42121 295,42121 L404,42121 C406.7617188,42121 409,42118.7617188 409,42116 L409,42085 C409,42082.2382813 406.7617188,42080 404,42080 Z M295,42080 Z M295,42080" /></clipPath>
<path d="M422,42100.859375 L422,42927 L431,42927" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4482)" />
<clipPath id="clip4483"><path d="M289,39371 L1655,39371 L1655,43690 L289,43690 Z M295,42080 C292.2382813,42080 290,42082.2382813 290,42085 L290,42116 C290,42118.7617188 292.2382813,42121 295,42121 L404,42121 C406.7617188,42121 409,42118.7617188 409,42116 L409,42085 C409,42082.2382813 406.7617188,42080 404,42080 Z M295,42080 Z M295,42080" /></clipPath>
<path d="M422,42100.859375 L422,43424 L431,43424" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4483)" />
<clipPath id="clip4484"><path d="M288,39370 L1656,39370 L1656,43691 L288,43691 L288,39370 Z" /></clipPath>
<path d="M409,42100.796875 L422,42100.859375" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4484)" />
<clipPath id="clip4485"><path d="M288,42078 L412,42078 L412,42124 L288,42124 L288,42078 Z" /></clipPath>
<path d="M295,42080 C292.2382813,42080 290,42082.2382813 290,42085 L290,42116 C290,42118.7617188 292.2382813,42121 295,42121 L404,42121 C406.7617188,42121 409,42118.7617188 409,42116 L409,42085 C409,42082.2382813 406.7617188,42080 404,42080 Z M295,42080" style="fill:rgb(254,244,236);stroke:none" clip-path="url(#clip4485)" />
<clipPath id="clip4486"><path d="M288,42078 L412,42078 L412,42124 L288,42124 L288,42078 Z" /></clipPath>
<path d="M295,42080 C292.2382813,42080 290,42082.2382813 290,42085 L290,42116 C290,42118.7617188 292.2382813,42121 295,42121 L404,42121 C406.7617188,42121 409,42118.7617188 409,42116 L409,42085 C409,42082.2382813 406.7617188,42080 404,42080 Z M295,42080" style="fill:none;stroke:rgb(141,134,126)" clip-path="url(#clip4486)" />
<text x="303" y="42102" style="font:13px Open Sans">OceanBase</text>
<clipPath id="clip4487"><path d="M430,39371 L1655,39371 L1655,42507 L430,42507 Z M431,40752 L431,40777 L519,40777 L519,40752 Z M431,40752 Z M431,40752" /></clipPath>
<path d="M532,40778 L532,39442 C532,39439.7929688 533.7929688,39438 536,39438 L541,39438" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4487)" />
<clipPath id="clip4488"><path d="M430,39371 L1655,39371 L1655,42507 L430,42507 Z M431,40752 L431,40777 L519,40777 L519,40752 Z M431,40752 Z M431,40752" /></clipPath>
<path d="M532,40778 L532,40389 C532,40386.7929688 533.7929688,40385 536,40385 L541,40385" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4488)" />
<clipPath id="clip4489"><path d="M430,39371 L1655,39371 L1655,42507 L430,42507 Z M431,40752 L431,40777 L519,40777 L519,40752 Z M431,40752 Z M431,40752" /></clipPath>
<path d="M532,40778 L532,42114 C532,42116.2070313 533.7929688,42118 536,42118 L541,42118" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4489)" />
<clipPath id="clip4490"><path d="M429,39370 L1656,39370 L1656,42508 L429,42508 L429,39370 Z" /></clipPath>
<path d="M519,40778 L532,40778" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4490)" />
<clipPath id="clip4491"><path d="M429,40750 L522,40750 L522,40780 L429,40780 L429,40750 Z" /></clipPath>
<path d="M431,40778 L519,40778 Z M431,40778" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4491)" />
<text x="441" y="40766" style="font:10px Open Sans">OceanBase</text>
<clipPath id="clip4492"><path d="M540,39371 L1146,39371 L1146,39509 L540,39509 Z M541,39414 L541,39437 L588,39437 L588,39414 Z M541,39414 Z M541,39414" /></clipPath>
<path d="M601,39438 L601,39400 C601,39397.7929688 602.7929688,39396 605,39396 L610,39396" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4492)" />
<clipPath id="clip4493"><path d="M540,39371 L1146,39371 L1146,39509 L540,39509 Z M541,39414 L541,39437 L588,39437 L588,39414 Z M541,39414 Z M541,39414" /></clipPath>
<path d="M601,39438 L601,39429 C601,39426.7929688 602.7929688,39425 605,39425 L610,39425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4493)" />
<clipPath id="clip4494"><path d="M540,39371 L1146,39371 L1146,39509 L540,39509 Z M541,39414 L541,39437 L588,39437 L588,39414 Z M541,39414 Z M541,39414" /></clipPath>
<path d="M601,39438 L601,39477 C601,39479.2070313 602.7929688,39481 605,39481 L610,39481" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4494)" />
<clipPath id="clip4495"><path d="M539,39370 L1147,39370 L1147,39510 L539,39510 L539,39370 Z" /></clipPath>
<path d="M588,39438 L601,39438" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4495)" />
<clipPath id="clip4496"><path d="M539,39412 L591,39412 L591,39440 L539,39440 L539,39412 Z" /></clipPath>
<path d="M541,39438 L588,39438 Z M541,39438" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4496)" />
<text x="551" y="39428" style="font:10px Open Sans">介绍</text>
<clipPath id="clip4497"><path d="M608,39370 L842,39370 L842,39398 L608,39398 L608,39370 Z" /></clipPath>
<path d="M610,39396 L839,39396 Z M610,39396" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4497)" />
<text x="620" y="39386" style="font:10px Open Sans">阿里巴巴研发的可扩展的关系数据库</text>
<clipPath id="clip4498"><path d="M608,39397 L936,39397 L936,39427 L608,39427 L608,39397 Z" /></clipPath>
<path d="M610,39425 L933,39425 Z M610,39425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4498)" />
<text x="620" y="39413" style="font:10px Open Sans">实现了数千亿条记录、数百TB数据上的跨行跨表事务</text>
<clipPath id="clip4499"><path d="M609,39427 L1146,39427 L1146,39509 L609,39509 Z M610,39457 L610,39480 L748,39480 L748,39457 Z M610,39457 Z M610,39457" /></clipPath>
<path d="M761,39481 L761,39458 C761,39455.7929688 762.7929688,39454 765,39454 L770,39454" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4499)" />
<clipPath id="clip4500"><path d="M609,39427 L1146,39427 L1146,39509 L609,39509 Z M610,39457 L610,39480 L748,39480 L748,39457 Z M610,39457 Z M610,39457" /></clipPath>
<path d="M761,39481 C761,39481 762.7929688,39481 765,39481 L770,39481" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4500)" />
<clipPath id="clip4501"><path d="M609,39427 L1146,39427 L1146,39509 L609,39509 Z M610,39457 L610,39480 L748,39480 L748,39457 Z M610,39457 Z M610,39457" /></clipPath>
<path d="M761,39481 L761,39504 C761,39506.2070313 762.7929688,39508 765,39508 L770,39508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4501)" />
<clipPath id="clip4502"><path d="M608,39426 L1147,39426 L1147,39510 L608,39510 L608,39426 Z" /></clipPath>
<path d="M748,39481 L761,39481" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4502)" />
<clipPath id="clip4503"><path d="M608,39455 L751,39455 L751,39483 L608,39483 L608,39455 Z" /></clipPath>
<path d="M610,39481 L748,39481 Z M610,39481" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4503)" />
<text x="620" y="39471" style="font:10px Open Sans">基线数据和增量数据</text>
<clipPath id="clip4504"><path d="M768,39426 L1147,39426 L1147,39456 L768,39456 L768,39426 Z" /></clipPath>
<path d="M770,39454 L1144,39454 Z M770,39454" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4504)" />
<text x="780" y="39442" style="font:10px Open Sans">OceanBase内部按照时间线将数据划分为基线数据和增量数据</text>
<clipPath id="clip4505"><path d="M768,39455 L1080,39455 L1080,39483 L768,39483 L768,39455 Z" /></clipPath>
<path d="M770,39481 L1077,39481 Z M770,39481" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4505)" />
<text x="780" y="39471" style="font:10px Open Sans">基线数据是只读的，所有的修改更新到增量数据中</text>
<clipPath id="clip4506"><path d="M768,39482 L1119,39482 L1119,39510 L768,39510 L768,39482 Z" /></clipPath>
<path d="M770,39508 L1116,39508 Z M770,39508" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4506)" />
<text x="780" y="39498" style="font:10px Open Sans">系统内部通过合并操作定期将增量数据融合到基线数据中</text>
<clipPath id="clip4507"><path d="M540,39510 L1655,39510 L1655,41663 L540,41663 Z M541,40361 L541,40384 L614,40384 L614,40361 Z M541,40361 Z M541,40361" /></clipPath>
<path d="M627,40385 L627,39555 C627,39552.7929688 628.7929688,39551 631,39551 L636,39551" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4507)" />
<clipPath id="clip4508"><path d="M540,39510 L1655,39510 L1655,41663 L540,41663 Z M541,40361 L541,40384 L614,40384 L614,40361 Z M541,40361 Z M541,40361" /></clipPath>
<path d="M627,40385 L627,39646 C627,39643.7929688 628.7929688,39642 631,39642 L636,39642" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4508)" />
<clipPath id="clip4509"><path d="M540,39510 L1655,39510 L1655,41663 L540,41663 Z M541,40361 L541,40384 L614,40384 L614,40361 Z M541,40361 Z M541,40361" /></clipPath>
<path d="M627,40385 L627,39794 C627,39791.7929688 628.7929688,39790 631,39790 L636,39790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4509)" />
<clipPath id="clip4510"><path d="M540,39510 L1655,39510 L1655,41663 L540,41663 Z M541,40361 L541,40384 L614,40384 L614,40361 Z M541,40361 Z M541,40361" /></clipPath>
<path d="M627,40385 L627,39960 C627,39957.7929688 628.7929688,39956 631,39956 L636,39956" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4510)" />
<clipPath id="clip4511"><path d="M540,39510 L1655,39510 L1655,41663 L540,41663 Z M541,40361 L541,40384 L614,40384 L614,40361 Z M541,40361 Z M541,40361" /></clipPath>
<path d="M627,40385 L627,41215 C627,41217.2070313 628.7929688,41219 631,41219 L636,41219" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4511)" />
<clipPath id="clip4512"><path d="M539,39509 L1656,39509 L1656,41664 L539,41664 L539,39509 Z" /></clipPath>
<path d="M614,40385 L627,40385" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4512)" />
<clipPath id="clip4513"><path d="M539,40359 L617,40359 L617,40387 L539,40387 L539,40359 Z" /></clipPath>
<path d="M541,40385 L614,40385 Z M541,40385" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4513)" />
<text x="551" y="40375" style="font:10px Open Sans">设计思路</text>
<clipPath id="clip4514"><path d="M635,39510 L918,39510 L918,39567 L635,39567 Z M636,39527 L636,39550 L683,39550 L683,39527 Z M636,39527 Z M636,39527" /></clipPath>
<path d="M696,39551 L696,39541 C696,39538.7929688 697.7929688,39537 700,39537 L705,39537" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4514)" />
<clipPath id="clip4515"><path d="M635,39510 L918,39510 L918,39567 L635,39567 Z M636,39527 L636,39550 L683,39550 L683,39527 Z M636,39527 Z M636,39527" /></clipPath>
<path d="M696,39551 L696,39562 C696,39564.2070313 697.7929688,39566 700,39566 L705,39566" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4515)" />
<clipPath id="clip4516"><path d="M634,39509 L919,39509 L919,39568 L634,39568 L634,39509 Z" /></clipPath>
<path d="M683,39551 L696,39551" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4516)" />
<clipPath id="clip4517"><path d="M634,39525 L686,39525 L686,39553 L634,39553 L634,39525 Z" /></clipPath>
<path d="M636,39551 L683,39551 Z M636,39551" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4517)" />
<text x="646" y="39541" style="font:10px Open Sans">目标</text>
<clipPath id="clip4518"><path d="M703,39509 L823,39509 L823,39539 L703,39539 L703,39509 Z" /></clipPath>
<path d="M705,39537 L820,39537 Z M705,39537" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4518)" />
<text x="715" y="39525" style="font:10px Open Sans">数百TB的数据量</text>
<clipPath id="clip4519"><path d="M703,39538 L919,39538 L919,39568 L703,39568 L703,39538 Z" /></clipPath>
<path d="M705,39566 L916,39566 Z M705,39566" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4519)" />
<text x="715" y="39554" style="font:10px Open Sans">数十万TPS、数百万QPS的访问量</text>
<clipPath id="clip4520"><path d="M635,39568 L1282,39568 L1282,39706 L635,39706 Z M636,39618 L636,39641 L761,39641 L761,39618 Z M636,39618 Z M636,39618" /></clipPath>
<path d="M774,39642 L774,39612 C774,39609.7929688 775.7929688,39608 778,39608 L783,39608" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4520)" />
<clipPath id="clip4521"><path d="M635,39568 L1282,39568 L1282,39706 L635,39706 Z M636,39618 L636,39641 L761,39641 L761,39618 Z M636,39618 Z M636,39618" /></clipPath>
<path d="M774,39642 L774,39673 C774,39675.2070313 775.7929688,39677 778,39677 L783,39677" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4521)" />
<clipPath id="clip4522"><path d="M634,39567 L1283,39567 L1283,39707 L634,39707 L634,39567 Z" /></clipPath>
<path d="M761,39642 L774,39642" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4522)" />
<clipPath id="clip4523"><path d="M634,39616 L764,39616 L764,39644 L634,39644 L634,39616 Z" /></clipPath>
<path d="M636,39642 L761,39642 Z M636,39642" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4523)" />
<text x="646" y="39632" style="font:10px Open Sans">数据库水平拆分？</text>
<clipPath id="clip4524"><path d="M782,39568 L1282,39568 L1282,39623 L782,39623 Z M783,39584 L783,39607 L830,39607 L830,39584 Z M783,39584 Z M783,39584" /></clipPath>
<path d="M843,39608 L843,39599 C843,39596.7929688 844.7929688,39595 847,39595 L852,39595" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4524)" />
<clipPath id="clip4525"><path d="M782,39568 L1282,39568 L1282,39623 L782,39623 Z M783,39584 L783,39607 L830,39607 L830,39584 Z M783,39584 Z M783,39584" /></clipPath>
<path d="M843,39608 L843,39618 C843,39620.2070313 844.7929688,39622 847,39622 L852,39622" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4525)" />
<clipPath id="clip4526"><path d="M781,39567 L1283,39567 L1283,39624 L781,39624 L781,39567 Z" /></clipPath>
<path d="M830,39608 L843,39608" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4526)" />
<clipPath id="clip4527"><path d="M781,39582 L833,39582 L833,39610 L781,39610 L781,39582 Z" /></clipPath>
<path d="M783,39608 L830,39608 Z M783,39608" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4527)" />
<text x="793" y="39598" style="font:10px Open Sans">做法</text>
<clipPath id="clip4528"><path d="M850,39567 L1283,39567 L1283,39597 L850,39597 L850,39567 Z" /></clipPath>
<path d="M852,39595 L1280,39595 Z M852,39595" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4528)" />
<text x="862" y="39583" style="font:10px Open Sans">根据某个业务字段（user_id）哈希后取模，将数据分布到不同的服务器</text>
<clipPath id="clip4529"><path d="M850,39596 L1149,39596 L1149,39624 L850,39624 L850,39596 Z" /></clipPath>
<path d="M852,39622 L1146,39622 Z M852,39622" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4529)" />
<text x="862" y="39612" style="font:10px Open Sans">客户端请求通过数据库中间层路由到不同的分区</text>
<clipPath id="clip4530"><path d="M782,39624 L1276,39624 L1276,39706 L782,39706 Z M783,39653 L783,39676 L830,39676 L830,39653 Z M783,39653 Z M783,39653" /></clipPath>
<path d="M843,39677 L843,39653 C843,39650.7929688 844.7929688,39649 847,39649 L852,39649" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4530)" />
<clipPath id="clip4531"><path d="M782,39624 L1276,39624 L1276,39706 L782,39706 Z M783,39653 L783,39676 L830,39676 L830,39653 Z M783,39653 Z M783,39653" /></clipPath>
<path d="M843,39677 C843,39676.4453125 844.7929688,39676 847,39676 L852,39676" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4531)" />
<clipPath id="clip4532"><path d="M782,39624 L1276,39624 L1276,39706 L782,39706 Z M783,39653 L783,39676 L830,39676 L830,39653 Z M783,39653 Z M783,39653" /></clipPath>
<path d="M843,39677 L843,39701 C843,39703.2070313 844.7929688,39705 847,39705 L852,39705" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4532)" />
<clipPath id="clip4533"><path d="M781,39623 L1277,39623 L1277,39707 L781,39707 L781,39623 Z" /></clipPath>
<path d="M830,39677 L843,39677" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4533)" />
<clipPath id="clip4534"><path d="M781,39651 L833,39651 L833,39679 L781,39679 L781,39651 Z" /></clipPath>
<path d="M783,39677 L830,39677 Z M783,39677" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4534)" />
<text x="793" y="39667" style="font:10px Open Sans">弊端</text>
<clipPath id="clip4535"><path d="M850,39623 L1201,39623 L1201,39651 L850,39651 L850,39623 Z" /></clipPath>
<path d="M852,39649 L1198,39649 Z M852,39649" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4535)" />
<text x="862" y="39639" style="font:10px Open Sans">数据和负载增加后添加机器操作困难，往往需要人工介入</text>
<clipPath id="clip4536"><path d="M850,39650 L1097,39650 L1097,39678 L850,39678 L850,39650 Z" /></clipPath>
<path d="M852,39676 L1094,39676 Z M852,39676" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4536)" />
<text x="862" y="39666" style="font:10px Open Sans">有的范围查询需要访问几乎所有的分区</text>
<clipPath id="clip4537"><path d="M850,39677 L1277,39677 L1277,39707 L850,39707 L850,39677 Z" /></clipPath>
<path d="M852,39705 L1274,39705 Z M852,39705" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4537)" />
<text x="862" y="39693" style="font:10px Open Sans">目前的关系数据库引擎针对机械硬盘优化的，不能完全发挥SSD的能力</text>
<clipPath id="clip4538"><path d="M635,39707 L1373,39707 L1373,39849 L635,39849 Z M636,39766 L636,39789 L761,39789 L761,39766 Z M636,39766 Z M636,39766" /></clipPath>
<path d="M774,39790 L774,39751 C774,39748.7929688 775.7929688,39747 778,39747 L783,39747" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4538)" />
<clipPath id="clip4539"><path d="M635,39707 L1373,39707 L1373,39849 L635,39849 Z M636,39766 L636,39789 L761,39789 L761,39766 Z M636,39766 Z M636,39766" /></clipPath>
<path d="M774,39790 C774,39790 775.7929688,39790 778,39790 L783,39790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4539)" />
<clipPath id="clip4540"><path d="M635,39707 L1373,39707 L1373,39849 L635,39849 Z M636,39766 L636,39789 L761,39789 L761,39766 Z M636,39766 Z M636,39766" /></clipPath>
<path d="M774,39790 L774,39829 C774,39831.2070313 775.7929688,39833 778,39833 L783,39833" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4540)" />
<clipPath id="clip4541"><path d="M634,39706 L1374,39706 L1374,39850 L634,39850 L634,39706 Z" /></clipPath>
<path d="M761,39790 L774,39790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4541)" />
<clipPath id="clip4542"><path d="M634,39764 L764,39764 L764,39792 L634,39792 L634,39764 Z" /></clipPath>
<path d="M636,39790 L761,39790 Z M636,39790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4542)" />
<text x="646" y="39780" style="font:10px Open Sans">分布式表格系统？</text>
<clipPath id="clip4543"><path d="M782,39707 L1223,39707 L1223,39762 L782,39762 Z M783,39723 L783,39746 L830,39746 L830,39723 Z M783,39723 Z M783,39723" /></clipPath>
<path d="M843,39747 L843,39738 C843,39735.7929688 844.7929688,39734 847,39734 L852,39734" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4543)" />
<clipPath id="clip4544"><path d="M782,39707 L1223,39707 L1223,39762 L782,39762 Z M783,39723 L783,39746 L830,39746 L830,39723 Z M783,39723 Z M783,39723" /></clipPath>
<path d="M843,39747 L843,39757 C843,39759.2070313 844.7929688,39761 847,39761 L852,39761" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4544)" />
<clipPath id="clip4545"><path d="M781,39706 L1224,39706 L1224,39763 L781,39763 L781,39706 Z" /></clipPath>
<path d="M830,39747 L843,39747" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4545)" />
<clipPath id="clip4546"><path d="M781,39721 L833,39721 L833,39749 L781,39749 L781,39721 Z" /></clipPath>
<path d="M783,39747 L830,39747 Z M783,39747" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4546)" />
<text x="793" y="39737" style="font:10px Open Sans">做法</text>
<clipPath id="clip4547"><path d="M850,39706 L1224,39706 L1224,39736 L850,39736 L850,39706 Z" /></clipPath>
<path d="M852,39734 L1221,39734 Z M852,39734" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4547)" />
<text x="862" y="39722" style="font:10px Open Sans">参考Bigtable，将大表划分为很多子表，子表之间按主键有序</text>
<clipPath id="clip4548"><path d="M850,39735 L1071,39735 L1071,39763 L850,39763 L850,39735 Z" /></clipPath>
<path d="M852,39761 L1068,39761 Z M852,39761" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4548)" />
<text x="862" y="39751" style="font:10px Open Sans">解决了可扩展性和范围查询的问题</text>
<clipPath id="clip4549"><path d="M782,39763 L1249,39763 L1249,39791 L782,39791 Z M783,39766 L783,39789 L830,39789 L830,39766 Z M783,39766 Z M783,39766" /></clipPath>
<path d="M843,39790 C843,39790 844.7929688,39790 847,39790 L852,39790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4549)" />
<clipPath id="clip4550"><path d="M781,39762 L1250,39762 L1250,39792 L781,39792 L781,39762 Z" /></clipPath>
<path d="M830,39790 L843,39790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4550)" />
<clipPath id="clip4551"><path d="M781,39764 L833,39764 L833,39792 L781,39792 L781,39764 Z" /></clipPath>
<path d="M783,39790 L830,39790 Z M783,39790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4551)" />
<text x="793" y="39780" style="font:10px Open Sans">弊端</text>
<clipPath id="clip4552"><path d="M850,39762 L1250,39762 L1250,39792 L850,39792 L850,39762 Z" /></clipPath>
<path d="M852,39790 L1247,39790 Z M852,39790" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4552)" />
<text x="862" y="39778" style="font:10px Open Sans">Bigtable只支持单行事务《oceanBase希望能够支持跨行跨表事务</text>
<clipPath id="clip4553"><path d="M782,39792 L1373,39792 L1373,39849 L782,39849 Z M783,39809 L783,39832 L830,39832 L830,39809 Z M783,39809 Z M783,39809" /></clipPath>
<path d="M843,39833 L843,39823 C843,39820.7929688 844.7929688,39819 847,39819 L852,39819" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4553)" />
<clipPath id="clip4554"><path d="M782,39792 L1373,39792 L1373,39849 L782,39849 Z M783,39809 L783,39832 L830,39832 L830,39809 Z M783,39809 Z M783,39809" /></clipPath>
<path d="M843,39833 L843,39844 C843,39846.2070313 844.7929688,39848 847,39848 L852,39848" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4554)" />
<clipPath id="clip4555"><path d="M781,39791 L1374,39791 L1374,39850 L781,39850 L781,39791 Z" /></clipPath>
<path d="M830,39833 L843,39833" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4555)" />
<clipPath id="clip4556"><path d="M781,39807 L833,39807 L833,39835 L781,39835 L781,39807 Z" /></clipPath>
<path d="M783,39833 L830,39833 Z M783,39833" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4556)" />
<text x="793" y="39823" style="font:10px Open Sans">改进</text>
<clipPath id="clip4557"><path d="M850,39791 L1374,39791 L1374,39821 L850,39821 L850,39791 Z" /></clipPath>
<path d="M852,39819 L1371,39819 Z M852,39819" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4557)" />
<text x="862" y="39807" style="font:10px Open Sans">在Bigtable开源实现（HBase/Hypertable）基础上引入两阶段提交协议支持分布式事务</text>
<clipPath id="clip4558"><path d="M850,39820 L1335,39820 L1335,39850 L850,39850 L850,39820 Z" /></clipPath>
<path d="M852,39848 L1332,39848 Z M852,39848" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4558)" />
<text x="862" y="39836" style="font:10px Open Sans">Google的Percolator事务平均响应时间2～5秒，只能应用在网页建库这类业务中</text>
<clipPath id="clip4559"><path d="M635,39850 L1367,39850 L1367,40038 L635,40038 Z M636,39930 L636,39955 L776,39955 L776,39930 Z M636,39930 Z M636,39930" /></clipPath>
<path d="M789,39956 L789,39879 C789,39876.7929688 790.7929688,39875 793,39875 L798,39875" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4559)" />
<clipPath id="clip4560"><path d="M635,39850 L1367,39850 L1367,40038 L635,40038 Z M636,39930 L636,39955 L776,39955 L776,39930 Z M636,39930 Z M636,39930" /></clipPath>
<path d="M789,39956 L789,39906 C789,39903.7929688 790.7929688,39902 793,39902 L798,39902" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4560)" />
<clipPath id="clip4561"><path d="M635,39850 L1367,39850 L1367,40038 L635,40038 Z M636,39930 L636,39955 L776,39955 L776,39930 Z M636,39930 Z M636,39930" /></clipPath>
<path d="M789,39956 L789,39933 C789,39930.7929688 790.7929688,39929 793,39929 L798,39929" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4561)" />
<clipPath id="clip4562"><path d="M635,39850 L1367,39850 L1367,40038 L635,40038 Z M636,39930 L636,39955 L776,39955 L776,39930 Z M636,39930 Z M636,39930" /></clipPath>
<path d="M789,39956 C789,39956 790.7929688,39956 793,39956 L798,39956" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4562)" />
<clipPath id="clip4563"><path d="M635,39850 L1367,39850 L1367,40038 L635,40038 Z M636,39930 L636,39955 L776,39955 L776,39930 Z M636,39930 Z M636,39930" /></clipPath>
<path d="M789,39956 L789,39979 C789,39981.2070313 790.7929688,39983 793,39983 L798,39983" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4563)" />
<clipPath id="clip4564"><path d="M635,39850 L1367,39850 L1367,40038 L635,40038 Z M636,39930 L636,39955 L776,39955 L776,39930 Z M636,39930 Z M636,39930" /></clipPath>
<path d="M789,39956 L789,40006 C789,40008.2070313 790.7929688,40010 793,40010 L798,40010" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4564)" />
<clipPath id="clip4565"><path d="M635,39850 L1367,39850 L1367,40038 L635,40038 Z M636,39930 L636,39955 L776,39955 L776,39930 Z M636,39930 Z M636,39930" /></clipPath>
<path d="M789,39956 L789,40033 C789,40035.2070313 790.7929688,40037 793,40037 L798,40037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4565)" />
<clipPath id="clip4566"><path d="M634,39849 L1368,39849 L1368,40039 L634,40039 L634,39849 Z" /></clipPath>
<path d="M776,39956 L789,39956" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4566)" />
<clipPath id="clip4567"><path d="M634,39928 L779,39928 L779,39958 L634,39958 L634,39928 Z" /></clipPath>
<path d="M636,39956 L776,39956 Z M636,39956" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4567)" />
<text x="646" y="39944" style="font:10px Open Sans">OceanBase设计思路</text>
<clipPath id="clip4568"><path d="M796,39849 L1225,39849 L1225,39877 L796,39877 L796,39849 Z" /></clipPath>
<path d="M798,39875 L1222,39875 Z M798,39875" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4568)" />
<text x="808" y="39865" style="font:10px Open Sans">在线业务特点：数据量十分庞大，但最近一段时间的修改量往往并不多</text>
<clipPath id="clip4569"><path d="M796,39876 L1108,39876 L1108,39904 L796,39904 L796,39876 Z" /></clipPath>
<path d="M798,39902 L1105,39902 Z M798,39902" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4569)" />
<text x="808" y="39892" style="font:10px Open Sans">采用单台更新服务器记录最近一段时间的修改增量</text>
<clipPath id="clip4570"><path d="M796,39903 L1030,39903 L1030,39931 L796,39931 L796,39903 Z" /></clipPath>
<path d="M798,39929 L1027,39929 Z M798,39929" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4570)" />
<text x="808" y="39919" style="font:10px Open Sans">以前的数据保持不变，称为基线数据</text>
<clipPath id="clip4571"><path d="M796,39930 L1186,39930 L1186,39958 L796,39958 L796,39930 Z" /></clipPath>
<path d="M798,39956 L1183,39956 Z M798,39956" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4571)" />
<text x="808" y="39946" style="font:10px Open Sans">基线数据以类似分布式文件系统的方式存储于多台基线服务器中</text>
<clipPath id="clip4572"><path d="M796,39957 L1147,39957 L1147,39985 L796,39985 L796,39957 Z" /></clipPath>
<path d="M798,39983 L1144,39983 Z M798,39983" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4572)" />
<text x="808" y="39973" style="font:10px Open Sans">每次查询需要把基线数据和增量数据融合后返回给客户端</text>
<clipPath id="clip4573"><path d="M796,39984 L1329,39984 L1329,40012 L796,40012 L796,39984 Z" /></clipPath>
<path d="M798,40010 L1326,40010 Z M798,40010" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4573)" />
<text x="808" y="40000" style="font:10px Open Sans">写事务集中在单台更新服务器上，避免了复杂的分布式事务，高效地实现了跨行跨表事务</text>
<clipPath id="clip4574"><path d="M796,40011 L1368,40011 L1368,40039 L796,40039 L796,40011 Z" /></clipPath>
<path d="M798,40037 L1365,40037 Z M798,40037" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4574)" />
<text x="808" y="40027" style="font:10px Open Sans">更新服务器上的修改增量能定期分发到多台基线服务器中，避免成为瓶颈，实现了良好的扩展性</text>
<clipPath id="clip4575"><path d="M635,40039 L1655,40039 L1655,41663 L635,41663 Z M636,41195 L636,41218 L709,41218 L709,41195 Z M636,41195 Z M636,41195" /></clipPath>
<path d="M722,41219 L722,40838 C722,40835.7929688 723.7929688,40834 726,40834 L731,40834" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4575)" />
<clipPath id="clip4576"><path d="M635,40039 L1655,40039 L1655,41663 L635,41663 Z M636,41195 L636,41218 L709,41218 L709,41195 Z M636,41195 Z M636,41195" /></clipPath>
<path d="M722,41219 L722,41600 C722,41602.2070313 723.7929688,41604 726,41604 L731,41604" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4576)" />
<clipPath id="clip4577"><path d="M634,40038 L1656,40038 L1656,41664 L634,41664 L634,40038 Z" /></clipPath>
<path d="M709,41219 L722,41219" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4577)" />
<clipPath id="clip4578"><path d="M634,41193 L712,41193 L712,41221 L634,41221 L634,41193 Z" /></clipPath>
<path d="M636,41219 L709,41219 Z M636,41219" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4578)" />
<text x="646" y="41209" style="font:10px Open Sans">系统架构</text>
<clipPath id="clip4579"><path d="M730,40039 L1655,40039 L1655,41520 L730,41520 Z M731,40810 L731,40833 L804,40833 L804,40810 Z M731,40810 Z M731,40810" /></clipPath>
<path d="M817,40834 L817,40221 C817,40218.7929688 818.7929688,40217 821,40217 L826,40217" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4579)" />
<clipPath id="clip4580"><path d="M730,40039 L1655,40039 L1655,41520 L730,41520 Z M731,40810 L731,40833 L804,40833 L804,40810 Z M731,40810 Z M731,40810" /></clipPath>
<path d="M817,40834 L817,40676 C817,40673.7929688 818.7929688,40672 821,40672 L826,40672" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4580)" />
<clipPath id="clip4581"><path d="M730,40039 L1655,40039 L1655,41520 L730,41520 Z M731,40810 L731,40833 L804,40833 L804,40810 Z M731,40810 Z M731,40810" /></clipPath>
<path d="M817,40834 L817,40935 C817,40937.2070313 818.7929688,40939 821,40939 L826,40939" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4581)" />
<clipPath id="clip4582"><path d="M730,40039 L1655,40039 L1655,41520 L730,41520 Z M731,40810 L731,40833 L804,40833 L804,40810 Z M731,40810 Z M731,40810" /></clipPath>
<path d="M817,40834 L817,41200 C817,41202.2070313 818.7929688,41204 821,41204 L826,41204" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4582)" />
<clipPath id="clip4583"><path d="M730,40039 L1655,40039 L1655,41520 L730,41520 Z M731,40810 L731,40833 L804,40833 L804,40810 Z M731,40810 Z M731,40810" /></clipPath>
<path d="M817,40834 L817,41447 C817,41449.2070313 818.7929688,41451 821,41451 L826,41451" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4583)" />
<clipPath id="clip4584"><path d="M729,40038 L1656,40038 L1656,41521 L729,41521 L729,40038 Z" /></clipPath>
<path d="M804,40834 L817,40834" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4584)" />
<clipPath id="clip4585"><path d="M729,40808 L807,40808 L807,40836 L729,40836 L729,40808 Z" /></clipPath>
<path d="M731,40834 L804,40834 Z M731,40834" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4585)" />
<text x="741" y="40824" style="font:10px Open Sans">整体架构</text>
<clipPath id="clip4586"><path d="M825,40039 L1645,40039 L1645,40442 L825,40442 Z M826,40193 L826,40216 L886,40216 L886,40193 Z M826,40193 Z M826,40193" /></clipPath>
<path d="M899,40217 L899,40070 C899,40067.7929688 900.7929688,40066 903,40066 L908,40066" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4586)" />
<clipPath id="clip4587"><path d="M825,40039 L1645,40039 L1645,40442 L825,40442 Z M826,40193 L826,40216 L886,40216 L886,40193 Z M826,40193 Z M826,40193" /></clipPath>
<path d="M899,40217 L899,40099 C899,40096.7929688 900.7929688,40095 903,40095 L908,40095" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4587)" />
<clipPath id="clip4588"><path d="M825,40039 L1645,40039 L1645,40442 L825,40442 Z M826,40193 L826,40216 L886,40216 L886,40193 Z M826,40193 Z M826,40193" /></clipPath>
<path d="M899,40217 L899,40193 C899,40190.7929688 900.7929688,40189 903,40189 L908,40189" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4588)" />
<clipPath id="clip4589"><path d="M825,40039 L1645,40039 L1645,40442 L825,40442 Z M826,40193 L826,40216 L886,40216 L886,40193 Z M826,40193 Z M826,40193" /></clipPath>
<path d="M899,40217 L899,40365 C899,40367.2070313 900.7929688,40369 903,40369 L908,40369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4589)" />
<clipPath id="clip4590"><path d="M824,40038 L1646,40038 L1646,40443 L824,40443 L824,40038 Z" /></clipPath>
<path d="M886,40217 L899,40217" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4590)" />
<clipPath id="clip4591"><path d="M824,40191 L889,40191 L889,40219 L824,40219 L824,40191 Z" /></clipPath>
<path d="M826,40217 L886,40217 Z M826,40217" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4591)" />
<text x="836" y="40207" style="font:10px Open Sans">客户端</text>
<clipPath id="clip4592"><path d="M906,40038 L1047,40038 L1047,40068 L906,40068 L906,40038 Z" /></clipPath>
<path d="M908,40066 L1044,40066 Z M908,40066" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4592)" />
<text x="918" y="40054" style="font:10px Open Sans">与MergeServer通信</text>
<clipPath id="clip4593"><path d="M906,40067 L1052,40067 L1052,40097 L906,40097 L906,40067 Z" /></clipPath>
<path d="M908,40095 L1049,40095 Z M908,40095" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4593)" />
<text x="918" y="40083" style="font:10px Open Sans">完全兼容MysQL协议</text>
<clipPath id="clip4594"><path d="M907,40097 L1613,40097 L1613,40270 L907,40270 Z M908,40165 L908,40188 L968,40188 L968,40165 Z M908,40165 Z M908,40165" /></clipPath>
<path d="M981,40189 L981,40128 C981,40125.7929688 982.7929688,40124 985,40124 L990,40124" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4594)" />
<clipPath id="clip4595"><path d="M907,40097 L1613,40097 L1613,40270 L907,40270 Z M908,40165 L908,40188 L968,40188 L968,40165 Z M908,40165 Z M908,40165" /></clipPath>
<path d="M981,40189 L981,40186 C981,40183.7929688 982.7929688,40182 985,40182 L990,40182" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4595)" />
<clipPath id="clip4596"><path d="M907,40097 L1613,40097 L1613,40270 L907,40270 Z M908,40165 L908,40188 L968,40188 L968,40165 Z M908,40165 Z M908,40165" /></clipPath>
<path d="M981,40189 L981,40250 C981,40252.2070313 982.7929688,40254 985,40254 L990,40254" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4596)" />
<clipPath id="clip4597"><path d="M906,40096 L1614,40096 L1614,40271 L906,40271 L906,40096 Z" /></clipPath>
<path d="M968,40189 L981,40189" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4597)" />
<clipPath id="clip4598"><path d="M906,40163 L971,40163 L971,40191 L906,40191 L906,40163 Z" /></clipPath>
<path d="M908,40189 L968,40189 Z M908,40189" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4598)" />
<text x="918" y="40179" style="font:10px Open Sans">客户端</text>
<clipPath id="clip4599"><path d="M989,40097 L1613,40097 L1613,40125 L989,40125 Z M990,40098 L990,40123 L1093,40123 L1093,40098 Z M990,40098 Z M990,40098" /></clipPath>
<path d="M1106,40124 C1106,40124 1107.7929688,40124 1110,40124 L1115,40124" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4599)" />
<clipPath id="clip4600"><path d="M988,40096 L1614,40096 L1614,40126 L988,40126 L988,40096 Z" /></clipPath>
<path d="M1093,40124 L1106,40124" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4600)" />
<clipPath id="clip4601"><path d="M988,40096 L1096,40096 L1096,40126 L988,40126 L988,40096 Z" /></clipPath>
<path d="M990,40124 L1093,40124 Z M990,40124" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4601)" />
<text x="1000" y="40112" style="font:10px Open Sans">MySQL客户端</text>
<clipPath id="clip4602"><path d="M1113,40096 L1614,40096 L1614,40126 L1113,40126 L1113,40096 Z" /></clipPath>
<path d="M1115,40124 L1611,40124 Z M1115,40124" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4602)" />
<text x="1125" y="40112" style="font:10px Open Sans">MySQL客户端及相关工具（JDBC）将服务器地址设置为任意一台MergeServer地址</text>
<clipPath id="clip4603"><path d="M989,40126 L1443,40126 L1443,40212 L989,40212 Z M990,40156 L990,40181 L1075,40181 L1075,40156 Z M990,40156 Z M990,40156" /></clipPath>
<path d="M1088,40182 L1088,40157 C1088,40154.7929688 1089.7929688,40153 1092,40153 L1097,40153" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4603)" />
<clipPath id="clip4604"><path d="M989,40126 L1443,40126 L1443,40212 L989,40212 Z M990,40156 L990,40181 L1075,40181 L1075,40156 Z M990,40156 Z M990,40156" /></clipPath>
<path d="M1088,40182 C1088,40182 1089.7929688,40182 1092,40182 L1097,40182" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4604)" />
<clipPath id="clip4605"><path d="M989,40126 L1443,40126 L1443,40212 L989,40212 Z M990,40156 L990,40181 L1075,40181 L1075,40156 Z M990,40156 Z M990,40156" /></clipPath>
<path d="M1088,40182 L1088,40207 C1088,40209.2070313 1089.7929688,40211 1092,40211 L1097,40211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4605)" />
<clipPath id="clip4606"><path d="M988,40125 L1444,40125 L1444,40213 L988,40213 L988,40125 Z" /></clipPath>
<path d="M1075,40182 L1088,40182" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4606)" />
<clipPath id="clip4607"><path d="M988,40154 L1078,40154 L1078,40184 L988,40184 L988,40154 Z" /></clipPath>
<path d="M990,40182 L1075,40182 Z M990,40182" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4607)" />
<text x="1000" y="40170" style="font:10px Open Sans">Java客户端</text>
<clipPath id="clip4608"><path d="M1095,40125 L1339,40125 L1339,40155 L1095,40155 L1095,40125 Z" /></clipPath>
<path d="M1097,40153 L1336,40153 Z M1097,40153" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4608)" />
<text x="1107" y="40141" style="font:10px Open Sans">提供对MySQL标准JDBC Driver的封装</text>
<clipPath id="clip4609"><path d="M1095,40154 L1444,40154 L1444,40184 L1095,40184 L1095,40154 Z" /></clipPath>
<path d="M1097,40182 L1441,40182 Z M1097,40182" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4609)" />
<text x="1107" y="40170" style="font:10px Open Sans">提供流量分配、负载均衡、MergeServer异常处理等功能</text>
<clipPath id="clip4610"><path d="M1095,40183 L1366,40183 L1366,40213 L1095,40213 L1095,40183 Z" /></clipPath>
<path d="M1097,40211 L1363,40211 Z M1097,40211" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4610)" />
<text x="1107" y="40199" style="font:10px Open Sans">符合JDBC标准，支持Spring、iBatis等框架</text>
<clipPath id="clip4611"><path d="M989,40213 L1336,40213 L1336,40270 L989,40270 Z M990,40228 L990,40253 L1058,40253 L1058,40228 Z M990,40228 Z M990,40228" /></clipPath>
<path d="M1071,40254 L1071,40244 C1071,40241.7929688 1072.7929688,40240 1075,40240 L1080,40240" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4611)" />
<clipPath id="clip4612"><path d="M989,40213 L1336,40213 L1336,40270 L989,40270 Z M990,40228 L990,40253 L1058,40253 L1058,40228 Z M990,40228 Z M990,40228" /></clipPath>
<path d="M1071,40254 L1071,40265 C1071,40267.2070313 1072.7929688,40269 1075,40269 L1080,40269" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4612)" />
<clipPath id="clip4613"><path d="M988,40212 L1337,40212 L1337,40271 L988,40271 L988,40212 Z" /></clipPath>
<path d="M1058,40254 L1071,40254" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4613)" />
<clipPath id="clip4614"><path d="M988,40226 L1061,40226 L1061,40256 L988,40256 L988,40226 Z" /></clipPath>
<path d="M990,40254 L1058,40254 Z M990,40254" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4614)" />
<text x="1000" y="40242" style="font:10px Open Sans">C客户端</text>
<clipPath id="clip4615"><path d="M1078,40212 L1233,40212 L1233,40242 L1078,40242 L1078,40212 Z" /></clipPath>
<path d="M1080,40240 L1230,40240 Z M1080,40240" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4615)" />
<text x="1090" y="40228" style="font:10px Open Sans">功能与Java客户端类似</text>
<clipPath id="clip4616"><path d="M1078,40241 L1337,40241 L1337,40271 L1078,40271 L1078,40241 Z" /></clipPath>
<path d="M1080,40269 L1334,40269 Z M1080,40269" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4616)" />
<text x="1090" y="40257" style="font:10px Open Sans">接口与MySQL标准C客户端接口完全相同</text>
<clipPath id="clip4617"><path d="M907,40271 L1645,40271 L1645,40442 L907,40442 Z M908,40343 L908,40368 L1084,40368 L1084,40343 Z M908,40343 Z M908,40343" /></clipPath>
<path d="M1097,40369 L1097,40302 C1097,40299.7929688 1098.7929688,40298 1101,40298 L1106,40298" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4617)" />
<clipPath id="clip4618"><path d="M907,40271 L1645,40271 L1645,40442 L907,40442 Z M908,40343 L908,40368 L1084,40368 L1084,40343 Z M908,40343 Z M908,40343" /></clipPath>
<path d="M1097,40369 L1097,40331 C1097,40328.7929688 1098.7929688,40327 1101,40327 L1106,40327" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4618)" />
<clipPath id="clip4619"><path d="M907,40271 L1645,40271 L1645,40442 L907,40442 Z M908,40343 L908,40368 L1084,40368 L1084,40343 Z M908,40343 Z M908,40343" /></clipPath>
<path d="M1097,40369 L1097,40360 C1097,40357.7929688 1098.7929688,40356 1101,40356 L1106,40356" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4619)" />
<clipPath id="clip4620"><path d="M907,40271 L1645,40271 L1645,40442 L907,40442 Z M908,40343 L908,40368 L1084,40368 L1084,40343 Z M908,40343 Z M908,40343" /></clipPath>
<path d="M1097,40369 L1097,40381 C1097,40383.2070313 1098.7929688,40385 1101,40385 L1106,40385" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4620)" />
<clipPath id="clip4621"><path d="M907,40271 L1645,40271 L1645,40442 L907,40442 Z M908,40343 L908,40368 L1084,40368 L1084,40343 Z M908,40343 Z M908,40343" /></clipPath>
<path d="M1097,40369 L1097,40410 C1097,40412.2070313 1098.7929688,40414 1101,40414 L1106,40414" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4621)" />
<clipPath id="clip4622"><path d="M907,40271 L1645,40271 L1645,40442 L907,40442 Z M908,40343 L908,40368 L1084,40368 L1084,40343 Z M908,40343 Z M908,40343" /></clipPath>
<path d="M1097,40369 L1097,40437 C1097,40439.2070313 1098.7929688,40441 1101,40441 L1106,40441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4622)" />
<clipPath id="clip4623"><path d="M906,40270 L1646,40270 L1646,40443 L906,40443 L906,40270 Z" /></clipPath>
<path d="M1084,40369 L1097,40369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4623)" />
<clipPath id="clip4624"><path d="M906,40341 L1087,40341 L1087,40371 L906,40371 L906,40341 Z" /></clipPath>
<path d="M908,40369 L1084,40369 Z M908,40369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4624)" />
<text x="918" y="40357" style="font:10px Open Sans">Java/C客户端访问处理过程</text>
<clipPath id="clip4625"><path d="M1104,40270 L1429,40270 L1429,40300 L1104,40300 L1104,40270 Z" /></clipPath>
<path d="M1106,40298 L1426,40298 Z M1106,40298" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4625)" />
<text x="1116" y="40286" style="font:10px Open Sans">请求RootServer获取集群中MergeServer的地址列表</text>
<clipPath id="clip4626"><path d="M1104,40299 L1536,40299 L1536,40329 L1104,40329 L1104,40299 Z" /></clipPath>
<path d="M1106,40327 L1533,40327 Z M1106,40327" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4626)" />
<text x="1116" y="40315" style="font:10px Open Sans">按一定的策略（随机/一致性哈希）选择某台MergeServer发送读写请求</text>
<clipPath id="clip4627"><path d="M1104,40328 L1490,40328 L1490,40358 L1104,40358 L1104,40328 Z" /></clipPath>
<path d="M1106,40356 L1487,40356 Z M1106,40356" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4627)" />
<text x="1116" y="40344" style="font:10px Open Sans">如果MergeServer更新失败，则重新选择一台MergeServer重试</text>
<clipPath id="clip4628"><path d="M1104,40357 L1646,40357 L1646,40387 L1104,40387 L1104,40357 Z" /></clipPath>
<path d="M1106,40385 L1643,40385 Z M1106,40385" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4628)" />
<text x="1116" y="40373" style="font:10px Open Sans">如果请求某台MergeServer失败超过一定次数，将其加入黑名单并从MergeServer列表删除</text>
<clipPath id="clip4629"><path d="M1104,40386 L1455,40386 L1455,40416 L1104,40416 L1104,40386 Z" /></clipPath>
<path d="M1106,40414 L1452,40414 Z M1106,40414" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4629)" />
<text x="1116" y="40402" style="font:10px Open Sans">客户端会定期请求RootServer更新MergeServer地址列表</text>
<clipPath id="clip4630"><path d="M1104,40415 L1442,40415 L1442,40443 L1104,40443 L1104,40415 Z" /></clipPath>
<path d="M1106,40441 L1439,40441 Z M1106,40441" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4630)" />
<text x="1116" y="40431" style="font:10px Open Sans">多集群时，客户端还需要处理多个集群的流量分配问题</text>
<clipPath id="clip4631"><path d="M825,40443 L1655,40443 L1655,40813 L825,40813 Z M826,40646 L826,40671 L914,40671 L914,40646 Z M826,40646 Z M826,40646" /></clipPath>
<path d="M927,40672 L927,40552 C927,40549.7929688 928.7929688,40548 931,40548 L936,40548" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4631)" />
<clipPath id="clip4632"><path d="M825,40443 L1655,40443 L1655,40813 L825,40813 Z M826,40646 L826,40671 L914,40671 L914,40646 Z M826,40646 Z M826,40646" /></clipPath>
<path d="M927,40672 L927,40679 C927,40681.2070313 928.7929688,40683 931,40683 L936,40683" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4632)" />
<clipPath id="clip4633"><path d="M825,40443 L1655,40443 L1655,40813 L825,40813 Z M826,40646 L826,40671 L914,40671 L914,40646 Z M826,40646 Z M826,40646" /></clipPath>
<path d="M927,40672 L927,40793 C927,40795.2070313 928.7929688,40797 931,40797 L936,40797" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4633)" />
<clipPath id="clip4634"><path d="M824,40442 L1656,40442 L1656,40814 L824,40814 L824,40442 Z" /></clipPath>
<path d="M914,40672 L927,40672" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4634)" />
<clipPath id="clip4635"><path d="M824,40644 L917,40644 L917,40674 L824,40674 L824,40644 Z" /></clipPath>
<path d="M826,40672 L914,40672 Z M826,40672" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4635)" />
<text x="836" y="40660" style="font:10px Open Sans">RootServer</text>
<clipPath id="clip4636"><path d="M935,40443 L1655,40443 L1655,40585 L935,40585 Z M936,40524 L936,40547 L1100,40547 L1100,40524 Z M936,40524 Z M936,40524" /></clipPath>
<path d="M1113,40548 L1113,40516 C1113,40513.7929688 1114.7929688,40512 1117,40512 L1122,40512" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4636)" />
<clipPath id="clip4637"><path d="M935,40443 L1655,40443 L1655,40585 L935,40585 Z M936,40524 L936,40547 L1100,40547 L1100,40524 Z M936,40524 Z M936,40524" /></clipPath>
<path d="M1113,40548 L1113,40580 C1113,40582.2070313 1114.7929688,40584 1117,40584 L1122,40584" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4637)" />
<clipPath id="clip4638"><path d="M934,40442 L1656,40442 L1656,40586 L934,40586 L934,40442 Z" /></clipPath>
<path d="M1100,40548 L1113,40548" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4638)" />
<clipPath id="clip4639"><path d="M934,40522 L1103,40522 L1103,40550 L934,40550 L934,40522 Z" /></clipPath>
<path d="M936,40548 L1100,40548 Z M936,40548" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4639)" />
<text x="946" y="40538" style="font:10px Open Sans">管理集群中的所有服务器</text>
<clipPath id="clip4640"><path d="M1121,40443 L1655,40443 L1655,40556 L1121,40556 Z M1122,40486 L1122,40511 L1252,40511 L1252,40486 Z M1122,40486 Z M1122,40486" /></clipPath>
<path d="M1265,40512 L1265,40474 C1265,40471.7929688 1266.7929688,40470 1269,40470 L1274,40470" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4640)" />
<clipPath id="clip4641"><path d="M1121,40443 L1655,40443 L1655,40556 L1121,40556 Z M1122,40486 L1122,40511 L1252,40511 L1252,40486 Z M1122,40486 Z M1122,40486" /></clipPath>
<path d="M1265,40512 L1265,40501 C1265,40498.7929688 1266.7929688,40497 1269,40497 L1274,40497" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4641)" />
<clipPath id="clip4642"><path d="M1121,40443 L1655,40443 L1655,40556 L1121,40556 Z M1122,40486 L1122,40511 L1252,40511 L1252,40486 Z M1122,40486 Z M1122,40486" /></clipPath>
<path d="M1265,40512 L1265,40522 C1265,40524.2070313 1266.7929688,40526 1269,40526 L1274,40526" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4642)" />
<clipPath id="clip4643"><path d="M1121,40443 L1655,40443 L1655,40556 L1121,40556 Z M1122,40486 L1122,40511 L1252,40511 L1252,40486 Z M1122,40486 Z M1122,40486" /></clipPath>
<path d="M1265,40512 L1265,40551 C1265,40553.2070313 1266.7929688,40555 1269,40555 L1274,40555" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4643)" />
<clipPath id="clip4644"><path d="M1120,40442 L1656,40442 L1656,40557 L1120,40557 L1120,40442 Z" /></clipPath>
<path d="M1252,40512 L1265,40512" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4644)" />
<clipPath id="clip4645"><path d="M1120,40484 L1255,40484 L1255,40514 L1120,40514 L1120,40484 Z" /></clipPath>
<path d="M1122,40512 L1252,40512 Z M1122,40512" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4645)" />
<text x="1132" y="40500" style="font:10px Open Sans">UpdateServer选主</text>
<clipPath id="clip4646"><path d="M1272,40442 L1641,40442 L1641,40472 L1272,40472 L1272,40442 Z" /></clipPath>
<path d="M1274,40470 L1638,40470 Z M1274,40470" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4646)" />
<text x="1284" y="40458" style="font:10px Open Sans">每个集群内部同一时刻只允许一个UpdateServer提供写服务</text>
<clipPath id="clip4647"><path d="M1272,40471 L1519,40471 L1519,40499 L1272,40499 L1272,40471 Z" /></clipPath>
<path d="M1274,40497 L1516,40497 Z M1274,40497" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4647)" />
<text x="1284" y="40487" style="font:10px Open Sans">通过牺牲一定的可用性获得了强一致性</text>
<clipPath id="clip4648"><path d="M1272,40498 L1638,40498 L1638,40528 L1272,40528 L1272,40498 Z" /></clipPath>
<path d="M1274,40526 L1635,40526 Z M1274,40526" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4648)" />
<text x="1284" y="40514" style="font:10px Open Sans">RootServer通过租约Lease机制选择唯一的主UpdateServer</text>
<clipPath id="clip4649"><path d="M1272,40527 L1656,40527 L1656,40557 L1272,40557 L1272,40527 Z" /></clipPath>
<path d="M1274,40555 L1653,40555 Z M1274,40555" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4649)" />
<text x="1284" y="40543" style="font:10px Open Sans">主UpdateServer故障时，RootServer在原租约失效后重新选主</text>
<clipPath id="clip4650"><path d="M1120,40556 L1390,40556 L1390,40586 L1120,40586 L1120,40556 Z" /></clipPath>
<path d="M1122,40584 L1387,40584 Z M1122,40584" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4650)" />
<text x="1132" y="40572" style="font:10px Open Sans">通过心跳监控MergeServer和ChunkServer</text>
<clipPath id="clip4651"><path d="M935,40586 L1602,40586 L1602,40757 L935,40757 Z M936,40659 L936,40682 L1100,40682 L1100,40659 Z M936,40659 Z M936,40659" /></clipPath>
<path d="M1113,40683 L1113,40615 C1113,40612.7929688 1114.7929688,40611 1117,40611 L1122,40611" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4651)" />
<clipPath id="clip4652"><path d="M935,40586 L1602,40586 L1602,40757 L935,40757 Z M936,40659 L936,40682 L1100,40682 L1100,40659 Z M936,40659 Z M936,40659" /></clipPath>
<path d="M1113,40683 L1113,40644 C1113,40641.7929688 1114.7929688,40640 1117,40640 L1122,40640" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4652)" />
<clipPath id="clip4653"><path d="M935,40586 L1602,40586 L1602,40757 L935,40757 Z M936,40659 L936,40682 L1100,40682 L1100,40659 Z M936,40659 Z M936,40659" /></clipPath>
<path d="M1113,40683 L1113,40673 C1113,40670.7929688 1114.7929688,40669 1117,40669 L1122,40669" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4653)" />
<clipPath id="clip4654"><path d="M935,40586 L1602,40586 L1602,40757 L935,40757 Z M936,40659 L936,40682 L1100,40682 L1100,40659 Z M936,40659 Z M936,40659" /></clipPath>
<path d="M1113,40683 L1113,40694 C1113,40696.2070313 1114.7929688,40698 1117,40698 L1122,40698" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4654)" />
<clipPath id="clip4655"><path d="M935,40586 L1602,40586 L1602,40757 L935,40757 Z M936,40659 L936,40682 L1100,40682 L1100,40659 Z M936,40659 Z M936,40659" /></clipPath>
<path d="M1113,40683 L1113,40723 C1113,40725.2070313 1114.7929688,40727 1117,40727 L1122,40727" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4655)" />
<clipPath id="clip4656"><path d="M935,40586 L1602,40586 L1602,40757 L935,40757 Z M936,40659 L936,40682 L1100,40682 L1100,40659 Z M936,40659 Z M936,40659" /></clipPath>
<path d="M1113,40683 L1113,40752 C1113,40754.2070313 1114.7929688,40756 1117,40756 L1122,40756" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4656)" />
<clipPath id="clip4657"><path d="M934,40585 L1603,40585 L1603,40758 L934,40758 L934,40585 Z" /></clipPath>
<path d="M1100,40683 L1113,40683" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4657)" />
<clipPath id="clip4658"><path d="M934,40657 L1103,40657 L1103,40685 L934,40685 L934,40657 Z" /></clipPath>
<path d="M936,40683 L1100,40683 Z M936,40683" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4658)" />
<text x="946" y="40673" style="font:10px Open Sans">子表数据分布及副本管理</text>
<clipPath id="clip4659"><path d="M1120,40585 L1406,40585 L1406,40613 L1120,40613 L1120,40585 Z" /></clipPath>
<path d="M1122,40611 L1403,40611 Z M1122,40611" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4659)" />
<text x="1132" y="40601" style="font:10px Open Sans">系统内部使用主键对表格数据进行排序和存储</text>
<clipPath id="clip4660"><path d="M1120,40612 L1584,40612 L1584,40642 L1120,40642 L1120,40612 Z" /></clipPath>
<path d="M1122,40640 L1581,40640 Z M1122,40640" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4660)" />
<text x="1132" y="40628" style="font:10px Open Sans">基线数据按照主键排序并划分为数据量大致相等的数据范围，称为子表tablet</text>
<clipPath id="clip4661"><path d="M1120,40641 L1312,40641 L1312,40671 L1120,40671 L1120,40641 Z" /></clipPath>
<path d="M1122,40669 L1309,40669 Z M1122,40669" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4661)" />
<text x="1132" y="40657" style="font:10px Open Sans">每个子表的默认大小是256M</text>
<clipPath id="clip4662"><path d="M1120,40670 L1535,40670 L1535,40700 L1120,40700 L1120,40670 Z" /></clipPath>
<path d="M1122,40698 L1532,40698 Z M1122,40698" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4662)" />
<text x="1132" y="40686" style="font:10px Open Sans">与Bigtable一样采用顺序分布，但OceanBase采用的是一级索引结构</text>
<clipPath id="clip4663"><path d="M1120,40699 L1511,40699 L1511,40729 L1120,40729 L1120,40699 Z" /></clipPath>
<path d="M1122,40727 L1508,40727 Z M1122,40727" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4663)" />
<text x="1132" y="40715" style="font:10px Open Sans">ChunkServer故障时，RootServer检测到后会对其子表增加副本</text>
<clipPath id="clip4664"><path d="M1120,40728 L1603,40728 L1603,40758 L1120,40758 L1120,40728 Z" /></clipPath>
<path d="M1122,40756 L1600,40756 Z M1122,40756" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4664)" />
<text x="1132" y="40744" style="font:10px Open Sans">RootServer定期执行负载均衡，将某些子表从负载高的机器迁移到负载低的机器</text>
<clipPath id="clip4665"><path d="M935,40758 L1341,40758 L1341,40813 L935,40813 Z M936,40773 L936,40796 L996,40796 L996,40773 Z M936,40773 Z M936,40773" /></clipPath>
<path d="M1009,40797 L1009,40787 C1009,40784.7929688 1010.7929688,40783 1013,40783 L1018,40783" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4665)" />
<clipPath id="clip4666"><path d="M935,40758 L1341,40758 L1341,40813 L935,40813 Z M936,40773 L936,40796 L996,40796 L996,40773 Z M936,40773 Z M936,40773" /></clipPath>
<path d="M1009,40797 L1009,40808 C1009,40810.2070313 1010.7929688,40812 1013,40812 L1018,40812" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4666)" />
<clipPath id="clip4667"><path d="M934,40757 L1342,40757 L1342,40814 L934,40814 L934,40757 Z" /></clipPath>
<path d="M996,40797 L1009,40797" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4667)" />
<clipPath id="clip4668"><path d="M934,40771 L999,40771 L999,40799 L934,40799 L934,40771 Z" /></clipPath>
<path d="M936,40797 L996,40797 Z M936,40797" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4668)" />
<text x="946" y="40787" style="font:10px Open Sans">高可用</text>
<clipPath id="clip4669"><path d="M1016,40757 L1224,40757 L1224,40785 L1016,40785 L1016,40757 Z" /></clipPath>
<path d="M1018,40783 L1221,40783 Z M1018,40783" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4669)" />
<text x="1028" y="40773" style="font:10px Open Sans">一主一备，主备之间数据强同步</text>
<clipPath id="clip4670"><path d="M1016,40784 L1342,40784 L1342,40814 L1016,40814 L1016,40784 Z" /></clipPath>
<path d="M1018,40812 L1339,40812 Z M1018,40812" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4670)" />
<text x="1028" y="40800" style="font:10px Open Sans">主备之间共享VIP，备检测到VIP漂移过来后切换为主</text>
<clipPath id="clip4671"><path d="M825,40814 L1467,40814 L1467,41041 L825,41041 Z M826,40913 L826,40938 L930,40938 L930,40913 Z M826,40913 Z M826,40913" /></clipPath>
<path d="M943,40939 L943,40843 C943,40840.7929688 944.7929688,40839 947,40839 L952,40839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4671)" />
<clipPath id="clip4672"><path d="M825,40814 L1467,40814 L1467,41041 L825,41041 Z M826,40913 L826,40938 L930,40938 L930,40913 Z M826,40913 Z M826,40913" /></clipPath>
<path d="M943,40939 L943,40870 C943,40867.7929688 944.7929688,40866 947,40866 L952,40866" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4672)" />
<clipPath id="clip4673"><path d="M825,40814 L1467,40814 L1467,41041 L825,41041 Z M826,40913 L826,40938 L930,40938 L930,40913 Z M826,40913 Z M826,40913" /></clipPath>
<path d="M943,40939 L943,40899 C943,40896.7929688 944.7929688,40895 947,40895 L952,40895" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4673)" />
<clipPath id="clip4674"><path d="M825,40814 L1467,40814 L1467,41041 L825,41041 Z M826,40913 L826,40938 L930,40938 L930,40913 Z M826,40913 Z M826,40913" /></clipPath>
<path d="M943,40939 L943,40928 C943,40925.7929688 944.7929688,40924 947,40924 L952,40924" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4674)" />
<clipPath id="clip4675"><path d="M825,40814 L1467,40814 L1467,41041 L825,41041 Z M826,40913 L826,40938 L930,40938 L930,40913 Z M826,40913 Z M826,40913" /></clipPath>
<path d="M943,40939 L943,40949 C943,40951.2070313 944.7929688,40953 947,40953 L952,40953" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4675)" />
<clipPath id="clip4676"><path d="M825,40814 L1467,40814 L1467,41041 L825,41041 Z M826,40913 L826,40938 L930,40938 L930,40913 Z M826,40913 Z M826,40913" /></clipPath>
<path d="M943,40939 L943,40978 C943,40980.2070313 944.7929688,40982 947,40982 L952,40982" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4676)" />
<clipPath id="clip4677"><path d="M825,40814 L1467,40814 L1467,41041 L825,41041 Z M826,40913 L826,40938 L930,40938 L930,40913 Z M826,40913 Z M826,40913" /></clipPath>
<path d="M943,40939 L943,41007 C943,41009.2070313 944.7929688,41011 947,41011 L952,41011" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4677)" />
<clipPath id="clip4678"><path d="M825,40814 L1467,40814 L1467,41041 L825,41041 Z M826,40913 L826,40938 L930,40938 L930,40913 Z M826,40913 Z M826,40913" /></clipPath>
<path d="M943,40939 L943,41036 C943,41038.2070313 944.7929688,41040 947,41040 L952,41040" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4678)" />
<clipPath id="clip4679"><path d="M824,40813 L1468,40813 L1468,41042 L824,41042 L824,40813 Z" /></clipPath>
<path d="M930,40939 L943,40939" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4679)" />
<clipPath id="clip4680"><path d="M824,40911 L933,40911 L933,40941 L824,40941 L824,40911 Z" /></clipPath>
<path d="M826,40939 L930,40939 Z M826,40939" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4680)" />
<text x="836" y="40927" style="font:10px Open Sans">UpdateServer</text>
<clipPath id="clip4681"><path d="M950,40813 L1080,40813 L1080,40841 L950,40841 L950,40813 Z" /></clipPath>
<path d="M952,40839 L1077,40839 Z M952,40839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4681)" />
<text x="962" y="40829" style="font:10px Open Sans">存储增量更新数据</text>
<clipPath id="clip4682"><path d="M950,40840 L1275,40840 L1275,40868 L950,40868 L950,40840 Z" /></clipPath>
<path d="M952,40866 L1272,40866 Z M952,40866" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4682)" />
<text x="962" y="40856" style="font:10px Open Sans">一般为一主一备，主备之间可以选择不同的同步模式</text>
<clipPath id="clip4683"><path d="M950,40867 L1347,40867 L1347,40897 L950,40897 L950,40867 Z" /></clipPath>
<path d="M952,40895 L1344,40895 Z M952,40895" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4683)" />
<text x="962" y="40883" style="font:10px Open Sans">部署时UpdateServer进程和RootServer进程往往共用物理服务器</text>
<clipPath id="clip4684"><path d="M950,40896 L1468,40896 L1468,40926 L950,40926 L950,40896 Z" /></clipPath>
<path d="M952,40924 L1465,40924 Z M952,40924" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4684)" />
<text x="962" y="40912" style="font:10px Open Sans">更新数据时先写入内存表中，当内存中数据量超过一定值时生成快照文件并转储到SSD</text>
<clipPath id="clip4685"><path d="M950,40925 L1293,40925 L1293,40955 L950,40955 L950,40925 Z" /></clipPath>
<path d="M952,40953 L1290,40953 Z M952,40953" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4685)" />
<text x="962" y="40941" style="font:10px Open Sans">更新内存表之前需写操作日志并同步到备UpdateServer</text>
<clipPath id="clip4686"><path d="M950,40954 L1423,40954 L1423,40984 L950,40984 L950,40954 Z" /></clipPath>
<path d="M952,40982 L1420,40982 Z M952,40982" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4686)" />
<text x="962" y="40970" style="font:10px Open Sans">由于只有一台主UpdateServer提供服务，系统可以很容易地实现跨行跨表事务</text>
<clipPath id="clip4687"><path d="M950,40983 L1358,40983 L1358,41013 L950,41013 L950,40983 Z" /></clipPath>
<path d="M952,41011 L1355,41011 Z M952,41011" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4687)" />
<text x="962" y="40999" style="font:10px Open Sans">增量更新数据通过定期合并和分发机制，保证UpdateServer的性能</text>
<clipPath id="clip4688"><path d="M950,41012 L1358,41012 L1358,41042 L950,41042 L950,41012 Z" /></clipPath>
<path d="M952,41040 L1355,41040 Z M952,41040" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4688)" />
<text x="962" y="41028" style="font:10px Open Sans">UpdateServer尽量之保证有少量的增量数据，可以全部放在内存中</text>
<clipPath id="clip4689"><path d="M825,41042 L1530,41042 L1530,41356 L825,41356 Z M826,41178 L826,41203 L924,41203 L924,41178 Z M826,41178 Z M826,41178" /></clipPath>
<path d="M937,41204 L937,41071 C937,41068.7929688 938.7929688,41067 941,41067 L946,41067" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4689)" />
<clipPath id="clip4690"><path d="M825,41042 L1530,41042 L1530,41356 L825,41356 Z M826,41178 L826,41203 L924,41203 L924,41178 Z M826,41178 Z M826,41178" /></clipPath>
<path d="M937,41204 L937,41172 C937,41169.7929688 938.7929688,41168 941,41168 L946,41168" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4690)" />
<clipPath id="clip4691"><path d="M825,41042 L1530,41042 L1530,41356 L825,41356 Z M826,41178 L826,41203 L924,41203 L924,41178 Z M826,41178 Z M826,41178" /></clipPath>
<path d="M937,41204 L937,41280 C937,41282.2070313 938.7929688,41284 941,41284 L946,41284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4691)" />
<clipPath id="clip4692"><path d="M825,41042 L1530,41042 L1530,41356 L825,41356 Z M826,41178 L826,41203 L924,41203 L924,41178 Z M826,41178 Z M826,41178" /></clipPath>
<path d="M937,41204 L937,41337 C937,41339.2070313 938.7929688,41341 941,41341 L946,41341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4692)" />
<clipPath id="clip4693"><path d="M824,41041 L1531,41041 L1531,41357 L824,41357 L824,41041 Z" /></clipPath>
<path d="M924,41204 L937,41204" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4693)" />
<clipPath id="clip4694"><path d="M824,41176 L927,41176 L927,41206 L824,41206 L824,41176 Z" /></clipPath>
<path d="M826,41204 L924,41204 Z M826,41204" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4694)" />
<text x="836" y="41192" style="font:10px Open Sans">ChunkServer</text>
<clipPath id="clip4695"><path d="M944,41041 L1282,41041 L1282,41069 L944,41069 L944,41041 Z" /></clipPath>
<path d="M946,41067 L1279,41067 Z M946,41067" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4695)" />
<text x="956" y="41057" style="font:10px Open Sans">存储子表，提供读写服务，执行定期合并以及数据转发</text>
<clipPath id="clip4696"><path d="M945,41069 L1435,41069 L1435,41242 L945,41242 Z M946,41144 L946,41167 L993,41167 L993,41144 Z M946,41144 Z M946,41144" /></clipPath>
<path d="M1006,41168 L1006,41100 C1006,41097.7929688 1007.7929688,41096 1010,41096 L1015,41096" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4696)" />
<clipPath id="clip4697"><path d="M945,41069 L1435,41069 L1435,41242 L945,41242 Z M946,41144 L946,41167 L993,41167 L993,41144 Z M946,41144 Z M946,41144" /></clipPath>
<path d="M1006,41168 L1006,41129 C1006,41126.7929688 1007.7929688,41125 1010,41125 L1015,41125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4697)" />
<clipPath id="clip4698"><path d="M945,41069 L1435,41069 L1435,41242 L945,41242 Z M946,41144 L946,41167 L993,41167 L993,41144 Z M946,41144 Z M946,41144" /></clipPath>
<path d="M1006,41168 L1006,41158 C1006,41155.7929688 1007.7929688,41154 1010,41154 L1015,41154" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4698)" />
<clipPath id="clip4699"><path d="M945,41069 L1435,41069 L1435,41242 L945,41242 Z M946,41144 L946,41167 L993,41167 L993,41144 Z M946,41144 Z M946,41144" /></clipPath>
<path d="M1006,41168 L1006,41179 C1006,41181.2070313 1007.7929688,41183 1010,41183 L1015,41183" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4699)" />
<clipPath id="clip4700"><path d="M945,41069 L1435,41069 L1435,41242 L945,41242 Z M946,41144 L946,41167 L993,41167 L993,41144 Z M946,41144 Z M946,41144" /></clipPath>
<path d="M1006,41168 L1006,41208 C1006,41210.2070313 1007.7929688,41212 1010,41212 L1015,41212" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4700)" />
<clipPath id="clip4701"><path d="M945,41069 L1435,41069 L1435,41242 L945,41242 Z M946,41144 L946,41167 L993,41167 L993,41144 Z M946,41144 Z M946,41144" /></clipPath>
<path d="M1006,41168 L1006,41237 C1006,41239.2070313 1007.7929688,41241 1010,41241 L1015,41241" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4701)" />
<clipPath id="clip4702"><path d="M944,41068 L1436,41068 L1436,41243 L944,41243 L944,41068 Z" /></clipPath>
<path d="M993,41168 L1006,41168" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4702)" />
<clipPath id="clip4703"><path d="M944,41142 L996,41142 L996,41170 L944,41170 L944,41142 Z" /></clipPath>
<path d="M946,41168 L993,41168 Z M946,41168" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4703)" />
<text x="956" y="41158" style="font:10px Open Sans">子表</text>
<clipPath id="clip4704"><path d="M1013,41068 L1272,41068 L1272,41098 L1013,41098 L1013,41068 Z" /></clipPath>
<path d="M1015,41096 L1269,41096 Z M1015,41096" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4704)" />
<text x="1025" y="41084" style="font:10px Open Sans">OceanBase将大表划分成约256M的子表</text>
<clipPath id="clip4705"><path d="M1013,41097 L1241,41097 L1241,41127 L1013,41127 L1013,41097 Z" /></clipPath>
<path d="M1015,41125 L1238,41125 Z M1015,41125" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4705)" />
<text x="1025" y="41113" style="font:10px Open Sans">每个子表由一个或多个SSTable组成</text>
<clipPath id="clip4706"><path d="M1013,41126 L1358,41126 L1358,41156 L1013,41156 L1013,41126 Z" /></clipPath>
<path d="M1015,41154 L1355,41154 Z M1015,41154" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4706)" />
<text x="1025" y="41142" style="font:10px Open Sans">每个SSTable由多个Block（4KB～64KB，可配置）组成</text>
<clipPath id="clip4707"><path d="M1013,41155 L1241,41155 L1241,41185 L1013,41185 L1013,41155 Z" /></clipPath>
<path d="M1015,41183 L1238,41183 Z M1015,41183" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4707)" />
<text x="1025" y="41171" style="font:10px Open Sans">数据在SSTable中按照主键有序存储</text>
<clipPath id="clip4708"><path d="M1013,41184 L1436,41184 L1436,41214 L1013,41214 L1013,41184 Z" /></clipPath>
<path d="M1015,41212 L1433,41212 Z M1015,41212" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4708)" />
<text x="1025" y="41200" style="font:10px Open Sans">查找数据时先定位这一行所属的子表，接着在SSTable中执行二分查找</text>
<clipPath id="clip4709"><path d="M1013,41213 L1202,41213 L1202,41243 L1013,41243 L1013,41213 Z" /></clipPath>
<path d="M1015,41241 L1199,41241 Z M1015,41241" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4709)" />
<text x="1025" y="41229" style="font:10px Open Sans">SSTable支持块缓存和行缓存</text>
<clipPath id="clip4710"><path d="M945,41243 L1530,41243 L1530,41300 L945,41300 Z M946,41260 L946,41283 L993,41283 L993,41260 Z M946,41260 Z M946,41260" /></clipPath>
<path d="M1006,41284 L1006,41274 C1006,41271.7929688 1007.7929688,41270 1010,41270 L1015,41270" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4710)" />
<clipPath id="clip4711"><path d="M945,41243 L1530,41243 L1530,41300 L945,41300 Z M946,41260 L946,41283 L993,41283 L993,41260 Z M946,41260 Z M946,41260" /></clipPath>
<path d="M1006,41284 L1006,41295 C1006,41297.2070313 1007.7929688,41299 1010,41299 L1015,41299" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4711)" />
<clipPath id="clip4712"><path d="M944,41242 L1531,41242 L1531,41301 L944,41301 L944,41242 Z" /></clipPath>
<path d="M993,41284 L1006,41284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4712)" />
<clipPath id="clip4713"><path d="M944,41258 L996,41258 L996,41286 L944,41286 L944,41258 Z" /></clipPath>
<path d="M946,41284 L993,41284 Z M946,41284" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4713)" />
<text x="956" y="41274" style="font:10px Open Sans">读写</text>
<clipPath id="clip4714"><path d="M1013,41242 L1426,41242 L1426,41272 L1013,41272 L1013,41242 Z" /></clipPath>
<path d="M1015,41270 L1423,41270 Z M1015,41270" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4714)" />
<text x="1025" y="41258" style="font:10px Open Sans">MergeServer将每个子表的读取请求发送到子表所在的ChunkServer</text>
<clipPath id="clip4715"><path d="M1013,41271 L1531,41271 L1531,41301 L1013,41301 L1013,41271 Z" /></clipPath>
<path d="M1015,41299 L1528,41299 Z M1015,41299" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4715)" />
<text x="1025" y="41287" style="font:10px Open Sans">ChunkServer先读取SSTable中的基线数据，再请求UpdateServer获取增量数据做融合</text>
<clipPath id="clip4716"><path d="M945,41301 L1511,41301 L1511,41356 L945,41356 Z M946,41317 L946,41340 L993,41340 L993,41317 Z M946,41317 Z M946,41317" /></clipPath>
<path d="M1006,41341 L1006,41332 C1006,41329.7929688 1007.7929688,41328 1010,41328 L1015,41328" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4716)" />
<clipPath id="clip4717"><path d="M945,41301 L1511,41301 L1511,41356 L945,41356 Z M946,41317 L946,41340 L993,41340 L993,41317 Z M946,41317 Z M946,41317" /></clipPath>
<path d="M1006,41341 L1006,41351 C1006,41353.2070313 1007.7929688,41355 1010,41355 L1015,41355" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4717)" />
<clipPath id="clip4718"><path d="M944,41300 L1512,41300 L1512,41357 L944,41357 L944,41300 Z" /></clipPath>
<path d="M993,41341 L1006,41341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4718)" />
<clipPath id="clip4719"><path d="M944,41315 L996,41315 L996,41343 L944,41343 L944,41315 Z" /></clipPath>
<path d="M946,41341 L993,41341 Z M946,41341" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4719)" />
<text x="956" y="41331" style="font:10px Open Sans">合并</text>
<clipPath id="clip4720"><path d="M1013,41300 L1512,41300 L1512,41330 L1013,41330 L1013,41300 Z" /></clipPath>
<path d="M1015,41328 L1509,41328 Z M1015,41328" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4720)" />
<text x="1025" y="41316" style="font:10px Open Sans">每次读取都需要从UpdateServer获取增量更新，需限制增量更新的数据量保证性能</text>
<clipPath id="clip4721"><path d="M1013,41329 L1403,41329 L1403,41357 L1013,41357 L1013,41329 Z" /></clipPath>
<path d="M1015,41355 L1400,41355 Z M1015,41355" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4721)" />
<text x="1025" y="41345" style="font:10px Open Sans">内部定期触发数据合并或数据分发操作，通常在服务低峰期执行</text>
<clipPath id="clip4722"><path d="M825,41357 L1460,41357 L1460,41520 L825,41520 Z M826,41425 L826,41450 L923,41450 L923,41425 Z M826,41425 Z M826,41425" /></clipPath>
<path d="M936,41451 L936,41388 C936,41385.7929688 937.7929688,41384 940,41384 L945,41384" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4722)" />
<clipPath id="clip4723"><path d="M825,41357 L1460,41357 L1460,41520 L825,41520 Z M826,41425 L826,41450 L923,41450 L923,41425 Z M826,41425 Z M826,41425" /></clipPath>
<path d="M936,41451 L936,41436 C936,41433.7929688 937.7929688,41432 940,41432 L945,41432" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4723)" />
<clipPath id="clip4724"><path d="M825,41357 L1460,41357 L1460,41520 L825,41520 Z M826,41425 L826,41450 L923,41450 L923,41425 Z M826,41425 Z M826,41425" /></clipPath>
<path d="M936,41451 L936,41457 C936,41459.2070313 937.7929688,41461 940,41461 L945,41461" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4724)" />
<clipPath id="clip4725"><path d="M825,41357 L1460,41357 L1460,41520 L825,41520 Z M826,41425 L826,41450 L923,41450 L923,41425 Z M826,41425 Z M826,41425" /></clipPath>
<path d="M936,41451 L936,41486 C936,41488.2070313 937.7929688,41490 940,41490 L945,41490" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4725)" />
<clipPath id="clip4726"><path d="M825,41357 L1460,41357 L1460,41520 L825,41520 Z M826,41425 L826,41450 L923,41450 L923,41425 Z M826,41425 Z M826,41425" /></clipPath>
<path d="M936,41451 L936,41515 C936,41517.2070313 937.7929688,41519 940,41519 L945,41519" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4726)" />
<clipPath id="clip4727"><path d="M824,41356 L1461,41356 L1461,41521 L824,41521 L824,41356 Z" /></clipPath>
<path d="M923,41451 L936,41451" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4727)" />
<clipPath id="clip4728"><path d="M824,41423 L926,41423 L926,41453 L824,41453 L824,41423 Z" /></clipPath>
<path d="M826,41451 L923,41451 Z M826,41451" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4728)" />
<text x="836" y="41439" style="font:10px Open Sans">MergeServer</text>
<clipPath id="clip4729"><path d="M943,41356 L1279,41356 L1279,41386 L943,41386 L943,41356 Z" /></clipPath>
<path d="M945,41384 L1276,41384 Z M945,41384" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4729)" />
<text x="955" y="41372" style="font:10px Open Sans">协议解析、SQL解析、请求转发、结果合并、多表操作</text>
<clipPath id="clip4730"><path d="M943,41385 L1461,41385 L1461,41434 L943,41434 L943,41385 Z" /></clipPath>
<path d="M945,41432 L1458,41432 Z M945,41432" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4730)" />
<text x="955" y="41401" style="font:10px Open Sans">接收并解析用户的SQL请求，经过词法分析、语法分析、查询优化等操作后转发给相应</text>
<text x="955" y="41420" style="font:10px Open Sans">的ChunkServer或UpdateServer</text>
<clipPath id="clip4731"><path d="M943,41433 L1434,41433 L1434,41463 L943,41463 L943,41433 Z" /></clipPath>
<path d="M945,41461 L1431,41461 Z M945,41461" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4731)" />
<text x="955" y="41449" style="font:10px Open Sans">如果请求的数据分布在多台ChunkServer上，MergeServer还需要对结果进行合并</text>
<clipPath id="clip4732"><path d="M943,41462 L1283,41462 L1283,41492 L943,41492 L943,41462 Z" /></clipPath>
<path d="M945,41490 L1280,41490 Z M945,41490" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4732)" />
<text x="955" y="41478" style="font:10px Open Sans">客户端和MergeServer之间采用原生的MySQL通信协议</text>
<clipPath id="clip4733"><path d="M943,41491 L1136,41491 L1136,41521 L943,41521 L943,41491 Z" /></clipPath>
<path d="M945,41519 L1133,41519 Z M945,41519" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4733)" />
<text x="955" y="41507" style="font:10px Open Sans">MergeServer自身是无状态的</text>
<clipPath id="clip4734"><path d="M730,41521 L1309,41521 L1309,41663 L730,41663 Z M731,41580 L731,41603 L778,41603 L778,41580 Z M731,41580 Z M731,41580" /></clipPath>
<path d="M791,41604 L791,41550 C791,41547.7929688 792.7929688,41546 795,41546 L800,41546" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4734)" />
<clipPath id="clip4735"><path d="M730,41521 L1309,41521 L1309,41663 L730,41663 Z M731,41580 L731,41603 L778,41603 L778,41580 Z M731,41580 Z M731,41580" /></clipPath>
<path d="M791,41604 L791,41579 C791,41576.7929688 792.7929688,41575 795,41575 L800,41575" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4735)" />
<clipPath id="clip4736"><path d="M730,41521 L1309,41521 L1309,41663 L730,41663 Z M731,41580 L731,41603 L778,41603 L778,41580 Z M731,41580 Z M731,41580" /></clipPath>
<path d="M791,41604 C791,41604 792.7929688,41604 795,41604 L800,41604" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4736)" />
<clipPath id="clip4737"><path d="M730,41521 L1309,41521 L1309,41663 L730,41663 Z M731,41580 L731,41603 L778,41603 L778,41580 Z M731,41580 Z M731,41580" /></clipPath>
<path d="M791,41604 L791,41629 C791,41631.2070313 792.7929688,41633 795,41633 L800,41633" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4737)" />
<clipPath id="clip4738"><path d="M730,41521 L1309,41521 L1309,41663 L730,41663 Z M731,41580 L731,41603 L778,41603 L778,41580 Z M731,41580 Z M731,41580" /></clipPath>
<path d="M791,41604 L791,41658 C791,41660.2070313 792.7929688,41662 795,41662 L800,41662" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4738)" />
<clipPath id="clip4739"><path d="M729,41520 L1310,41520 L1310,41664 L729,41664 L729,41520 Z" /></clipPath>
<path d="M778,41604 L791,41604" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4739)" />
<clipPath id="clip4740"><path d="M729,41578 L781,41578 L781,41606 L729,41606 L729,41578 Z" /></clipPath>
<path d="M731,41604 L778,41604 Z M731,41604" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4740)" />
<text x="741" y="41594" style="font:10px Open Sans">部署</text>
<clipPath id="clip4741"><path d="M798,41520 L915,41520 L915,41548 L798,41548 L798,41520 Z" /></clipPath>
<path d="M800,41546 L912,41546 Z M800,41546" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4741)" />
<text x="810" y="41536" style="font:10px Open Sans">支持多机房部署</text>
<clipPath id="clip4742"><path d="M798,41547 L1060,41547 L1060,41577 L798,41577 L798,41547 Z" /></clipPath>
<path d="M800,41575 L1057,41575 Z M800,41575" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4742)" />
<text x="810" y="41563" style="font:10px Open Sans">每个机房部署一个完整的OceanBase集群</text>
<clipPath id="clip4743"><path d="M798,41576 L1281,41576 L1281,41606 L798,41606 L798,41576 Z" /></clipPath>
<path d="M800,41604 L1278,41604 Z M800,41604" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4743)" />
<text x="810" y="41592" style="font:10px Open Sans">每个集群由各自的RootServer负责数据划分、负载均衡、集群服务器管理等操作</text>
<clipPath id="clip4744"><path d="M798,41605 L1310,41605 L1310,41635 L798,41635 L798,41605 Z" /></clipPath>
<path d="M800,41633 L1307,41633 Z M800,41633" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4744)" />
<text x="810" y="41621" style="font:10px Open Sans">集群之间数据同步通过主集群的主UpdateServer往备集群同步增量更新操作日志实现</text>
<clipPath id="clip4745"><path d="M798,41634 L1281,41634 L1281,41664 L798,41664 L798,41634 Z" /></clipPath>
<path d="M800,41662 L1278,41662 Z M800,41662" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4745)" />
<text x="810" y="41650" style="font:10px Open Sans">客户端配置了多个集群的RootServer地址列表，可设置每个集群的流量分配比例</text>
<clipPath id="clip4746"><path d="M540,41664 L1493,41664 L1493,42507 L540,42507 Z M541,42094 L541,42117 L614,42117 L614,42094 Z M541,42094 Z M541,42094" /></clipPath>
<path d="M627,42118 L627,41749 C627,41746.7929688 628.7929688,41745 631,41745 L636,41745" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4746)" />
<clipPath id="clip4747"><path d="M540,41664 L1493,41664 L1493,42507 L540,42507 Z M541,42094 L541,42117 L614,42117 L614,42094 Z M541,42094 Z M541,42094" /></clipPath>
<path d="M627,42118 L627,41915 C627,41912.7929688 628.7929688,41911 631,41911 L636,41911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4747)" />
<clipPath id="clip4748"><path d="M540,41664 L1493,41664 L1493,42507 L540,42507 Z M541,42094 L541,42117 L614,42117 L614,42094 Z M541,42094 Z M541,42094" /></clipPath>
<path d="M627,42118 L627,42001 C627,41998.7929688 628.7929688,41997 631,41997 L636,41997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4748)" />
<clipPath id="clip4749"><path d="M540,41664 L1493,41664 L1493,42507 L540,42507 Z M541,42094 L541,42117 L614,42117 L614,42094 Z M541,42094 Z M541,42094" /></clipPath>
<path d="M627,42118 L627,42116 C627,42113.7929688 628.7929688,42112 631,42112 L636,42112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4749)" />
<clipPath id="clip4750"><path d="M540,41664 L1493,41664 L1493,42507 L540,42507 Z M541,42094 L541,42117 L614,42117 L614,42094 Z M541,42094 Z M541,42094" /></clipPath>
<path d="M627,42118 L627,42180 C627,42182.2070313 628.7929688,42184 631,42184 L636,42184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4750)" />
<clipPath id="clip4751"><path d="M540,41664 L1493,41664 L1493,42507 L540,42507 Z M541,42094 L541,42117 L614,42117 L614,42094 Z M541,42094 Z M541,42094" /></clipPath>
<path d="M627,42118 L627,42253 C627,42255.2070313 628.7929688,42257 631,42257 L636,42257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4751)" />
<clipPath id="clip4752"><path d="M540,41664 L1493,41664 L1493,42507 L540,42507 Z M541,42094 L541,42117 L614,42117 L614,42094 Z M541,42094 Z M541,42094" /></clipPath>
<path d="M627,42118 L627,42357 C627,42359.2070313 628.7929688,42361 631,42361 L636,42361" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4752)" />
<clipPath id="clip4753"><path d="M540,41664 L1493,41664 L1493,42507 L540,42507 Z M541,42094 L541,42117 L614,42117 L614,42094 Z M541,42094 Z M541,42094" /></clipPath>
<path d="M627,42118 L627,42488 C627,42490.2070313 628.7929688,42492 631,42492 L636,42492" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4753)" />
<clipPath id="clip4754"><path d="M539,41663 L1494,41663 L1494,42508 L539,42508 L539,41663 Z" /></clipPath>
<path d="M614,42118 L627,42118" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4754)" />
<clipPath id="clip4755"><path d="M539,42092 L617,42092 L617,42120 L539,42120 L539,42092 Z" /></clipPath>
<path d="M541,42118 L614,42118 Z M541,42118" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4755)" />
<text x="551" y="42108" style="font:10px Open Sans">架构剖析</text>
<clipPath id="clip4756"><path d="M635,41664 L1493,41664 L1493,41883 L635,41883 Z M636,41721 L636,41744 L722,41744 L722,41721 Z M636,41721 Z M636,41721" /></clipPath>
<path d="M735,41745 L735,41695 C735,41692.7929688 736.7929688,41691 739,41691 L744,41691" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4756)" />
<clipPath id="clip4757"><path d="M635,41664 L1493,41664 L1493,41883 L635,41883 Z M636,41721 L636,41744 L722,41744 L722,41721 Z M636,41721 Z M636,41721" /></clipPath>
<path d="M735,41745 L735,41796 C735,41798.2070313 736.7929688,41800 739,41800 L744,41800" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4757)" />
<clipPath id="clip4758"><path d="M634,41663 L1494,41663 L1494,41884 L634,41884 L634,41663 Z" /></clipPath>
<path d="M722,41745 L735,41745" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4758)" />
<clipPath id="clip4759"><path d="M634,41719 L725,41719 L725,41747 L634,41747 L634,41719 Z" /></clipPath>
<path d="M636,41745 L722,41745 Z M636,41745" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4759)" />
<text x="646" y="41735" style="font:10px Open Sans">一致性选择</text>
<clipPath id="clip4760"><path d="M742,41663 L1004,41663 L1004,41693 L742,41693 L742,41663 Z" /></clipPath>
<path d="M744,41691 L1001,41691 Z M744,41691" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4760)" />
<text x="754" y="41679" style="font:10px Open Sans">OceanBase选择强一致性和跨行跨表事务</text>
<clipPath id="clip4761"><path d="M743,41693 L1493,41693 L1493,41883 L743,41883 Z M744,41774 L744,41799 L965,41799 L965,41774 Z M744,41774 Z M744,41774" /></clipPath>
<path d="M978,41800 L978,41722 C978,41719.7929688 979.7929688,41718 982,41718 L987,41718" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4761)" />
<clipPath id="clip4762"><path d="M743,41693 L1493,41693 L1493,41883 L743,41883 Z M744,41774 L744,41799 L965,41799 L965,41774 Z M744,41774 Z M744,41774" /></clipPath>
<path d="M978,41800 L978,41749 C978,41746.7929688 979.7929688,41745 982,41745 L987,41745" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4762)" />
<clipPath id="clip4763"><path d="M743,41693 L1493,41693 L1493,41883 L743,41883 Z M744,41774 L744,41799 L965,41799 L965,41774 Z M744,41774 Z M744,41774" /></clipPath>
<path d="M978,41800 L978,41776 C978,41773.7929688 979.7929688,41772 982,41772 L987,41772" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4763)" />
<clipPath id="clip4764"><path d="M743,41693 L1493,41693 L1493,41883 L743,41883 Z M744,41774 L744,41799 L965,41799 L965,41774 Z M744,41774 Z M744,41774" /></clipPath>
<path d="M978,41800 C978,41799.4453125 979.7929688,41799 982,41799 L987,41799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4764)" />
<clipPath id="clip4765"><path d="M743,41693 L1493,41693 L1493,41883 L743,41883 Z M744,41774 L744,41799 L965,41799 L965,41774 Z M744,41774 Z M744,41774" /></clipPath>
<path d="M978,41800 L978,41822 C978,41824.2070313 979.7929688,41826 982,41826 L987,41826" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4765)" />
<clipPath id="clip4766"><path d="M743,41693 L1493,41693 L1493,41883 L743,41883 Z M744,41774 L744,41799 L965,41799 L965,41774 Z M744,41774 Z M744,41774" /></clipPath>
<path d="M978,41800 L978,41851 C978,41853.2070313 979.7929688,41855 982,41855 L987,41855" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4766)" />
<clipPath id="clip4767"><path d="M743,41693 L1493,41693 L1493,41883 L743,41883 Z M744,41774 L744,41799 L965,41799 L965,41774 Z M744,41774 Z M744,41774" /></clipPath>
<path d="M978,41800 L978,41878 C978,41880.2070313 979.7929688,41882 982,41882 L987,41882" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4767)" />
<clipPath id="clip4768"><path d="M742,41692 L1494,41692 L1494,41884 L742,41884 L742,41692 Z" /></clipPath>
<path d="M965,41800 L978,41800" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4768)" />
<clipPath id="clip4769"><path d="M742,41772 L968,41772 L968,41802 L742,41802 L742,41772 Z" /></clipPath>
<path d="M744,41800 L965,41800 Z M744,41800" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4769)" />
<text x="754" y="41788" style="font:10px Open Sans">UpdateServer采用主备高可用架构</text>
<clipPath id="clip4770"><path d="M985,41692 L1180,41692 L1180,41720 L985,41720 L985,41692 Z" /></clipPath>
<path d="M987,41718 L1177,41718 Z M987,41718" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4770)" />
<text x="997" y="41708" style="font:10px Open Sans">将修改的操作日志发送到备机</text>
<clipPath id="clip4771"><path d="M985,41719 L1219,41719 L1219,41747 L985,41747 L985,41719 Z" /></clipPath>
<path d="M987,41745 L1216,41745 Z M987,41745" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4771)" />
<text x="997" y="41735" style="font:10px Open Sans">将修改操作的操作日志写入主机硬盘</text>
<clipPath id="clip4772"><path d="M985,41746 L1206,41746 L1206,41774 L985,41774 L985,41746 Z" /></clipPath>
<path d="M987,41772 L1203,41772 Z M987,41772" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4772)" />
<text x="997" y="41762" style="font:10px Open Sans">将操作日志应用到主机的内存表中</text>
<clipPath id="clip4773"><path d="M985,41773 L1128,41773 L1128,41801 L985,41801 L985,41773 Z" /></clipPath>
<path d="M987,41799 L1125,41799 Z M987,41799" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4773)" />
<text x="997" y="41789" style="font:10px Open Sans">返回客户端写入成功</text>
<clipPath id="clip4774"><path d="M985,41800 L1453,41800 L1453,41828 L985,41828 L985,41800 Z" /></clipPath>
<path d="M987,41826 L1450,41826 Z M987,41826" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4774)" />
<text x="997" y="41816" style="font:10px Open Sans">日志同步到备机后才算写成功，能保证主机故障备机切换为主机时数据不丢失</text>
<clipPath id="clip4775"><path d="M985,41827 L1494,41827 L1494,41857 L985,41857 L985,41827 Z" /></clipPath>
<path d="M987,41855 L1491,41855 Z M987,41855" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4775)" />
<text x="997" y="41843" style="font:10px Open Sans">同步失败时主机可以将该备机从同步列表删除并通知RootServer，后续切换时避免它</text>
<clipPath id="clip4776"><path d="M985,41856 L1414,41856 L1414,41884 L985,41884 L985,41856 Z" /></clipPath>
<path d="M987,41882 L1411,41882 Z M987,41882" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4776)" />
<text x="997" y="41872" style="font:10px Open Sans">主备同步也可以选异步模式，支持最终一致性。一般用来支持异地容灾</text>
<clipPath id="clip4777"><path d="M635,41884 L784,41884 L784,41912 L635,41912 Z M636,41887 L636,41910 L709,41910 L709,41887 Z M636,41887 Z M636,41887" /></clipPath>
<path d="M722,41911 C722,41911 723.7929688,41911 726,41911 L731,41911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4777)" />
<clipPath id="clip4778"><path d="M634,41883 L785,41883 L785,41913 L634,41913 L634,41883 Z" /></clipPath>
<path d="M709,41911 L722,41911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4778)" />
<clipPath id="clip4779"><path d="M634,41885 L712,41885 L712,41913 L634,41913 L634,41885 Z" /></clipPath>
<path d="M636,41911 L709,41911 Z M636,41911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4779)" />
<text x="646" y="41901" style="font:10px Open Sans">数据结构</text>
<clipPath id="clip4780"><path d="M729,41883 L785,41883 L785,41913 L729,41913 L729,41883 Z" /></clipPath>
<path d="M731,41911 L782,41911 Z M731,41911" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4780)" />
<text x="741" y="41899" style="font:10px Open Sans">B+树</text>
<clipPath id="clip4781"><path d="M635,41913 L1256,41913 L1256,42055 L635,42055 Z M636,41973 L636,41996 L748,41996 L748,41973 Z M636,41973 Z M636,41973" /></clipPath>
<path d="M761,41997 L761,41944 C761,41941.7929688 762.7929688,41940 765,41940 L770,41940" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4781)" />
<clipPath id="clip4782"><path d="M635,41913 L1256,41913 L1256,42055 L635,42055 Z M636,41973 L636,41996 L748,41996 L748,41973 Z M636,41973 Z M636,41973" /></clipPath>
<path d="M761,41997 L761,41985 C761,41982.7929688 762.7929688,41981 765,41981 L770,41981" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4782)" />
<clipPath id="clip4783"><path d="M635,41913 L1256,41913 L1256,42055 L635,42055 Z M636,41973 L636,41996 L748,41996 L748,41973 Z M636,41973 Z M636,41973" /></clipPath>
<path d="M761,41997 L761,42021 C761,42023.2070313 762.7929688,42025 765,42025 L770,42025" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4783)" />
<clipPath id="clip4784"><path d="M635,41913 L1256,41913 L1256,42055 L635,42055 Z M636,41973 L636,41996 L748,41996 L748,41973 Z M636,41973 Z M636,41973" /></clipPath>
<path d="M761,41997 L761,42050 C761,42052.2070313 762.7929688,42054 765,42054 L770,42054" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4784)" />
<clipPath id="clip4785"><path d="M634,41912 L1257,41912 L1257,42056 L634,42056 L634,41912 Z" /></clipPath>
<path d="M748,41997 L761,41997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4785)" />
<clipPath id="clip4786"><path d="M634,41971 L751,41971 L751,41999 L634,41999 L634,41971 Z" /></clipPath>
<path d="M636,41997 L748,41997 Z M636,41997" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4786)" />
<text x="646" y="41987" style="font:10px Open Sans">可靠性与可用性</text>
<clipPath id="clip4787"><path d="M768,41912 L1014,41912 L1014,41942 L768,41942 L768,41912 Z" /></clipPath>
<path d="M770,41940 L1011,41940 Z M770,41940" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4787)" />
<text x="780" y="41928" style="font:10px Open Sans">ChunkServer保存基线数据的多个副本</text>
<clipPath id="clip4788"><path d="M769,41942 L1256,41942 L1256,41997 L769,41997 Z M770,41955 L770,41980 L1017,41980 L1017,41955 Z M770,41955 Z M770,41955" /></clipPath>
<path d="M1030,41981 L1030,41971 C1030,41968.7929688 1031.7929688,41967 1034,41967 L1039,41967" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4788)" />
<clipPath id="clip4789"><path d="M769,41942 L1256,41942 L1256,41997 L769,41997 Z M770,41955 L770,41980 L1017,41980 L1017,41955 Z M770,41955 Z M770,41955" /></clipPath>
<path d="M1030,41981 L1030,41992 C1030,41994.2070313 1031.7929688,41996 1034,41996 L1039,41996" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4789)" />
<clipPath id="clip4790"><path d="M768,41941 L1257,41941 L1257,41998 L768,41998 L768,41941 Z" /></clipPath>
<path d="M1017,41981 L1030,41981" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4790)" />
<clipPath id="clip4791"><path d="M768,41953 L1020,41953 L1020,41983 L768,41983 L768,41953 Z" /></clipPath>
<path d="M770,41981 L1017,41981 Z M770,41981" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4791)" />
<text x="780" y="41969" style="font:10px Open Sans">UpdateServer保存增量数据的多个副本</text>
<clipPath id="clip4792"><path d="M1037,41941 L1206,41941 L1206,41969 L1037,41969 L1037,41941 Z" /></clipPath>
<path d="M1039,41967 L1203,41967 Z M1039,41967" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4792)" />
<text x="1049" y="41957" style="font:10px Open Sans">主备两台机器各一个副本</text>
<clipPath id="clip4793"><path d="M1037,41968 L1257,41968 L1257,41998 L1037,41998 L1037,41968 Z" /></clipPath>
<path d="M1039,41996 L1254,41996 Z M1039,41996" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4793)" />
<text x="1049" y="41984" style="font:10px Open Sans">每台机器通过软件方式实现RAID1</text>
<clipPath id="clip4794"><path d="M768,41997 L1040,41997 L1040,42027 L768,42027 L768,41997 Z" /></clipPath>
<path d="M770,42025 L1037,42025 Z M770,42025" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4794)" />
<text x="780" y="42013" style="font:10px Open Sans">ChunkServer的多个副本可以同时提供服务</text>
<clipPath id="clip4795"><path d="M768,42026 L916,42026 L916,42056 L768,42056 L768,42026 Z" /></clipPath>
<path d="M770,42054 L913,42054 Z M770,42054" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4795)" />
<text x="780" y="42042" style="font:10px Open Sans">UpdateServer为热备</text>
<clipPath id="clip4796"><path d="M635,42056 L1141,42056 L1141,42142 L635,42142 Z M636,42088 L636,42111 L709,42111 L709,42088 Z M636,42088 Z M636,42088" /></clipPath>
<path d="M722,42112 L722,42087 C722,42084.7929688 723.7929688,42083 726,42083 L731,42083" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4796)" />
<clipPath id="clip4797"><path d="M635,42056 L1141,42056 L1141,42142 L635,42142 Z M636,42088 L636,42111 L709,42111 L709,42088 Z M636,42088 Z M636,42088" /></clipPath>
<path d="M722,42112 C722,42112 723.7929688,42112 726,42112 L731,42112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4797)" />
<clipPath id="clip4798"><path d="M635,42056 L1141,42056 L1141,42142 L635,42142 Z M636,42088 L636,42111 L709,42111 L709,42088 Z M636,42088 Z M636,42088" /></clipPath>
<path d="M722,42112 L722,42137 C722,42139.2070313 723.7929688,42141 726,42141 L731,42141" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4798)" />
<clipPath id="clip4799"><path d="M634,42055 L1142,42055 L1142,42143 L634,42143 L634,42055 Z" /></clipPath>
<path d="M709,42112 L722,42112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4799)" />
<clipPath id="clip4800"><path d="M634,42086 L712,42086 L712,42114 L634,42114 L634,42086 Z" /></clipPath>
<path d="M636,42112 L709,42112 Z M636,42112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4800)" />
<text x="646" y="42102" style="font:10px Open Sans">读写事务</text>
<clipPath id="clip4801"><path d="M729,42055 L922,42055 L922,42085 L729,42085 L729,42055 Z" /></clipPath>
<path d="M731,42083 L919,42083 Z M731,42083" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4801)" />
<text x="741" y="42071" style="font:10px Open Sans">读写事务由MergeServer处理</text>
<clipPath id="clip4802"><path d="M729,42084 L1142,42084 L1142,42114 L729,42114 L729,42084 Z" /></clipPath>
<path d="M731,42112 L1139,42112 Z M731,42112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4802)" />
<text x="741" y="42100" style="font:10px Open Sans">只读事务由MergeServer发给相应的ChunkServer分别执行后再合并</text>
<clipPath id="clip4803"><path d="M729,42113 L1135,42113 L1135,42143 L729,42143 L729,42113 Z" /></clipPath>
<path d="M731,42141 L1132,42141 Z M731,42141" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4803)" />
<text x="741" y="42129" style="font:10px Open Sans">读写事务由MergeServer进行预处理之后发送给UpdateServer执行</text>
<clipPath id="clip4804"><path d="M635,42143 L1023,42143 L1023,42200 L635,42200 Z M636,42160 L636,42183 L709,42183 L709,42160 Z M636,42160 Z M636,42160" /></clipPath>
<path d="M722,42184 L722,42174 C722,42171.7929688 723.7929688,42170 726,42170 L731,42170" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4804)" />
<clipPath id="clip4805"><path d="M635,42143 L1023,42143 L1023,42200 L635,42200 Z M636,42160 L636,42183 L709,42183 L709,42160 Z M636,42160 Z M636,42160" /></clipPath>
<path d="M722,42184 L722,42195 C722,42197.2070313 723.7929688,42199 726,42199 L731,42199" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4805)" />
<clipPath id="clip4806"><path d="M634,42142 L1024,42142 L1024,42201 L634,42201 L634,42142 Z" /></clipPath>
<path d="M709,42184 L722,42184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4806)" />
<clipPath id="clip4807"><path d="M634,42158 L712,42158 L712,42186 L634,42186 L634,42158 Z" /></clipPath>
<path d="M636,42184 L709,42184 Z M636,42184" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4807)" />
<text x="646" y="42174" style="font:10px Open Sans">单点性能</text>
<clipPath id="clip4808"><path d="M729,42142 L864,42142 L864,42172 L729,42172 L729,42142 Z" /></clipPath>
<path d="M731,42170 L861,42170 Z M731,42170" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4808)" />
<text x="741" y="42158" style="font:10px Open Sans">UpdateServer单点</text>
<clipPath id="clip4809"><path d="M729,42171 L1024,42171 L1024,42201 L729,42201 L729,42171 Z" /></clipPath>
<path d="M731,42199 L1021,42199 Z M731,42199" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4809)" />
<text x="741" y="42187" style="font:10px Open Sans">大内存、千兆/万兆网卡、带缓存模块的RAID卡</text>
<clipPath id="clip4810"><path d="M635,42201 L1242,42201 L1242,42287 L635,42287 Z M636,42231 L636,42256 L707,42256 L707,42231 Z M636,42231 Z M636,42231" /></clipPath>
<path d="M720,42257 L720,42232 C720,42229.7929688 721.7929688,42228 724,42228 L729,42228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4810)" />
<clipPath id="clip4811"><path d="M635,42201 L1242,42201 L1242,42287 L635,42287 Z M636,42231 L636,42256 L707,42256 L707,42231 Z M636,42231 Z M636,42231" /></clipPath>
<path d="M720,42257 C720,42257 721.7929688,42257 724,42257 L729,42257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4811)" />
<clipPath id="clip4812"><path d="M635,42201 L1242,42201 L1242,42287 L635,42287 Z M636,42231 L636,42256 L707,42256 L707,42231 Z M636,42231 Z M636,42231" /></clipPath>
<path d="M720,42257 L720,42282 C720,42284.2070313 721.7929688,42286 724,42286 L729,42286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4812)" />
<clipPath id="clip4813"><path d="M634,42200 L1243,42200 L1243,42288 L634,42288 L634,42200 Z" /></clipPath>
<path d="M707,42257 L720,42257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4813)" />
<clipPath id="clip4814"><path d="M634,42229 L710,42229 L710,42259 L634,42259 L634,42229 Z" /></clipPath>
<path d="M636,42257 L707,42257 Z M636,42257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4814)" />
<text x="646" y="42245" style="font:10px Open Sans">SSD支持</text>
<clipPath id="clip4815"><path d="M727,42200 L855,42200 L855,42230 L727,42230 L727,42200 Z" /></clipPath>
<path d="M729,42228 L852,42228 Z M729,42228" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4815)" />
<text x="739" y="42216" style="font:10px Open Sans">SSD随机写性能差</text>
<clipPath id="clip4816"><path d="M727,42229 L1243,42229 L1243,42259 L727,42259 L727,42229 Z" /></clipPath>
<path d="M729,42257 L1240,42257 Z M729,42257" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4816)" />
<text x="739" y="42245" style="font:10px Open Sans">除了操作日志顺序追加写入普通SAS盘，其它的都是对响应时间要求不高的批量顺序写</text>
<clipPath id="clip4817"><path d="M727,42258 L985,42258 L985,42288 L727,42288 L727,42258 Z" /></clipPath>
<path d="M729,42286 L982,42286 Z M729,42286" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4817)" />
<text x="739" y="42274" style="font:10px Open Sans">大量查询请求的随机读发挥了SSD的特性</text>
<clipPath id="clip4818"><path d="M635,42288 L1125,42288 L1125,42453 L635,42453 Z M636,42337 L636,42360 L722,42360 L722,42337 Z M636,42337 Z M636,42337" /></clipPath>
<path d="M735,42361 L735,42317 C735,42314.7929688 736.7929688,42313 739,42313 L744,42313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4818)" />
<clipPath id="clip4819"><path d="M635,42288 L1125,42288 L1125,42453 L635,42453 Z M636,42337 L636,42360 L722,42360 L722,42337 Z M636,42337 Z M636,42337" /></clipPath>
<path d="M735,42361 L735,42346 C735,42343.7929688 736.7929688,42342 739,42342 L744,42342" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4819)" />
<clipPath id="clip4820"><path d="M635,42288 L1125,42288 L1125,42453 L635,42453 Z M636,42337 L636,42360 L722,42360 L722,42337 Z M636,42337 Z M636,42337" /></clipPath>
<path d="M735,42361 L735,42406 C735,42408.2070313 736.7929688,42410 739,42410 L744,42410" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4820)" />
<clipPath id="clip4821"><path d="M634,42287 L1126,42287 L1126,42454 L634,42454 L634,42287 Z" /></clipPath>
<path d="M722,42361 L735,42361" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4821)" />
<clipPath id="clip4822"><path d="M634,42335 L725,42335 L725,42363 L634,42363 L634,42335 Z" /></clipPath>
<path d="M636,42361 L722,42361 Z M636,42361" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4822)" />
<text x="646" y="42351" style="font:10px Open Sans">数据正确性</text>
<clipPath id="clip4823"><path d="M742,42287 L1054,42287 L1054,42315 L742,42315 L742,42287 Z" /></clipPath>
<path d="M744,42313 L1051,42313 Z M744,42313" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4823)" />
<text x="754" y="42303" style="font:10px Open Sans">设计上为强一致性系统，设计方案上保证不丢数据</text>
<clipPath id="clip4824"><path d="M742,42314 L986,42314 L986,42344 L742,42344 L742,42314 Z" /></clipPath>
<path d="M744,42342 L983,42342 Z M744,42342" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4824)" />
<text x="754" y="42330" style="font:10px Open Sans">TCP传输、磁盘读写可能出现数据错误</text>
<clipPath id="clip4825"><path d="M743,42344 L1125,42344 L1125,42453 L743,42453 Z M744,42386 L744,42409 L817,42409 L817,42386 Z M744,42386 Z M744,42386" /></clipPath>
<path d="M830,42410 L830,42373 C830,42370.7929688 831.7929688,42369 834,42369 L839,42369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4825)" />
<clipPath id="clip4826"><path d="M743,42344 L1125,42344 L1125,42453 L743,42453 Z M744,42386 L744,42409 L817,42409 L817,42386 Z M744,42386 Z M744,42386" /></clipPath>
<path d="M830,42410 L830,42400 C830,42397.7929688 831.7929688,42396 834,42396 L839,42396" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4826)" />
<clipPath id="clip4827"><path d="M743,42344 L1125,42344 L1125,42453 L743,42453 Z M744,42386 L744,42409 L817,42409 L817,42386 Z M744,42386 Z M744,42386" /></clipPath>
<path d="M830,42410 L830,42421 C830,42423.2070313 831.7929688,42425 834,42425 L839,42425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4827)" />
<clipPath id="clip4828"><path d="M743,42344 L1125,42344 L1125,42453 L743,42453 Z M744,42386 L744,42409 L817,42409 L817,42386 Z M744,42386 Z M744,42386" /></clipPath>
<path d="M830,42410 L830,42448 C830,42450.2070313 831.7929688,42452 834,42452 L839,42452" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4828)" />
<clipPath id="clip4829"><path d="M742,42343 L1126,42343 L1126,42454 L742,42454 L742,42343 Z" /></clipPath>
<path d="M817,42410 L830,42410" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4829)" />
<clipPath id="clip4830"><path d="M742,42384 L820,42384 L820,42412 L742,42412 L742,42384 Z" /></clipPath>
<path d="M744,42410 L817,42410 Z M744,42410" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4830)" />
<text x="754" y="42400" style="font:10px Open Sans">校验措施</text>
<clipPath id="clip4831"><path d="M837,42343 L941,42343 L941,42371 L837,42371 L837,42343 Z" /></clipPath>
<path d="M839,42369 L938,42369 Z M839,42369" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4831)" />
<text x="849" y="42359" style="font:10px Open Sans">数据存储校验</text>
<clipPath id="clip4832"><path d="M837,42370 L941,42370 L941,42398 L837,42398 L837,42370 Z" /></clipPath>
<path d="M839,42396 L938,42396 Z M839,42396" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4832)" />
<text x="849" y="42386" style="font:10px Open Sans">数据传输校验</text>
<clipPath id="clip4833"><path d="M837,42397 L1126,42397 L1126,42427 L837,42427 L837,42397 Z" /></clipPath>
<path d="M839,42425 L1123,42425 Z M839,42425" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4833)" />
<text x="849" y="42413" style="font:10px Open Sans">数据镜像校验（UpdateServer的MemTable）</text>
<clipPath id="clip4834"><path d="M837,42426 L1097,42426 L1097,42454 L837,42454 L837,42426 Z" /></clipPath>
<path d="M839,42452 L1094,42452 Z M839,42452" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4834)" />
<text x="849" y="42442" style="font:10px Open Sans">数据副本校验（定期合并生成的新子表）</text>
<clipPath id="clip4835"><path d="M635,42454 L858,42454 L858,42507 L635,42507 Z M636,42468 L636,42491 L709,42491 L709,42468 Z M636,42468 Z M636,42468" /></clipPath>
<path d="M722,42492 L722,42483 C722,42480.7929688 723.7929688,42479 726,42479 L731,42479" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4835)" />
<clipPath id="clip4836"><path d="M635,42454 L858,42454 L858,42507 L635,42507 Z M636,42468 L636,42491 L709,42491 L709,42468 Z M636,42468 Z M636,42468" /></clipPath>
<path d="M722,42492 L722,42502 C722,42504.2070313 723.7929688,42506 726,42506 L731,42506" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4836)" />
<clipPath id="clip4837"><path d="M634,42453 L859,42453 L859,42508 L634,42508 L634,42453 Z" /></clipPath>
<path d="M709,42492 L722,42492" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4837)" />
<clipPath id="clip4838"><path d="M634,42466 L712,42466 L712,42494 L634,42494 L634,42466 Z" /></clipPath>
<path d="M636,42492 L709,42492 Z M636,42492" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4838)" />
<text x="646" y="42482" style="font:10px Open Sans">分层结构</text>
<clipPath id="clip4839"><path d="M729,42453 L859,42453 L859,42481 L729,42481 L729,42453 Z" /></clipPath>
<path d="M731,42479 L856,42479 Z M731,42479" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4839)" />
<text x="741" y="42469" style="font:10px Open Sans">分布式存储引擎层</text>
<clipPath id="clip4840"><path d="M729,42480 L833,42480 L833,42508 L729,42508 L729,42480 Z" /></clipPath>
<path d="M731,42506 L830,42506 Z M731,42506" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4840)" />
<text x="741" y="42496" style="font:10px Open Sans">数据库功能层</text>
<clipPath id="clip4841"><path d="M430,42508 L843,42508 L843,42785 L430,42785 Z M431,42675 L431,42698 L543,42698 L543,42675 Z M431,42675 Z M431,42675" /></clipPath>
<path d="M556,42699 L556,42619 C556,42616.7929688 557.7929688,42615 560,42615 L565,42615" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4841)" />
<clipPath id="clip4842"><path d="M430,42508 L843,42508 L843,42785 L430,42785 Z M431,42675 L431,42698 L543,42698 L543,42675 Z M431,42675 Z M431,42675" /></clipPath>
<path d="M556,42699 L556,42722 C556,42724.2070313 557.7929688,42726 560,42726 L565,42726" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4842)" />
<clipPath id="clip4843"><path d="M430,42508 L843,42508 L843,42785 L430,42785 Z M431,42675 L431,42698 L543,42698 L543,42675 Z M431,42675 Z M431,42675" /></clipPath>
<path d="M556,42699 L556,42751 C556,42753.2070313 557.7929688,42755 560,42755 L565,42755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4843)" />
<clipPath id="clip4844"><path d="M430,42508 L843,42508 L843,42785 L430,42785 Z M431,42675 L431,42698 L543,42698 L543,42675 Z M431,42675 Z M431,42675" /></clipPath>
<path d="M556,42699 L556,42780 C556,42782.2070313 557.7929688,42784 560,42784 L565,42784" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4844)" />
<clipPath id="clip4845"><path d="M429,42507 L844,42507 L844,42786 L429,42786 L429,42507 Z" /></clipPath>
<path d="M543,42699 L556,42699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4845)" />
<clipPath id="clip4846"><path d="M429,42673 L546,42673 L546,42701 L429,42701 L429,42673 Z" /></clipPath>
<path d="M431,42699 L543,42699 Z M431,42699" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4846)" />
<text x="441" y="42689" style="font:10px Open Sans">分布式存储引擎</text>
<clipPath id="clip4847"><path d="M564,42508 L843,42508 L843,42698 L564,42698 Z M565,42591 L565,42614 L638,42614 L638,42591 Z M565,42591 Z M565,42591" /></clipPath>
<path d="M651,42615 L651,42537 C651,42534.7929688 652.7929688,42533 655,42533 L660,42533" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4847)" />
<clipPath id="clip4848"><path d="M564,42508 L843,42508 L843,42698 L564,42698 Z M565,42591 L565,42614 L638,42614 L638,42591 Z M565,42591 Z M565,42591" /></clipPath>
<path d="M651,42615 L651,42578 C651,42575.7929688 652.7929688,42574 655,42574 L660,42574" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4848)" />
<clipPath id="clip4849"><path d="M564,42508 L843,42508 L843,42698 L564,42698 Z M565,42591 L565,42614 L638,42614 L638,42591 Z M565,42591 Z M565,42591" /></clipPath>
<path d="M651,42615 C651,42615.5546875 652.7929688,42616 655,42616 L660,42616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4849)" />
<clipPath id="clip4850"><path d="M564,42508 L843,42508 L843,42698 L564,42698 Z M565,42591 L565,42614 L638,42614 L638,42591 Z M565,42591 Z M565,42591" /></clipPath>
<path d="M651,42615 L651,42639 C651,42641.2070313 652.7929688,42643 655,42643 L660,42643" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4850)" />
<clipPath id="clip4851"><path d="M564,42508 L843,42508 L843,42698 L564,42698 Z M565,42591 L565,42614 L638,42614 L638,42591 Z M565,42591 Z M565,42591" /></clipPath>
<path d="M651,42615 L651,42666 C651,42668.2070313 652.7929688,42670 655,42670 L660,42670" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4851)" />
<clipPath id="clip4852"><path d="M564,42508 L843,42508 L843,42698 L564,42698 Z M565,42591 L565,42614 L638,42614 L638,42591 Z M565,42591 Z M565,42591" /></clipPath>
<path d="M651,42615 L651,42693 C651,42695.2070313 652.7929688,42697 655,42697 L660,42697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4852)" />
<clipPath id="clip4853"><path d="M563,42507 L844,42507 L844,42699 L563,42699 L563,42507 Z" /></clipPath>
<path d="M638,42615 L651,42615" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4853)" />
<clipPath id="clip4854"><path d="M563,42589 L641,42589 L641,42617 L563,42617 L563,42589 Z" /></clipPath>
<path d="M565,42615 L638,42615 Z M565,42615" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4854)" />
<text x="575" y="42605" style="font:10px Open Sans">公共模块</text>
<clipPath id="clip4855"><path d="M658,42507 L736,42507 L736,42535 L658,42535 L658,42507 Z" /></clipPath>
<path d="M660,42533 L733,42533 Z M660,42533" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4855)" />
<text x="670" y="42523" style="font:10px Open Sans">内存管理</text>
<clipPath id="clip4856"><path d="M659,42535 L843,42535 L843,42590 L659,42590 Z M660,42550 L660,42573 L759,42573 L759,42550 Z M660,42550 Z M660,42550" /></clipPath>
<path d="M772,42574 L772,42564 C772,42561.7929688 773.7929688,42560 776,42560 L781,42560" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4856)" />
<clipPath id="clip4857"><path d="M659,42535 L843,42535 L843,42590 L659,42590 Z M660,42550 L660,42573 L759,42573 L759,42550 Z M660,42550 Z M660,42550" /></clipPath>
<path d="M772,42574 L772,42585 C772,42587.2070313 773.7929688,42589 776,42589 L781,42589" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4857)" />
<clipPath id="clip4858"><path d="M658,42534 L844,42534 L844,42591 L658,42591 L658,42534 Z" /></clipPath>
<path d="M759,42574 L772,42574" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4858)" />
<clipPath id="clip4859"><path d="M658,42548 L762,42548 L762,42576 L658,42576 L658,42548 Z" /></clipPath>
<path d="M660,42574 L759,42574 Z M660,42574" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4859)" />
<text x="670" y="42564" style="font:10px Open Sans">基础数据结构</text>
<clipPath id="clip4860"><path d="M779,42534 L844,42534 L844,42562 L779,42562 L779,42534 Z" /></clipPath>
<path d="M781,42560 L841,42560 Z M781,42560" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4860)" />
<text x="791" y="42550" style="font:10px Open Sans">哈希表</text>
<clipPath id="clip4861"><path d="M779,42561 L827,42561 L827,42591 L779,42591 L779,42561 Z" /></clipPath>
<path d="M781,42589 L824,42589 Z M781,42589" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4861)" />
<text x="791" y="42577" style="font:10px Open Sans">B树</text>
<clipPath id="clip4862"><path d="M658,42590 L697,42590 L697,42618 L658,42618 L658,42590 Z" /></clipPath>
<path d="M660,42616 L694,42616 Z M660,42616" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4862)" />
<text x="670" y="42606" style="font:10px Open Sans">锁</text>
<clipPath id="clip4863"><path d="M658,42617 L736,42617 L736,42645 L658,42645 L658,42617 Z" /></clipPath>
<path d="M660,42643 L733,42643 Z M660,42643" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4863)" />
<text x="670" y="42633" style="font:10px Open Sans">任务队列</text>
<clipPath id="clip4864"><path d="M658,42644 L736,42644 L736,42672 L658,42672 L658,42644 Z" /></clipPath>
<path d="M660,42670 L733,42670 Z M660,42670" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4864)" />
<text x="670" y="42660" style="font:10px Open Sans">网络框架</text>
<clipPath id="clip4865"><path d="M658,42671 L762,42671 L762,42699 L658,42699 L658,42671 Z" /></clipPath>
<path d="M660,42697 L759,42697 Z M660,42697" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4865)" />
<text x="670" y="42687" style="font:10px Open Sans">压缩与解压缩</text>
<clipPath id="clip4866"><path d="M563,42698 L656,42698 L656,42728 L563,42728 L563,42698 Z" /></clipPath>
<path d="M565,42726 L653,42726 Z M565,42726" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4866)" />
<text x="575" y="42714" style="font:10px Open Sans">RootServer</text>
<clipPath id="clip4867"><path d="M563,42727 L672,42727 L672,42757 L563,42757 L563,42727 Z" /></clipPath>
<path d="M565,42755 L669,42755 Z M565,42755" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4867)" />
<text x="575" y="42743" style="font:10px Open Sans">UpdateServer</text>
<clipPath id="clip4868"><path d="M563,42756 L666,42756 L666,42786 L563,42786 L563,42756 Z" /></clipPath>
<path d="M565,42784 L663,42784 Z M565,42784" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4868)" />
<text x="575" y="42772" style="font:10px Open Sans">ChunkServer</text>
<clipPath id="clip4869"><path d="M430,42786 L774,42786 L774,43030 L430,43030 Z M431,42903 L431,42926 L517,42926 L517,42903 Z M431,42903 Z M431,42903" /></clipPath>
<path d="M530,42927 L530,42843 C530,42840.7929688 531.7929688,42839 534,42839 L539,42839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4869)" />
<clipPath id="clip4870"><path d="M430,42786 L774,42786 L774,43030 L430,43030 Z M431,42903 L431,42926 L517,42926 L517,42903 Z M431,42903 Z M431,42903" /></clipPath>
<path d="M530,42927 L530,42911 C530,42908.7929688 531.7929688,42907 534,42907 L539,42907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4870)" />
<clipPath id="clip4871"><path d="M430,42786 L774,42786 L774,43030 L430,43030 Z M431,42903 L431,42926 L517,42926 L517,42903 Z M431,42903 Z M431,42903" /></clipPath>
<path d="M530,42927 L530,42957 C530,42959.2070313 531.7929688,42961 534,42961 L539,42961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4871)" />
<clipPath id="clip4872"><path d="M430,42786 L774,42786 L774,43030 L430,43030 Z M431,42903 L431,42926 L517,42926 L517,42903 Z M431,42903 Z M431,42903" /></clipPath>
<path d="M530,42927 L530,43011 C530,43013.2070313 531.7929688,43015 534,43015 L539,43015" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4872)" />
<clipPath id="clip4873"><path d="M429,42785 L775,42785 L775,43031 L429,43031 L429,42785 Z" /></clipPath>
<path d="M517,42927 L530,42927" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4873)" />
<clipPath id="clip4874"><path d="M429,42901 L520,42901 L520,42929 L429,42929 L429,42901 Z" /></clipPath>
<path d="M431,42927 L517,42927 Z M431,42927" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4874)" />
<text x="441" y="42917" style="font:10px Open Sans">数据库功能</text>
<clipPath id="clip4875"><path d="M538,42786 L746,42786 L746,42868 L538,42868 Z M539,42815 L539,42838 L612,42838 L612,42815 Z M539,42815 Z M539,42815" /></clipPath>
<path d="M625,42839 L625,42815 C625,42812.7929688 626.7929688,42811 629,42811 L634,42811" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4875)" />
<clipPath id="clip4876"><path d="M538,42786 L746,42786 L746,42868 L538,42868 Z M539,42815 L539,42838 L612,42838 L612,42815 Z M539,42815 Z M539,42815" /></clipPath>
<path d="M625,42839 C625,42838.4453125 626.7929688,42838 629,42838 L634,42838" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4876)" />
<clipPath id="clip4877"><path d="M538,42786 L746,42786 L746,42868 L538,42868 Z M539,42815 L539,42838 L612,42838 L612,42815 Z M539,42815 Z M539,42815" /></clipPath>
<path d="M625,42839 L625,42863 C625,42865.2070313 626.7929688,42867 629,42867 L634,42867" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4877)" />
<clipPath id="clip4878"><path d="M537,42785 L747,42785 L747,42869 L537,42869 L537,42785 Z" /></clipPath>
<path d="M612,42839 L625,42839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4878)" />
<clipPath id="clip4879"><path d="M537,42813 L615,42813 L615,42841 L537,42841 L537,42813 Z" /></clipPath>
<path d="M539,42839 L612,42839 Z M539,42839" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4879)" />
<text x="549" y="42829" style="font:10px Open Sans">只读事务</text>
<clipPath id="clip4880"><path d="M632,42785 L710,42785 L710,42813 L632,42813 L632,42785 Z" /></clipPath>
<path d="M634,42811 L707,42811 Z M634,42811" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4880)" />
<text x="644" y="42801" style="font:10px Open Sans">单表操作</text>
<clipPath id="clip4881"><path d="M632,42812 L710,42812 L710,42840 L632,42840 L632,42812 Z" /></clipPath>
<path d="M634,42838 L707,42838 Z M634,42838" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4881)" />
<text x="644" y="42828" style="font:10px Open Sans">多表操作</text>
<clipPath id="clip4882"><path d="M632,42839 L747,42839 L747,42869 L632,42869 L632,42839 Z" /></clipPath>
<path d="M634,42867 L744,42867 Z M634,42867" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4882)" />
<text x="644" y="42855" style="font:10px Open Sans">SQL执行本地化</text>
<clipPath id="clip4883"><path d="M538,42869 L735,42869 L735,42922 L538,42922 Z M539,42883 L539,42906 L599,42906 L599,42883 Z M539,42883 Z M539,42883" /></clipPath>
<path d="M612,42907 L612,42898 C612,42895.7929688 613.7929688,42894 616,42894 L621,42894" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4883)" />
<clipPath id="clip4884"><path d="M538,42869 L735,42869 L735,42922 L538,42922 Z M539,42883 L539,42906 L599,42906 L599,42883 Z M539,42883 Z M539,42883" /></clipPath>
<path d="M612,42907 L612,42917 C612,42919.2070313 613.7929688,42921 616,42921 L621,42921" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4884)" />
<clipPath id="clip4885"><path d="M537,42868 L736,42868 L736,42923 L537,42923 L537,42868 Z" /></clipPath>
<path d="M599,42907 L612,42907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4885)" />
<clipPath id="clip4886"><path d="M537,42881 L602,42881 L602,42909 L537,42909 L537,42881 Z" /></clipPath>
<path d="M539,42907 L599,42907 Z M539,42907" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4886)" />
<text x="549" y="42897" style="font:10px Open Sans">写事务</text>
<clipPath id="clip4887"><path d="M619,42868 L736,42868 L736,42896 L619,42896 L619,42868 Z" /></clipPath>
<path d="M621,42894 L733,42894 Z M621,42894" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4887)" />
<text x="631" y="42884" style="font:10px Open Sans">写事务执行流程</text>
<clipPath id="clip4888"><path d="M619,42895 L736,42895 L736,42923 L619,42923 L619,42895 Z" /></clipPath>
<path d="M621,42921 L733,42921 Z M621,42921" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4888)" />
<text x="631" y="42911" style="font:10px Open Sans">多版本并发控制</text>
<clipPath id="clip4889"><path d="M538,42923 L690,42923 L690,42976 L538,42976 Z M539,42935 L539,42960 L593,42960 L593,42935 Z M539,42935 Z M539,42935" /></clipPath>
<path d="M606,42961 L606,42952 C606,42949.7929688 607.7929688,42948 610,42948 L615,42948" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4889)" />
<clipPath id="clip4890"><path d="M538,42923 L690,42923 L690,42976 L538,42976 Z M539,42935 L539,42960 L593,42960 L593,42935 Z M539,42935 Z M539,42935" /></clipPath>
<path d="M606,42961 L606,42971 C606,42973.2070313 607.7929688,42975 610,42975 L615,42975" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4890)" />
<clipPath id="clip4891"><path d="M537,42922 L691,42922 L691,42977 L537,42977 L537,42922 Z" /></clipPath>
<path d="M593,42961 L606,42961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4891)" />
<clipPath id="clip4892"><path d="M537,42933 L596,42933 L596,42963 L537,42963 L537,42933 Z" /></clipPath>
<path d="M539,42961 L593,42961 Z M539,42961" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4892)" />
<text x="549" y="42949" style="font:10px Open Sans">OLAP</text>
<clipPath id="clip4893"><path d="M613,42922 L691,42922 L691,42950 L613,42950 L613,42922 Z" /></clipPath>
<path d="M615,42948 L688,42948 Z M615,42948" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4893)" />
<text x="625" y="42938" style="font:10px Open Sans">并发查询</text>
<clipPath id="clip4894"><path d="M613,42949 L691,42949 L691,42977 L613,42977 L613,42949 Z" /></clipPath>
<path d="M615,42975 L688,42975 Z M615,42975" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4894)" />
<text x="625" y="42965" style="font:10px Open Sans">列式存储</text>
<clipPath id="clip4895"><path d="M538,42977 L774,42977 L774,43030 L538,43030 Z M539,42991 L539,43014 L612,43014 L612,42991 Z M539,42991 Z M539,42991" /></clipPath>
<path d="M625,43015 L625,43006 C625,43003.7929688 626.7929688,43002 629,43002 L634,43002" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4895)" />
<clipPath id="clip4896"><path d="M538,42977 L774,42977 L774,43030 L538,43030 Z M539,42991 L539,43014 L612,43014 L612,42991 Z M539,42991 Z M539,42991" /></clipPath>
<path d="M625,43015 L625,43025 C625,43027.2070313 626.7929688,43029 629,43029 L634,43029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4896)" />
<clipPath id="clip4897"><path d="M537,42976 L775,42976 L775,43031 L537,43031 L537,42976 Z" /></clipPath>
<path d="M612,43015 L625,43015" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4897)" />
<clipPath id="clip4898"><path d="M537,42989 L615,42989 L615,43017 L537,43017 L537,42989 Z" /></clipPath>
<path d="M539,43015 L612,43015 Z M539,43015" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4898)" />
<text x="549" y="43005" style="font:10px Open Sans">特色功能</text>
<clipPath id="clip4899"><path d="M632,42976 L723,42976 L723,43004 L632,43004 L632,42976 Z" /></clipPath>
<path d="M634,43002 L720,43002 Z M634,43002" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4899)" />
<text x="644" y="42992" style="font:10px Open Sans">大表左连接</text>
<clipPath id="clip4900"><path d="M632,43003 L775,43003 L775,43031 L632,43031 L632,43003 Z" /></clipPath>
<path d="M634,43029 L772,43029 Z M634,43029" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4900)" />
<text x="644" y="43019" style="font:10px Open Sans">数据过期与批量删除</text>
<clipPath id="clip4901"><path d="M430,43031 L1407,43031 L1407,43690 L430,43690 Z M431,43400 L431,43423 L582,43423 L582,43400 Z M431,43400 Z M431,43400" /></clipPath>
<path d="M595,43424 L595,43238 C595,43235.7929688 596.7929688,43234 599,43234 L604,43234" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4901)" />
<clipPath id="clip4902"><path d="M430,43031 L1407,43031 L1407,43690 L430,43690 Z M431,43400 L431,43423 L582,43423 L582,43400 Z M431,43400 Z M431,43400" /></clipPath>
<path d="M595,43424 L595,43506 C595,43508.2070313 596.7929688,43510 599,43510 L604,43510" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4902)" />
<clipPath id="clip4903"><path d="M430,43031 L1407,43031 L1407,43690 L430,43690 Z M431,43400 L431,43423 L582,43423 L582,43400 Z M431,43400 Z M431,43400" /></clipPath>
<path d="M595,43424 L595,43610 C595,43612.2070313 596.7929688,43614 599,43614 L604,43614" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4903)" />
<clipPath id="clip4904"><path d="M429,43030 L1408,43030 L1408,43691 L429,43691 L429,43030 Z" /></clipPath>
<path d="M582,43424 L595,43424" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4904)" />
<clipPath id="clip4905"><path d="M429,43398 L585,43398 L585,43426 L429,43426 L429,43398 Z" /></clipPath>
<path d="M431,43424 L582,43424 Z M431,43424" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4905)" />
<text x="441" y="43414" style="font:10px Open Sans">质量保证、运维及实践</text>
<clipPath id="clip4906"><path d="M603,43031 L1407,43031 L1407,43439 L603,43439 Z M604,43208 L604,43233 L643,43233 L643,43208 Z M604,43208 Z M604,43208" /></clipPath>
<path d="M656,43234 L656,43062 C656,43059.7929688 657.7929688,43058 660,43058 L665,43058" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4906)" />
<clipPath id="clip4907"><path d="M603,43031 L1407,43031 L1407,43439 L603,43439 Z M604,43208 L604,43233 L643,43233 L643,43208 Z M604,43208 Z M604,43208" /></clipPath>
<path d="M656,43234 L656,43149 C656,43146.7929688 657.7929688,43145 660,43145 L665,43145" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4907)" />
<clipPath id="clip4908"><path d="M603,43031 L1407,43031 L1407,43439 L603,43439 Z M604,43208 L604,43233 L643,43233 L643,43208 Z M604,43208 Z M604,43208" /></clipPath>
<path d="M656,43234 L656,43298 C656,43300.2070313 657.7929688,43302 660,43302 L665,43302" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4908)" />
<clipPath id="clip4909"><path d="M603,43031 L1407,43031 L1407,43439 L603,43439 Z M604,43208 L604,43233 L643,43233 L643,43208 Z M604,43208 Z M604,43208" /></clipPath>
<path d="M656,43234 L656,43407 C656,43409.2070313 657.7929688,43411 660,43411 L665,43411" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4909)" />
<clipPath id="clip4910"><path d="M602,43030 L1408,43030 L1408,43440 L602,43440 L602,43030 Z" /></clipPath>
<path d="M643,43234 L656,43234" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4910)" />
<clipPath id="clip4911"><path d="M602,43206 L646,43206 L646,43236 L602,43236 L602,43206 Z" /></clipPath>
<path d="M604,43234 L643,43234 Z M604,43234" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4911)" />
<text x="614" y="43222" style="font:10px Open Sans">QA</text>
<clipPath id="clip4912"><path d="M663,43030 L1408,43030 L1408,43060 L663,43060 L663,43030 Z" /></clipPath>
<path d="M665,43058 L1405,43058 Z M665,43058" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4912)" />
<text x="675" y="43046" style="font:10px Open Sans">开发-&gt;单元测试&amp;快速测试-&gt;RD压力测试-&gt;系统提测-&gt;QA接口、功能、容灾、压力测试-&gt;兼容性测试-&gt;Benchmark测试-&gt;发布</text>
<clipPath id="clip4913"><path d="M664,43060 L1031,43060 L1031,43221 L664,43221 Z M665,43119 L665,43144 L730,43144 L730,43119 Z M665,43119 Z M665,43119" /></clipPath>
<path d="M743,43145 L743,43089 C743,43086.7929688 744.7929688,43085 747,43085 L752,43085" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4913)" />
<clipPath id="clip4914"><path d="M664,43060 L1031,43060 L1031,43221 L664,43221 Z M665,43119 L665,43144 L730,43144 L730,43119 Z M665,43119 Z M665,43119" /></clipPath>
<path d="M743,43145 L743,43116 C743,43113.7929688 744.7929688,43112 747,43112 L752,43112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4914)" />
<clipPath id="clip4915"><path d="M664,43060 L1031,43060 L1031,43221 L664,43221 Z M665,43119 L665,43144 L730,43144 L730,43119 Z M665,43119 Z M665,43119" /></clipPath>
<path d="M743,43145 L743,43143 C743,43140.7929688 744.7929688,43139 747,43139 L752,43139" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4915)" />
<clipPath id="clip4916"><path d="M664,43060 L1031,43060 L1031,43221 L664,43221 Z M665,43119 L665,43144 L730,43144 L730,43119 Z M665,43119 Z M665,43119" /></clipPath>
<path d="M743,43145 L743,43162 C743,43164.2070313 744.7929688,43166 747,43166 L752,43166" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4916)" />
<clipPath id="clip4917"><path d="M664,43060 L1031,43060 L1031,43221 L664,43221 Z M665,43119 L665,43144 L730,43144 L730,43119 Z M665,43119 Z M665,43119" /></clipPath>
<path d="M743,43145 L743,43202 C743,43204.2070313 744.7929688,43206 747,43206 L752,43206" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4917)" />
<clipPath id="clip4918"><path d="M663,43059 L1032,43059 L1032,43222 L663,43222 L663,43059 Z" /></clipPath>
<path d="M730,43145 L743,43145" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4918)" />
<clipPath id="clip4919"><path d="M663,43117 L733,43117 L733,43147 L663,43147 L663,43117 Z" /></clipPath>
<path d="M665,43145 L730,43145 Z M665,43145" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4919)" />
<text x="675" y="43133" style="font:10px Open Sans">RD开发</text>
<clipPath id="clip4920"><path d="M750,43059 L828,43059 L828,43087 L750,43087 L750,43059 Z" /></clipPath>
<path d="M752,43085 L825,43085 Z M752,43085" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4920)" />
<text x="762" y="43075" style="font:10px Open Sans">编码规范</text>
<clipPath id="clip4921"><path d="M750,43086 L828,43086 L828,43114 L750,43114 L750,43086 Z" /></clipPath>
<path d="M752,43112 L825,43112 Z M752,43112" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4921)" />
<text x="762" y="43102" style="font:10px Open Sans">代码审核</text>
<clipPath id="clip4922"><path d="M750,43113 L828,43113 L828,43141 L750,43141 L750,43113 Z" /></clipPath>
<path d="M752,43139 L825,43139 Z M752,43139" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4922)" />
<text x="762" y="43129" style="font:10px Open Sans">单元测试</text>
<clipPath id="clip4923"><path d="M750,43140 L828,43140 L828,43168 L750,43168 L750,43140 Z" /></clipPath>
<path d="M752,43166 L825,43166 Z M752,43166" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4923)" />
<text x="762" y="43156" style="font:10px Open Sans">快速测试</text>
<clipPath id="clip4924"><path d="M751,43168 L1031,43168 L1031,43221 L751,43221 Z M752,43180 L752,43205 L843,43205 L843,43180 Z M752,43180 Z M752,43180" /></clipPath>
<path d="M856,43206 L856,43197 C856,43194.7929688 857.7929688,43193 860,43193 L865,43193" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4924)" />
<clipPath id="clip4925"><path d="M751,43168 L1031,43168 L1031,43221 L751,43221 Z M752,43180 L752,43205 L843,43205 L843,43180 Z M752,43180 Z M752,43180" /></clipPath>
<path d="M856,43206 L856,43216 C856,43218.2070313 857.7929688,43220 860,43220 L865,43220" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4925)" />
<clipPath id="clip4926"><path d="M750,43167 L1032,43167 L1032,43222 L750,43222 L750,43167 Z" /></clipPath>
<path d="M843,43206 L856,43206" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4926)" />
<clipPath id="clip4927"><path d="M750,43178 L846,43178 L846,43208 L750,43208 L750,43178 Z" /></clipPath>
<path d="M752,43206 L843,43206 Z M752,43206" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4927)" />
<text x="762" y="43194" style="font:10px Open Sans">RD压力测试</text>
<clipPath id="clip4928"><path d="M863,43167 L1032,43167 L1032,43195 L863,43195 L863,43167 Z" /></clipPath>
<path d="M865,43193 L1029,43193 Z M865,43193" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4928)" />
<text x="875" y="43183" style="font:10px Open Sans">分布式存储引擎压力测试</text>
<clipPath id="clip4929"><path d="M863,43194 L1006,43194 L1006,43222 L863,43222 L863,43194 Z" /></clipPath>
<path d="M865,43220 L1003,43220 Z M865,43220" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4929)" />
<text x="875" y="43210" style="font:10px Open Sans">数据库功能压力测试</text>
<clipPath id="clip4930"><path d="M664,43222 L870,43222 L870,43358 L664,43358 Z M665,43276 L665,43301 L730,43301 L730,43276 Z M665,43276 Z M665,43276" /></clipPath>
<path d="M743,43302 L743,43251 C743,43248.7929688 744.7929688,43247 747,43247 L752,43247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4930)" />
<clipPath id="clip4931"><path d="M664,43222 L870,43222 L870,43358 L664,43358 Z M665,43276 L665,43301 L730,43301 L730,43276 Z M665,43276 Z M665,43276" /></clipPath>
<path d="M743,43302 L743,43278 C743,43275.7929688 744.7929688,43274 747,43274 L752,43274" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4931)" />
<clipPath id="clip4932"><path d="M664,43222 L870,43222 L870,43358 L664,43358 Z M665,43276 L665,43301 L730,43301 L730,43276 Z M665,43276 Z M665,43276" /></clipPath>
<path d="M743,43302 C743,43301.4453125 744.7929688,43301 747,43301 L752,43301" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4932)" />
<clipPath id="clip4933"><path d="M664,43222 L870,43222 L870,43358 L664,43358 Z M665,43276 L665,43301 L730,43301 L730,43276 Z M665,43276 Z M665,43276" /></clipPath>
<path d="M743,43302 L743,43326 C743,43328.2070313 744.7929688,43330 747,43330 L752,43330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4933)" />
<clipPath id="clip4934"><path d="M664,43222 L870,43222 L870,43358 L664,43358 Z M665,43276 L665,43301 L730,43301 L730,43276 Z M665,43276 Z M665,43276" /></clipPath>
<path d="M743,43302 L743,43353 C743,43355.2070313 744.7929688,43357 747,43357 L752,43357" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4934)" />
<clipPath id="clip4935"><path d="M663,43221 L871,43221 L871,43359 L663,43359 L663,43221 Z" /></clipPath>
<path d="M730,43302 L743,43302" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4935)" />
<clipPath id="clip4936"><path d="M663,43274 L733,43274 L733,43304 L663,43304 L663,43274 Z" /></clipPath>
<path d="M665,43302 L730,43302 Z M665,43302" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4936)" />
<text x="675" y="43290" style="font:10px Open Sans">QA测试</text>
<clipPath id="clip4937"><path d="M750,43221 L828,43221 L828,43249 L750,43249 L750,43221 Z" /></clipPath>
<path d="M752,43247 L825,43247 Z M752,43247" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4937)" />
<text x="762" y="43237" style="font:10px Open Sans">接口测试</text>
<clipPath id="clip4938"><path d="M750,43248 L867,43248 L867,43276 L750,43276 L750,43248 Z" /></clipPath>
<path d="M752,43274 L864,43274 Z M752,43274" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4938)" />
<text x="762" y="43264" style="font:10px Open Sans">功能、容灾测试</text>
<clipPath id="clip4939"><path d="M750,43275 L828,43275 L828,43303 L750,43303 L750,43275 Z" /></clipPath>
<path d="M752,43301 L825,43301 Z M752,43301" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4939)" />
<text x="762" y="43291" style="font:10px Open Sans">压力测试</text>
<clipPath id="clip4940"><path d="M750,43302 L871,43302 L871,43332 L750,43332 L750,43302 Z" /></clipPath>
<path d="M752,43330 L868,43330 Z M752,43330" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4940)" />
<text x="762" y="43318" style="font:10px Open Sans">Benchmark测试</text>
<clipPath id="clip4941"><path d="M750,43331 L841,43331 L841,43359 L750,43359 L750,43331 Z" /></clipPath>
<path d="M752,43357 L838,43357 Z M752,43357" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4941)" />
<text x="762" y="43347" style="font:10px Open Sans">兼容性测试</text>
<clipPath id="clip4942"><path d="M664,43359 L848,43359 L848,43439 L664,43439 Z M665,43387 L665,43410 L725,43410 L725,43387 Z M665,43387 Z M665,43387" /></clipPath>
<path d="M738,43411 L738,43388 C738,43385.7929688 739.7929688,43384 742,43384 L747,43384" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4942)" />
<clipPath id="clip4943"><path d="M664,43359 L848,43359 L848,43439 L664,43439 Z M665,43387 L665,43410 L725,43410 L725,43387 Z M665,43387 Z M665,43387" /></clipPath>
<path d="M738,43411 C738,43411 739.7929688,43411 742,43411 L747,43411" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4943)" />
<clipPath id="clip4944"><path d="M664,43359 L848,43359 L848,43439 L664,43439 Z M665,43387 L665,43410 L725,43410 L725,43387 Z M665,43387 Z M665,43387" /></clipPath>
<path d="M738,43411 L738,43434 C738,43436.2070313 739.7929688,43438 742,43438 L747,43438" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4944)" />
<clipPath id="clip4945"><path d="M663,43358 L849,43358 L849,43440 L663,43440 L663,43358 Z" /></clipPath>
<path d="M725,43411 L738,43411" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4945)" />
<clipPath id="clip4946"><path d="M663,43385 L728,43385 L728,43413 L663,43413 L663,43385 Z" /></clipPath>
<path d="M665,43411 L725,43411 Z M665,43411" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4946)" />
<text x="675" y="43401" style="font:10px Open Sans">试运行</text>
<clipPath id="clip4947"><path d="M745,43358 L849,43358 L849,43386 L745,43386 L745,43358 Z" /></clipPath>
<path d="M747,43384 L846,43384 Z M747,43384" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4947)" />
<text x="757" y="43374" style="font:10px Open Sans">业务压力测试</text>
<clipPath id="clip4948"><path d="M745,43385 L849,43385 L849,43413 L745,43413 L745,43385 Z" /></clipPath>
<path d="M747,43411 L846,43411 Z M747,43411" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4948)" />
<text x="757" y="43401" style="font:10px Open Sans">线上流量回放</text>
<clipPath id="clip4949"><path d="M745,43412 L823,43412 L823,43440 L745,43440 L745,43412 Z" /></clipPath>
<path d="M747,43438 L820,43438 Z M747,43438" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4949)" />
<text x="757" y="43428" style="font:10px Open Sans">灰度上线</text>
<clipPath id="clip4950"><path d="M603,43440 L804,43440 L804,43555 L603,43555 Z M604,43486 L604,43509 L651,43509 L651,43486 Z M604,43486 Z M604,43486" /></clipPath>
<path d="M664,43510 L664,43471 C664,43468.7929688 665.7929688,43467 668,43467 L673,43467" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4950)" />
<clipPath id="clip4951"><path d="M603,43440 L804,43440 L804,43555 L603,43555 Z M604,43486 L604,43509 L651,43509 L651,43486 Z M604,43486 Z M604,43486" /></clipPath>
<path d="M664,43510 L664,43500 C664,43497.7929688 665.7929688,43496 668,43496 L673,43496" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4951)" />
<clipPath id="clip4952"><path d="M603,43440 L804,43440 L804,43555 L603,43555 Z M604,43486 L604,43509 L651,43509 L651,43486 Z M604,43486 Z M604,43486" /></clipPath>
<path d="M664,43510 L664,43521 C664,43523.2070313 665.7929688,43525 668,43525 L673,43525" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4952)" />
<clipPath id="clip4953"><path d="M603,43440 L804,43440 L804,43555 L603,43555 Z M604,43486 L604,43509 L651,43509 L651,43486 Z M604,43486 Z M604,43486" /></clipPath>
<path d="M664,43510 L664,43550 C664,43552.2070313 665.7929688,43554 668,43554 L673,43554" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4953)" />
<clipPath id="clip4954"><path d="M602,43439 L805,43439 L805,43556 L602,43556 L602,43439 Z" /></clipPath>
<path d="M651,43510 L664,43510" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4954)" />
<clipPath id="clip4955"><path d="M602,43484 L654,43484 L654,43512 L602,43512 L602,43484 Z" /></clipPath>
<path d="M604,43510 L651,43510 Z M604,43510" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4955)" />
<text x="614" y="43500" style="font:10px Open Sans">使用</text>
<clipPath id="clip4956"><path d="M671,43439 L805,43439 L805,43469 L671,43469 L671,43439 Z" /></clipPath>
<path d="M673,43467 L802,43467 Z M673,43467" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4956)" />
<text x="683" y="43455" style="font:10px Open Sans">MySQL客户端连接</text>
<clipPath id="clip4957"><path d="M671,43468 L754,43468 L754,43498 L671,43498 L671,43468 Z" /></clipPath>
<path d="M673,43496 L751,43496 Z M673,43496" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4957)" />
<text x="683" y="43484" style="font:10px Open Sans">JDBC访问</text>
<clipPath id="clip4958"><path d="M671,43497 L761,43497 L761,43527 L671,43527 L671,43497 Z" /></clipPath>
<path d="M673,43525 L758,43525 Z M673,43525" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4958)" />
<text x="683" y="43513" style="font:10px Open Sans">Spring集成</text>
<clipPath id="clip4959"><path d="M671,43526 L744,43526 L744,43556 L671,43556 L671,43526 Z" /></clipPath>
<path d="M673,43554 L741,43554 Z M673,43554" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4959)" />
<text x="683" y="43542" style="font:10px Open Sans">C客户端</text>
<clipPath id="clip4960"><path d="M603,43556 L904,43556 L904,43690 L603,43690 Z M604,43590 L604,43613 L651,43613 L651,43590 Z M604,43590 Z M604,43590" /></clipPath>
<path d="M664,43614 L664,43585 C664,43582.7929688 665.7929688,43581 668,43581 L673,43581" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4960)" />
<clipPath id="clip4961"><path d="M603,43556 L904,43556 L904,43690 L603,43690 Z M604,43590 L604,43613 L651,43613 L651,43590 Z M604,43590 Z M604,43590" /></clipPath>
<path d="M664,43614 L664,43644 C664,43646.2070313 665.7929688,43648 668,43648 L673,43648" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4961)" />
<clipPath id="clip4962"><path d="M602,43555 L905,43555 L905,43691 L602,43691 L602,43555 Z" /></clipPath>
<path d="M651,43614 L664,43614" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4962)" />
<clipPath id="clip4963"><path d="M602,43588 L654,43588 L654,43616 L602,43616 L602,43588 Z" /></clipPath>
<path d="M604,43614 L651,43614 Z M604,43614" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4963)" />
<text x="614" y="43604" style="font:10px Open Sans">运维</text>
<clipPath id="clip4964"><path d="M671,43555 L905,43555 L905,43583 L671,43583 L671,43555 Z" /></clipPath>
<path d="M673,43581 L902,43581 Z M673,43581" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4964)" />
<text x="683" y="43571" style="font:10px Open Sans">系统表存储监控以及运维相关的信息</text>
<clipPath id="clip4965"><path d="M672,43583 L843,43583 L843,43690 L672,43690 Z M673,43624 L673,43647 L733,43647 L733,43624 Z M673,43624 Z M673,43624" /></clipPath>
<path d="M746,43648 L746,43612 C746,43609.7929688 747.7929688,43608 750,43608 L755,43608" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4965)" />
<clipPath id="clip4966"><path d="M672,43583 L843,43583 L843,43690 L672,43690 Z M673,43624 L673,43647 L733,43647 L733,43624 Z M673,43624 Z M673,43624" /></clipPath>
<path d="M746,43648 L746,43639 C746,43636.7929688 747.7929688,43635 750,43635 L755,43635" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4966)" />
<clipPath id="clip4967"><path d="M672,43583 L843,43583 L843,43690 L672,43690 Z M673,43624 L673,43647 L733,43647 L733,43624 Z M673,43624 Z M673,43624" /></clipPath>
<path d="M746,43648 L746,43658 C746,43660.2070313 747.7929688,43662 750,43662 L755,43662" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4967)" />
<clipPath id="clip4968"><path d="M672,43583 L843,43583 L843,43690 L672,43690 Z M673,43624 L673,43647 L733,43647 L733,43624 Z M673,43624 Z M673,43624" /></clipPath>
<path d="M746,43648 L746,43685 C746,43687.2070313 747.7929688,43689 750,43689 L755,43689" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4968)" />
<clipPath id="clip4969"><path d="M671,43582 L844,43582 L844,43691 L671,43691 L671,43582 Z" /></clipPath>
<path d="M733,43648 L746,43648" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4969)" />
<clipPath id="clip4970"><path d="M671,43622 L736,43622 L736,43650 L671,43650 L671,43622 Z" /></clipPath>
<path d="M673,43648 L733,43648 Z M673,43648" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4970)" />
<text x="683" y="43638" style="font:10px Open Sans">系统表</text>
<clipPath id="clip4971"><path d="M753,43582 L831,43582 L831,43610 L753,43610 L753,43582 Z" /></clipPath>
<path d="M755,43608 L828,43608 Z M755,43608" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4971)" />
<text x="765" y="43598" style="font:10px Open Sans">数据字典</text>
<clipPath id="clip4972"><path d="M753,43609 L844,43609 L844,43637 L753,43637 L753,43609 Z" /></clipPath>
<path d="M755,43635 L841,43635 Z M755,43635" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4972)" />
<text x="765" y="43625" style="font:10px Open Sans">服务器列表</text>
<clipPath id="clip4973"><path d="M753,43636 L831,43636 L831,43664 L753,43664 L753,43636 Z" /></clipPath>
<path d="M755,43662 L828,43662 Z M755,43662" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4973)" />
<text x="765" y="43652" style="font:10px Open Sans">配置信息</text>
<clipPath id="clip4974"><path d="M753,43663 L831,43663 L831,43691 L753,43691 L753,43663 Z" /></clipPath>
<path d="M755,43689 L828,43689 Z M755,43689" style="fill:none;stroke:rgb(127,127,127)" clip-path="url(#clip4974)" />
<text x="765" y="43679" style="font:10px Open Sans">内部状态</text>
</svg>
